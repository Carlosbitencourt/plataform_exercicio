(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function z1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fm={exports:{}},Vo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function _w(){if(H_)return Vo;H_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,c){var h=null;if(c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),"key"in l){c={};for(var m in l)m!=="key"&&(c[m]=l[m])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:h,ref:l!==void 0?l:null,props:c}}return Vo.Fragment=e,Vo.jsx=n,Vo.jsxs=n,Vo}var F_;function vw(){return F_||(F_=1,fm.exports=_w()),fm.exports}var _=vw(),dm={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function Ew(){if(G_)return we;G_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function V(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,H={};function ne(M,J,ae){this.props=M,this.context=J,this.refs=H,this.updater=ae||k}ne.prototype.isReactComponent={},ne.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},ne.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ie(){}ie.prototype=ne.prototype;function ee(M,J,ae){this.props=M,this.context=J,this.refs=H,this.updater=ae||k}var be=ee.prototype=new ie;be.constructor=ee,G(be,ne.prototype),be.isPureReactComponent=!0;var ue=Array.isArray;function me(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(M,J,ae){var oe=ae.ref;return{$$typeof:r,type:M,key:J,ref:oe!==void 0?oe:null,props:ae}}function j(M,J){return C(M.type,J,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return J[ae]})}var N=/\/+/g;function ke(M,J){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):J.toString(36)}function Ge(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(me,me):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Y(M,J,ae,oe,_e){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var De=!1;if(M===null)De=!0;else switch(xe){case"bigint":case"string":case"number":De=!0;break;case"object":switch(M.$$typeof){case r:case e:De=!0;break;case b:return De=M._init,Y(De(M._payload),J,ae,oe,_e)}}if(De)return _e=_e(M),De=oe===""?"."+ke(M,0):oe,ue(_e)?(ae="",De!=null&&(ae=De.replace(N,"$&/")+"/"),Y(_e,J,ae,"",function(pr){return pr})):_e!=null&&(O(_e)&&(_e=j(_e,ae+(_e.key==null||M&&M.key===_e.key?"":(""+_e.key).replace(N,"$&/")+"/")+De)),J.push(_e)),1;De=0;var mt=oe===""?".":oe+":";if(ue(M))for(var rt=0;rt<M.length;rt++)oe=M[rt],xe=mt+ke(oe,rt),De+=Y(oe,J,ae,xe,_e);else if(rt=V(M),typeof rt=="function")for(M=rt.call(M),rt=0;!(oe=M.next()).done;)oe=oe.value,xe=mt+ke(oe,rt++),De+=Y(oe,J,ae,xe,_e);else if(xe==="object"){if(typeof M.then=="function")return Y(Ge(M),J,ae,oe,_e);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return De}function re(M,J,ae){if(M==null)return M;var oe=[],_e=0;return Y(M,oe,"","",function(xe){return J.call(ae,xe,_e++)}),oe}function de(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var Ae=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},qe={map:re,forEach:function(M,J,ae){re(M,function(){J.apply(this,arguments)},ae)},count:function(M){var J=0;return re(M,function(){J++}),J},toArray:function(M){return re(M,function(J){return J})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return we.Activity=T,we.Children=qe,we.Component=ne,we.Fragment=n,we.Profiler=l,we.PureComponent=ee,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,we.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},we.cache=function(M){return function(){return M.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(M,J,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var oe=G({},M.props),_e=M.key;if(J!=null)for(xe in J.key!==void 0&&(_e=""+J.key),J)!A.call(J,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&J.ref===void 0||(oe[xe]=J[xe]);var xe=arguments.length-2;if(xe===1)oe.children=ae;else if(1<xe){for(var De=Array(xe),mt=0;mt<xe;mt++)De[mt]=arguments[mt+2];oe.children=De}return C(M.type,_e,oe)},we.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},we.createElement=function(M,J,ae){var oe,_e={},xe=null;if(J!=null)for(oe in J.key!==void 0&&(xe=""+J.key),J)A.call(J,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(_e[oe]=J[oe]);var De=arguments.length-2;if(De===1)_e.children=ae;else if(1<De){for(var mt=Array(De),rt=0;rt<De;rt++)mt[rt]=arguments[rt+2];_e.children=mt}if(M&&M.defaultProps)for(oe in De=M.defaultProps,De)_e[oe]===void 0&&(_e[oe]=De[oe]);return C(M,xe,_e)},we.createRef=function(){return{current:null}},we.forwardRef=function(M){return{$$typeof:m,render:M}},we.isValidElement=O,we.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:de}},we.memo=function(M,J){return{$$typeof:g,type:M,compare:J===void 0?null:J}},we.startTransition=function(M){var J=R.T,ae={};R.T=ae;try{var oe=M(),_e=R.S;_e!==null&&_e(ae,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(me,Ae)}catch(xe){Ae(xe)}finally{J!==null&&ae.types!==null&&(J.types=ae.types),R.T=J}},we.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},we.use=function(M){return R.H.use(M)},we.useActionState=function(M,J,ae){return R.H.useActionState(M,J,ae)},we.useCallback=function(M,J){return R.H.useCallback(M,J)},we.useContext=function(M){return R.H.useContext(M)},we.useDebugValue=function(){},we.useDeferredValue=function(M,J){return R.H.useDeferredValue(M,J)},we.useEffect=function(M,J){return R.H.useEffect(M,J)},we.useEffectEvent=function(M){return R.H.useEffectEvent(M)},we.useId=function(){return R.H.useId()},we.useImperativeHandle=function(M,J,ae){return R.H.useImperativeHandle(M,J,ae)},we.useInsertionEffect=function(M,J){return R.H.useInsertionEffect(M,J)},we.useLayoutEffect=function(M,J){return R.H.useLayoutEffect(M,J)},we.useMemo=function(M,J){return R.H.useMemo(M,J)},we.useOptimistic=function(M,J){return R.H.useOptimistic(M,J)},we.useReducer=function(M,J,ae){return R.H.useReducer(M,J,ae)},we.useRef=function(M){return R.H.useRef(M)},we.useState=function(M){return R.H.useState(M)},we.useSyncExternalStore=function(M,J,ae){return R.H.useSyncExternalStore(M,J,ae)},we.useTransition=function(){return R.H.useTransition()},we.version="19.2.4",we}var K_;function cp(){return K_||(K_=1,dm.exports=Ew()),dm.exports}var L=cp();const bw=z1(L);var mm={exports:{}},jo={},pm={exports:{}},gm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function Tw(){return Q_||(Q_=1,(function(r){function e(Y,re){var de=Y.length;Y.push(re);e:for(;0<de;){var Ae=de-1>>>1,qe=Y[Ae];if(0<l(qe,re))Y[Ae]=re,Y[de]=qe,de=Ae;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var re=Y[0],de=Y.pop();if(de!==re){Y[0]=de;e:for(var Ae=0,qe=Y.length,M=qe>>>1;Ae<M;){var J=2*(Ae+1)-1,ae=Y[J],oe=J+1,_e=Y[oe];if(0>l(ae,de))oe<qe&&0>l(_e,ae)?(Y[Ae]=_e,Y[oe]=de,Ae=oe):(Y[Ae]=ae,Y[J]=de,Ae=J);else if(oe<qe&&0>l(_e,de))Y[Ae]=_e,Y[oe]=de,Ae=oe;else break e}}return re}function l(Y,re){var de=Y.sortIndex-re.sortIndex;return de!==0?de:Y.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],b=1,T=null,S=3,V=!1,k=!1,G=!1,H=!1,ne=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function be(Y){for(var re=n(g);re!==null;){if(re.callback===null)s(g);else if(re.startTime<=Y)s(g),re.sortIndex=re.expirationTime,e(p,re);else break;re=n(g)}}function ue(Y){if(G=!1,be(Y),!k)if(n(p)!==null)k=!0,me||(me=!0,U());else{var re=n(g);re!==null&&Ge(ue,re.startTime-Y)}}var me=!1,R=-1,A=5,C=-1;function j(){return H?!0:!(r.unstable_now()-C<A)}function O(){if(H=!1,me){var Y=r.unstable_now();C=Y;var re=!0;try{e:{k=!1,G&&(G=!1,ie(R),R=-1),V=!0;var de=S;try{t:{for(be(Y),T=n(p);T!==null&&!(T.expirationTime>Y&&j());){var Ae=T.callback;if(typeof Ae=="function"){T.callback=null,S=T.priorityLevel;var qe=Ae(T.expirationTime<=Y);if(Y=r.unstable_now(),typeof qe=="function"){T.callback=qe,be(Y),re=!0;break t}T===n(p)&&s(p),be(Y)}else s(p);T=n(p)}if(T!==null)re=!0;else{var M=n(g);M!==null&&Ge(ue,M.startTime-Y),re=!1}}break e}finally{T=null,S=de,V=!1}re=void 0}}finally{re?U():me=!1}}}var U;if(typeof ee=="function")U=function(){ee(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ke=N.port2;N.port1.onmessage=O,U=function(){ke.postMessage(null)}}else U=function(){ne(O,0)};function Ge(Y,re){R=ne(function(){Y(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var re=3;break;default:re=S}var de=S;S=re;try{return Y()}finally{S=de}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var de=S;S=Y;try{return re()}finally{S=de}},r.unstable_scheduleCallback=function(Y,re,de){var Ae=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ae+de:Ae):de=Ae,Y){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=de+qe,Y={id:b++,callback:re,priorityLevel:Y,startTime:de,expirationTime:qe,sortIndex:-1},de>Ae?(Y.sortIndex=de,e(g,Y),n(p)===null&&Y===n(g)&&(G?(ie(R),R=-1):G=!0,Ge(ue,de-Ae))):(Y.sortIndex=qe,e(p,Y),k||V||(k=!0,me||(me=!0,U()))),Y},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(Y){var re=S;return function(){var de=S;S=re;try{return Y.apply(this,arguments)}finally{S=de}}}})(gm)),gm}var Y_;function xw(){return Y_||(Y_=1,pm.exports=Tw()),pm.exports}var ym={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function ww(){if($_)return Xt;$_=1;var r=cp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,g,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:p,containerInfo:g,implementation:b}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(p,g,null,b)},Xt.flushSync=function(p){var g=h.T,b=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=b,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,T=m(b,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:V}):b==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,T=m(b,g.crossOrigin);s.d.L(p,b,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,b){return h.H.useFormState(p,g,b)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.2.4",Xt}var X_;function Sw(){if(X_)return ym.exports;X_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ym.exports=ww(),ym.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function Aw(){if(J_)return jo;J_=1;var r=xw(),e=cp(),n=Sw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,o=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===o)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=f,o=d;else{for(var v=!1,x=f.child;x;){if(x===a){v=!0,a=f,o=d;break}if(x===o){v=!0,o=f,a=d;break}x=x.sibling}if(!v){for(x=d.child;x;){if(x===a){v=!0,a=d,o=f;break}if(x===o){v=!0,o=d,a=f;break}x=x.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case ne:return"Profiler";case H:return"StrictMode";case ue:return"Suspense";case me:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case ee:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case be:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:ke(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return ke(t(i))}catch{}}return null}var Ge=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ae=[],qe=-1;function M(t){return{current:t}}function J(t){0>qe||(t.current=Ae[qe],Ae[qe]=null,qe--)}function ae(t,i){qe++,Ae[qe]=t.current,t.current=i}var oe=M(null),_e=M(null),xe=M(null),De=M(null);function mt(t,i){switch(ae(xe,i),ae(_e,t),ae(oe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?f_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=f_(i),t=d_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(oe),ae(oe,t)}function rt(){J(oe),J(_e),J(xe)}function pr(t){t.memoizedState!==null&&ae(De,t);var i=oe.current,a=d_(i,t.type);i!==a&&(ae(_e,t),ae(oe,a))}function vs(t){_e.current===t&&(J(oe),J(_e)),De.current===t&&(J(De),ko._currentValue=de)}var Ui,gr;function An(t){if(Ui===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ui=i&&i[1]||"",gr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ui+t+gr}var Es=!1;function bs(t,i){if(!t||Es)return"";Es=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Q){var F=Q}Reflect.construct(t,[],W)}else{try{W.call()}catch(Q){F=Q}t.call(W.prototype)}}else{try{throw Error()}catch(Q){F=Q}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],x=d[1];if(v&&x){var I=v.split(`
`),q=x.split(`
`);for(f=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(o===I.length||f===q.length)for(o=I.length-1,f=q.length-1;1<=o&&0<=f&&I[o]!==q[f];)f--;for(;1<=o&&0<=f;o--,f--)if(I[o]!==q[f]){if(o!==1||f!==1)do if(o--,f--,0>f||I[o]!==q[f]){var $=`
`+I[o].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=o&&0<=f);break}}}finally{Es=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?An(a):""}function kl(t,i){switch(t.tag){case 26:case 27:case 5:return An(t.type);case 16:return An("Lazy");case 13:return t.child!==i&&i!==null?An("Suspense Fallback"):An("Suspense");case 19:return An("SuspenseList");case 0:case 15:return bs(t.type,!1);case 11:return bs(t.type.render,!1);case 1:return bs(t.type,!0);case 31:return An("Activity");default:return""}}function Dl(t){try{var i="",a=null;do i+=kl(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Et=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,yr=r.unstable_cancelCallback,mf=r.unstable_shouldYield,Cc=r.unstable_requestPaint,tn=r.unstable_now,Ts=r.unstable_getCurrentPriorityLevel,Ol=r.unstable_ImmediatePriority,Ml=r.unstable_UserBlockingPriority,_r=r.unstable_NormalPriority,pf=r.unstable_LowPriority,Nc=r.unstable_IdlePriority,Ic=r.log,kc=r.unstable_setDisableYieldValue,Gn=null,Bt=null;function Rn(t){if(typeof Ic=="function"&&kc(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Gn,t)}catch{}}var pt=Math.clz32?Math.clz32:Oc,Dc=Math.log,ma=Math.LN2;function Oc(t){return t>>>=0,t===0?32:31-(Dc(t)/ma|0)|0}var oi=256,xs=262144,bt=4194304;function ci(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ui(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var f=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var x=o&134217727;return x!==0?(o=x&~d,o!==0?f=ci(o):(v&=x,v!==0?f=ci(v):a||(a=x&~t,a!==0&&(f=ci(a))))):(x=o&~d,x!==0?f=ci(x):v!==0?f=ci(v):a||(a=o&~t,a!==0&&(f=ci(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Kn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function gf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mc(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function hi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ws(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function yf(t,i,a,o,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-pt(a),W=1<<$;x[$]=0,I[$]=-1;var F=q[$];if(F!==null)for(q[$]=null,$=0;$<F.length;$++){var Q=F[$];Q!==null&&(Q.lane&=-536870913)}a&=~W}o!==0&&Ss(t,o,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Ss(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-pt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Vl(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-pt(a),f=1<<o;f&i|t[o]&i&&(t[o]|=i),a&=~f}}function jl(t,i){var a=i&-i;return a=(a&42)!==0?1:As(a),(a&(t.suspendedLanes|i))!==0?0:a}function As(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Vc(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:j_(t.type))}function Qn(t,i){var a=re.p;try{return re.p=t,i()}finally{re.p=a}}var Yn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Yn,jt="__reactProps$"+Yn,fi="__reactContainer$"+Yn,pa="__reactEvents$"+Yn,_f="__reactListeners$"+Yn,jc="__reactHandles$"+Yn,Lc="__reactResources$"+Yn,di="__reactMarker$"+Yn;function ga(t){delete t[Tt],delete t[jt],delete t[pa],delete t[_f],delete t[jc]}function mi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[fi]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=E_(t);t!==null;){if(a=t[Tt])return a;t=E_(t)}return i}t=a,a=t.parentNode}return null}function Cn(t){if(t=t[Tt]||t[fi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function mn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function pi(t){var i=t[Lc];return i||(i=t[Lc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xt(t){t[di]=!0}var Ll=new Set,Pl={};function gi(t,i){yi(t,i),yi(t+"Capture",i)}function yi(t,i){for(Pl[t]=i,t=0;t<i.length;t++)Ll.add(i[t])}var Ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zl={},Bl={};function Pc(t){return Et.call(Bl,t)?!0:Et.call(zl,t)?!1:Ul.test(t)?Bl[t]=!0:(zl[t]=!0,!1)}function ya(t,i,a){if(Pc(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function pn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function wt(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ql(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,d=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $e(t){if(!t._valueTracker){var i=vr(t)?"checked":"value";t._valueTracker=ql(t,i,""+t[i])}}function Rs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=vr(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cs=/[\n"\\]/g;function sn(t){return t.replace(Cs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _a(t,i,a,o,f,d,v,x){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Hl(t,v,Lt(i)):a!=null?Hl(t,v,Lt(a)):o!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Lt(x):t.removeAttribute("name")}function Uc(t,i,a,o,f,d,v,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){$e(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,x||i===t.value||(t.value=i),t.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=x?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),$e(t)}function Hl(t,i,a){i==="number"&&_i(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Er(t,i,a,o){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function zc(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function br(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(Ge(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),$e(t)}function an(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Bc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fl(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Bc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Gl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&a[f]!==o&&Fl(t,f,o)}else for(var d in i)i.hasOwnProperty(d)&&Fl(t,d,i[d])}function va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Tr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $n(){}var Kl=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xr=null,vi=null;function Ns(t){var i=Cn(t);if(i&&(t=i.stateNode)){var a=t[jt]||null;e:switch(t=i.stateNode,i.type){case"input":if(_a(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var f=o[jt]||null;if(!f)throw Error(s(90));_a(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Rs(o)}break e;case"textarea":zc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Er(t,!!a.multiple,i,!1)}}}var ba=!1;function wr(t,i,a){if(ba)return t(i,a);ba=!0;try{var o=t(i);return o}finally{if(ba=!1,(xr!==null||vi!==null)&&(Vu(),xr&&(i=xr,t=vi,vi=xr=null,Ns(i),t)))for(i=0;i<t.length;i++)Ns(t[i])}}function Xn(t,i){var a=t.stateNode;if(a===null)return null;var o=a[jt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=!1;if(In)try{var We={};Object.defineProperty(We,"passive",{get:function(){Is=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Is=!1}var Ei=null,Ql=null,ks=null;function Yl(){if(ks)return ks;var t,i=Ql,a=i.length,o,f="value"in Ei?Ei.value:Ei.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var v=a-t;for(o=1;o<=v&&i[a-o]===f[d-o];o++);return ks=f.slice(t,1<o?1-o:void 0)}function Ds(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function Jn(){return!1}function qt(t){function i(a,o,f,d,v){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Bi:Jn,this.isPropagationStopped=Jn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),i}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=qt(qi),Sr=T({},qi,{view:0,detail:0}),$l=qt(Sr),Ar,Ta,Ti,xa=T({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(Ar=t.screenX-Ti.screenX,Ta=t.screenY-Ti.screenY):Ta=Ar=0,Ti=t),Ar)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Xl=qt(xa),Os=T({},xa,{dataTransfer:0}),Hc=qt(Os),Fc=T({},Sr,{relatedTarget:0}),Ms=qt(Fc),Jl=T({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Gc=qt(Jl),wa=T({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Kc=qt(wa),Qc=T({},qi,{data:0}),xi=qt(Qc),Yc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$c={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Xc[t])?!!i[t]:!1}function Rr(){return Jc}var nn=T({},Sr,{key:function(t){if(t.key){var i=Yc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ds(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$c[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rr,charCode:function(t){return t.type==="keypress"?Ds(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ds(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wc=qt(nn),Zc=T({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=qt(Zc),u=T({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rr}),y=qt(u),E=T({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=qt(E),z=T({},xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=qt(z),se=T({},qi,{newState:0,oldState:0}),Re=qt(se),gt=[9,13,27,32],Ke=In&&"CompositionEvent"in window,ot=null;In&&"documentMode"in document&&(ot=document.documentMode);var kn=In&&"TextEvent"in window&&!ot,wi=In&&(!Ke||ot&&8<ot&&11>=ot),Wn=" ",Zn=!1;function Vs(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function qT(t,i){switch(t){case"compositionend":return Sa(i);case"keypress":return i.which!==32?null:(Zn=!0,Wn);case"textInput":return t=i.data,t===Wn&&Zn?null:t;default:return null}}function HT(t,i){if(Aa)return t==="compositionend"||!Ke&&Vs(t,i)?(t=Yl(),ks=Ql=Ei=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wi&&i.locale!=="ko"?null:i.data;default:return null}}var FT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!FT[t.type]:i==="textarea"}function wg(t,i,a,o){xr?vi?vi.push(o):vi=[o]:xr=o,i=qu(i,"onChange"),0<i.length&&(a=new bi("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Wl=null,Zl=null;function GT(t){a_(t,0)}function eu(t){var i=mn(t);if(Rs(i))return t}function Sg(t,i){if(t==="change")return i}var Ag=!1;if(In){var vf;if(In){var Ef="oninput"in document;if(!Ef){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Ef=typeof Rg.oninput=="function"}vf=Ef}else vf=!1;Ag=vf&&(!document.documentMode||9<document.documentMode)}function Cg(){Wl&&(Wl.detachEvent("onpropertychange",Ng),Zl=Wl=null)}function Ng(t){if(t.propertyName==="value"&&eu(Zl)){var i=[];wg(i,Zl,t,Nn(t)),wr(GT,i)}}function KT(t,i,a){t==="focusin"?(Cg(),Wl=i,Zl=a,Wl.attachEvent("onpropertychange",Ng)):t==="focusout"&&Cg()}function QT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eu(Zl)}function YT(t,i){if(t==="click")return eu(i)}function $T(t,i){if(t==="input"||t==="change")return eu(i)}function XT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gn=typeof Object.is=="function"?Object.is:XT;function eo(t,i){if(gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!Et.call(i,f)||!gn(t[f],i[f]))return!1}return!0}function Ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kg(t,i){var a=Ig(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ig(a)}}function Dg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Dg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Og(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=_i(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=_i(t.document)}return i}function bf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var JT=In&&"documentMode"in document&&11>=document.documentMode,Ra=null,Tf=null,to=null,xf=!1;function Mg(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xf||Ra==null||Ra!==_i(o)||(o=Ra,"selectionStart"in o&&bf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),to&&eo(to,o)||(to=o,o=qu(Tf,"onSelect"),0<o.length&&(i=new bi("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Ra)))}function js(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ca={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},wf={},Vg={};In&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Ls(t){if(wf[t])return wf[t];if(!Ca[t])return t;var i=Ca[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Vg)return wf[t]=i[a];return t}var jg=Ls("animationend"),Lg=Ls("animationiteration"),Pg=Ls("animationstart"),WT=Ls("transitionrun"),ZT=Ls("transitionstart"),ex=Ls("transitioncancel"),Ug=Ls("transitionend"),zg=new Map,Sf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sf.push("scrollEnd");function ei(t,i){zg.set(t,i),gi(i,[t])}var tu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],Na=0,Af=0;function nu(){for(var t=Na,i=Af=Na=0;i<t;){var a=Dn[i];Dn[i++]=null;var o=Dn[i];Dn[i++]=null;var f=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,o!==null&&f!==null){var v=o.pending;v===null?f.next=f:(f.next=v.next,v.next=f),o.pending=f}d!==0&&Bg(a,f,d)}}function iu(t,i,a,o){Dn[Na++]=t,Dn[Na++]=i,Dn[Na++]=a,Dn[Na++]=o,Af|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Rf(t,i,a,o){return iu(t,i,a,o),ru(t)}function Ps(t,i){return iu(t,null,null,i),ru(t)}function Bg(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-pt(a),t=d.hiddenUpdates,o=t[f],o===null?t[f]=[i]:o.push(i),i.lane=a|536870912),d):null}function ru(t){if(50<wo)throw wo=0,jd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ia={};function tx(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,i,a,o){return new tx(t,i,a,o)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,i){var a=t.alternate;return a===null?(a=yn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function qg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function su(t,i,a,o,f,d){var v=0;if(o=t,typeof t=="function")Cf(t)&&(v=1);else if(typeof t=="string")v=aw(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=yn(31,a,i,f),t.elementType=C,t.lanes=d,t;case G:return Us(a.children,f,d,i);case H:v=8,f|=24;break;case ne:return t=yn(12,a,i,f|2),t.elementType=ne,t.lanes=d,t;case ue:return t=yn(13,a,i,f),t.elementType=ue,t.lanes=d,t;case me:return t=yn(19,a,i,f),t.elementType=me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ee:v=10;break e;case ie:v=9;break e;case be:v=11;break e;case R:v=14;break e;case A:v=16,o=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=yn(v,a,i,f),i.elementType=t,i.type=o,i.lanes=d,i}function Us(t,i,a,o){return t=yn(7,t,o,i),t.lanes=a,t}function Nf(t,i,a){return t=yn(6,t,null,i),t.lanes=a,t}function Hg(t){var i=yn(18,null,null,0);return i.stateNode=t,i}function If(t,i,a){return i=yn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Fg=new WeakMap;function On(t,i){if(typeof t=="object"&&t!==null){var a=Fg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Dl(i)},Fg.set(t,i),i)}return{value:t,source:i,stack:Dl(i)}}var ka=[],Da=0,au=null,no=0,Mn=[],Vn=0,Cr=null,Si=1,Ai="";function Gi(t,i){ka[Da++]=no,ka[Da++]=au,au=t,no=i}function Gg(t,i,a){Mn[Vn++]=Si,Mn[Vn++]=Ai,Mn[Vn++]=Cr,Cr=t;var o=Si;t=Ai;var f=32-pt(o)-1;o&=~(1<<f),a+=1;var d=32-pt(i)+f;if(30<d){var v=f-f%5;d=(o&(1<<v)-1).toString(32),o>>=v,f-=v,Si=1<<32-pt(i)+f|a<<f|o,Ai=d+t}else Si=1<<d|a<<f|o,Ai=t}function kf(t){t.return!==null&&(Gi(t,1),Gg(t,1,0))}function Df(t){for(;t===au;)au=ka[--Da],ka[Da]=null,no=ka[--Da],ka[Da]=null;for(;t===Cr;)Cr=Mn[--Vn],Mn[Vn]=null,Ai=Mn[--Vn],Mn[Vn]=null,Si=Mn[--Vn],Mn[Vn]=null}function Kg(t,i){Mn[Vn++]=Si,Mn[Vn++]=Ai,Mn[Vn++]=Cr,Si=i.id,Ai=i.overflow,Cr=t}var Ht=null,st=null,ze=!1,Nr=null,jn=!1,Of=Error(s(519));function Ir(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw io(On(i,t)),Of}function Qg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[Tt]=t,i[jt]=o,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<Ao.length;a++)Me(Ao[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Uc(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),br(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||u_(i.textContent,a)?(o.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),o.onScroll!=null&&Me("scroll",i),o.onScrollEnd!=null&&Me("scrollend",i),o.onClick!=null&&(i.onclick=$n),i=!0):i=!1,i||Ir(t,!0)}function Yg(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Ht=Ht.return}}function Oa(t){if(t!==Ht)return!1;if(!ze)return Yg(t),ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Jd(t.type,t.memoizedProps)),a=!a),a&&st&&Ir(t),Yg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=v_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=v_(t)}else i===27?(i=st,Fr(t.type)?(t=nm,nm=null,st=t):st=i):st=Ht?Pn(t.stateNode.nextSibling):null;return!0}function zs(){st=Ht=null,ze=!1}function Mf(){var t=Nr;return t!==null&&(un===null?un=t:un.push.apply(un,t),Nr=null),t}function io(t){Nr===null?Nr=[t]:Nr.push(t)}var Vf=M(null),Bs=null,Ki=null;function kr(t,i,a){ae(Vf,i._currentValue),i._currentValue=a}function Qi(t){t._currentValue=Vf.current,J(Vf)}function jf(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function Lf(t,i,a,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=f;for(var I=0;I<i.length;I++)if(x.context===i[I]){d.lanes|=a,x=d.alternate,x!==null&&(x.lanes|=a),jf(d.return,a,t),o||(v=null);break e}d=x.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),jf(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Ma(t,i,a,o){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var x=f.type;gn(f.pendingProps.value,v.value)||(t!==null?t.push(x):t=[x])}}else if(f===De.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(ko):t=[ko])}f=f.return}t!==null&&Lf(i,t,a,o),i.flags|=262144}function lu(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qs(t){Bs=t,Ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return $g(Bs,t)}function ou(t,i){return Bs===null&&qs(t),$g(t,i)}function $g(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ki===null){if(t===null)throw Error(s(308));Ki=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ki=Ki.next=i;return a}var nx=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ix=r.unstable_scheduleCallback,rx=r.unstable_NormalPriority,St={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new nx,data:new Map,refCount:0}}function ro(t){t.refCount--,t.refCount===0&&ix(rx,function(){t.controller.abort()})}var so=null,Uf=0,Va=0,ja=null;function sx(t,i){if(so===null){var a=so=[];Uf=0,Va=qd(),ja={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Uf++,i.then(Xg,Xg),i}function Xg(){if(--Uf===0&&so!==null){ja!==null&&(ja.status="fulfilled");var t=so;so=null,Va=0,ja=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function ax(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var Jg=Y.S;Y.S=function(t,i){M0=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&sx(t,i),Jg!==null&&Jg(t,i)};var Hs=M(null);function zf(){var t=Hs.current;return t!==null?t:nt.pooledCache}function cu(t,i){i===null?ae(Hs,Hs.current):ae(Hs,i.pool)}function Wg(){var t=zf();return t===null?null:{parent:St._currentValue,pool:t}}var La=Error(s(460)),Bf=Error(s(474)),uu=Error(s(542)),hu={then:function(){}};function Zg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ey(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then($n,$n),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ny(t),t;default:if(typeof i.status=="string")i.then($n,$n);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ny(t),t}throw Gs=i,La}}function Fs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gs=a,La):a}}var Gs=null;function ty(){if(Gs===null)throw Error(s(459));var t=Gs;return Gs=null,t}function ny(t){if(t===La||t===uu)throw Error(s(483))}var Pa=null,ao=0;function fu(t){var i=ao;return ao+=1,Pa===null&&(Pa=[]),ey(Pa,t,i)}function lo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function du(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function iy(t){function i(P,D){if(t){var B=P.deletions;B===null?(P.deletions=[D],P.flags|=16):B.push(D)}}function a(P,D){if(!t)return null;for(;D!==null;)i(P,D),D=D.sibling;return null}function o(P){for(var D=new Map;P!==null;)P.key!==null?D.set(P.key,P):D.set(P.index,P),P=P.sibling;return D}function f(P,D){return P=Fi(P,D),P.index=0,P.sibling=null,P}function d(P,D,B){return P.index=B,t?(B=P.alternate,B!==null?(B=B.index,B<D?(P.flags|=67108866,D):B):(P.flags|=67108866,D)):(P.flags|=1048576,D)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function x(P,D,B,X){return D===null||D.tag!==6?(D=Nf(B,P.mode,X),D.return=P,D):(D=f(D,B),D.return=P,D)}function I(P,D,B,X){var pe=B.type;return pe===G?$(P,D,B.props.children,X,B.key):D!==null&&(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&Fs(pe)===D.type)?(D=f(D,B.props),lo(D,B),D.return=P,D):(D=su(B.type,B.key,B.props,null,P.mode,X),lo(D,B),D.return=P,D)}function q(P,D,B,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?(D=If(B,P.mode,X),D.return=P,D):(D=f(D,B.children||[]),D.return=P,D)}function $(P,D,B,X,pe){return D===null||D.tag!==7?(D=Us(B,P.mode,X,pe),D.return=P,D):(D=f(D,B),D.return=P,D)}function W(P,D,B){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Nf(""+D,P.mode,B),D.return=P,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case V:return B=su(D.type,D.key,D.props,null,P.mode,B),lo(B,D),B.return=P,B;case k:return D=If(D,P.mode,B),D.return=P,D;case A:return D=Fs(D),W(P,D,B)}if(Ge(D)||U(D))return D=Us(D,P.mode,B,null),D.return=P,D;if(typeof D.then=="function")return W(P,fu(D),B);if(D.$$typeof===ee)return W(P,ou(P,D),B);du(P,D)}return null}function F(P,D,B,X){var pe=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return pe!==null?null:x(P,D,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case V:return B.key===pe?I(P,D,B,X):null;case k:return B.key===pe?q(P,D,B,X):null;case A:return B=Fs(B),F(P,D,B,X)}if(Ge(B)||U(B))return pe!==null?null:$(P,D,B,X,null);if(typeof B.then=="function")return F(P,D,fu(B),X);if(B.$$typeof===ee)return F(P,D,ou(P,B),X);du(P,B)}return null}function Q(P,D,B,X,pe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(B)||null,x(D,P,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case V:return P=P.get(X.key===null?B:X.key)||null,I(D,P,X,pe);case k:return P=P.get(X.key===null?B:X.key)||null,q(D,P,X,pe);case A:return X=Fs(X),Q(P,D,B,X,pe)}if(Ge(X)||U(X))return P=P.get(B)||null,$(D,P,X,pe,null);if(typeof X.then=="function")return Q(P,D,B,fu(X),pe);if(X.$$typeof===ee)return Q(P,D,B,ou(D,X),pe);du(D,X)}return null}function he(P,D,B,X){for(var pe=null,He=null,fe=D,Ne=D=0,je=null;fe!==null&&Ne<B.length;Ne++){fe.index>Ne?(je=fe,fe=null):je=fe.sibling;var Fe=F(P,fe,B[Ne],X);if(Fe===null){fe===null&&(fe=je);break}t&&fe&&Fe.alternate===null&&i(P,fe),D=d(Fe,D,Ne),He===null?pe=Fe:He.sibling=Fe,He=Fe,fe=je}if(Ne===B.length)return a(P,fe),ze&&Gi(P,Ne),pe;if(fe===null){for(;Ne<B.length;Ne++)fe=W(P,B[Ne],X),fe!==null&&(D=d(fe,D,Ne),He===null?pe=fe:He.sibling=fe,He=fe);return ze&&Gi(P,Ne),pe}for(fe=o(fe);Ne<B.length;Ne++)je=Q(fe,P,Ne,B[Ne],X),je!==null&&(t&&je.alternate!==null&&fe.delete(je.key===null?Ne:je.key),D=d(je,D,Ne),He===null?pe=je:He.sibling=je,He=je);return t&&fe.forEach(function($r){return i(P,$r)}),ze&&Gi(P,Ne),pe}function ye(P,D,B,X){if(B==null)throw Error(s(151));for(var pe=null,He=null,fe=D,Ne=D=0,je=null,Fe=B.next();fe!==null&&!Fe.done;Ne++,Fe=B.next()){fe.index>Ne?(je=fe,fe=null):je=fe.sibling;var $r=F(P,fe,Fe.value,X);if($r===null){fe===null&&(fe=je);break}t&&fe&&$r.alternate===null&&i(P,fe),D=d($r,D,Ne),He===null?pe=$r:He.sibling=$r,He=$r,fe=je}if(Fe.done)return a(P,fe),ze&&Gi(P,Ne),pe;if(fe===null){for(;!Fe.done;Ne++,Fe=B.next())Fe=W(P,Fe.value,X),Fe!==null&&(D=d(Fe,D,Ne),He===null?pe=Fe:He.sibling=Fe,He=Fe);return ze&&Gi(P,Ne),pe}for(fe=o(fe);!Fe.done;Ne++,Fe=B.next())Fe=Q(fe,P,Ne,Fe.value,X),Fe!==null&&(t&&Fe.alternate!==null&&fe.delete(Fe.key===null?Ne:Fe.key),D=d(Fe,D,Ne),He===null?pe=Fe:He.sibling=Fe,He=Fe);return t&&fe.forEach(function(yw){return i(P,yw)}),ze&&Gi(P,Ne),pe}function tt(P,D,B,X){if(typeof B=="object"&&B!==null&&B.type===G&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case V:e:{for(var pe=B.key;D!==null;){if(D.key===pe){if(pe=B.type,pe===G){if(D.tag===7){a(P,D.sibling),X=f(D,B.props.children),X.return=P,P=X;break e}}else if(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&Fs(pe)===D.type){a(P,D.sibling),X=f(D,B.props),lo(X,B),X.return=P,P=X;break e}a(P,D);break}else i(P,D);D=D.sibling}B.type===G?(X=Us(B.props.children,P.mode,X,B.key),X.return=P,P=X):(X=su(B.type,B.key,B.props,null,P.mode,X),lo(X,B),X.return=P,P=X)}return v(P);case k:e:{for(pe=B.key;D!==null;){if(D.key===pe)if(D.tag===4&&D.stateNode.containerInfo===B.containerInfo&&D.stateNode.implementation===B.implementation){a(P,D.sibling),X=f(D,B.children||[]),X.return=P,P=X;break e}else{a(P,D);break}else i(P,D);D=D.sibling}X=If(B,P.mode,X),X.return=P,P=X}return v(P);case A:return B=Fs(B),tt(P,D,B,X)}if(Ge(B))return he(P,D,B,X);if(U(B)){if(pe=U(B),typeof pe!="function")throw Error(s(150));return B=pe.call(B),ye(P,D,B,X)}if(typeof B.then=="function")return tt(P,D,fu(B),X);if(B.$$typeof===ee)return tt(P,D,ou(P,B),X);du(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,D!==null&&D.tag===6?(a(P,D.sibling),X=f(D,B),X.return=P,P=X):(a(P,D),X=Nf(B,P.mode,X),X.return=P,P=X),v(P)):a(P,D)}return function(P,D,B,X){try{ao=0;var pe=tt(P,D,B,X);return Pa=null,pe}catch(fe){if(fe===La||fe===uu)throw fe;var He=yn(29,fe,null,P.mode);return He.lanes=X,He.return=P,He}finally{}}}var Ks=iy(!0),ry=iy(!1),Dr=!1;function qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Or(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mr(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Qe&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=ru(t),Bg(t,null,a),i}return iu(t,o,i,a),ru(t)}function oo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Vl(t,a)}}function Ff(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Gf=!1;function co(){if(Gf){var t=ja;if(t!==null)throw t}}function uo(t,i,a,o){Gf=!1;var f=t.updateQueue;Dr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,x=f.shared.pending;if(x!==null){f.shared.pending=null;var I=x,q=I.next;I.next=null,v===null?d=q:v.next=q,v=I;var $=t.alternate;$!==null&&($=$.updateQueue,x=$.lastBaseUpdate,x!==v&&(x===null?$.firstBaseUpdate=q:x.next=q,$.lastBaseUpdate=I))}if(d!==null){var W=f.baseState;v=0,$=q=I=null,x=d;do{var F=x.lane&-536870913,Q=F!==x.lane;if(Q?(Ve&F)===F:(o&F)===F){F!==0&&F===Va&&(Gf=!0),$!==null&&($=$.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var he=t,ye=x;F=i;var tt=a;switch(ye.tag){case 1:if(he=ye.payload,typeof he=="function"){W=he.call(tt,W,F);break e}W=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ye.payload,F=typeof he=="function"?he.call(tt,W,F):he,F==null)break e;W=T({},W,F);break e;case 2:Dr=!0}}F=x.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:x.tag,payload:x.payload,callback:x.callback,next:null},$===null?(q=$=Q,I=W):$=$.next=Q,v|=F;if(x=x.next,x===null){if(x=f.shared.pending,x===null)break;Q=x,x=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);$===null&&(I=W),f.baseState=I,f.firstBaseUpdate=q,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),Ur|=v,t.lanes=v,t.memoizedState=W}}function sy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ay(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)sy(a[t],i)}var Ua=M(null),mu=M(0);function ly(t,i){t=nr,ae(mu,t),ae(Ua,i),nr=t|i.baseLanes}function Kf(){ae(mu,nr),ae(Ua,Ua.current)}function Qf(){nr=mu.current,J(Ua),J(mu)}var _n=M(null),Ln=null;function Vr(t){var i=t.alternate;ae(yt,yt.current&1),ae(_n,t),Ln===null&&(i===null||Ua.current!==null||i.memoizedState!==null)&&(Ln=t)}function Yf(t){ae(yt,yt.current),ae(_n,t),Ln===null&&(Ln=t)}function oy(t){t.tag===22?(ae(yt,yt.current),ae(_n,t),Ln===null&&(Ln=t)):jr()}function jr(){ae(yt,yt.current),ae(_n,_n.current)}function vn(t){J(_n),Ln===t&&(Ln=null),J(yt)}var yt=M(0);function pu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||em(a)||tm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Yi=0,Ce=null,Ze=null,At=null,gu=!1,za=!1,Qs=!1,yu=0,ho=0,Ba=null,lx=0;function ft(){throw Error(s(321))}function $f(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!gn(t[a],i[a]))return!1;return!0}function Xf(t,i,a,o,f,d){return Yi=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?Gy:hd,Qs=!1,d=a(o,f),Qs=!1,za&&(d=uy(i,a,o,f)),cy(t),d}function cy(t){Y.H=po;var i=Ze!==null&&Ze.next!==null;if(Yi=0,At=Ze=Ce=null,gu=!1,ho=0,Ba=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&lu(t)&&(Rt=!0))}function uy(t,i,a,o){Ce=t;var f=0;do{if(za&&(Ba=null),ho=0,za=!1,25<=f)throw Error(s(301));if(f+=1,At=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Ky,d=i(a,o)}while(za);return d}function ox(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?fo(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ce.flags|=1024),i}function Jf(){var t=yu!==0;return yu=0,t}function Wf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Zf(t){if(gu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}gu=!1}Yi=0,At=Ze=Ce=null,za=!1,ho=yu=0,Ba=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ce.memoizedState=At=t:At=At.next=t,At}function _t(){if(Ze===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=At===null?Ce.memoizedState:At.next;if(i!==null)At=i,Ze=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},At===null?Ce.memoizedState=At=t:At=At.next=t}return At}function _u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fo(t){var i=ho;return ho+=1,Ba===null&&(Ba=[]),t=ey(Ba,t,i),i=Ce,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Gy:hd),t}function vu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fo(t);if(t.$$typeof===ee)return Ft(t)}throw Error(s(438,String(t)))}function ed(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ce.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=_u(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=j;return i.index++,a}function $i(t,i){return typeof i=="function"?i(t):i}function Eu(t){var i=_t();return td(i,Ze,t)}function td(t,i,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var f=t.baseQueue,d=o.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}i.baseQueue=f=d,o.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var x=v=null,I=null,q=i,$=!1;do{var W=q.lane&-536870913;if(W!==q.lane?(Ve&W)===W:(Yi&W)===W){var F=q.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),W===Va&&($=!0);else if((Yi&F)===F){q=q.next,F===Va&&($=!0);continue}else W={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(x=I=W,v=d):I=I.next=W,Ce.lanes|=F,Ur|=F;W=q.action,Qs&&a(d,W),d=q.hasEagerState?q.eagerState:a(d,W)}else F={lane:W,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(x=I=F,v=d):I=I.next=F,Ce.lanes|=W,Ur|=W;q=q.next}while(q!==null&&q!==i);if(I===null?v=d:I.next=x,!gn(d,t.memoizedState)&&(Rt=!0,$&&(a=ja,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,o.lastRenderedState=d}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function nd(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);gn(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function hy(t,i,a){var o=Ce,f=_t(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!gn((Ze||f).memoizedState,a);if(v&&(f.memoizedState=a,Rt=!0),f=f.queue,sd(my.bind(null,o,f,t),[t]),f.getSnapshot!==i||v||At!==null&&At.memoizedState.tag&1){if(o.flags|=2048,qa(9,{destroy:void 0},dy.bind(null,o,f,a,i),null),nt===null)throw Error(s(349));d||(Yi&127)!==0||fy(o,i,a)}return a}function fy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=_u(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function dy(t,i,a,o){i.value=a,i.getSnapshot=o,py(i)&&gy(t)}function my(t,i,a){return a(function(){py(i)&&gy(t)})}function py(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!gn(t,a)}catch{return!0}}function gy(t){var i=Ps(t,2);i!==null&&hn(i,t,2)}function id(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Qs){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t},i}function yy(t,i,a,o){return t.baseState=a,td(t,Ze,typeof o=="function"?o:$i)}function cx(t,i,a,o,f){if(xu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,_y(i,d)):(d.next=a.next,i.pending=a.next=d)}}function _y(t,i){var a=i.action,o=i.payload,f=t.state;if(i.isTransition){var d=Y.T,v={};Y.T=v;try{var x=a(f,o),I=Y.S;I!==null&&I(v,x),vy(t,i,x)}catch(q){rd(t,i,q)}finally{d!==null&&v.types!==null&&(d.types=v.types),Y.T=d}}else try{d=a(f,o),vy(t,i,d)}catch(q){rd(t,i,q)}}function vy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ey(t,i,o)},function(o){return rd(t,i,o)}):Ey(t,i,a)}function Ey(t,i,a){i.status="fulfilled",i.value=a,by(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,_y(t,a)))}function rd(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,by(i),i=i.next;while(i!==o)}t.action=null}function by(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ty(t,i){return i}function xy(t,i){if(ze){var a=nt.formState;if(a!==null){e:{var o=Ce;if(ze){if(st){t:{for(var f=st,d=jn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Pn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){st=Pn(f.nextSibling),o=f.data==="F!";break e}}Ir(o)}o=!1}o&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ty,lastRenderedState:i},a.queue=o,a=qy.bind(null,Ce,o),o.dispatch=a,o=id(!1),d=ud.bind(null,Ce,!1,o.queue),o=rn(),f={state:i,dispatch:null,action:t,pending:null},o.queue=f,a=cx.bind(null,Ce,f,d,a),f.dispatch=a,o.memoizedState=t,[i,a,!1]}function wy(t){var i=_t();return Sy(i,Ze,t)}function Sy(t,i,a){if(i=td(t,i,Ty)[0],t=Eu($i)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=fo(i)}catch(v){throw v===La?uu:v}else o=i;i=_t();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,qa(9,{destroy:void 0},ux.bind(null,f,a),null)),[o,d,t]}function ux(t,i){t.action=i}function Ay(t){var i=_t(),a=Ze;if(a!==null)return Sy(i,a,t);_t(),i=i.memoizedState,a=_t();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function qa(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=_u(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Ry(){return _t().memoizedState}function bu(t,i,a,o){var f=rn();Ce.flags|=t,f.memoizedState=qa(1|i,{destroy:void 0},a,o===void 0?null:o)}function Tu(t,i,a,o){var f=_t();o=o===void 0?null:o;var d=f.memoizedState.inst;Ze!==null&&o!==null&&$f(o,Ze.memoizedState.deps)?f.memoizedState=qa(i,d,a,o):(Ce.flags|=t,f.memoizedState=qa(1|i,d,a,o))}function Cy(t,i){bu(8390656,8,t,i)}function sd(t,i){Tu(2048,8,t,i)}function hx(t){Ce.flags|=4;var i=Ce.updateQueue;if(i===null)i=_u(),Ce.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ny(t){var i=_t().memoizedState;return hx({ref:i,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Iy(t,i){return Tu(4,2,t,i)}function ky(t,i){return Tu(4,4,t,i)}function Dy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Oy(t,i,a){a=a!=null?a.concat([t]):null,Tu(4,4,Dy.bind(null,i,t),a)}function ad(){}function My(t,i){var a=_t();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&$f(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Vy(t,i){var a=_t();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&$f(i,o[1]))return o[0];if(o=t(),Qs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[o,i],o}function ld(t,i,a){return a===void 0||(Yi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=j0(),Ce.lanes|=t,Ur|=t,a)}function jy(t,i,a,o){return gn(a,i)?a:Ua.current!==null?(t=ld(t,a,o),gn(t,i)||(Rt=!0),t):(Yi&42)===0||(Yi&1073741824)!==0&&(Ve&261930)===0?(Rt=!0,t.memoizedState=a):(t=j0(),Ce.lanes|=t,Ur|=t,i)}function Ly(t,i,a,o,f){var d=re.p;re.p=d!==0&&8>d?d:8;var v=Y.T,x={};Y.T=x,ud(t,!1,i,a);try{var I=f(),q=Y.S;if(q!==null&&q(x,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=ax(I,o);mo(t,i,$,Tn(t))}else mo(t,i,o,Tn(t))}catch(W){mo(t,i,{then:function(){},status:"rejected",reason:W},Tn())}finally{re.p=d,v!==null&&x.types!==null&&(v.types=x.types),Y.T=v}}function fx(){}function od(t,i,a,o){if(t.tag!==5)throw Error(s(476));var f=Py(t).queue;Ly(t,f,i,de,a===null?fx:function(){return Uy(t),a(o)})}function Py(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Uy(t){var i=Py(t);i.next===null&&(i=t.alternate.memoizedState),mo(t,i.next.queue,{},Tn())}function cd(){return Ft(ko)}function zy(){return _t().memoizedState}function By(){return _t().memoizedState}function dx(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();t=Or(a);var o=Mr(i,t,a);o!==null&&(hn(o,i,a),oo(o,i,a)),i={cache:Pf()},t.payload=i;return}i=i.return}}function mx(t,i,a){var o=Tn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},xu(t)?Hy(i,a):(a=Rf(t,i,a,o),a!==null&&(hn(a,t,o),Fy(a,i,o)))}function qy(t,i,a){var o=Tn();mo(t,i,a,o)}function mo(t,i,a,o){var f={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(xu(t))Hy(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,x=d(v,a);if(f.hasEagerState=!0,f.eagerState=x,gn(x,v))return iu(t,i,f,0),nt===null&&nu(),!1}catch{}finally{}if(a=Rf(t,i,f,o),a!==null)return hn(a,t,o),Fy(a,i,o),!0}return!1}function ud(t,i,a,o){if(o={lane:2,revertLane:qd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},xu(t)){if(i)throw Error(s(479))}else i=Rf(t,a,o,2),i!==null&&hn(i,t,2)}function xu(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function Hy(t,i){za=gu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Fy(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Vl(t,a)}}var po={readContext:Ft,use:vu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};po.useEffectEvent=ft;var Gy={readContext:Ft,use:vu,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:Cy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,bu(4194308,4,Dy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return bu(4194308,4,t,i)},useInsertionEffect:function(t,i){bu(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var o=t();if(Qs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=rn();if(a!==void 0){var f=a(i);if(Qs){Rn(!0);try{a(i)}finally{Rn(!1)}}}else f=i;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=mx.bind(null,Ce,t),[o.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=id(t);var i=t.queue,a=qy.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ad,useDeferredValue:function(t,i){var a=rn();return ld(a,t,i)},useTransition:function(){var t=id(!1);return t=Ly.bind(null,Ce,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Ce,f=rn();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(Ve&127)!==0||fy(o,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Cy(my.bind(null,o,d,t),[t]),o.flags|=2048,qa(9,{destroy:void 0},dy.bind(null,o,d,a,i),null),a},useId:function(){var t=rn(),i=nt.identifierPrefix;if(ze){var a=Ai,o=Si;a=(o&~(1<<32-pt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=yu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=lx++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:cd,useFormState:xy,useActionState:xy,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ud.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:ed,useCacheRefresh:function(){return rn().memoizedState=dx.bind(null,Ce)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((Qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},hd={readContext:Ft,use:vu,useCallback:My,useContext:Ft,useEffect:sd,useImperativeHandle:Oy,useInsertionEffect:Iy,useLayoutEffect:ky,useMemo:Vy,useReducer:Eu,useRef:Ry,useState:function(){return Eu($i)},useDebugValue:ad,useDeferredValue:function(t,i){var a=_t();return jy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Eu($i)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:fo(t),i]},useSyncExternalStore:hy,useId:zy,useHostTransitionStatus:cd,useFormState:wy,useActionState:wy,useOptimistic:function(t,i){var a=_t();return yy(a,Ze,t,i)},useMemoCache:ed,useCacheRefresh:By};hd.useEffectEvent=Ny;var Ky={readContext:Ft,use:vu,useCallback:My,useContext:Ft,useEffect:sd,useImperativeHandle:Oy,useInsertionEffect:Iy,useLayoutEffect:ky,useMemo:Vy,useReducer:nd,useRef:Ry,useState:function(){return nd($i)},useDebugValue:ad,useDeferredValue:function(t,i){var a=_t();return Ze===null?ld(a,t,i):jy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=nd($i)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:fo(t),i]},useSyncExternalStore:hy,useId:zy,useHostTransitionStatus:cd,useFormState:Ay,useActionState:Ay,useOptimistic:function(t,i){var a=_t();return Ze!==null?yy(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ed,useCacheRefresh:By};Ky.useEffectEvent=Ny;function fd(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var dd={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=Tn(),f=Or(o);f.payload=i,a!=null&&(f.callback=a),i=Mr(t,f,o),i!==null&&(hn(i,t,o),oo(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=Tn(),f=Or(o);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Mr(t,f,o),i!==null&&(hn(i,t,o),oo(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Tn(),o=Or(a);o.tag=2,i!=null&&(o.callback=i),i=Mr(t,o,a),i!==null&&(hn(i,t,a),oo(i,t,a))}};function Qy(t,i,a,o,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!eo(a,o)||!eo(f,d):!0}function Yy(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&dd.enqueueReplaceState(i,i.state,null)}function Ys(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function $y(t){tu(t)}function Xy(t){console.error(t)}function Jy(t){tu(t)}function wu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Wy(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function md(t,i,a){return a=Or(a),a.tag=3,a.payload={element:null},a.callback=function(){wu(t,i)},a}function Zy(t){return t=Or(t),t.tag=3,t}function e0(t,i,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;t.payload=function(){return f(d)},t.callback=function(){Wy(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Wy(i,a,o),typeof f!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})})}function px(t,i,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Ma(i,a,f,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?ju():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===hu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Ud(t,o,f)),!1;case 22:return a.flags|=65536,o===hu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Ud(t,o,f)),!1}throw Error(s(435,a.tag))}return Ud(t,o,f),ju(),!1}if(ze)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==Of&&(t=Error(s(422),{cause:o}),io(On(t,a)))):(o!==Of&&(i=Error(s(423),{cause:o}),io(On(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=On(o,a),f=md(t.stateNode,o,f),Ff(t,f),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:o});if(d=On(d,a),xo===null?xo=[d]:xo.push(d),dt!==4&&(dt=2),i===null)return!0;o=On(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=md(a.stateNode,o,t),Ff(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Zy(f),e0(f,t,a,o),Ff(a,f),!1}a=a.return}while(a!==null);return!1}var pd=Error(s(461)),Rt=!1;function Gt(t,i,a,o){i.child=t===null?ry(i,null,a,o):Ks(i,t.child,a,o)}function t0(t,i,a,o,f){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var x in o)x!=="ref"&&(v[x]=o[x])}else v=o;return qs(i),o=Xf(t,i,a,v,d,f),x=Jf(),t!==null&&!Rt?(Wf(t,i,f),Xi(t,i,f)):(ze&&x&&kf(i),i.flags|=1,Gt(t,i,o,f),i.child)}function n0(t,i,a,o,f){if(t===null){var d=a.type;return typeof d=="function"&&!Cf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,i0(t,i,d,o,f)):(t=su(a.type,null,o,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!xd(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:eo,a(v,o)&&t.ref===i.ref)return Xi(t,i,f)}return i.flags|=1,t=Fi(d,o),t.ref=i.ref,t.return=i,i.child=t}function i0(t,i,a,o,f){if(t!==null){var d=t.memoizedProps;if(eo(d,o)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=o=d,xd(t,f))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Xi(t,i,f)}return gd(t,i,a,o,f)}function r0(t,i,a,o){var f=o.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(o=i.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~d}else o=0,i.child=null;return s0(t,i,d,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&cu(i,d!==null?d.cachePool:null),d!==null?ly(i,d):Kf(),oy(i);else return o=i.lanes=536870912,s0(t,i,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(cu(i,d.cachePool),ly(i,d),jr(),i.memoizedState=null):(t!==null&&cu(i,null),Kf(),jr());return Gt(t,i,f,a),i.child}function go(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function s0(t,i,a,o,f){var d=zf();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&cu(i,null),Kf(),oy(i),t!==null&&Ma(t,i,o,!0),i.childLanes=f,null}function Su(t,i){return i=Ru({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function a0(t,i,a){return Ks(i,t.child,null,a),t=Su(i,i.pendingProps),t.flags|=2,vn(i),i.memoizedState=null,t}function gx(t,i,a){var o=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(o.mode==="hidden")return t=Su(i,o),i.lanes=536870912,go(null,t);if(Yf(i),(t=st)?(t=__(t,jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=Hg(t),a.return=i,i.child=a,Ht=i,st=null)):t=null,t===null)throw Ir(i);return i.lanes=536870912,null}return Su(i,o)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Yf(i),f)if(i.flags&256)i.flags&=-257,i=a0(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||Ma(t,i,a,!1),f=(a&t.childLanes)!==0,Rt||f){if(o=nt,o!==null&&(v=jl(o,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Ps(t,v),hn(o,t,v),pd;ju(),i=a0(t,i,a)}else t=d.treeContext,st=Pn(v.nextSibling),Ht=i,ze=!0,Nr=null,jn=!1,t!==null&&Kg(i,t),i=Su(i,o),i.flags|=4096;return i}return t=Fi(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Au(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function gd(t,i,a,o,f){return qs(i),a=Xf(t,i,a,o,void 0,f),o=Jf(),t!==null&&!Rt?(Wf(t,i,f),Xi(t,i,f)):(ze&&o&&kf(i),i.flags|=1,Gt(t,i,a,f),i.child)}function l0(t,i,a,o,f,d){return qs(i),i.updateQueue=null,a=uy(i,o,a,f),cy(t),o=Jf(),t!==null&&!Rt?(Wf(t,i,d),Xi(t,i,d)):(ze&&o&&kf(i),i.flags|=1,Gt(t,i,a,d),i.child)}function o0(t,i,a,o,f){if(qs(i),i.stateNode===null){var d=Ia,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ft(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=dd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},qf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ft(v):Ia,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(fd(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&dd.enqueueReplaceState(d,d.state,null),uo(i,o,d,f),co(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var x=i.memoizedProps,I=Ys(a,x);d.props=I;var q=d.context,$=a.contextType;v=Ia,typeof $=="object"&&$!==null&&(v=Ft($));var W=a.getDerivedStateFromProps;$=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||q!==v)&&Yy(i,d,o,v),Dr=!1;var F=i.memoizedState;d.state=F,uo(i,o,d,f),co(),q=i.memoizedState,x||F!==q||Dr?(typeof W=="function"&&(fd(i,a,W,o),q=i.memoizedState),(I=Dr||Qy(i,a,I,o,F,q,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=q),d.props=o,d.state=q,d.context=v,o=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Hf(t,i),v=i.memoizedProps,$=Ys(a,v),d.props=$,W=i.pendingProps,F=d.context,q=a.contextType,I=Ia,typeof q=="object"&&q!==null&&(I=Ft(q)),x=a.getDerivedStateFromProps,(q=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||F!==I)&&Yy(i,d,o,I),Dr=!1,F=i.memoizedState,d.state=F,uo(i,o,d,f),co();var Q=i.memoizedState;v!==W||F!==Q||Dr||t!==null&&t.dependencies!==null&&lu(t.dependencies)?(typeof x=="function"&&(fd(i,a,x,o),Q=i.memoizedState),($=Dr||Qy(i,a,$,o,F,Q,I)||t!==null&&t.dependencies!==null&&lu(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,Q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,Q,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=Q),d.props=o,d.state=Q,d.context=I,o=$):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,Au(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=Ks(i,t.child,null,f),i.child=Ks(i,null,a,f)):Gt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=Xi(t,i,f),t}function c0(t,i,a,o){return zs(),i.flags|=256,Gt(t,i,a,o),i.child}var yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(t){return{baseLanes:t,cachePool:Wg()}}function vd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=bn),t}function u0(t,i,a){var o=i.pendingProps,f=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),v&&(f=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(f?Vr(i):jr(),(t=st)?(t=__(t,jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=Hg(t),a.return=i,i.child=a,Ht=i,st=null)):t=null,t===null)throw Ir(i);return tm(t)?i.lanes=32:i.lanes=536870912,null}var x=o.children;return o=o.fallback,f?(jr(),f=i.mode,x=Ru({mode:"hidden",children:x},f),o=Us(o,f,a,null),x.return=i,o.return=i,x.sibling=o,i.child=x,o=i.child,o.memoizedState=_d(a),o.childLanes=vd(t,v,a),i.memoizedState=yd,go(null,o)):(Vr(i),Ed(i,x))}var I=t.memoizedState;if(I!==null&&(x=I.dehydrated,x!==null)){if(d)i.flags&256?(Vr(i),i.flags&=-257,i=bd(t,i,a)):i.memoizedState!==null?(jr(),i.child=t.child,i.flags|=128,i=null):(jr(),x=o.fallback,f=i.mode,o=Ru({mode:"visible",children:o.children},f),x=Us(x,f,a,null),x.flags|=2,o.return=i,x.return=i,o.sibling=x,i.child=o,Ks(i,t.child,null,a),o=i.child,o.memoizedState=_d(a),o.childLanes=vd(t,v,a),i.memoizedState=yd,i=go(null,o));else if(Vr(i),tm(x)){if(v=x.nextSibling&&x.nextSibling.dataset,v)var q=v.dgst;v=q,o=Error(s(419)),o.stack="",o.digest=v,io({value:o,source:null,stack:null}),i=bd(t,i,a)}else if(Rt||Ma(t,i,a,!1),v=(a&t.childLanes)!==0,Rt||v){if(v=nt,v!==null&&(o=jl(v,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Ps(t,o),hn(v,t,o),pd;em(x)||ju(),i=bd(t,i,a)}else em(x)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,st=Pn(x.nextSibling),Ht=i,ze=!0,Nr=null,jn=!1,t!==null&&Kg(i,t),i=Ed(i,o.children),i.flags|=4096);return i}return f?(jr(),x=o.fallback,f=i.mode,I=t.child,q=I.sibling,o=Fi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,q!==null?x=Fi(q,x):(x=Us(x,f,a,null),x.flags|=2),x.return=i,o.return=i,o.sibling=x,i.child=o,go(null,o),o=i.child,x=t.child.memoizedState,x===null?x=_d(a):(f=x.cachePool,f!==null?(I=St._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=Wg(),x={baseLanes:x.baseLanes|a,cachePool:f}),o.memoizedState=x,o.childLanes=vd(t,v,a),i.memoizedState=yd,go(t.child,o)):(Vr(i),a=t.child,t=a.sibling,a=Fi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Ed(t,i){return i=Ru({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ru(t,i){return t=yn(22,t,null,i),t.lanes=0,t}function bd(t,i,a){return Ks(i,t.child,null,a),t=Ed(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function h0(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),jf(t.return,i,a)}function Td(t,i,a,o,f,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function f0(t,i,a){var o=i.pendingProps,f=o.revealOrder,d=o.tail;o=o.children;var v=yt.current,x=(v&2)!==0;if(x?(v=v&1|2,i.flags|=128):v&=1,ae(yt,v),Gt(t,i,o,a),o=ze?no:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&h0(t,a,i);else if(t.tag===19)h0(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&pu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Td(i,!1,f,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&pu(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Td(i,!0,a,null,d,o);break;case"together":Td(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Xi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ur|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ma(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Fi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Fi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function xd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&lu(t)))}function yx(t,i,a){switch(i.tag){case 3:mt(i,i.stateNode.containerInfo),kr(i,St,t.memoizedState.cache),zs();break;case 27:case 5:pr(i);break;case 4:mt(i,i.stateNode.containerInfo);break;case 10:kr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Yf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Vr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?u0(t,i,a):(Vr(i),t=Xi(t,i,a),t!==null?t.sibling:null);Vr(i);break;case 19:var f=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Ma(t,i,a,!1),o=(a&i.childLanes)!==0),f){if(o)return f0(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(yt,yt.current),o)break;return null;case 22:return i.lanes=0,r0(t,i,a,i.pendingProps);case 24:kr(i,St,t.memoizedState.cache)}return Xi(t,i,a)}function d0(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!xd(t,a)&&(i.flags&128)===0)return Rt=!1,yx(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,ze&&(i.flags&1048576)!==0&&Gg(i,no,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Fs(i.elementType),i.type=t,typeof t=="function")Cf(t)?(o=Ys(t,o),i.tag=1,i=o0(null,i,t,o,a)):(i.tag=0,i=gd(null,i,t,o,a));else{if(t!=null){var f=t.$$typeof;if(f===be){i.tag=11,i=t0(null,i,t,o,a);break e}else if(f===R){i.tag=14,i=n0(null,i,t,o,a);break e}}throw i=ke(t)||t,Error(s(306,i,""))}}return i;case 0:return gd(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,f=Ys(o,i.pendingProps),o0(t,i,o,f,a);case 3:e:{if(mt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;f=d.element,Hf(t,i),uo(i,o,null,a);var v=i.memoizedState;if(o=v.cache,kr(i,St,o),o!==d.cache&&Lf(i,[St],a,!0),co(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=c0(t,i,o,a);break e}else if(o!==f){f=On(Error(s(424)),i),io(f),i=c0(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=Pn(t.firstChild),Ht=i,ze=!0,Nr=null,jn=!0,a=ry(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(zs(),o===f){i=Xi(t,i,a);break e}Gt(t,i,o,a)}i=i.child}return i;case 26:return Au(t,i),t===null?(a=w_(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,t=i.pendingProps,o=Hu(xe.current).createElement(a),o[Tt]=i,o[jt]=t,Kt(o,a,t),xt(o),i.stateNode=o):i.memoizedState=w_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return pr(i),t===null&&ze&&(o=i.stateNode=b_(i.type,i.pendingProps,xe.current),Ht=i,jn=!0,f=st,Fr(i.type)?(nm=f,st=Pn(o.firstChild)):st=f),Gt(t,i,i.pendingProps.children,a),Au(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((f=o=st)&&(o=Qx(o,i.type,i.pendingProps,jn),o!==null?(i.stateNode=o,Ht=i,st=Pn(o.firstChild),jn=!1,f=!0):f=!1),f||Ir(i)),pr(i),f=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,o=d.children,Jd(f,d)?o=null:v!==null&&Jd(f,v)&&(i.flags|=32),i.memoizedState!==null&&(f=Xf(t,i,ox,null,null,a),ko._currentValue=f),Au(t,i),Gt(t,i,o,a),i.child;case 6:return t===null&&ze&&((t=a=st)&&(a=Yx(a,i.pendingProps,jn),a!==null?(i.stateNode=a,Ht=i,st=null,t=!0):t=!1),t||Ir(i)),null;case 13:return u0(t,i,a);case 4:return mt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Ks(i,null,o,a):Gt(t,i,o,a),i.child;case 11:return t0(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,kr(i,i.type,o.value),Gt(t,i,o.children,a),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,qs(i),f=Ft(f),o=o(f),i.flags|=1,Gt(t,i,o,a),i.child;case 14:return n0(t,i,i.type,i.pendingProps,a);case 15:return i0(t,i,i.type,i.pendingProps,a);case 19:return f0(t,i,a);case 31:return gx(t,i,a);case 22:return r0(t,i,a,i.pendingProps);case 24:return qs(i),o=Ft(St),t===null?(f=zf(),f===null&&(f=nt,d=Pf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:o,cache:f},qf(i),kr(i,St,f)):((t.lanes&a)!==0&&(Hf(t,i),uo(i,null,null,a),co()),f=t.memoizedState,d=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),kr(i,St,o)):(o=d.cache,kr(i,St,o),o!==f.cache&&Lf(i,[St],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ji(t){t.flags|=4}function wd(t,i,a,o,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(z0())t.flags|=8192;else throw Gs=hu,Bf}else t.flags&=-16777217}function m0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!N_(i))if(z0())t.flags|=8192;else throw Gs=hu,Bf}function Cu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Mc():536870912,t.lanes|=i,Ka|=i)}function yo(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function _x(t,i,a){var o=i.pendingProps;switch(Df(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Qi(St),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Oa(i)?Ji(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mf())),at(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(Ji(i),d!==null?(at(i),m0(i,d)):(at(i),wd(i,f,null,o,a))):d?d!==t.memoizedState?(Ji(i),at(i),m0(i,d)):(at(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&Ji(i),at(i),wd(i,f,t,o,a)),null;case 27:if(vs(i),a=xe.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ji(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return at(i),null}t=oe.current,Oa(i)?Qg(i):(t=b_(f,o,a),i.stateNode=t,Ji(i))}return at(i),null;case 5:if(vs(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ji(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(d=oe.current,Oa(i))Qg(i);else{var v=Hu(xe.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?v.createElement(f,{is:o.is}):v.createElement(f)}}d[Tt]=i,d[jt]=o;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Kt(d,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ji(i)}}return at(i),wd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Ji(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=xe.current,Oa(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,f=Ht,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||u_(t.nodeValue,a)),t||Ir(i,!0)}else t=Hu(t).createTextNode(o),t[Tt]=i,i.stateNode=t}return at(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Oa(i),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),t=!1}else a=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(vn(i),i):(vn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return at(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Oa(i),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Tt]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),f=!1}else f=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(vn(i),i):(vn(i),null)}return vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Cu(i,i.updateQueue),at(i),null);case 4:return rt(),t===null&&Kd(i.stateNode.containerInfo),at(i),null;case 10:return Qi(i.type),at(i),null;case 19:if(J(yt),o=i.memoizedState,o===null)return at(i),null;if(f=(i.flags&128)!==0,d=o.rendering,d===null)if(f)yo(o,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=pu(t),d!==null){for(i.flags|=128,yo(o,!1),t=d.updateQueue,i.updateQueue=t,Cu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)qg(a,t),a=a.sibling;return ae(yt,yt.current&1|2),ze&&Gi(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&tn()>Ou&&(i.flags|=128,f=!0,yo(o,!1),i.lanes=4194304)}else{if(!f)if(t=pu(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Cu(i,t),yo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!ze)return at(i),null}else 2*tn()-o.renderingStartTime>Ou&&a!==536870912&&(i.flags|=128,f=!0,yo(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(t=o.last,t!==null?t.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=tn(),t.sibling=null,a=yt.current,ae(yt,f?a&1|2:a&1),ze&&Gi(i,o.treeForkCount),t):(at(i),null);case 22:case 23:return vn(i),Qf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&Cu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&J(Hs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Qi(St),at(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function vx(t,i){switch(Df(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Qi(St),rt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return vs(i),null;case 31:if(i.memoizedState!==null){if(vn(i),i.alternate===null)throw Error(s(340));zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(vn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(yt),null;case 4:return rt(),null;case 10:return Qi(i.type),null;case 22:case 23:return vn(i),Qf(),t!==null&&J(Hs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Qi(St),null;case 25:return null;default:return null}}function p0(t,i){switch(Df(i),i.tag){case 3:Qi(St),rt();break;case 26:case 27:case 5:vs(i);break;case 4:rt();break;case 31:i.memoizedState!==null&&vn(i);break;case 13:vn(i);break;case 19:J(yt);break;case 10:Qi(i.type);break;case 22:case 23:vn(i),Qf(),t!==null&&J(Hs);break;case 24:Qi(St)}}function _o(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&t)===t){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==f)}}catch(x){Je(i,i.return,x)}}function Lr(t,i,a){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&t)===t){var v=o.inst,x=v.destroy;if(x!==void 0){v.destroy=void 0,f=i;var I=a,q=x;try{q()}catch($){Je(f,I,$)}}}o=o.next}while(o!==d)}}catch($){Je(i,i.return,$)}}function g0(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ay(i,a)}catch(o){Je(t,t.return,o)}}}function y0(t,i,a){a.props=Ys(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Je(t,i,o)}}function vo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(f){Je(t,i,f)}}function Ri(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){Je(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Je(t,i,f)}else a.current=null}function _0(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){Je(t,t.return,f)}}function Sd(t,i,a){try{var o=t.stateNode;Bx(o,t.type,a,i),o[jt]=i}catch(f){Je(t,t.return,f)}}function v0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fr(t.type)||t.tag===4}function Ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||v0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=$n));else if(o!==4&&(o===27&&Fr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Rd(t,i,a),t=t.sibling;t!==null;)Rd(t,i,a),t=t.sibling}function Nu(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&Fr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Nu(t,i,a),t=t.sibling;t!==null;)Nu(t,i,a),t=t.sibling}function E0(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Kt(i,o,a),i[Tt]=t,i[jt]=a}catch(d){Je(t,t.return,d)}}var Wi=!1,Ct=!1,Cd=!1,b0=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Ex(t,i){if(t=t.containerInfo,$d=Xu,t=Og(t),bf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,x=-1,I=-1,q=0,$=0,W=t,F=null;t:for(;;){for(var Q;W!==a||f!==0&&W.nodeType!==3||(x=v+f),W!==d||o!==0&&W.nodeType!==3||(I=v+o),W.nodeType===3&&(v+=W.nodeValue.length),(Q=W.firstChild)!==null;)F=W,W=Q;for(;;){if(W===t)break t;if(F===a&&++q===f&&(x=v),F===d&&++$===o&&(I=v),(Q=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=Q}a=x===-1||I===-1?null:{start:x,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xd={focusedElem:t,selectionRange:a},Xu=!1,Pt=i;Pt!==null;)if(i=Pt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Pt=t;else for(;Pt!==null;){switch(i=Pt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var he=Ys(a.type,f);t=o.getSnapshotBeforeUpdate(he,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Je(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Zd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Pt=t;break}Pt=i.return}}function T0(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:er(t,a),o&4&&_o(5,a);break;case 1:if(er(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Je(a,a.return,v)}else{var f=Ys(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Je(a,a.return,v)}}o&64&&g0(a),o&512&&vo(a,a.return);break;case 3:if(er(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ay(t,i)}catch(v){Je(a,a.return,v)}}break;case 27:i===null&&o&4&&E0(a);case 26:case 5:er(t,a),i===null&&o&4&&_0(a),o&512&&vo(a,a.return);break;case 12:er(t,a);break;case 31:er(t,a),o&4&&S0(t,a);break;case 13:er(t,a),o&4&&A0(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Nx.bind(null,a),$x(t,a))));break;case 22:if(o=a.memoizedState!==null||Wi,!o){i=i!==null&&i.memoizedState!==null||Ct,f=Wi;var d=Ct;Wi=o,(Ct=i)&&!d?tr(t,a,(a.subtreeFlags&8772)!==0):er(t,a),Wi=f,Ct=d}break;case 30:break;default:er(t,a)}}function x0(t){var i=t.alternate;i!==null&&(t.alternate=null,x0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ga(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,ln=!1;function Zi(t,i,a){for(a=a.child;a!==null;)w0(t,i,a),a=a.sibling}function w0(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:Ct||Ri(a,i),Zi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Ri(a,i);var o=ct,f=ln;Fr(a.type)&&(ct=a.stateNode,ln=!1),Zi(t,i,a),Co(a.stateNode),ct=o,ln=f;break;case 5:Ct||Ri(a,i);case 6:if(o=ct,f=ln,ct=null,Zi(t,i,a),ct=o,ln=f,ct!==null)if(ln)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{ct.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:ct!==null&&(ln?(t=ct,g_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),el(t)):g_(ct,a.stateNode));break;case 4:o=ct,f=ln,ct=a.stateNode.containerInfo,ln=!0,Zi(t,i,a),ct=o,ln=f;break;case 0:case 11:case 14:case 15:Lr(2,a,i),Ct||Lr(4,a,i),Zi(t,i,a);break;case 1:Ct||(Ri(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&y0(a,i,o)),Zi(t,i,a);break;case 21:Zi(t,i,a);break;case 22:Ct=(o=Ct)||a.memoizedState!==null,Zi(t,i,a),Ct=o;break;default:Zi(t,i,a)}}function S0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{el(t)}catch(a){Je(i,i.return,a)}}}function A0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{el(t)}catch(a){Je(i,i.return,a)}}function bx(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new b0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new b0),i;default:throw Error(s(435,t.tag))}}function Iu(t,i){var a=bx(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var f=Ix.bind(null,t,o);o.then(f,f)}})}function on(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],d=t,v=i,x=v;e:for(;x!==null;){switch(x.tag){case 27:if(Fr(x.type)){ct=x.stateNode,ln=!1;break e}break;case 5:ct=x.stateNode,ln=!1;break e;case 3:case 4:ct=x.stateNode.containerInfo,ln=!0;break e}x=x.return}if(ct===null)throw Error(s(160));w0(d,v,f),ct=null,ln=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)R0(i,t),i=i.sibling}var ti=null;function R0(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(i,t),cn(t),o&4&&(Lr(3,t,t.return),_o(3,t),Lr(5,t,t.return));break;case 1:on(i,t),cn(t),o&512&&(Ct||a===null||Ri(a,a.return)),o&64&&Wi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=ti;if(on(i,t),cn(t),o&512&&(Ct||a===null||Ri(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[di]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),Kt(d,o,a),d[Tt]=t,xt(d),o=d;break e;case"link":var v=R_("link","href",f).get(o+(a.href||""));if(v){for(var x=0;x<v.length;x++)if(d=v[x],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(x,1);break t}}d=f.createElement(o),Kt(d,o,a),f.head.appendChild(d);break;case"meta":if(v=R_("meta","content",f).get(o+(a.content||""))){for(x=0;x<v.length;x++)if(d=v[x],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(x,1);break t}}d=f.createElement(o),Kt(d,o,a),f.head.appendChild(d);break;default:throw Error(s(468,o))}d[Tt]=t,xt(d),o=d}t.stateNode=o}else C_(f,t.type,t.stateNode);else t.stateNode=A_(f,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?C_(f,t.type,t.stateNode):A_(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Sd(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(i,t),cn(t),o&512&&(Ct||a===null||Ri(a,a.return)),a!==null&&o&4&&Sd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(i,t),cn(t),o&512&&(Ct||a===null||Ri(a,a.return)),t.flags&32){f=t.stateNode;try{an(f,"")}catch(he){Je(t,t.return,he)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Sd(t,f,a!==null?a.memoizedProps:f)),o&1024&&(Cd=!0);break;case 6:if(on(i,t),cn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(he){Je(t,t.return,he)}}break;case 3:if(Ku=null,f=ti,ti=Fu(i.containerInfo),on(i,t),ti=f,cn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{el(i.containerInfo)}catch(he){Je(t,t.return,he)}Cd&&(Cd=!1,C0(t));break;case 4:o=ti,ti=Fu(t.stateNode.containerInfo),on(i,t),cn(t),ti=o;break;case 12:on(i,t),cn(t);break;case 31:on(i,t),cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Iu(t,o)));break;case 13:on(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Du=tn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Iu(t,o)));break;case 22:f=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=Wi,$=Ct;if(Wi=q||f,Ct=$||I,on(i,t),Ct=$,Wi=q,cn(t),o&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||I||Wi||Ct||$s(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{x=I.stateNode;var W=I.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;x.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(he){Je(I,I.return,he)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(he){Je(I,I.return,he)}}}else if(i.tag===18){if(a===null){I=i;try{var Q=I.stateNode;f?y_(Q,!0):y_(I.stateNode,!1)}catch(he){Je(I,I.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Iu(t,a))));break;case 19:on(i,t),cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Iu(t,o)));break;case 30:break;case 21:break;default:on(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(v0(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Ad(t);Nu(t,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(an(v,""),a.flags&=-33);var x=Ad(t);Nu(t,x,v);break;case 3:case 4:var I=a.stateNode.containerInfo,q=Ad(t);Rd(t,q,I);break;default:throw Error(s(161))}}catch($){Je(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function C0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;C0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function er(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)T0(t,i.alternate,i),i=i.sibling}function $s(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Lr(4,i,i.return),$s(i);break;case 1:Ri(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&y0(i,i.return,a),$s(i);break;case 27:Co(i.stateNode);case 26:case 5:Ri(i,i.return),$s(i);break;case 22:i.memoizedState===null&&$s(i);break;case 30:$s(i);break;default:$s(i)}t=t.sibling}}function tr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:tr(f,d,a),_o(4,d);break;case 1:if(tr(f,d,a),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Je(o,o.return,q)}if(o=d,f=o.updateQueue,f!==null){var x=o.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)sy(I[f],x)}catch(q){Je(o,o.return,q)}}a&&v&64&&g0(d),vo(d,d.return);break;case 27:E0(d);case 26:case 5:tr(f,d,a),a&&o===null&&v&4&&_0(d),vo(d,d.return);break;case 12:tr(f,d,a);break;case 31:tr(f,d,a),a&&v&4&&S0(f,d);break;case 13:tr(f,d,a),a&&v&4&&A0(f,d);break;case 22:d.memoizedState===null&&tr(f,d,a),vo(d,d.return);break;case 30:break;default:tr(f,d,a)}i=i.sibling}}function Nd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ro(a))}function Id(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ro(t))}function ni(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N0(t,i,a,o),i=i.sibling}function N0(t,i,a,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ni(t,i,a,o),f&2048&&_o(9,i);break;case 1:ni(t,i,a,o);break;case 3:ni(t,i,a,o),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ro(t)));break;case 12:if(f&2048){ni(t,i,a,o),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,x=d.onPostCommit;typeof x=="function"&&x(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Je(i,i.return,I)}}else ni(t,i,a,o);break;case 31:ni(t,i,a,o);break;case 13:ni(t,i,a,o);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ni(t,i,a,o):Eo(t,i):d._visibility&2?ni(t,i,a,o):(d._visibility|=2,Ha(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Nd(v,i);break;case 24:ni(t,i,a,o),f&2048&&Id(i.alternate,i);break;default:ni(t,i,a,o)}}function Ha(t,i,a,o,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,x=a,I=o,q=v.flags;switch(v.tag){case 0:case 11:case 15:Ha(d,v,x,I,f),_o(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?Ha(d,v,x,I,f):Eo(d,v):($._visibility|=2,Ha(d,v,x,I,f)),f&&q&2048&&Nd(v.alternate,v);break;case 24:Ha(d,v,x,I,f),f&&q&2048&&Id(v.alternate,v);break;default:Ha(d,v,x,I,f)}i=i.sibling}}function Eo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,f=o.flags;switch(o.tag){case 22:Eo(a,o),f&2048&&Nd(o.alternate,o);break;case 24:Eo(a,o),f&2048&&Id(o.alternate,o);break;default:Eo(a,o)}i=i.sibling}}var bo=8192;function Fa(t,i,a){if(t.subtreeFlags&bo)for(t=t.child;t!==null;)I0(t,i,a),t=t.sibling}function I0(t,i,a){switch(t.tag){case 26:Fa(t,i,a),t.flags&bo&&t.memoizedState!==null&&lw(a,ti,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,i,a);break;case 3:case 4:var o=ti;ti=Fu(t.stateNode.containerInfo),Fa(t,i,a),ti=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=bo,bo=16777216,Fa(t,i,a),bo=o):Fa(t,i,a));break;default:Fa(t,i,a)}}function k0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function To(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Pt=o,O0(o,t)}k0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)D0(t),t=t.sibling}function D0(t){switch(t.tag){case 0:case 11:case 15:To(t),t.flags&2048&&Lr(9,t,t.return);break;case 3:To(t);break;case 12:To(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,ku(t)):To(t);break;default:To(t)}}function ku(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Pt=o,O0(o,t)}k0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Lr(8,i,i.return),ku(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ku(i));break;default:ku(i)}t=t.sibling}}function O0(t,i){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Lr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ro(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Pt=o;else e:for(a=t;Pt!==null;){o=Pt;var f=o.sibling,d=o.return;if(x0(o),o===a){Pt=null;break e}if(f!==null){f.return=d,Pt=f;break e}Pt=d}}}var Tx={getCacheForType:function(t){var i=Ft(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(St).controller.signal}},xx=typeof WeakMap=="function"?WeakMap:Map,Qe=0,nt=null,Oe=null,Ve=0,Xe=0,En=null,Pr=!1,Ga=!1,kd=!1,nr=0,dt=0,Ur=0,Xs=0,Dd=0,bn=0,Ka=0,xo=null,un=null,Od=!1,Du=0,M0=0,Ou=1/0,Mu=null,zr=null,Mt=0,Br=null,Qa=null,ir=0,Md=0,Vd=null,V0=null,wo=0,jd=null;function Tn(){return(Qe&2)!==0&&Ve!==0?Ve&-Ve:Y.T!==null?qd():Vc()}function j0(){if(bn===0)if((Ve&536870912)===0||ze){var t=xs;xs<<=1,(xs&3932160)===0&&(xs=262144),bn=t}else bn=536870912;return t=_n.current,t!==null&&(t.flags|=32),bn}function hn(t,i,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Ya(t,0),qr(t,Ve,bn,!1)),ws(t,a),((Qe&2)===0||t!==nt)&&(t===nt&&((Qe&2)===0&&(Xs|=a),dt===4&&qr(t,Ve,bn,!1)),Ci(t))}function L0(t,i,a){if((Qe&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Kn(t,i),f=o?Ax(t,i):Pd(t,i,!0),d=o;do{if(f===0){Ga&&!o&&qr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!wx(a)){f=Pd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var x=t;f=xo;var I=x.current.memoizedState.isDehydrated;if(I&&(Ya(x,v).flags|=256),v=Pd(x,v,!1),v!==2){if(kd&&!I){x.errorRecoveryDisabledLanes|=d,Xs|=d,f=4;break e}d=un,un=f,d!==null&&(un===null?un=d:un.push.apply(un,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Ya(t,0),qr(t,i,0,!0);break}e:{switch(o=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:qr(o,i,bn,!Pr);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Du+300-tn(),10<f)){if(qr(o,i,bn,!Pr),ui(o,0,!0)!==0)break e;ir=i,o.timeoutHandle=m_(P0.bind(null,o,a,un,Mu,Od,i,bn,Xs,Ka,Pr,d,"Throttled",-0,0),f);break e}P0(o,a,un,Mu,Od,i,bn,Xs,Ka,Pr,d,null,-0,0)}}break}while(!0);Ci(t)}function P0(t,i,a,o,f,d,v,x,I,q,$,W,F,Q){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},I0(i,d,W);var he=(d&62914560)===d?Du-tn():(d&4194048)===d?M0-tn():0;if(he=ow(W,he),he!==null){ir=d,t.cancelPendingCommit=he(K0.bind(null,t,i,d,a,o,f,v,x,I,$,W,null,F,Q)),qr(t,d,v,!q);return}}K0(t,i,d,a,o,f,v,x,I)}function wx(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],d=f.getSnapshot;f=f.value;try{if(!gn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qr(t,i,a,o){i&=~Dd,i&=~Xs,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var f=i;0<f;){var d=31-pt(f),v=1<<d;o[d]=-1,f&=~v}a!==0&&Ss(t,a,i)}function Vu(){return(Qe&6)===0?(So(0),!1):!0}function Ld(){if(Oe!==null){if(Xe===0)var t=Oe.return;else t=Oe,Ki=Bs=null,Zf(t),Pa=null,ao=0,t=Oe;for(;t!==null;)p0(t.alternate,t),t=t.return;Oe=null}}function Ya(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Fx(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ir=0,Ld(),nt=t,Oe=a=Fi(t.current,null),Ve=i,Xe=0,En=null,Pr=!1,Ga=Kn(t,i),kd=!1,Ka=bn=Dd=Xs=Ur=dt=0,un=xo=null,Od=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var f=31-pt(o),d=1<<f;i|=t[f],o&=~d}return nr=i,nu(),a}function U0(t,i){Ce=null,Y.H=po,i===La||i===uu?(i=ty(),Xe=3):i===Bf?(i=ty(),Xe=4):Xe=i===pd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,Oe===null&&(dt=1,wu(t,On(i,t.current)))}function z0(){var t=_n.current;return t===null?!0:(Ve&4194048)===Ve?Ln===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Ln:!1}function B0(){var t=Y.H;return Y.H=po,t===null?po:t}function q0(){var t=Y.A;return Y.A=Tx,t}function ju(){dt=4,Pr||(Ve&4194048)!==Ve&&_n.current!==null||(Ga=!0),(Ur&134217727)===0&&(Xs&134217727)===0||nt===null||qr(nt,Ve,bn,!1)}function Pd(t,i,a){var o=Qe;Qe|=2;var f=B0(),d=q0();(nt!==t||Ve!==i)&&(Mu=null,Ya(t,i)),i=!1;var v=dt;e:do try{if(Xe!==0&&Oe!==null){var x=Oe,I=En;switch(Xe){case 8:Ld(),v=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var q=Xe;if(Xe=0,En=null,$a(t,x,I,q),a&&Ga){v=0;break e}break;default:q=Xe,Xe=0,En=null,$a(t,x,I,q)}}Sx(),v=dt;break}catch($){U0(t,$)}while(!0);return i&&t.shellSuspendCounter++,Ki=Bs=null,Qe=o,Y.H=f,Y.A=d,Oe===null&&(nt=null,Ve=0,nu()),v}function Sx(){for(;Oe!==null;)H0(Oe)}function Ax(t,i){var a=Qe;Qe|=2;var o=B0(),f=q0();nt!==t||Ve!==i?(Mu=null,Ou=tn()+500,Ya(t,i)):Ga=Kn(t,i);e:do try{if(Xe!==0&&Oe!==null){i=Oe;var d=En;t:switch(Xe){case 1:Xe=0,En=null,$a(t,i,d,1);break;case 2:case 9:if(Zg(d)){Xe=0,En=null,F0(i);break}i=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),Ci(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Zg(d)?(Xe=0,En=null,F0(i)):(Xe=0,En=null,$a(t,i,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var x=Oe;if(v?N_(v):x.stateNode.complete){Xe=0,En=null;var I=x.sibling;if(I!==null)Oe=I;else{var q=x.return;q!==null?(Oe=q,Lu(q)):Oe=null}break t}}Xe=0,En=null,$a(t,i,d,5);break;case 6:Xe=0,En=null,$a(t,i,d,6);break;case 8:Ld(),dt=6;break e;default:throw Error(s(462))}}Rx();break}catch($){U0(t,$)}while(!0);return Ki=Bs=null,Y.H=o,Y.A=f,Qe=a,Oe!==null?0:(nt=null,Ve=0,nu(),dt)}function Rx(){for(;Oe!==null&&!mf();)H0(Oe)}function H0(t){var i=d0(t.alternate,t,nr);t.memoizedProps=t.pendingProps,i===null?Lu(t):Oe=i}function F0(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=l0(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=l0(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:Zf(i);default:p0(a,i),i=Oe=qg(i,nr),i=d0(a,i,nr)}t.memoizedProps=t.pendingProps,i===null?Lu(t):Oe=i}function $a(t,i,a,o){Ki=Bs=null,Zf(i),Pa=null,ao=0;var f=i.return;try{if(px(t,f,i,a,Ve)){dt=1,wu(t,On(a,t.current)),Oe=null;return}}catch(d){if(f!==null)throw Oe=f,d;dt=1,wu(t,On(a,t.current)),Oe=null;return}i.flags&32768?(ze||o===1?t=!0:Ga||(Ve&536870912)!==0?t=!1:(Pr=t=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),G0(i,t)):Lu(i)}function Lu(t){var i=t;do{if((i.flags&32768)!==0){G0(i,Pr);return}t=i.return;var a=_x(i.alternate,i,nr);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);dt===0&&(dt=5)}function G0(t,i){do{var a=vx(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);dt=6,Oe=null}function K0(t,i,a,o,f,d,v,x,I){t.cancelPendingCommit=null;do Pu();while(Mt!==0);if((Qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Af,yf(t,a,d,v,x,I),t===nt&&(Oe=nt=null,Ve=0),Qa=i,Br=t,ir=a,Md=d,Vd=f,V0=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,kx(_r,function(){return J0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null,f=re.p,re.p=2,v=Qe,Qe|=4;try{Ex(t,i,a)}finally{Qe=v,re.p=f,Y.T=o}}Mt=1,Q0(),Y0(),$0()}}function Q0(){if(Mt===1){Mt=0;var t=Br,i=Qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var o=re.p;re.p=2;var f=Qe;Qe|=4;try{R0(i,t);var d=Xd,v=Og(t.containerInfo),x=d.focusedElem,I=d.selectionRange;if(v!==x&&x&&x.ownerDocument&&Dg(x.ownerDocument.documentElement,x)){if(I!==null&&bf(x)){var q=I.start,$=I.end;if($===void 0&&($=q),"selectionStart"in x)x.selectionStart=q,x.selectionEnd=Math.min($,x.value.length);else{var W=x.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var Q=F.getSelection(),he=x.textContent.length,ye=Math.min(I.start,he),tt=I.end===void 0?ye:Math.min(I.end,he);!Q.extend&&ye>tt&&(v=tt,tt=ye,ye=v);var P=kg(x,ye),D=kg(x,tt);if(P&&D&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==D.node||Q.focusOffset!==D.offset)){var B=W.createRange();B.setStart(P.node,P.offset),Q.removeAllRanges(),ye>tt?(Q.addRange(B),Q.extend(D.node,D.offset)):(B.setEnd(D.node,D.offset),Q.addRange(B))}}}}for(W=[],Q=x;Q=Q.parentNode;)Q.nodeType===1&&W.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<W.length;x++){var X=W[x];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Xu=!!$d,Xd=$d=null}finally{Qe=f,re.p=o,Y.T=a}}t.current=i,Mt=2}}function Y0(){if(Mt===2){Mt=0;var t=Br,i=Qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var o=re.p;re.p=2;var f=Qe;Qe|=4;try{T0(t,i.alternate,i)}finally{Qe=f,re.p=o,Y.T=a}}Mt=3}}function $0(){if(Mt===4||Mt===3){Mt=0,Cc();var t=Br,i=Qa,a=ir,o=V0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,Qa=Br=null,X0(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(zr=null),zi(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Gn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=Y.T,f=re.p,re.p=2,Y.T=null;try{for(var d=t.onRecoverableError,v=0;v<o.length;v++){var x=o[v];d(x.value,{componentStack:x.stack})}}finally{Y.T=i,re.p=f}}(ir&3)!==0&&Pu(),Ci(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===jd?wo++:(wo=0,jd=t):wo=0,So(0)}}function X0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ro(i)))}function Pu(){return Q0(),Y0(),$0(),J0()}function J0(){if(Mt!==5)return!1;var t=Br,i=Md;Md=0;var a=zi(ir),o=Y.T,f=re.p;try{re.p=32>a?32:a,Y.T=null,a=Vd,Vd=null;var d=Br,v=ir;if(Mt=0,Qa=Br=null,ir=0,(Qe&6)!==0)throw Error(s(331));var x=Qe;if(Qe|=4,D0(d.current),N0(d,d.current,v,a),Qe=x,So(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Gn,d)}catch{}return!0}finally{re.p=f,Y.T=o,X0(t,i)}}function W0(t,i,a){i=On(a,i),i=md(t.stateNode,i,2),t=Mr(t,i,2),t!==null&&(ws(t,2),Ci(t))}function Je(t,i,a){if(t.tag===3)W0(t,t,a);else for(;i!==null;){if(i.tag===3){W0(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(zr===null||!zr.has(o))){t=On(a,t),a=Zy(2),o=Mr(i,a,2),o!==null&&(e0(a,o,i,t),ws(o,2),Ci(o));break}}i=i.return}}function Ud(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new xx;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(a)||(kd=!0,f.add(a),t=Cx.bind(null,t,i,a),i.then(t,t))}function Cx(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Ve&a)===a&&(dt===4||dt===3&&(Ve&62914560)===Ve&&300>tn()-Du?(Qe&2)===0&&Ya(t,0):Dd|=a,Ka===Ve&&(Ka=0)),Ci(t)}function Z0(t,i){i===0&&(i=Mc()),t=Ps(t,i),t!==null&&(ws(t,i),Ci(t))}function Nx(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Z0(t,a)}function Ix(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Z0(t,a)}function kx(t,i){return Ot(t,i)}var Uu=null,Xa=null,zd=!1,zu=!1,Bd=!1,Hr=0;function Ci(t){t!==Xa&&t.next===null&&(Xa===null?Uu=Xa=t:Xa=Xa.next=t),zu=!0,zd||(zd=!0,Ox())}function So(t,i){if(!Bd&&zu){Bd=!0;do for(var a=!1,o=Uu;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var v=o.suspendedLanes,x=o.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=f&~(v&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,i_(o,d))}else d=Ve,d=ui(o,o===nt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Kn(o,d)||(a=!0,i_(o,d));o=o.next}while(a);Bd=!1}}function Dx(){e_()}function e_(){zu=zd=!1;var t=0;Hr!==0&&Hx()&&(t=Hr);for(var i=tn(),a=null,o=Uu;o!==null;){var f=o.next,d=t_(o,i);d===0?(o.next=null,a===null?Uu=f:a.next=f,f===null&&(Xa=a)):(a=o,(t!==0||(d&3)!==0)&&(zu=!0)),o=f}Mt!==0&&Mt!==5||So(t),Hr!==0&&(Hr=0)}function t_(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-pt(d),x=1<<v,I=f[v];I===-1?((x&a)===0||(x&o)!==0)&&(f[v]=gf(x,i)):I<=i&&(t.expiredLanes|=x),d&=~x}if(i=nt,a=Ve,a=ui(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&yr(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Kn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&yr(o),zi(a)){case 2:case 8:a=Ml;break;case 32:a=_r;break;case 268435456:a=Nc;break;default:a=_r}return o=n_.bind(null,t),a=Ot(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&yr(o),t.callbackPriority=2,t.callbackNode=null,2}function n_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Pu()&&t.callbackNode!==a)return null;var o=Ve;return o=ui(t,t===nt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(L0(t,o,i),t_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?n_.bind(null,t):null)}function i_(t,i){if(Pu())return null;L0(t,i,!0)}function Ox(){Gx(function(){(Qe&6)!==0?Ot(Ol,Dx):e_()})}function qd(){if(Hr===0){var t=Va;t===0&&(t=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Hr=t}return Hr}function r_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function s_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Mx(t,i,a,o,f){if(i==="submit"&&a&&a.stateNode===f){var d=r_((f[jt]||null).action),v=o.submitter;v&&(i=(i=v[jt]||null)?r_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var x=new bi("action","action",null,o,f);t.push({event:x,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hr!==0){var I=v?s_(f,v):new FormData(f);od(a,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(x.preventDefault(),I=v?s_(f,v):new FormData(f),od(a,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var Hd=0;Hd<Sf.length;Hd++){var Fd=Sf[Hd],Vx=Fd.toLowerCase(),jx=Fd[0].toUpperCase()+Fd.slice(1);ei(Vx,"on"+jx)}ei(jg,"onAnimationEnd"),ei(Lg,"onAnimationIteration"),ei(Pg,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(WT,"onTransitionRun"),ei(ZT,"onTransitionStart"),ei(ex,"onTransitionCancel"),ei(Ug,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ao));function a_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],f=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var x=o[v],I=x.instance,q=x.currentTarget;if(x=x.listener,I!==d&&f.isPropagationStopped())break e;d=x,f.currentTarget=q;try{d(f)}catch($){tu($)}f.currentTarget=null,d=I}else for(v=0;v<o.length;v++){if(x=o[v],I=x.instance,q=x.currentTarget,x=x.listener,I!==d&&f.isPropagationStopped())break e;d=x,f.currentTarget=q;try{d(f)}catch($){tu($)}f.currentTarget=null,d=I}}}}function Me(t,i){var a=i[pa];a===void 0&&(a=i[pa]=new Set);var o=t+"__bubble";a.has(o)||(l_(i,t,2,!1),a.add(o))}function Gd(t,i,a){var o=0;i&&(o|=4),l_(a,t,o,i)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Kd(t){if(!t[Bu]){t[Bu]=!0,Ll.forEach(function(a){a!=="selectionchange"&&(Lx.has(a)||Gd(a,!1,t),Gd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Bu]||(i[Bu]=!0,Gd("selectionchange",!1,i))}}function l_(t,i,a,o){switch(j_(i)){case 2:var f=hw;break;case 8:f=fw;break;default:f=lm}a=f.bind(null,i,a,t),f=void 0,!Is||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Qd(t,i,a,o,f){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var x=o.stateNode.containerInfo;if(x===f)break;if(v===4)for(v=o.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;x!==null;){if(v=mi(x),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){o=d=v;continue e}x=x.parentNode}}o=o.return}wr(function(){var q=d,$=Nn(a),W=[];e:{var F=zg.get(t);if(F!==void 0){var Q=bi,he=t;switch(t){case"keypress":if(Ds(a)===0)break e;case"keydown":case"keyup":Q=Wc;break;case"focusin":he="focus",Q=Ms;break;case"focusout":he="blur",Q=Ms;break;case"beforeblur":case"afterblur":Q=Ms;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case jg:case Lg:case Pg:Q=Gc;break;case Ug:Q=w;break;case"scroll":case"scrollend":Q=$l;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=Kc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Hi;break;case"toggle":case"beforetoggle":Q=Re}var ye=(i&4)!==0,tt=!ye&&(t==="scroll"||t==="scrollend"),P=ye?F!==null?F+"Capture":null:F;ye=[];for(var D=q,B;D!==null;){var X=D;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||P===null||(X=Xn(D,P),X!=null&&ye.push(Ro(D,X,B))),tt)break;D=D.return}0<ye.length&&(F=new Q(F,he,null,a,$),W.push({event:F,listeners:ye}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&a!==Kl&&(he=a.relatedTarget||a.fromElement)&&(mi(he)||he[fi]))break e;if((Q||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(he=a.relatedTarget||a.toElement,Q=q,he=he?mi(he):null,he!==null&&(tt=c(he),ye=he.tag,he!==tt||ye!==5&&ye!==27&&ye!==6)&&(he=null)):(Q=null,he=q),Q!==he)){if(ye=Xl,X="onMouseLeave",P="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Hi,X="onPointerLeave",P="onPointerEnter",D="pointer"),tt=Q==null?F:mn(Q),B=he==null?F:mn(he),F=new ye(X,D+"leave",Q,a,$),F.target=tt,F.relatedTarget=B,X=null,mi($)===q&&(ye=new ye(P,D+"enter",he,a,$),ye.target=B,ye.relatedTarget=tt,X=ye),tt=X,Q&&he)t:{for(ye=Px,P=Q,D=he,B=0,X=P;X;X=ye(X))B++;X=0;for(var pe=D;pe;pe=ye(pe))X++;for(;0<B-X;)P=ye(P),B--;for(;0<X-B;)D=ye(D),X--;for(;B--;){if(P===D||D!==null&&P===D.alternate){ye=P;break t}P=ye(P),D=ye(D)}ye=null}else ye=null;Q!==null&&o_(W,F,Q,ye,!1),he!==null&&tt!==null&&o_(W,tt,he,ye,!0)}}e:{if(F=q?mn(q):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var He=Sg;else if(xg(F))if(Ag)He=$T;else{He=QT;var fe=KT}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&va(q.elementType)&&(He=Sg):He=YT;if(He&&(He=He(t,q))){wg(W,He,a,$);break e}fe&&fe(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Hl(F,"number",F.value)}switch(fe=q?mn(q):window,t){case"focusin":(xg(fe)||fe.contentEditable==="true")&&(Ra=fe,Tf=q,to=null);break;case"focusout":to=Tf=Ra=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,Mg(W,a,$);break;case"selectionchange":if(JT)break;case"keydown":case"keyup":Mg(W,a,$)}var Ne;if(Ke)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Aa?Vs(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(wi&&a.locale!=="ko"&&(Aa||je!=="onCompositionStart"?je==="onCompositionEnd"&&Aa&&(Ne=Yl()):(Ei=$,Ql="value"in Ei?Ei.value:Ei.textContent,Aa=!0)),fe=qu(q,je),0<fe.length&&(je=new xi(je,t,null,a,$),W.push({event:je,listeners:fe}),Ne?je.data=Ne:(Ne=Sa(a),Ne!==null&&(je.data=Ne)))),(Ne=kn?qT(t,a):HT(t,a))&&(je=qu(q,"onBeforeInput"),0<je.length&&(fe=new xi("onBeforeInput","beforeinput",null,a,$),W.push({event:fe,listeners:je}),fe.data=Ne)),Mx(W,t,q,a,$)}a_(W,i)})}function Ro(t,i,a){return{instance:t,listener:i,currentTarget:a}}function qu(t,i){for(var a=i+"Capture",o=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Xn(t,a),f!=null&&o.unshift(Ro(t,f,d)),f=Xn(t,i),f!=null&&o.push(Ro(t,f,d))),t.tag===3)return o;t=t.return}return[]}function Px(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function o_(t,i,a,o,f){for(var d=i._reactName,v=[];a!==null&&a!==o;){var x=a,I=x.alternate,q=x.stateNode;if(x=x.tag,I!==null&&I===o)break;x!==5&&x!==26&&x!==27||q===null||(I=q,f?(q=Xn(a,d),q!=null&&v.unshift(Ro(a,q,I))):f||(q=Xn(a,d),q!=null&&v.push(Ro(a,q,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var Ux=/\r\n?/g,zx=/\u0000|\uFFFD/g;function c_(t){return(typeof t=="string"?t:""+t).replace(Ux,`
`).replace(zx,"")}function u_(t,i){return i=c_(i),c_(t)===i}function et(t,i,a,o,f,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||an(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&an(t,""+o);break;case"className":pn(t,"class",o);break;case"tabIndex":pn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,o);break;case"style":Gl(t,o,d);break;case"data":if(i!=="object"){pn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ea(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",f.name,f,null),et(t,i,"formEncType",f.formEncType,f,null),et(t,i,"formMethod",f.formMethod,f,null),et(t,i,"formTarget",f.formTarget,f,null)):(et(t,i,"encType",f.encType,f,null),et(t,i,"method",f.method,f,null),et(t,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ea(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=$n);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Me("beforetoggle",t),Me("toggle",t),ya(t,"popover",o);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ya(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qc.get(a)||a,ya(t,a,o))}}function Yd(t,i,a,o,f,d){switch(a){case"style":Gl(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?an(t,o):(typeof o=="number"||typeof o=="bigint")&&an(t,""+o);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"onClick":o!=null&&(t.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,f);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ya(t,a,o)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var o=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,d,v,a,null)}}f&&et(t,i,"srcSet",a.srcSet,a,null),o&&et(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var x=d=v=f=null,I=null,q=null;for(o in a)if(a.hasOwnProperty(o)){var $=a[o];if($!=null)switch(o){case"name":f=$;break;case"type":v=$;break;case"checked":I=$;break;case"defaultChecked":q=$;break;case"value":d=$;break;case"defaultValue":x=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:et(t,i,o,$,a,null)}}Uc(t,d,x,I,q,v,f,!1);return;case"select":Me("invalid",t),o=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(x=a[f],x!=null))switch(f){case"value":d=x;break;case"defaultValue":v=x;break;case"multiple":o=x;default:et(t,i,f,x,a,null)}i=d,a=v,t.multiple=!!o,i!=null?Er(t,!!o,i,!1):a!=null&&Er(t,!!o,a,!0);return;case"textarea":Me("invalid",t),d=f=o=null;for(v in a)if(a.hasOwnProperty(v)&&(x=a[v],x!=null))switch(v){case"value":o=x;break;case"defaultValue":f=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:et(t,i,v,x,a,null)}br(t,o,f,d);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:et(t,i,I,o,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(o=0;o<Ao.length;o++)Me(Ao[o],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(o=a[q],o!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,q,o,a,null)}return;default:if(va(i)){for($ in a)a.hasOwnProperty($)&&(o=a[$],o!==void 0&&Yd(t,i,$,o,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(o=a[x],o!=null&&et(t,i,x,o,a,null))}function Bx(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,x=null,I=null,q=null,$=null;for(Q in a){var W=a[Q];if(a.hasOwnProperty(Q)&&W!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=W;default:o.hasOwnProperty(Q)||et(t,i,Q,null,o,W)}}for(var F in o){var Q=o[F];if(W=a[F],o.hasOwnProperty(F)&&(Q!=null||W!=null))switch(F){case"type":d=Q;break;case"name":f=Q;break;case"checked":q=Q;break;case"defaultChecked":$=Q;break;case"value":v=Q;break;case"defaultValue":x=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==W&&et(t,i,F,Q,o,W)}}_a(t,v,x,I,q,$,d,f);return;case"select":Q=v=x=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Q=I;default:o.hasOwnProperty(d)||et(t,i,d,null,o,I)}for(f in o)if(d=o[f],I=a[f],o.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":F=d;break;case"defaultValue":x=d;break;case"multiple":v=d;default:d!==I&&et(t,i,f,d,o,I)}i=x,a=v,o=Q,F!=null?Er(t,!!a,F,!1):!!o!=!!a&&(i!=null?Er(t,!!a,i,!0):Er(t,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(x in a)if(f=a[x],a.hasOwnProperty(x)&&f!=null&&!o.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:et(t,i,x,null,o,f)}for(v in o)if(f=o[v],d=a[v],o.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":F=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&et(t,i,v,f,o,d)}zc(t,F,Q);return;case"option":for(var he in a)if(F=a[he],a.hasOwnProperty(he)&&F!=null&&!o.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:et(t,i,he,null,o,F)}for(I in o)if(F=o[I],Q=a[I],o.hasOwnProperty(I)&&F!==Q&&(F!=null||Q!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:et(t,i,I,F,o,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)F=a[ye],a.hasOwnProperty(ye)&&F!=null&&!o.hasOwnProperty(ye)&&et(t,i,ye,null,o,F);for(q in o)if(F=o[q],Q=a[q],o.hasOwnProperty(q)&&F!==Q&&(F!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:et(t,i,q,F,o,Q)}return;default:if(va(i)){for(var tt in a)F=a[tt],a.hasOwnProperty(tt)&&F!==void 0&&!o.hasOwnProperty(tt)&&Yd(t,i,tt,void 0,o,F);for($ in o)F=o[$],Q=a[$],!o.hasOwnProperty($)||F===Q||F===void 0&&Q===void 0||Yd(t,i,$,F,o,Q);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!o.hasOwnProperty(P)&&et(t,i,P,null,o,F);for(W in o)F=o[W],Q=a[W],!o.hasOwnProperty(W)||F===Q||F==null&&Q==null||et(t,i,W,F,o,Q)}function h_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qx(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var f=a[o],d=f.transferSize,v=f.initiatorType,x=f.duration;if(d&&x&&h_(v)){for(v=0,x=f.responseEnd,o+=1;o<a.length;o++){var I=a[o],q=I.startTime;if(q>x)break;var $=I.transferSize,W=I.initiatorType;$&&h_(W)&&(I=I.responseEnd,v+=$*(I<x?1:(x-q)/(I-q)))}if(--o,i+=8*(d+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $d=null,Xd=null;function Hu(t){return t.nodeType===9?t:t.ownerDocument}function f_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Jd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wd=null;function Hx(){var t=window.event;return t&&t.type==="popstate"?t===Wd?!1:(Wd=t,!0):(Wd=null,!1)}var m_=typeof setTimeout=="function"?setTimeout:void 0,Fx=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,Gx=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(t){return p_.resolve(null).then(t).catch(Kx)}:m_;function Kx(t){setTimeout(function(){throw t})}function Fr(t){return t==="head"}function g_(t,i){var a=i,o=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(f),el(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Co(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Co(a);for(var d=a.firstChild;d;){var v=d.nextSibling,x=d.nodeName;d[di]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Co(t.ownerDocument.body);a=f}while(a);el(i)}function y_(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Zd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zd(a),ga(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Qx(t,i,a,o){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[di])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function Yx(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function __(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pn(t.nextSibling),t===null))return null;return t}function em(t){return t.data==="$?"||t.data==="$~"}function tm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $x(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Pn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var nm=null;function v_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function E_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function b_(t,i,a){switch(i=Hu(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Co(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ga(t)}var Un=new Map,T_=new Set;function Fu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var rr=re.d;re.d={f:Xx,r:Jx,D:Wx,C:Zx,L:ew,m:tw,X:iw,S:nw,M:rw};function Xx(){var t=rr.f(),i=Vu();return t||i}function Jx(t){var i=Cn(t);i!==null&&i.tag===5&&i.type==="form"?Uy(i):rr.r(t)}var Ja=typeof document>"u"?null:document;function x_(t,i,a){var o=Ja;if(o&&typeof i=="string"&&i){var f=sn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),T_.has(f)||(T_.add(f),t={rel:t,crossOrigin:a,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),Kt(i,"link",t),xt(i),o.head.appendChild(i)))}}function Wx(t){rr.D(t),x_("dns-prefetch",t,null)}function Zx(t,i){rr.C(t,i),x_("preconnect",t,i)}function ew(t,i,a){rr.L(t,i,a);var o=Ja;if(o&&t&&i){var f='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+sn(a.imageSizes)+'"]')):f+='[href="'+sn(t)+'"]';var d=f;switch(i){case"style":d=Wa(t);break;case"script":d=Za(t)}Un.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Un.set(d,t),o.querySelector(f)!==null||i==="style"&&o.querySelector(No(d))||i==="script"&&o.querySelector(Io(d))||(i=o.createElement("link"),Kt(i,"link",t),xt(i),o.head.appendChild(i)))}}function tw(t,i){rr.m(t,i);var a=Ja;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(t)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Za(t)}if(!Un.has(d)&&(t=T({rel:"modulepreload",href:t},i),Un.set(d,t),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Io(d)))return}o=a.createElement("link"),Kt(o,"link",t),xt(o),a.head.appendChild(o)}}}function nw(t,i,a){rr.S(t,i,a);var o=Ja;if(o&&t){var f=pi(o).hoistableStyles,d=Wa(t);i=i||"default";var v=f.get(d);if(!v){var x={loading:0,preload:null};if(v=o.querySelector(No(d)))x.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Un.get(d))&&im(t,a);var I=v=o.createElement("link");xt(I),Kt(I,"link",t),I._p=new Promise(function(q,$){I.onload=q,I.onerror=$}),I.addEventListener("load",function(){x.loading|=1}),I.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Gu(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:x},f.set(d,v)}}}function iw(t,i){rr.X(t,i);var a=Ja;if(a&&t){var o=pi(a).hoistableScripts,f=Za(t),d=o.get(f);d||(d=a.querySelector(Io(f)),d||(t=T({src:t,async:!0},i),(i=Un.get(f))&&rm(t,i),d=a.createElement("script"),xt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function rw(t,i){rr.M(t,i);var a=Ja;if(a&&t){var o=pi(a).hoistableScripts,f=Za(t),d=o.get(f);d||(d=a.querySelector(Io(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Un.get(f))&&rm(t,i),d=a.createElement("script"),xt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function w_(t,i,a,o){var f=(f=xe.current)?Fu(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Wa(a.href),a=pi(f).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var d=pi(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(No(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),d||sw(f,t,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Za(a),a=pi(f).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Wa(t){return'href="'+sn(t)+'"'}function No(t){return'link[rel="stylesheet"]['+t+"]"}function S_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function sw(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Kt(i,"link",a),xt(i),t.head.appendChild(i))}function Za(t){return'[src="'+sn(t)+'"]'}function Io(t){return"script[async]"+t}function A_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(o)return i.instance=o,xt(o),o;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),xt(o),Kt(o,"style",f),Gu(o,a.precedence,t),i.instance=o;case"stylesheet":f=Wa(a.href);var d=t.querySelector(No(f));if(d)return i.state.loading|=4,i.instance=d,xt(d),d;o=S_(a),(f=Un.get(f))&&im(o,f),d=(t.ownerDocument||t).createElement("link"),xt(d);var v=d;return v._p=new Promise(function(x,I){v.onload=x,v.onerror=I}),Kt(d,"link",o),i.state.loading|=4,Gu(d,a.precedence,t),i.instance=d;case"script":return d=Za(a.src),(f=t.querySelector(Io(d)))?(i.instance=f,xt(f),f):(o=a,(f=Un.get(d))&&(o=T({},a),rm(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),xt(f),Kt(f,"link",o),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Gu(o,a.precedence,t));return i.instance}function Gu(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,v=0;v<o.length;v++){var x=o[v];if(x.dataset.precedence===i)d=x;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function rm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ku=null;function R_(t,i,a){if(Ku===null){var o=new Map,f=Ku=new Map;f.set(a,o)}else f=Ku,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[di]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var x=o.get(v);x?x.push(d):o.set(v,[d])}}return o}function C_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function aw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function N_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function lw(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Wa(o.href),d=i.querySelector(No(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Qu.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,xt(d);return}d=i.ownerDocument||i,o=S_(o),(f=Un.get(f))&&im(o,f),d=d.createElement("link"),xt(d);var v=d;v._p=new Promise(function(x,I){v.onload=x,v.onerror=I}),Kt(d,"link",o),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Qu.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var sm=0;function ow(t,i){return t.stylesheets&&t.count===0&&$u(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&$u(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&sm===0&&(sm=62500*qx());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&$u(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>sm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Qu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$u(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yu=null;function $u(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yu=new Map,i.forEach(cw,t),Yu=null,Qu.call(t))}function cw(t,i){if(!(i.state.loading&4)){var a=Yu.get(t);if(a)var o=a.get(null);else{a=new Map,Yu.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}f=i.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,f),a.set(v,f),this.count++,o=Qu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var ko={$$typeof:ee,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function uw(t,i,a,o,f,d,v,x,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function I_(t,i,a,o,f,d,v,x,I,q,$,W){return t=new uw(t,i,a,v,I,q,$,W,x),i=1,d===!0&&(i|=24),d=yn(3,null,null,i),t.current=d,d.stateNode=t,i=Pf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},qf(d),t}function k_(t){return t?(t=Ia,t):Ia}function D_(t,i,a,o,f,d){f=k_(f),o.context===null?o.context=f:o.pendingContext=f,o=Or(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Mr(t,o,i),a!==null&&(hn(a,t,i),oo(a,t,i))}function O_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function am(t,i){O_(t,i),(t=t.alternate)&&O_(t,i)}function M_(t){if(t.tag===13||t.tag===31){var i=Ps(t,67108864);i!==null&&hn(i,t,67108864),am(t,67108864)}}function V_(t){if(t.tag===13||t.tag===31){var i=Tn();i=As(i);var a=Ps(t,i);a!==null&&hn(a,t,i),am(t,i)}}var Xu=!0;function hw(t,i,a,o){var f=Y.T;Y.T=null;var d=re.p;try{re.p=2,lm(t,i,a,o)}finally{re.p=d,Y.T=f}}function fw(t,i,a,o){var f=Y.T;Y.T=null;var d=re.p;try{re.p=8,lm(t,i,a,o)}finally{re.p=d,Y.T=f}}function lm(t,i,a,o){if(Xu){var f=om(o);if(f===null)Qd(t,i,o,Ju,a),L_(t,o);else if(mw(f,t,i,a,o))o.stopPropagation();else if(L_(t,o),i&4&&-1<dw.indexOf(t)){for(;f!==null;){var d=Cn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ci(d.pendingLanes);if(v!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;v;){var I=1<<31-pt(v);x.entanglements[1]|=I,v&=~I}Ci(d),(Qe&6)===0&&(Ou=tn()+500,So(0))}}break;case 31:case 13:x=Ps(d,2),x!==null&&hn(x,d,2),Vu(),am(d,2)}if(d=om(o),d===null&&Qd(t,i,o,Ju,a),d===f)break;f=d}f!==null&&o.stopPropagation()}else Qd(t,i,o,null,a)}}function om(t){return t=Nn(t),cm(t)}var Ju=null;function cm(t){if(Ju=null,t=mi(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Ju=t,null}function j_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ts()){case Ol:return 2;case Ml:return 8;case _r:case pf:return 32;case Nc:return 268435456;default:return 32}default:return 32}}var um=!1,Gr=null,Kr=null,Qr=null,Do=new Map,Oo=new Map,Yr=[],dw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L_(t,i){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Do.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oo.delete(i.pointerId)}}function Mo(t,i,a,o,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Cn(i),i!==null&&M_(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function mw(t,i,a,o,f){switch(i){case"focusin":return Gr=Mo(Gr,t,i,a,o,f),!0;case"dragenter":return Kr=Mo(Kr,t,i,a,o,f),!0;case"mouseover":return Qr=Mo(Qr,t,i,a,o,f),!0;case"pointerover":var d=f.pointerId;return Do.set(d,Mo(Do.get(d)||null,t,i,a,o,f)),!0;case"gotpointercapture":return d=f.pointerId,Oo.set(d,Mo(Oo.get(d)||null,t,i,a,o,f)),!0}return!1}function P_(t){var i=mi(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Qn(t.priority,function(){V_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Qn(t.priority,function(){V_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=om(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Kl=o,a.target.dispatchEvent(o),Kl=null}else return i=Cn(a),i!==null&&M_(i),t.blockedOn=a,!1;i.shift()}return!0}function U_(t,i,a){Wu(t)&&a.delete(i)}function pw(){um=!1,Gr!==null&&Wu(Gr)&&(Gr=null),Kr!==null&&Wu(Kr)&&(Kr=null),Qr!==null&&Wu(Qr)&&(Qr=null),Do.forEach(U_),Oo.forEach(U_)}function Zu(t,i){t.blockedOn===i&&(t.blockedOn=null,um||(um=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pw)))}var eh=null;function z_(t){eh!==t&&(eh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){eh===t&&(eh=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],f=t[i+2];if(typeof o!="function"){if(cm(o||a)===null)continue;break}var d=Cn(a);d!==null&&(t.splice(i,3),i-=3,od(d,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function el(t){function i(I){return Zu(I,t)}Gr!==null&&Zu(Gr,t),Kr!==null&&Zu(Kr,t),Qr!==null&&Zu(Qr,t),Do.forEach(i),Oo.forEach(i);for(var a=0;a<Yr.length;a++){var o=Yr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Yr.length&&(a=Yr[0],a.blockedOn===null);)P_(a),a.blockedOn===null&&Yr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],d=a[o+1],v=f[jt]||null;if(typeof d=="function")v||z_(a);else if(v){var x=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[jt]||null)x=v.formAction;else if(cm(f)!==null)continue}else x=v.action;typeof x=="function"?a[o+1]=x:(a.splice(o,3),o-=3),z_(a)}}}function B_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function hm(t){this._internalRoot=t}th.prototype.render=hm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=Tn();D_(a,o,t,i,null,null)},th.prototype.unmount=hm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;D_(t.current,2,null,t,null,null),Vu(),i[fi]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var i=Vc();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Yr.length&&i!==0&&i<Yr[a].priority;a++);Yr.splice(a,0,t),a===0&&P_(t)}};var q_=e.version;if(q_!=="19.2.4")throw Error(s(527,q_,"19.2.4"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var gw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{Gn=nh.inject(gw),Bt=nh}catch{}}return jo.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,o="",f=$y,d=Xy,v=Jy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=I_(t,1,!1,null,null,a,o,null,f,d,v,B_),t[fi]=i.current,Kd(t),new hm(i)},jo.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var o=!1,f="",d=$y,v=Xy,x=Jy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=I_(t,1,!0,i,a??null,o,f,I,d,v,x,B_),i.context=k_(null),a=i.current,o=Tn(),o=As(o),f=Or(o),f.callback=null,Mr(a,f,o),a=o,i.current.lanes=a,ws(i,a),Ci(i),t[fi]=i.current,Kd(t),new th(i)},jo.version="19.2.4",jo}var W_;function Rw(){if(W_)return mm.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),mm.exports=Aw(),mm.exports}var Cw=Rw();const Nw=z1(Cw);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Z_="popstate";function Iw(r={}){function e(l,c){let{pathname:h="/",search:m="",hash:p=""}=ua(l.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Om("",{pathname:h,search:m,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(l,c){let h=l.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=l.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof c=="string"?c:Jo(c))}function s(l,c){wn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return Dw(e,n,s,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function wn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kw(){return Math.random().toString(36).substring(2,10)}function ev(r,e){return{usr:r.state,key:r.key,idx:e}}function Om(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ua(e):e,state:n,key:e&&e.key||s||kw()}}function Jo({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ua(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Dw(r,e,n,s={}){let{window:l=document.defaultView,v5Compat:c=!1}=s,h=l.history,m="POP",p=null,g=b();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function b(){return(h.state||{idx:null}).idx}function T(){m="POP";let H=b(),ne=H==null?null:H-g;g=H,p&&p({action:m,location:G.location,delta:ne})}function S(H,ne){m="PUSH";let ie=Om(G.location,H,ne);n&&n(ie,H),g=b()+1;let ee=ev(ie,g),be=G.createHref(ie);try{h.pushState(ee,"",be)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;l.location.assign(be)}c&&p&&p({action:m,location:G.location,delta:1})}function V(H,ne){m="REPLACE";let ie=Om(G.location,H,ne);n&&n(ie,H),g=b();let ee=ev(ie,g),be=G.createHref(ie);h.replaceState(ee,"",be),c&&p&&p({action:m,location:G.location,delta:0})}function k(H){return Ow(H)}let G={get action(){return m},get location(){return r(l,h)},listen(H){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Z_,T),p=H,()=>{l.removeEventListener(Z_,T),p=null}},createHref(H){return e(l,H)},createURL:k,encodeLocation(H){let ne=k(H);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:S,replace:V,go(H){return h.go(H)}};return G}function Ow(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Jo(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function B1(r,e,n="/"){return Mw(r,e,n,!1)}function Mw(r,e,n,s){let l=typeof e=="string"?ua(e):e,c=cr(l.pathname||"/",n);if(c==null)return null;let h=q1(r);Vw(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=Kw(c);m=Fw(h[p],g,s)}return m}function q1(r,e=[],n=[],s="",l=!1){let c=(h,m,p=l,g)=>{let b={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&p)return;ut(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let T=lr([s,b.relativePath]),S=n.concat(b);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),q1(h.children,e,S,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:qw(T,h.index),routesMeta:S})};return r.forEach((h,m)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))c(h,m);else for(let g of H1(h.path))c(h,m,!0,g)}),e}function H1(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return l?[c,""]:[c];let h=H1(s.join("/")),m=[];return m.push(...h.map(p=>p===""?c:[c,p].join("/"))),l&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Vw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Hw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var jw=/^:[\w-]+$/,Lw=3,Pw=2,Uw=1,zw=10,Bw=-2,tv=r=>r==="*";function qw(r,e){let n=r.split("/"),s=n.length;return n.some(tv)&&(s+=Bw),e&&(s+=Pw),n.filter(l=>!tv(l)).reduce((l,c)=>l+(jw.test(c)?Lw:c===""?Uw:zw),s)}function Hw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,l)=>s===e[l])?r[r.length-1]-e[e.length-1]:0}function Fw(r,e,n=!1){let{routesMeta:s}=r,l={},c="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,b=c==="/"?e:e.slice(c.length)||"/",T=xh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),S=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=xh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!T)return null;Object.assign(l,T.params),h.push({params:l,pathname:lr([c,T.pathname]),pathnameBase:Xw(lr([c,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(c=lr([c,T.pathnameBase]))}return h}function xh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Gw(r.path,r.caseSensitive,r.end),l=e.match(n);if(!l)return null;let c=l[0],h=c.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:s.reduce((g,{paramName:b,isOptional:T},S)=>{if(b==="*"){let k=m[S]||"";h=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const V=m[S];return T&&!V?g[b]=void 0:g[b]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:h,pattern:r}}function Gw(r,e=!1,n=!0){wn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function Kw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function cr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var Qw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Yw(r,e="/"){let{pathname:n,search:s="",hash:l=""}=typeof r=="string"?ua(r):r,c;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?c=nv(n.substring(1),"/"):c=nv(n,e)):c=e,{pathname:c,search:Jw(s),hash:Ww(l)}}function nv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function _m(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $w(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function up(r){let e=$w(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function hp(r,e,n,s=!1){let l;typeof r=="string"?l=ua(r):(l={...r},ut(!l.pathname||!l.pathname.includes("?"),_m("?","pathname","search",l)),ut(!l.pathname||!l.pathname.includes("#"),_m("#","pathname","hash",l)),ut(!l.search||!l.search.includes("#"),_m("#","search","hash",l)));let c=r===""||l.pathname==="",h=c?"/":l.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;l.pathname=S.join("/")}m=T>=0?e[T]:"/"}let p=Yw(l,m),g=h&&h!=="/"&&h.endsWith("/"),b=(c||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}var lr=r=>r.join("/").replace(/\/\/+/g,"/"),Xw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Jw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Ww=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Zw=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function eS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function tS(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var F1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function G1(r,e){let n=r;if(typeof n!="string"||!Qw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,l=!1;if(F1)try{let c=new URL(window.location.href),h=n.startsWith("//")?new URL(c.protocol+n):new URL(n),m=cr(h.pathname,e);h.origin===c.origin&&m!=null?n=m+h.search+h.hash:l=!0}catch{wn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var K1=["POST","PUT","PATCH","DELETE"];new Set(K1);var nS=["GET",...K1];new Set(nS);var El=L.createContext(null);El.displayName="DataRouter";var Gh=L.createContext(null);Gh.displayName="DataRouterState";var iS=L.createContext(!1),Q1=L.createContext({isTransitioning:!1});Q1.displayName="ViewTransition";var rS=L.createContext(new Map);rS.displayName="Fetchers";var sS=L.createContext(null);sS.displayName="Await";var Sn=L.createContext(null);Sn.displayName="Navigation";var cc=L.createContext(null);cc.displayName="Location";var ji=L.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var fp=L.createContext(null);fp.displayName="RouteError";var Y1="REACT_ROUTER_ERROR",aS="REDIRECT",lS="ROUTE_ERROR_RESPONSE";function oS(r){if(r.startsWith(`${Y1}:${aS}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function cS(r){if(r.startsWith(`${Y1}:${lS}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Zw(e.status,e.statusText,e.data)}catch{}}function uS(r,{relative:e}={}){ut(bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(Sn),{hash:l,pathname:c,search:h}=uc(r,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:lr([n,c])),s.createHref({pathname:m,search:h,hash:l})}function bl(){return L.useContext(cc)!=null}function Li(){return ut(bl(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(cc).location}var $1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X1(r){L.useContext(Sn).static||L.useLayoutEffect(r)}function Tl(){let{isDataRoute:r}=L.useContext(ji);return r?xS():hS()}function hS(){ut(bl(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(El),{basename:e,navigator:n}=L.useContext(Sn),{matches:s}=L.useContext(ji),{pathname:l}=Li(),c=JSON.stringify(up(s)),h=L.useRef(!1);return X1(()=>{h.current=!0}),L.useCallback((p,g={})=>{if(wn(h.current,$1),!h.current)return;if(typeof p=="number"){n.go(p);return}let b=hp(p,JSON.parse(c),l,g.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:lr([e,b.pathname])),(g.replace?n.replace:n.push)(b,g.state,g)},[e,n,c,l,r])}L.createContext(null);function uc(r,{relative:e}={}){let{matches:n}=L.useContext(ji),{pathname:s}=Li(),l=JSON.stringify(up(n));return L.useMemo(()=>hp(r,JSON.parse(l),s,e==="path"),[r,l,s,e])}function fS(r,e){return J1(r,e)}function J1(r,e,n,s,l){var ie;ut(bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=L.useContext(Sn),{matches:h}=L.useContext(ji),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",b=m?m.pathnameBase:"/",T=m&&m.route;{let ee=T&&T.path||"";Z1(g,!T||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let S=Li(),V;if(e){let ee=typeof e=="string"?ua(e):e;ut(b==="/"||((ie=ee.pathname)==null?void 0:ie.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),V=ee}else V=S;let k=V.pathname||"/",G=k;if(b!=="/"){let ee=b.replace(/^\//,"").split("/");G="/"+k.replace(/^\//,"").split("/").slice(ee.length).join("/")}let H=B1(r,{pathname:G});wn(T||H!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),wn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=yS(H&&H.map(ee=>Object.assign({},ee,{params:Object.assign({},p,ee.params),pathname:lr([b,c.encodeLocation?c.encodeLocation(ee.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?b:lr([b,c.encodeLocation?c.encodeLocation(ee.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathnameBase])})),h,n,s,l);return e&&ne?L.createElement(cc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},ne):ne}function dS(){let r=TS(),e=eS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:c},"ErrorBoundary")," or"," ",L.createElement("code",{style:c},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:l},n):null,h)}var mS=L.createElement(dS,null),W1=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=cS(r.digest);n&&(r=n)}let e=r!==void 0?L.createElement(ji.Provider,{value:this.props.routeContext},L.createElement(fp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?L.createElement(pS,{error:r},e):e}};W1.contextType=iS;var vm=new WeakMap;function pS({children:r,error:e}){let{basename:n}=L.useContext(Sn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=oS(e.digest);if(s){let l=vm.get(e);if(l)throw l;let c=G1(s.location,n);if(F1&&!vm.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw vm.set(e,h),h}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return r}function gS({routeContext:r,match:e,children:n}){let s=L.useContext(El);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ji.Provider,{value:r},n)}function yS(r,e=[],n=null,s=null,l=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,h=n==null?void 0:n.errors;if(h!=null){let b=c.findIndex(T=>T.route.id&&(h==null?void 0:h[T.route.id])!==void 0);ut(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,b+1))}let m=!1,p=-1;if(n)for(let b=0;b<c.length;b++){let T=c[b];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=b),T.route.id){let{loaderData:S,errors:V}=n,k=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!V||V[T.route.id]===void 0);if(T.route.lazy||k){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let g=n&&s?(b,T)=>{var S,V;s(b,{location:n.location,params:((V=(S=n.matches)==null?void 0:S[0])==null?void 0:V.params)??{},unstable_pattern:tS(n.matches),errorInfo:T})}:void 0;return c.reduceRight((b,T,S)=>{let V,k=!1,G=null,H=null;n&&(V=h&&T.route.id?h[T.route.id]:void 0,G=T.route.errorElement||mS,m&&(p<0&&S===0?(Z1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,H=null):p===S&&(k=!0,H=T.route.hydrateFallbackElement||null)));let ne=e.concat(c.slice(0,S+1)),ie=()=>{let ee;return V?ee=G:k?ee=H:T.route.Component?ee=L.createElement(T.route.Component,null):T.route.element?ee=T.route.element:ee=b,L.createElement(gS,{match:T,routeContext:{outlet:b,matches:ne,isDataRoute:n!=null},children:ee})};return n&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?L.createElement(W1,{location:n.location,revalidation:n.revalidation,component:G,error:V,children:ie(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:g}):ie()},null)}function dp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _S(r){let e=L.useContext(El);return ut(e,dp(r)),e}function vS(r){let e=L.useContext(Gh);return ut(e,dp(r)),e}function ES(r){let e=L.useContext(ji);return ut(e,dp(r)),e}function mp(r){let e=ES(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function bS(){return mp("useRouteId")}function TS(){var s;let r=L.useContext(fp),e=vS("useRouteError"),n=mp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function xS(){let{router:r}=_S("useNavigate"),e=mp("useNavigate"),n=L.useRef(!1);return X1(()=>{n.current=!0}),L.useCallback(async(l,c={})=>{wn(n.current,$1),n.current&&(typeof l=="number"?await r.navigate(l):await r.navigate(l,{fromRouteId:e,...c}))},[r,e])}var iv={};function Z1(r,e,n){!e&&!iv[r]&&(iv[r]=!0,wn(!1,n))}L.memo(wS);function wS({routes:r,future:e,state:n,onError:s}){return J1(r,void 0,n,s,e)}function Mm({to:r,replace:e,state:n,relative:s}){ut(bl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=L.useContext(Sn);wn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=L.useContext(ji),{pathname:h}=Li(),m=Tl(),p=hp(r,up(c),h,s==="path"),g=JSON.stringify(p);return L.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function zn(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SS({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:l,static:c=!1,unstable_useTransitions:h}){ut(!bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:m,navigator:l,static:c,unstable_useTransitions:h,future:{}}),[m,l,c,h]);typeof n=="string"&&(n=ua(n));let{pathname:g="/",search:b="",hash:T="",state:S=null,key:V="default"}=n,k=L.useMemo(()=>{let G=cr(g,m);return G==null?null:{location:{pathname:G,search:b,hash:T,state:S,key:V},navigationType:s}},[m,g,b,T,S,V,s]);return wn(k!=null,`<Router basename="${m}"> is not able to match the URL "${g}${b}${T}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:L.createElement(Sn.Provider,{value:p},L.createElement(cc.Provider,{children:e,value:k}))}function AS({children:r,location:e}){return fS(Vm(r),e)}function Vm(r,e=[]){let n=[];return L.Children.forEach(r,(s,l)=>{if(!L.isValidElement(s))return;let c=[...e,l];if(s.type===L.Fragment){n.push.apply(n,Vm(s.props.children,c));return}ut(s.type===zn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Vm(s.props.children,c)),n.push(h)}),n}var hh="get",fh="application/x-www-form-urlencoded";function Kh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function RS(r){return Kh(r)&&r.tagName.toLowerCase()==="button"}function CS(r){return Kh(r)&&r.tagName.toLowerCase()==="form"}function NS(r){return Kh(r)&&r.tagName.toLowerCase()==="input"}function IS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function kS(r,e){return r.button===0&&(!e||e==="_self")&&!IS(r)}function jm(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(l=>[n,l]):[[n,s]])},[]))}function DS(r,e){let n=jm(r);return e&&e.forEach((s,l)=>{n.has(l)||e.getAll(l).forEach(c=>{n.append(l,c)})}),n}var ih=null;function OS(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var MS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Em(r){return r!=null&&!MS.has(r)?(wn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):r}function VS(r,e){let n,s,l,c,h;if(CS(r)){let m=r.getAttribute("action");s=m?cr(m,e):null,n=r.getAttribute("method")||hh,l=Em(r.getAttribute("enctype"))||fh,c=new FormData(r)}else if(RS(r)||NS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?cr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||hh,l=Em(r.getAttribute("formenctype"))||Em(m.getAttribute("enctype"))||fh,c=new FormData(m,r),!OS()){let{name:g,type:b,value:T}=r;if(b==="image"){let S=g?`${g}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else g&&c.append(g,T)}}else{if(Kh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hh,s=null,l=fh,h=r}return c&&l==="text/plain"&&(h=c,c=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function jS(r,e,n,s){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${s}`:l.pathname=`${l.pathname}.${s}`:l.pathname==="/"?l.pathname=`_root.${s}`:e&&cr(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function LS(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function US(r,e,n){let s=await Promise.all(r.map(async l=>{let c=e.routes[l.route.id];if(c){let h=await LS(c,n);return h.links?h.links():[]}return[]}));return HS(s.flat(1).filter(PS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function rv(r,e,n,s,l,c){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var b;return n[g].pathname!==p.pathname||((b=n[g].route.path)==null?void 0:b.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):c==="data"?e.filter((p,g)=>{var T;let b=s.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function zS(r,e,{includeHydrateFallback:n}={}){return BS(r.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function BS(r){return[...new Set(r)]}function qS(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function HS(r,e){let n=new Set;return new Set(e),r.reduce((s,l)=>{let c=JSON.stringify(qS(l));return n.has(c)||(n.add(c),s.push({key:c,link:l})),s},[])}function eE(){let r=L.useContext(El);return pp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function FS(){let r=L.useContext(Gh);return pp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var gp=L.createContext(void 0);gp.displayName="FrameworkContext";function tE(){let r=L.useContext(gp);return pp(r,"You must render this element inside a <HydratedRouter> element"),r}function GS(r,e){let n=L.useContext(gp),[s,l]=L.useState(!1),[c,h]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:b,onTouchStart:T}=e,S=L.useRef(null);L.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let G=ne=>{ne.forEach(ie=>{h(ie.isIntersecting)})},H=new IntersectionObserver(G,{threshold:.5});return S.current&&H.observe(S.current),()=>{H.disconnect()}}},[r]),L.useEffect(()=>{if(s){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[s]);let V=()=>{l(!0)},k=()=>{l(!1),h(!1)};return n?r!=="intent"?[c,S,{}]:[c,S,{onFocus:Lo(m,V),onBlur:Lo(p,k),onMouseEnter:Lo(g,V),onMouseLeave:Lo(b,k),onTouchStart:Lo(T,V)}]:[!1,S,{}]}function Lo(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function KS({page:r,...e}){let{router:n}=eE(),s=L.useMemo(()=>B1(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?L.createElement(YS,{page:r,matches:s,...e}):null}function QS(r){let{manifest:e,routeModules:n}=tE(),[s,l]=L.useState([]);return L.useEffect(()=>{let c=!1;return US(r,e,n).then(h=>{c||l(h)}),()=>{c=!0}},[r,e,n]),s}function YS({page:r,matches:e,...n}){let s=Li(),{future:l,manifest:c,routeModules:h}=tE(),{basename:m}=eE(),{loaderData:p,matches:g}=FS(),b=L.useMemo(()=>rv(r,e,g,c,s,"data"),[r,e,g,c,s]),T=L.useMemo(()=>rv(r,e,g,c,s,"assets"),[r,e,g,c,s]),S=L.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let G=new Set,H=!1;if(e.forEach(ie=>{var be;let ee=c.routes[ie.route.id];!ee||!ee.hasLoader||(!b.some(ue=>ue.route.id===ie.route.id)&&ie.route.id in p&&((be=h[ie.route.id])!=null&&be.shouldRevalidate)||ee.hasClientLoader?H=!0:G.add(ie.route.id))}),G.size===0)return[];let ne=jS(r,m,l.unstable_trailingSlashAwareDataRequests,"data");return H&&G.size>0&&ne.searchParams.set("_routes",e.filter(ie=>G.has(ie.route.id)).map(ie=>ie.route.id).join(",")),[ne.pathname+ne.search]},[m,l.unstable_trailingSlashAwareDataRequests,p,s,c,b,e,r,h]),V=L.useMemo(()=>zS(T,c),[T,c]),k=QS(T);return L.createElement(L.Fragment,null,S.map(G=>L.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),V.map(G=>L.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),k.map(({key:G,link:H})=>L.createElement("link",{key:G,nonce:n.nonce,...H,crossOrigin:H.crossOrigin??n.crossOrigin})))}function $S(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var XS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XS&&(window.__reactRouterVersion="7.13.0")}catch{}function JS({basename:r,children:e,unstable_useTransitions:n,window:s}){let l=L.useRef();l.current==null&&(l.current=Iw({window:s,v5Compat:!0}));let c=l.current,[h,m]=L.useState({action:c.action,location:c.location}),p=L.useCallback(g=>{n===!1?m(g):L.startTransition(()=>m(g))},[n]);return L.useLayoutEffect(()=>c.listen(p),[c,p]),L.createElement(SS,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:c,unstable_useTransitions:n})}var nE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ta=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:l,reloadDocument:c,replace:h,state:m,target:p,to:g,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:S,...V},k){let{basename:G,unstable_useTransitions:H}=L.useContext(Sn),ne=typeof g=="string"&&nE.test(g),ie=G1(g,G);g=ie.to;let ee=uS(g,{relative:l}),[be,ue,me]=GS(s,V),R=tA(g,{replace:h,state:m,target:p,preventScrollReset:b,relative:l,viewTransition:T,unstable_defaultShouldRevalidate:S,unstable_useTransitions:H});function A(j){e&&e(j),j.defaultPrevented||R(j)}let C=L.createElement("a",{...V,...me,href:ie.absoluteURL||ee,onClick:ie.isExternal||c?e:A,ref:$S(k,ue),target:p,"data-discover":!ne&&n==="render"?"true":void 0});return be&&!ne?L.createElement(L.Fragment,null,C,L.createElement(KS,{page:ee})):C});ta.displayName="Link";var WS=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:l=!1,style:c,to:h,viewTransition:m,children:p,...g},b){let T=uc(h,{relative:g.relative}),S=Li(),V=L.useContext(Gh),{navigator:k,basename:G}=L.useContext(Sn),H=V!=null&&lA(T)&&m===!0,ne=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,ie=S.pathname,ee=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),ee=ee?ee.toLowerCase():null,ne=ne.toLowerCase()),ee&&G&&(ee=cr(ee,G)||ee);const be=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let ue=ie===ne||!l&&ie.startsWith(ne)&&ie.charAt(be)==="/",me=ee!=null&&(ee===ne||!l&&ee.startsWith(ne)&&ee.charAt(ne.length)==="/"),R={isActive:ue,isPending:me,isTransitioning:H},A=ue?e:void 0,C;typeof s=="function"?C=s(R):C=[s,ue?"active":null,me?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let j=typeof c=="function"?c(R):c;return L.createElement(ta,{...g,"aria-current":A,className:C,ref:b,style:j,to:h,viewTransition:m},typeof p=="function"?p(R):p)});WS.displayName="NavLink";var ZS=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:l,state:c,method:h=hh,action:m,onSubmit:p,relative:g,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:S,...V},k)=>{let{unstable_useTransitions:G}=L.useContext(Sn),H=sA(),ne=aA(m,{relative:g}),ie=h.toLowerCase()==="get"?"get":"post",ee=typeof m=="string"&&nE.test(m),be=ue=>{if(p&&p(ue),ue.defaultPrevented)return;ue.preventDefault();let me=ue.nativeEvent.submitter,R=(me==null?void 0:me.getAttribute("formmethod"))||h,A=()=>H(me||ue.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:l,state:c,relative:g,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:S});G&&n!==!1?L.startTransition(()=>A()):A()};return L.createElement("form",{ref:k,method:ie,action:ne,onSubmit:s?p:be,...V,"data-discover":!ee&&r==="render"?"true":void 0})});ZS.displayName="Form";function eA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iE(r){let e=L.useContext(El);return ut(e,eA(r)),e}function tA(r,{target:e,replace:n,state:s,preventScrollReset:l,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Tl(),b=Li(),T=uc(r,{relative:c});return L.useCallback(S=>{if(kS(S,e)){S.preventDefault();let V=n!==void 0?n:Jo(b)===Jo(T),k=()=>g(r,{replace:V,state:s,preventScrollReset:l,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:m});p?L.startTransition(()=>k()):k()}},[b,g,T,n,s,e,r,l,c,h,m,p])}function nA(r){wn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=L.useRef(jm(r)),n=L.useRef(!1),s=Li(),l=L.useMemo(()=>DS(s.search,n.current?null:e.current),[s.search]),c=Tl(),h=L.useCallback((m,p)=>{const g=jm(typeof m=="function"?m(new URLSearchParams(l)):m);n.current=!0,c("?"+g,p)},[c,l]);return[l,h]}var iA=0,rA=()=>`__${String(++iA)}__`;function sA(){let{router:r}=iE("useSubmit"),{basename:e}=L.useContext(Sn),n=bS(),s=r.fetch,l=r.navigate;return L.useCallback(async(c,h={})=>{let{action:m,method:p,encType:g,formData:b,body:T}=VS(c,e);if(h.navigate===!1){let S=h.fetcherKey||rA();await s(S,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await l(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,l,e,n])}function aA(r,{relative:e}={}){let{basename:n}=L.useContext(Sn),s=L.useContext(ji);ut(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),c={...uc(r||".",{relative:e})},h=Li();if(r==null){c.search=h.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let b=m.toString();c.search=b?`?${b}`:""}}return(!r||r===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:lr([n,c.pathname])),Jo(c)}function lA(r,{relative:e}={}){let n=L.useContext(Q1);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=iE("useViewTransitionState"),l=uc(r,{relative:e});if(!n.isTransitioning)return!1;let c=cr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=cr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return xh(l.pathname,h)!=null||xh(l.pathname,c)!=null}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=r=>{const e=cA(r);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=L.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:h,...m},p)=>L.createElement("svg",{ref:p,...uA,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:rE("lucide",l),...!c&&!hA(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,b])=>L.createElement(g,b)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(r,e)=>{const n=L.forwardRef(({className:s,...l},c)=>L.createElement(fA,{ref:c,iconNode:e,className:rE(`lucide-${oA(sv(r))}`,`lucide-${r}`,s),...l}));return n.displayName=sv(r),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],hc=Ie("activity",dA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],pA=Ie("arrow-left",mA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],yA=Ie("award",gA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wh=Ie("calendar",_A);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sE=Ie("chevron-right",vA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],yp=Ie("circle-alert",EA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],aE=Ie("circle-check-big",bA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],xA=Ie("circle-check",TA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],lE=Ie("clipboard-list",wA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qh=Ie("clock",SA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],RA=Ie("copy",AA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],NA=Ie("crown",CA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],kA=Ie("dollar-sign",IA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],OA=Ie("funnel",DA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],_p=Ie("lock",MA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],jA=Ie("log-in",VA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],PA=Ie("log-out",LA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],zA=Ie("map-pin",UA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],av=Ie("medal",BA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],HA=Ie("message-circle",qA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],GA=Ie("pen",FA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],QA=Ie("play",KA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],oE=Ie("plus",YA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],cE=Ie("qr-code",$A);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],JA=Ie("refresh-cw",XA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vp=Ie("search",WA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],e2=Ie("send",ZA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],n2=Ie("shield-alert",t2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],r2=Ie("shield-check",i2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],a2=Ie("shield",s2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],o2=Ie("square-check-big",l2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],u2=Ie("star",c2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],f2=Ie("target",h2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],m2=Ie("trash-2",d2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ep=Ie("trending-up",p2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],bp=Ie("trophy",g2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],_2=Ie("user-plus",y2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Tp=Ie("user",v2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],uE=Ie("users",E2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hE=Ie("x",b2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Lm=Ie("zap",T2),x2=({children:r})=>{var h;const e=Li(),n=Tl(),s=e.pathname.startsWith("/admin")&&e.pathname!=="/admin/login",l=()=>{sessionStorage.removeItem("isAdminAuthenticated"),n("/admin/login")};if(!s)return _.jsx("div",{className:"min-h-screen bg-slate-100 text-slate-900",children:r});const c=[{path:"/admin/usuarios",icon:uE,label:"Atletas"},{path:"/admin/qrcode",icon:cE,label:"Portal QR"},{path:"/admin/horarios",icon:Qh,label:"Horrios"},{path:"/admin/checkins",icon:lE,label:"Registros"},{path:"/admin/ranking",icon:bp,label:"Ranking"},{path:"/admin/distribuicoes",icon:Ep,label:"Recompensas"}];return _.jsxs("div",{className:"flex min-h-screen bg-slate-100 text-slate-900 font-sans",children:[_.jsxs("aside",{className:"w-64 bg-black flex-shrink-0 flex flex-col z-20 shadow-[10px_0_30px_rgba(0,0,0,0.2)]",children:[_.jsx("div",{className:"p-8",children:_.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",children:[_.jsx("div",{className:"p-2 bg-lime-400 rounded-lg text-black shadow-[0_0_15px_rgba(163,230,53,0.4)]",children:_.jsx(hc,{className:"w-6 h-6 font-bold"})}),_.jsxs("h1",{className:"text-2xl font-black italic tracking-tighter text-white font-sport uppercase",children:["Fit",_.jsx("span",{className:"text-lime-400",children:"Reward"})]})]})}),_.jsx("nav",{className:"mt-4 flex-1 px-4 space-y-2",children:c.map(m=>{const p=m.icon,g=e.pathname===m.path;return _.jsxs(ta,{to:m.path,className:`flex items-center px-4 py-4 text-[10px] font-black uppercase tracking-[0.2em] rounded-2xl transition-all ${g?"bg-lime-400 text-black shadow-[0_10px_20px_rgba(163,230,53,0.2)]":"text-zinc-500 hover:bg-zinc-900 hover:text-white border border-transparent hover:border-zinc-800"}`,children:[_.jsx(p,{className:`w-4 h-4 mr-3 ${g?"text-black":"text-zinc-700"}`}),m.label]},m.path)})}),_.jsx("div",{className:"p-6 border-t border-zinc-900",children:_.jsxs("button",{onClick:l,className:"w-full flex items-center px-4 py-3 text-[10px] font-black uppercase tracking-[0.3em] text-zinc-600 hover:text-red-500 transition-all",children:[_.jsx(PA,{className:"w-4 h-4 mr-3"}),"Logout"]})})]}),_.jsxs("main",{className:"flex-1 overflow-y-auto flex flex-col",children:[_.jsxs("header",{className:"bg-white border-b-2 border-slate-300 py-6 px-10 flex justify-between items-center sticky top-0 z-10 shadow-sm",children:[_.jsx("h2",{className:"text-xl font-black italic text-slate-900 font-sport uppercase tracking-[0.2em]",children:((h=c.find(m=>m.path===e.pathname))==null?void 0:h.label)||"Performance Area"}),_.jsxs(ta,{to:"/checkin",className:"group flex items-center px-6 py-3 bg-black rounded-xl text-lime-400 text-[10px] font-black uppercase tracking-widest hover:bg-lime-400 hover:text-black transition-all shadow-xl active:scale-95",children:[_.jsx(o2,{className:"w-4 h-4 mr-2"}),"Terminal de Check-in"]})]}),_.jsx("div",{className:"p-10 max-w-[1600px] mx-auto w-full",children:r})]})]})},w2=()=>{};var lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},S2=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],h=r[n++],m=r[n++],p=((l&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],h=r[n++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|h&63)}}return e.join("")},dE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],h=l+1<r.length,m=h?r[l+1]:0,p=l+2<r.length,g=p?r[l+2]:0,b=c>>2,T=(c&3)<<4|m>>4;let S=(m&15)<<2|g>>6,V=g&63;p||(V=64,h||(S=64)),s.push(n[b],n[T],n[S],n[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(fE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):S2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],m=l<r.length?n[r.charAt(l)]:0;++l;const g=l<r.length?n[r.charAt(l)]:64;++l;const T=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||m==null||g==null||T==null)throw new A2;const S=c<<2|m>>4;if(s.push(S),g!==64){const V=m<<4&240|g>>2;if(s.push(V),T!==64){const k=g<<6&192|T;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class A2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const R2=function(r){const e=fE(r);return dE.encodeByteArray(e,!0)},Sh=function(r){return R2(r).replace(/\./g,"")},mE=function(r){try{return dE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=()=>C2().__FIREBASE_DEFAULTS__,I2=()=>{if(typeof process>"u"||typeof lv>"u")return;const r=lv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},k2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&mE(r[1]);return e&&JSON.parse(e)},Yh=()=>{try{return w2()||N2()||I2()||k2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},pE=r=>{var e,n;return(n=(e=Yh())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},D2=r=>{const e=pE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},gE=()=>{var r;return(r=Yh())==null?void 0:r.config},yE=r=>{var e;return(e=Yh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _E(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Sh(JSON.stringify(n)),Sh(JSON.stringify(h)),""].join(".")}const Go={};function V2(){const r={prod:[],emulator:[]};for(const e of Object.keys(Go))Go[e]?r.emulator.push(e):r.prod.push(e);return r}function j2(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let ov=!1;function vE(r,e){if(typeof window>"u"||typeof document>"u"||!xl(window.location.host)||Go[r]===e||Go[r]||ov)return;Go[r]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",c=V2().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,V){S.setAttribute("width","24"),S.setAttribute("id",V),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{ov=!0,h()},S}function b(S,V){S.setAttribute("id",V),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=j2(s),V=n("text"),k=document.getElementById(V)||document.createElement("span"),G=n("learnmore"),H=document.getElementById(G)||document.createElement("a"),ne=n("preprendIcon"),ie=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ee=S.element;m(ee),b(H,G);const be=g();p(ie,ne),ee.append(ie,k,H,be),document.body.appendChild(ee)}c?(k.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function P2(){var e;const r=(e=Yh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function U2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function z2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function B2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q2(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function H2(){return!P2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F2(){try{return typeof indexedDB=="object"}catch{return!1}}function G2(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;e(((c=l.error)==null?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="FirebaseError";class mr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=K2,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fc.prototype.create)}}class fc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],h=c?Q2(c,s):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new mr(l,m,s)}}function Q2(r,e){return r.replace(Y2,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const Y2=/\{\$([^}]+)}/g;function $2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function na(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const c=r[l],h=e[l];if(cv(c)&&cv(h)){if(!na(c,h))return!1}else if(c!==h)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function cv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Uo(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function zo(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function X2(r,e){const n=new J2(r,e);return n.subscribe.bind(n)}class J2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");W2(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=bm),l.error===void 0&&(l.error=bm),l.complete===void 0&&(l.complete=bm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W2(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(r){return r&&r._delegate?r._delegate:r}class ia{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new O2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tR(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&h.resolve(l)}return l}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:eR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eR(r){return r===Js?void 0:r}function tR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Z2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const iR={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},rR=Le.INFO,sR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},aR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=sR[e];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xp{constructor(e){this.name=e,this._logLevel=rR,this._logHandler=aR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const lR=(r,e)=>e.some(n=>r instanceof n);let uv,hv;function oR(){return uv||(uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cR(){return hv||(hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EE=new WeakMap,Pm=new WeakMap,bE=new WeakMap,Tm=new WeakMap,wp=new WeakMap;function uR(r){const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",h)},c=()=>{n(ns(r.result)),l()},h=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&EE.set(n,r)}).catch(()=>{}),wp.set(e,r),e}function hR(r){if(Pm.has(r))return;const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",h),r.removeEventListener("abort",h)},c=()=>{n(),l()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",h),r.addEventListener("abort",h)});Pm.set(r,e)}let Um={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Pm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||bE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function fR(r){Um=r(Um)}function dR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(xm(this),e,...n);return bE.set(s,e.sort?e.sort():[e]),ns(s)}:cR().includes(r)?function(...e){return r.apply(xm(this),e),ns(EE.get(this))}:function(...e){return ns(r.apply(xm(this),e))}}function mR(r){return typeof r=="function"?dR(r):(r instanceof IDBTransaction&&hR(r),lR(r,oR())?new Proxy(r,Um):r)}function ns(r){if(r instanceof IDBRequest)return uR(r);if(Tm.has(r))return Tm.get(r);const e=mR(r);return e!==r&&(Tm.set(r,e),wp.set(e,r)),e}const xm=r=>wp.get(r);function pR(r,e,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const h=indexedDB.open(r,e),m=ns(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ns(h.result),p.oldVersion,p.newVersion,ns(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const gR=["get","getKey","getAll","getAllKeys","count"],yR=["put","add","delete","clear"],wm=new Map;function fv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=yR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||gR.includes(n)))return;const c=async function(h,...m){const p=this.transaction(h,l?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),l&&p.done]))[0]};return wm.set(e,c),c}fR(r=>({...r,get:(e,n,s)=>fv(e,n)||r.get(e,n,s),has:(e,n)=>!!fv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function vR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zm="@firebase/app",dv="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new xp("@firebase/app"),ER="@firebase/app-compat",bR="@firebase/analytics-compat",TR="@firebase/analytics",xR="@firebase/app-check-compat",wR="@firebase/app-check",SR="@firebase/auth",AR="@firebase/auth-compat",RR="@firebase/database",CR="@firebase/data-connect",NR="@firebase/database-compat",IR="@firebase/functions",kR="@firebase/functions-compat",DR="@firebase/installations",OR="@firebase/installations-compat",MR="@firebase/messaging",VR="@firebase/messaging-compat",jR="@firebase/performance",LR="@firebase/performance-compat",PR="@firebase/remote-config",UR="@firebase/remote-config-compat",zR="@firebase/storage",BR="@firebase/storage-compat",qR="@firebase/firestore",HR="@firebase/ai",FR="@firebase/firestore-compat",GR="firebase",KR="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",QR={[zm]:"fire-core",[ER]:"fire-core-compat",[TR]:"fire-analytics",[bR]:"fire-analytics-compat",[wR]:"fire-app-check",[xR]:"fire-app-check-compat",[SR]:"fire-auth",[AR]:"fire-auth-compat",[RR]:"fire-rtdb",[CR]:"fire-data-connect",[NR]:"fire-rtdb-compat",[IR]:"fire-fn",[kR]:"fire-fn-compat",[DR]:"fire-iid",[OR]:"fire-iid-compat",[MR]:"fire-fcm",[VR]:"fire-fcm-compat",[jR]:"fire-perf",[LR]:"fire-perf-compat",[PR]:"fire-rc",[UR]:"fire-rc-compat",[zR]:"fire-gcs",[BR]:"fire-gcs-compat",[qR]:"fire-fst",[FR]:"fire-fst-compat",[HR]:"fire-vertex","fire-js":"fire-js",[GR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,YR=new Map,qm=new Map;function mv(r,e){try{r.container.addComponent(e)}catch(n){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function dl(r){const e=r.name;if(qm.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,r);for(const n of Ah.values())mv(n,r);for(const n of YR.values())mv(n,r);return!0}function Sp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function qn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new fc("app","Firebase",$R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=KR;function TE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Bm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw is.create("bad-app-name",{appName:String(l)});if(n||(n=gE()),!n)throw is.create("no-options");const c=Ah.get(l);if(c){if(na(n,c.options)&&na(s,c.config))return c;throw is.create("duplicate-app",{appName:l})}const h=new nR(l);for(const p of qm.values())h.addComponent(p);const m=new XR(n,s,h);return Ah.set(l,m),m}function xE(r=Bm){const e=Ah.get(r);if(!e&&r===Bm&&gE())return TE();if(!e)throw is.create("no-app",{appName:r});return e}function rs(r,e,n){let s=QR[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${s}" with version "${e}":`];l&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(h.join(" "));return}dl(new ia(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="firebase-heartbeat-database",WR=1,Wo="firebase-heartbeat-store";let Sm=null;function wE(){return Sm||(Sm=pR(JR,WR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Wo)}catch(n){console.warn(n)}}}}).catch(r=>{throw is.create("idb-open",{originalErrorMessage:r.message})})),Sm}async function ZR(r){try{const n=(await wE()).transaction(Wo),s=await n.objectStore(Wo).get(SE(r));return await n.done,s}catch(e){if(e instanceof mr)ur.warn(e.message);else{const n=is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ur.warn(n.message)}}}async function pv(r,e){try{const s=(await wE()).transaction(Wo,"readwrite");await s.objectStore(Wo).put(e,SE(r)),await s.done}catch(n){if(n instanceof mr)ur.warn(n.message);else{const s=is.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ur.warn(s.message)}}}function SE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=1024,tC=30;class nC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=gv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>tC){const h=sC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ur.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gv(),{heartbeatsToSend:s,unsentEntries:l}=iC(this._heartbeatsCache.heartbeats),c=Sh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return ur.warn(n),""}}}function gv(){return new Date().toISOString().substring(0,10)}function iC(r,e=eC){const n=[];let s=r.slice();for(const l of r){const c=n.find(h=>h.agent===l.agent);if(c){if(c.dates.push(l.date),yv(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),yv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class rC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F2()?G2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function yv(r){return Sh(JSON.stringify({version:2,heartbeats:r})).length}function sC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(r){dl(new ia("platform-logger",e=>new _R(e),"PRIVATE")),dl(new ia("heartbeat",e=>new nC(e),"PRIVATE")),rs(zm,dv,r),rs(zm,dv,"esm2020"),rs("fire-js","")}aC("");var lC="firebase",oC="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs(lC,oC,"app");function AE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cC=AE,RE=new fc("auth","Firebase",AE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new xp("@firebase/auth");function uC(r,...e){Rh.logLevel<=Le.WARN&&Rh.warn(`Auth (${wl}): ${r}`,...e)}function dh(r,...e){Rh.logLevel<=Le.ERROR&&Rh.error(`Auth (${wl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(r,...e){throw Ap(r,...e)}function Ii(r,...e){return Ap(r,...e)}function CE(r,e,n){const s={...cC(),[e]:n};return new fc("auth","Firebase",s).create(e,{appName:r.name})}function or(r){return CE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ap(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return RE.create(r,...e)}function ve(r,e,...n){if(!r)throw Ap(e,...n)}function sr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw dh(e),new Error(e)}function hr(r,e){r||sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function hC(){return _v()==="http:"||_v()==="https:"}function _v(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hC()||z2()||"connection"in navigator)?navigator.onLine:!0}function dC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=L2()||B2()}get(){return fC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(r,e){hr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gC=new mc(3e4,6e4);function ms(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ps(r,e,n,s,l={}){return IE(r,l,async()=>{let c={},h={};s&&(e==="GET"?h=s:c={body:JSON.stringify(s)});const m=dc({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...c};return U2()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&xl(r.emulatorConfig.host)&&(g.credentials="include"),NE.fetch()(await kE(r,r.config.apiHost,n,m),g)})}async function IE(r,e,n){r._canInitEmulator=!1;const s={...mC,...e};try{const l=new _C(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw rh(r,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw rh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw rh(r,"user-disabled",h);const b=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw CE(r,b,g);ai(r,b)}}catch(l){if(l instanceof mr)throw l;ai(r,"network-request-failed",{message:String(l)})}}async function pc(r,e,n,s,l={}){const c=await ps(r,e,n,s,l);return"mfaPendingCredential"in c&&ai(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function kE(r,e,n,s){const l=`${e}${n}?${s}`,c=r,h=c.config.emulator?Rp(r.config,l):`${r.config.apiScheme}://${l}`;return pC.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function yC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _C{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),gC.get())})}}function rh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Ii(r,e,s);return l.customData._tokenResponse=n,l}function vv(r){return r!==void 0&&r.enterprise!==void 0}class vC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function EC(r,e){return ps(r,"GET","/v2/recaptchaConfig",ms(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(r,e){return ps(r,"POST","/v1/accounts:delete",e)}async function Ch(r,e){return ps(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TC(r,e=!1){const n=zt(r),s=await n.getIdToken(e),l=Cp(s);ve(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,h=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:Ko(Am(l.auth_time)),issuedAtTime:Ko(Am(l.iat)),expirationTime:Ko(Am(l.exp)),signInProvider:h||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Am(r){return Number(r)*1e3}function Cp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const l=mE(n);return l?JSON.parse(l):(dh("Failed to decode base64 JWT payload"),null)}catch(l){return dh("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Ev(r){const e=Cp(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof mr&&xC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function xC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ko(this.lastLoginAt),this.creationTime=Ko(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(r){var T;const e=r.auth,n=await r.getIdToken(),s=await Zo(r,Ch(e,{idToken:n}));ve(s==null?void 0:s.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=(T=l.providerUserInfo)!=null&&T.length?DE(l.providerUserInfo):[],h=AC(r.providerData,c),m=r.isAnonymous,p=!(r.email&&l.passwordHash)&&!(h!=null&&h.length),g=m?p:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Fm(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(r,b)}async function SC(r){const e=zt(r);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AC(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function DE(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(r,e){const n=await IE(r,{},async()=>{const s=dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,h=await kE(r,l,"/v1/token",`key=${c}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&xl(r.emulatorConfig.host)&&(p.credentials="include"),NE.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CC(r,e){return ps(r,"POST","/v2/accounts:revokeToken",ms(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ev(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Ev(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await RC(e,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,h=new ll;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),l&&(ve(typeof l=="string","internal-error",{appName:e}),h.accessToken=l),c&&(ve(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new wC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Fm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Zo(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TC(this,e)}reload(){return SC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(or(this.auth));const e=await this.getIdToken();return await Zo(this,bC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:V,providerData:k,stsTokenManager:G}=n;ve(T&&G,e,"internal-error");const H=ll.fromJSON(this.name,G);ve(typeof T=="string",e,"internal-error"),Xr(s,e.name),Xr(l,e.name),ve(typeof S=="boolean",e,"internal-error"),ve(typeof V=="boolean",e,"internal-error"),Xr(c,e.name),Xr(h,e.name),Xr(m,e.name),Xr(p,e.name),Xr(g,e.name),Xr(b,e.name);const ne=new ii({uid:T,auth:e,email:l,emailVerified:S,displayName:s,isAnonymous:V,photoURL:h,phoneNumber:c,tenantId:m,stsTokenManager:H,createdAt:g,lastLoginAt:b});return k&&Array.isArray(k)&&(ne.providerData=k.map(ie=>({...ie}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,n,s=!1){const l=new ll;l.updateFromServerResponse(n);const c=new ii({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Nh(c),c}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];ve(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?DE(l.providerUserInfo):[],h=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),m=new ll;m.updateFromIdToken(s);const p=new ii({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Fm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=new Map;function ar(r){hr(r instanceof Function,"Expected a class definition");let e=bv.get(r);return e?(hr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,bv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OE.type="NONE";const Tv=OE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(r,e,n){return`firebase:${r}:${e}:${n}`}class ol{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=mh(this.userKey,l.apiKey,c),this.fullPersistenceKey=mh("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ch(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ol(ar(Tv),e,s);const l=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=l[0]||ar(Tv);const h=mh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const b=await g._get(h);if(b){let T;if(typeof b=="string"){const S=await Ch(e,{idToken:b}).catch(()=>{});if(!S)break;T=await ii._fromGetAccountInfoResponse(e,S,b)}else T=ii._fromJSON(e,b);g!==c&&(m=T),c=g;break}}catch{}const p=l.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new ol(c,e,s):(c=p[0],m&&await c._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==c)try{await g._remove(h)}catch{}})),new ol(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ME(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UE(e))return"Blackberry";if(zE(e))return"Webos";if(VE(e))return"Safari";if((e.includes("chrome/")||jE(e))&&!e.includes("edge/"))return"Chrome";if(PE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ME(r=en()){return/firefox\//i.test(r)}function VE(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jE(r=en()){return/crios\//i.test(r)}function LE(r=en()){return/iemobile/i.test(r)}function PE(r=en()){return/android/i.test(r)}function UE(r=en()){return/blackberry/i.test(r)}function zE(r=en()){return/webos/i.test(r)}function Np(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function NC(r=en()){var e;return Np(r)&&!!((e=window.navigator)!=null&&e.standalone)}function IC(){return q2()&&document.documentMode===10}function BE(r=en()){return Np(r)||PE(r)||zE(r)||UE(r)||/windows phone/i.test(r)||LE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(r,e=[]){let n;switch(r){case"Browser":n=xv(en());break;case"Worker":n=`${xv(en())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((h,m)=>{try{const p=e(c);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(r,e={}){return ps(r,"GET","/v2/passwordPolicy",ms(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=6;class MC{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??OC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wv(this),this.idTokenSubscription=new wv(this),this.beforeStateQueue=new kC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await ol.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ch(this,{idToken:e}),s=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(qn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(c=this.redirectUser)==null?void 0:c._redirectEventId,m=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(or(this));const n=e?zt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DC(this),n=new MC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await CC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await ol.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,l);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&uC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ha(r){return zt(r)}class wv{constructor(e){this.auth=e,this.observer=null,this.addObserver=X2(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jC(r){$h=r}function HE(r){return $h.loadJS(r)}function LC(){return $h.recaptchaEnterpriseScript}function PC(){return $h.gapiScript}function UC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class zC{constructor(){this.enterprise=new BC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class BC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const qC="recaptcha-enterprise",FE="NO_RECAPTCHA";class HC{constructor(e){this.type=qC,this.auth=ha(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,m)=>{EC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new vC(p);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function l(c,h,m){const p=window.grecaptcha;vv(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(g=>{h(g)}).catch(()=>{h(FE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zC().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{s(this.auth).then(m=>{if(!n&&vv(window.grecaptcha))l(m,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=LC();p.length!==0&&(p+=m),HE(p).then(()=>{l(m,c,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function Sv(r,e,n,s=!1,l=!1){const c=new HC(r);let h;if(l)h=FE;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Gm(r,e,n,s,l){var c;if((c=r._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Sv(r,e,n,n==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Sv(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(r,e){const n=Sp(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(na(c,e??{}))return l;ai(l,"already-initialized")}return n.initialize({options:e})}function GC(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ar);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function KC(r,e,n){const s=ha(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=GE(e),{host:h,port:m}=QC(e),p=m===null?"":`:${m}`,g={url:`${c}//${h}${p}/`},b=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(na(g,s.config.emulator)&&na(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,xl(h)?(_E(`${c}//${h}${p}`),vE("Auth",!0)):YC()}function GE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function QC(r){const e=GE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Av(s.substr(c.length+1))}}else{const[c,h]=s.split(":");return{host:c,port:Av(h)}}}function Av(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function YC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function $C(r,e){return ps(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XC(r,e){return pc(r,"POST","/v1/accounts:signInWithPassword",ms(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(r,e){return pc(r,"POST","/v1/accounts:signInWithEmailLink",ms(r,e))}async function WC(r,e){return pc(r,"POST","/v1/accounts:signInWithEmailLink",ms(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends Ip{constructor(e,n,s,l=null){super("password",s),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new ec(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ec(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gm(e,n,"signInWithPassword",XC);case"emailLink":return JC(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gm(e,s,"signUpPassword",$C);case"emailLink":return WC(e,{idToken:n,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(r,e){return pc(r,"POST","/v1/accounts:signInWithIdp",ms(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="http://localhost";class ra extends Ip{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=n;if(!s||!l)return null;const h=new ra(s,l);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return cl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,cl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cl(e,n)}buildRequest(){const e={requestUri:ZC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tN(r){const e=Uo(zo(r)).link,n=e?Uo(zo(e)).deep_link_id:null,s=Uo(zo(r)).deep_link_id;return(s?Uo(zo(s)).link:null)||s||n||e||r}class kp{constructor(e){const n=Uo(zo(e)),s=n.apiKey??null,l=n.oobCode??null,c=eN(n.mode??null);ve(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=tN(e);try{return new kp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.providerId=Sl.PROVIDER_ID}static credential(e,n){return ec._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=kp.parseLink(n);return ve(s,"argument-error"),ec._fromEmailAndCode(e,s.code,s.tenantId)}}Sl.PROVIDER_ID="password";Sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends KE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends gc{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends gc{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends gc{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return es.credential(n,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(r,e){return pc(r,"POST","/v1/accounts:signUp",ms(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const c=await ii._fromIdTokenResponse(e,s,l),h=Rv(s);return new sa({user:c,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=Rv(s);return new sa({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function Rv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends mr{constructor(e,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new Ih(e,n,s,l)}}function QE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(r,c,e,s):c})}async function iN(r,e,n=!1){const s=await Zo(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return sa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(r,e,n=!1){const{auth:s}=r;if(qn(s.app))return Promise.reject(or(s));const l="reauthenticate";try{const c=await Zo(r,QE(s,l,e,r),n);ve(c.idToken,s,"internal-error");const h=Cp(c.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(r.uid===m,s,"user-mismatch"),sa._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ai(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YE(r,e,n=!1){if(qn(r.app))return Promise.reject(or(r));const s="signIn",l=await QE(r,s,e),c=await sa._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}async function sN(r,e){return YE(ha(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $E(r){const e=ha(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aN(r,e,n){if(qn(r.app))return Promise.reject(or(r));const s=ha(r),h=await Gm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&$E(r),p}),m=await sa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function lN(r,e,n){return qn(r.app)?Promise.reject(or(r)):sN(zt(r),Sl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&$E(r),s})}function oN(r,e,n,s){return zt(r).onIdTokenChanged(e,n,s)}function cN(r,e,n){return zt(r).beforeAuthStateChanged(e,n)}function uN(r,e,n,s){return zt(r).onAuthStateChanged(e,n,s)}const kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=1e3,fN=10;class JE extends XE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);IC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,fN):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},hN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JE.type="LOCAL";const dN=JE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE extends XE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WE.type="SESSION";const ZE=WE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new Xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:c}=n.data,h=this.handlersMap[l];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const m=Array.from(h).map(async g=>g(n.origin,c)),p=await mN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,h;return new Promise((m,p)=>{const g=Dp("",20);l.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:l,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(S.data.response);break;default:clearTimeout(b),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(h),l.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[l.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return window}function gN(r){ki().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function yN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _N(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function vN(){return eb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="firebaseLocalStorageDb",EN=1,Dh="firebaseLocalStorage",nb="fbase_key";class yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(r,e){return r.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function bN(){const r=indexedDB.deleteDatabase(tb);return new yc(r).toPromise()}function Km(){const r=indexedDB.open(tb,EN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Dh,{keyPath:nb})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Dh)?e(s):(s.close(),await bN(),e(await Km()))})})}async function Cv(r,e,n){const s=Jh(r,!0).put({[nb]:e,value:n});return new yc(s).toPromise()}async function TN(r,e){const n=Jh(r,!1).get(e),s=await new yc(n).toPromise();return s===void 0?null:s.value}function Nv(r,e){const n=Jh(r,!0).delete(e);return new yc(n).toPromise()}const xN=800,wN=3;class ib{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>wN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(vN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await yN(),!this.activeServiceWorker)return;this.sender=new pN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_N()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Km();return await Cv(e,kh,"1"),await Nv(e,kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Cv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>TN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Nv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Jh(l,!1).getAll();return new yc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ib.type="LOCAL";const SN=ib;new mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(r,e){return e?ar(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op extends Ip{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RN(r){return YE(r.auth,new Op(r),r.bypassAuthState)}function CN(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),rN(n,new Op(r),r.bypassAuthState)}async function NN(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),iN(n,new Op(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RN;case"linkViaPopup":case"linkViaRedirect":return NN;case"reauthViaPopup":case"reauthViaRedirect":return CN;default:ai(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new mc(2e3,1e4);class al extends rb{constructor(e,n,s,l,c){super(e,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,al.currentPopupAction&&al.currentPopupAction.cancel(),al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=Dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,al.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IN.get())};e()}}al.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="pendingRedirect",ph=new Map;class DN extends rb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const s=await ON(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ON(r,e){const n=jN(e),s=VN(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function MN(r,e){ph.set(r._key(),e)}function VN(r){return ar(r._redirectPersistence)}function jN(r){return mh(kN,r.config.apiKey,r.name)}async function LN(r,e,n=!1){if(qn(r.app))return Promise.reject(or(r));const s=ha(r),l=AN(s,e),h=await new DN(s,l,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=600*1e3;class UN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!sb(e)){const l=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ii(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Iv(e))}saveEventToCache(e){this.cachedEventUids.add(Iv(e)),this.lastProcessedEventTime=Date.now()}}function Iv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function sb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(r,e={}){return ps(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HN=/^https?/;async function FN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await BN(r);for(const n of e)try{if(GN(n))return}catch{}ai(r,"unauthorized-domain")}function GN(r){const e=Hm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!HN.test(n))return!1;if(qN.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=new mc(3e4,6e4);function kv(){const r=ki().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function QN(r){return new Promise((e,n)=>{var l,c,h;function s(){kv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kv(),n(Ii(r,"network-request-failed"))},timeout:KN.get()})}if((c=(l=ki().gapi)==null?void 0:l.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((h=ki().gapi)!=null&&h.load)s();else{const m=UC("iframefcb");return ki()[m]=()=>{gapi.load?s():n(Ii(r,"network-request-failed"))},HE(`${PC()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw gh=null,e})}let gh=null;function YN(r){return gh=gh||QN(r),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new mc(5e3,15e3),XN="__/auth/iframe",JN="emulator/auth/iframe",WN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eI(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Rp(e,JN):`https://${r.config.authDomain}/${XN}`,s={apiKey:e.apiKey,appName:r.name,v:wl},l=ZN.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${dc(s).slice(1)}`}async function tI(r){const e=await YN(r),n=ki().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:eI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WN,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const h=Ii(r,"network-request-failed"),m=ki().setTimeout(()=>{c(h)},$N.get());function p(){ki().clearTimeout(m),l(s)}s.ping(p).then(p,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iI=500,rI=600,sI="_blank",aI="http://localhost";class Dv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lI(r,e,n,s=iI,l=rI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...nI,width:s.toString(),height:l.toString(),top:c,left:h},g=en().toLowerCase();n&&(m=jE(g)?sI:n),ME(g)&&(e=e||aI,p.scrollbars="yes");const b=Object.entries(p).reduce((S,[V,k])=>`${S}${V}=${k},`,"");if(NC(g)&&m!=="_self")return oI(e||"",m),new Dv(null);const T=window.open(e||"",m,b);ve(T,r,"popup-blocked");try{T.focus()}catch{}return new Dv(T)}function oI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="__/auth/handler",uI="emulator/auth/handler",hI=encodeURIComponent("fac");async function Ov(r,e,n,s,l,c){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:wl,eventId:l};if(e instanceof KE){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",$2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,T]of Object.entries({}))h[b]=T}if(e instanceof gc){const b=e.getScopes().filter(T=>T!=="");b.length>0&&(h.scopes=b.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const p=await r._getAppCheckToken(),g=p?`#${hI}=${encodeURIComponent(p)}`:"";return`${fI(r)}?${dc(m).slice(1)}${g}`}function fI({config:r}){return r.emulator?Rp(r,uI):`https://${r.authDomain}/${cI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="webStorageSupport";class dI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZE,this._completeRedirectFn=LN,this._overrideRedirectResult=MN}async _openPopup(e,n,s,l){var h;hr((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const c=await Ov(e,n,s,Hm(),l);return lI(e,c,Dp())}async _openRedirect(e,n,s,l){await this._originValidation(e);const c=await Ov(e,n,s,Hm(),l);return gN(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(hr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await tI(e),s=new UN(e);return n.register("authEvent",l=>(ve(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},l=>{var h;const c=(h=l==null?void 0:l[0])==null?void 0:h[Rm];c!==void 0&&n(!!c),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BE()||VE()||Np()}}const mI=dI;var Mv="@firebase/auth",Vv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yI(r){dl(new ia("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qE(r)},g=new VC(s,l,c,p);return GC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),dl(new ia("auth-internal",e=>{const n=ha(e.getProvider("auth").getImmediate());return(s=>new pI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(Mv,Vv,gI(r)),rs(Mv,Vv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=300,vI=yE("authIdTokenMaxAge")||_I;let jv=null;const EI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>vI)return;const l=n==null?void 0:n.token;jv!==l&&(jv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function bI(r=xE()){const e=Sp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=FC(r,{popupRedirectResolver:mI,persistence:[SN,dN,ZE]}),s=yE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const h=EI(c.toString());cN(n,h,()=>h(n.currentUser)),oN(n,m=>h(m))}}const l=pE("auth");return l&&KC(n,`http://${l}`),n}function TI(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}jC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=Ii("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",TI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yI("Browser");var Lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,ab;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,A){function C(){}C.prototype=A.prototype,R.F=A.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(j,O,U){for(var N=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)N[ke-2]=arguments[ke];return A.prototype[O].apply(j,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,A,C){C||(C=0);const j=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)j[O]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(O=0;O<16;++O)j[O]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=R.g[0],C=R.g[1],O=R.g[2];let U=R.g[3],N;N=A+(U^C&(O^U))+j[0]+3614090360&4294967295,A=C+(N<<7&4294967295|N>>>25),N=U+(O^A&(C^O))+j[1]+3905402710&4294967295,U=A+(N<<12&4294967295|N>>>20),N=O+(C^U&(A^C))+j[2]+606105819&4294967295,O=U+(N<<17&4294967295|N>>>15),N=C+(A^O&(U^A))+j[3]+3250441966&4294967295,C=O+(N<<22&4294967295|N>>>10),N=A+(U^C&(O^U))+j[4]+4118548399&4294967295,A=C+(N<<7&4294967295|N>>>25),N=U+(O^A&(C^O))+j[5]+1200080426&4294967295,U=A+(N<<12&4294967295|N>>>20),N=O+(C^U&(A^C))+j[6]+2821735955&4294967295,O=U+(N<<17&4294967295|N>>>15),N=C+(A^O&(U^A))+j[7]+4249261313&4294967295,C=O+(N<<22&4294967295|N>>>10),N=A+(U^C&(O^U))+j[8]+1770035416&4294967295,A=C+(N<<7&4294967295|N>>>25),N=U+(O^A&(C^O))+j[9]+2336552879&4294967295,U=A+(N<<12&4294967295|N>>>20),N=O+(C^U&(A^C))+j[10]+4294925233&4294967295,O=U+(N<<17&4294967295|N>>>15),N=C+(A^O&(U^A))+j[11]+2304563134&4294967295,C=O+(N<<22&4294967295|N>>>10),N=A+(U^C&(O^U))+j[12]+1804603682&4294967295,A=C+(N<<7&4294967295|N>>>25),N=U+(O^A&(C^O))+j[13]+4254626195&4294967295,U=A+(N<<12&4294967295|N>>>20),N=O+(C^U&(A^C))+j[14]+2792965006&4294967295,O=U+(N<<17&4294967295|N>>>15),N=C+(A^O&(U^A))+j[15]+1236535329&4294967295,C=O+(N<<22&4294967295|N>>>10),N=A+(O^U&(C^O))+j[1]+4129170786&4294967295,A=C+(N<<5&4294967295|N>>>27),N=U+(C^O&(A^C))+j[6]+3225465664&4294967295,U=A+(N<<9&4294967295|N>>>23),N=O+(A^C&(U^A))+j[11]+643717713&4294967295,O=U+(N<<14&4294967295|N>>>18),N=C+(U^A&(O^U))+j[0]+3921069994&4294967295,C=O+(N<<20&4294967295|N>>>12),N=A+(O^U&(C^O))+j[5]+3593408605&4294967295,A=C+(N<<5&4294967295|N>>>27),N=U+(C^O&(A^C))+j[10]+38016083&4294967295,U=A+(N<<9&4294967295|N>>>23),N=O+(A^C&(U^A))+j[15]+3634488961&4294967295,O=U+(N<<14&4294967295|N>>>18),N=C+(U^A&(O^U))+j[4]+3889429448&4294967295,C=O+(N<<20&4294967295|N>>>12),N=A+(O^U&(C^O))+j[9]+568446438&4294967295,A=C+(N<<5&4294967295|N>>>27),N=U+(C^O&(A^C))+j[14]+3275163606&4294967295,U=A+(N<<9&4294967295|N>>>23),N=O+(A^C&(U^A))+j[3]+4107603335&4294967295,O=U+(N<<14&4294967295|N>>>18),N=C+(U^A&(O^U))+j[8]+1163531501&4294967295,C=O+(N<<20&4294967295|N>>>12),N=A+(O^U&(C^O))+j[13]+2850285829&4294967295,A=C+(N<<5&4294967295|N>>>27),N=U+(C^O&(A^C))+j[2]+4243563512&4294967295,U=A+(N<<9&4294967295|N>>>23),N=O+(A^C&(U^A))+j[7]+1735328473&4294967295,O=U+(N<<14&4294967295|N>>>18),N=C+(U^A&(O^U))+j[12]+2368359562&4294967295,C=O+(N<<20&4294967295|N>>>12),N=A+(C^O^U)+j[5]+4294588738&4294967295,A=C+(N<<4&4294967295|N>>>28),N=U+(A^C^O)+j[8]+2272392833&4294967295,U=A+(N<<11&4294967295|N>>>21),N=O+(U^A^C)+j[11]+1839030562&4294967295,O=U+(N<<16&4294967295|N>>>16),N=C+(O^U^A)+j[14]+4259657740&4294967295,C=O+(N<<23&4294967295|N>>>9),N=A+(C^O^U)+j[1]+2763975236&4294967295,A=C+(N<<4&4294967295|N>>>28),N=U+(A^C^O)+j[4]+1272893353&4294967295,U=A+(N<<11&4294967295|N>>>21),N=O+(U^A^C)+j[7]+4139469664&4294967295,O=U+(N<<16&4294967295|N>>>16),N=C+(O^U^A)+j[10]+3200236656&4294967295,C=O+(N<<23&4294967295|N>>>9),N=A+(C^O^U)+j[13]+681279174&4294967295,A=C+(N<<4&4294967295|N>>>28),N=U+(A^C^O)+j[0]+3936430074&4294967295,U=A+(N<<11&4294967295|N>>>21),N=O+(U^A^C)+j[3]+3572445317&4294967295,O=U+(N<<16&4294967295|N>>>16),N=C+(O^U^A)+j[6]+76029189&4294967295,C=O+(N<<23&4294967295|N>>>9),N=A+(C^O^U)+j[9]+3654602809&4294967295,A=C+(N<<4&4294967295|N>>>28),N=U+(A^C^O)+j[12]+3873151461&4294967295,U=A+(N<<11&4294967295|N>>>21),N=O+(U^A^C)+j[15]+530742520&4294967295,O=U+(N<<16&4294967295|N>>>16),N=C+(O^U^A)+j[2]+3299628645&4294967295,C=O+(N<<23&4294967295|N>>>9),N=A+(O^(C|~U))+j[0]+4096336452&4294967295,A=C+(N<<6&4294967295|N>>>26),N=U+(C^(A|~O))+j[7]+1126891415&4294967295,U=A+(N<<10&4294967295|N>>>22),N=O+(A^(U|~C))+j[14]+2878612391&4294967295,O=U+(N<<15&4294967295|N>>>17),N=C+(U^(O|~A))+j[5]+4237533241&4294967295,C=O+(N<<21&4294967295|N>>>11),N=A+(O^(C|~U))+j[12]+1700485571&4294967295,A=C+(N<<6&4294967295|N>>>26),N=U+(C^(A|~O))+j[3]+2399980690&4294967295,U=A+(N<<10&4294967295|N>>>22),N=O+(A^(U|~C))+j[10]+4293915773&4294967295,O=U+(N<<15&4294967295|N>>>17),N=C+(U^(O|~A))+j[1]+2240044497&4294967295,C=O+(N<<21&4294967295|N>>>11),N=A+(O^(C|~U))+j[8]+1873313359&4294967295,A=C+(N<<6&4294967295|N>>>26),N=U+(C^(A|~O))+j[15]+4264355552&4294967295,U=A+(N<<10&4294967295|N>>>22),N=O+(A^(U|~C))+j[6]+2734768916&4294967295,O=U+(N<<15&4294967295|N>>>17),N=C+(U^(O|~A))+j[13]+1309151649&4294967295,C=O+(N<<21&4294967295|N>>>11),N=A+(O^(C|~U))+j[4]+4149444226&4294967295,A=C+(N<<6&4294967295|N>>>26),N=U+(C^(A|~O))+j[11]+3174756917&4294967295,U=A+(N<<10&4294967295|N>>>22),N=O+(A^(U|~C))+j[2]+718787259&4294967295,O=U+(N<<15&4294967295|N>>>17),N=C+(U^(O|~A))+j[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+U&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const C=A-this.blockSize,j=this.C;let O=this.h,U=0;for(;U<A;){if(O==0)for(;U<=C;)l(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<A;)if(j[O++]=R.charCodeAt(U++),O==this.blockSize){l(this,j),O=0;break}}else for(;U<A;)if(j[O++]=R[U++],O==this.blockSize){l(this,j),O=0;break}}this.h=O,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,C=0;C<4;++C)for(let j=0;j<32;j+=8)R[A++]=this.g[C]>>>j&255;return R};function c(R,A){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=A(R)}function h(R,A){this.h=A;const C=[];let j=!0;for(let O=R.length-1;O>=0;O--){const U=R[O]|0;j&&U==A||(C[O]=U,j=!1)}this.g=C}var m={};function p(R){return-128<=R&&R<128?c(R,function(A){return new h([A|0],A<0?-1:0)}):new h([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return H(g(-R));const A=[];let C=1;for(let j=0;R>=C;j++)A[j]=R/C|0,C*=4294967296;return new h(A,0)}function b(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return H(b(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(A,8));let j=T;for(let U=0;U<R.length;U+=8){var O=Math.min(8,R.length-U);const N=parseInt(R.substring(U,U+O),A);O<8?(O=g(Math.pow(A,O)),j=j.j(O).add(g(N))):(j=j.j(C),j=j.add(g(N)))}return j}var T=p(0),S=p(1),V=p(16777216);r=h.prototype,r.m=function(){if(G(this))return-H(this).m();let R=0,A=1;for(let C=0;C<this.g.length;C++){const j=this.i(C);R+=(j>=0?j:4294967296+j)*A,A*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(k(this))return"0";if(G(this))return"-"+H(this).toString(R);const A=g(Math.pow(R,6));var C=this;let j="";for(;;){const O=be(C,A).g;C=ne(C,O.j(A));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=O,k(C))return U+j;for(;U.length<6;)U="0"+U;j=U+j}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function k(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function G(R){return R.h==-1}r.l=function(R){return R=ne(this,R),G(R)?-1:k(R)?0:1};function H(R){const A=R.g.length,C=[];for(let j=0;j<A;j++)C[j]=~R.g[j];return new h(C,~R.h).add(S)}r.abs=function(){return G(this)?H(this):this},r.add=function(R){const A=Math.max(this.g.length,R.g.length),C=[];let j=0;for(let O=0;O<=A;O++){let U=j+(this.i(O)&65535)+(R.i(O)&65535),N=(U>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);j=N>>>16,U&=65535,N&=65535,C[O]=N<<16|U}return new h(C,C[C.length-1]&-2147483648?-1:0)};function ne(R,A){return R.add(H(A))}r.j=function(R){if(k(this)||k(R))return T;if(G(this))return G(R)?H(this).j(H(R)):H(H(this).j(R));if(G(R))return H(this.j(H(R)));if(this.l(V)<0&&R.l(V)<0)return g(this.m()*R.m());const A=this.g.length+R.g.length,C=[];for(var j=0;j<2*A;j++)C[j]=0;for(j=0;j<this.g.length;j++)for(let O=0;O<R.g.length;O++){const U=this.i(j)>>>16,N=this.i(j)&65535,ke=R.i(O)>>>16,Ge=R.i(O)&65535;C[2*j+2*O]+=N*Ge,ie(C,2*j+2*O),C[2*j+2*O+1]+=U*Ge,ie(C,2*j+2*O+1),C[2*j+2*O+1]+=N*ke,ie(C,2*j+2*O+1),C[2*j+2*O+2]+=U*ke,ie(C,2*j+2*O+2)}for(R=0;R<A;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=A;R<2*A;R++)C[R]=0;return new h(C,0)};function ie(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function ee(R,A){this.g=R,this.h=A}function be(R,A){if(k(A))throw Error("division by zero");if(k(R))return new ee(T,T);if(G(R))return A=be(H(R),A),new ee(H(A.g),H(A.h));if(G(A))return A=be(R,H(A)),new ee(H(A.g),A.h);if(R.g.length>30){if(G(R)||G(A))throw Error("slowDivide_ only works with positive integers.");for(var C=S,j=A;j.l(R)<=0;)C=ue(C),j=ue(j);var O=me(C,1),U=me(j,1);for(j=me(j,2),C=me(C,2);!k(j);){var N=U.add(j);N.l(R)<=0&&(O=O.add(C),U=N),j=me(j,1),C=me(C,1)}return A=ne(R,O.j(A)),new ee(O,A)}for(O=T;R.l(A)>=0;){for(C=Math.max(1,Math.floor(R.m()/A.m())),j=Math.ceil(Math.log(C)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),U=g(C),N=U.j(A);G(N)||N.l(R)>0;)C-=j,U=g(C),N=U.j(A);k(U)&&(U=S),O=O.add(U),R=ne(R,N)}return new ee(O,R)}r.B=function(R){return be(this,R).h},r.and=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let j=0;j<A;j++)C[j]=this.i(j)&R.i(j);return new h(C,this.h&R.h)},r.or=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let j=0;j<A;j++)C[j]=this.i(j)|R.i(j);return new h(C,this.h|R.h)},r.xor=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let j=0;j<A;j++)C[j]=this.i(j)^R.i(j);return new h(C,this.h^R.h)};function ue(R){const A=R.g.length+1,C=[];for(let j=0;j<A;j++)C[j]=R.i(j)<<1|R.i(j-1)>>>31;return new h(C,R.h)}function me(R,A){const C=A>>5;A%=32;const j=R.g.length-C,O=[];for(let U=0;U<j;U++)O[U]=A>0?R.i(U+C)>>>A|R.i(U+C+1)<<32-A:R.i(U+C);return new h(O,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ab=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=b,ss=h}).apply(typeof Lv<"u"?Lv:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lb,Bo,ob,yh,Qm,cb,ub,hb;(function(){var r,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var y=0;y<u.length;++y){var E=u[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function l(u,y){if(y)e:{var E=s;u=u.split(".");for(var w=0;w<u.length-1;w++){var z=u[w];if(!(z in E))break e;E=E[z]}u=u[u.length-1],w=E[u],y=y(w),y!=w&&y!=null&&e(E,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var E=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&E.push([w,y[w]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function m(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function p(u,y,E){return u.call.apply(u.bind,arguments)}function g(u,y,E){return g=p,g.apply(null,arguments)}function b(u,y){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function T(u,y){function E(){}E.prototype=y.prototype,u.Z=y.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(w,z,K){for(var se=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)se[Re-2]=arguments[Re];return y.prototype[z].apply(w,se)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function V(u){const y=u.length;if(y>0){const E=Array(y);for(let w=0;w<y;w++)E[w]=u[w];return E}return[]}function k(u,y){for(let w=1;w<arguments.length;w++){const z=arguments[w];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=u.length||0;const K=z.length||0;u.length=E+K;for(let se=0;se<K;se++)u[E+se]=z[se]}else u.push(z)}}class G{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(u){h.setTimeout(()=>{throw u},0)}function ne(){var u=R;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,E){const w=ee.get();w.set(y,E),this.h?this.h.next=w:this.g=w,this.h=w}}var ee=new G(()=>new be,u=>u.reset());class be{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,me=!1,R=new ie,A=()=>{const u=Promise.resolve(void 0);ue=()=>{u.then(C)}};function C(){for(var u;u=ne();){try{u.h.call(u.g)}catch(E){H(E)}var y=ee;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}me=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function ke(u,y){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}T(ke,O),ke.prototype.init=function(u,y){const E=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(E=="mouseover"?y=u.fromElement:E=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ge="closure_listenable_"+(Math.random()*1e6|0),Y=0;function re(u,y,E,w,z){this.listener=u,this.proxy=null,this.src=y,this.type=E,this.capture=!!w,this.ha=z,this.key=++Y,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ae(u,y,E){for(const w in u)y.call(E,u[w],w,u)}function qe(u,y){for(const E in u)y.call(void 0,u[E],E,u)}function M(u){const y={};for(const E in u)y[E]=u[E];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,y){let E,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(E in w)u[E]=w[E];for(let K=0;K<J.length;K++)E=J[K],Object.prototype.hasOwnProperty.call(w,E)&&(u[E]=w[E])}}function oe(u){this.src=u,this.g={},this.h=0}oe.prototype.add=function(u,y,E,w,z){const K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);const se=xe(u,y,w,z);return se>-1?(y=u[se],E||(y.fa=!1)):(y=new re(y,this.src,K,!!w,z),y.fa=E,u.push(y)),y};function _e(u,y){const E=y.type;if(E in u.g){var w=u.g[E],z=Array.prototype.indexOf.call(w,y,void 0),K;(K=z>=0)&&Array.prototype.splice.call(w,z,1),K&&(de(y),u.g[E].length==0&&(delete u.g[E],u.h--))}}function xe(u,y,E,w){for(let z=0;z<u.length;++z){const K=u[z];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==w)return z}return-1}var De="closure_lm_"+(Math.random()*1e6|0),mt={};function rt(u,y,E,w,z){if(Array.isArray(y)){for(let K=0;K<y.length;K++)rt(u,y[K],E,w,z);return null}return E=Dl(E),u&&u[Ge]?u.J(y,E,m(w)?!!w.capture:!1,z):pr(u,y,E,!1,w,z)}function pr(u,y,E,w,z,K){if(!y)throw Error("Invalid event type");const se=m(z)?!!z.capture:!!z;let Re=bs(u);if(Re||(u[De]=Re=new oe(u)),E=Re.add(y,E,w,se,K),E.proxy)return E;if(w=vs(),E.proxy=w,w.src=u,w.listener=E,u.addEventListener)U||(z=se),z===void 0&&(z=!1),u.addEventListener(y.toString(),w,z);else if(u.attachEvent)u.attachEvent(An(y.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function vs(){function u(E){return y.call(u.src,u.listener,E)}const y=Es;return u}function Ui(u,y,E,w,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)Ui(u,y[K],E,w,z);else w=m(w)?!!w.capture:!!w,E=Dl(E),u&&u[Ge]?(u=u.i,K=String(y).toString(),K in u.g&&(y=u.g[K],E=xe(y,E,w,z),E>-1&&(de(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete u.g[K],u.h--)))):u&&(u=bs(u))&&(y=u.g[y.toString()],u=-1,y&&(u=xe(y,E,w,z)),(E=u>-1?y[u]:null)&&gr(E))}function gr(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[Ge])_e(y.i,u);else{var E=u.type,w=u.proxy;y.removeEventListener?y.removeEventListener(E,w,u.capture):y.detachEvent?y.detachEvent(An(E),w):y.addListener&&y.removeListener&&y.removeListener(w),(E=bs(y))?(_e(E,u),E.h==0&&(E.src=null,y[De]=null)):de(u)}}}function An(u){return u in mt?mt[u]:mt[u]="on"+u}function Es(u,y){if(u.da)u=!0;else{y=new ke(y,this);const E=u.listener,w=u.ha||u.src;u.fa&&gr(u),u=E.call(w,y)}return u}function bs(u){return u=u[De],u instanceof oe?u:null}var kl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Dl(u){return typeof u=="function"?u:(u[kl]||(u[kl]=function(y){return u.handleEvent(y)}),u[kl])}function Et(){j.call(this),this.i=new oe(this),this.M=this,this.G=null}T(Et,j),Et.prototype[Ge]=!0,Et.prototype.removeEventListener=function(u,y,E,w){Ui(this,u,y,E,w)};function Ot(u,y){var E,w=u.G;if(w)for(E=[];w;w=w.G)E.push(w);if(u=u.M,w=y.type||y,typeof y=="string")y=new O(y,u);else if(y instanceof O)y.target=y.target||u;else{var z=y;y=new O(w,u),ae(y,z)}z=!0;let K,se;if(E)for(se=E.length-1;se>=0;se--)K=y.g=E[se],z=yr(K,w,!0,y)&&z;if(K=y.g=u,z=yr(K,w,!0,y)&&z,z=yr(K,w,!1,y)&&z,E)for(se=0;se<E.length;se++)K=y.g=E[se],z=yr(K,w,!1,y)&&z}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const E=u.g[y];for(let w=0;w<E.length;w++)de(E[w]);delete u.g[y],u.h--}}this.G=null},Et.prototype.J=function(u,y,E,w){return this.i.add(String(u),y,!1,E,w)},Et.prototype.K=function(u,y,E,w){return this.i.add(String(u),y,!0,E,w)};function yr(u,y,E,w){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let K=0;K<y.length;++K){const se=y[K];if(se&&!se.da&&se.capture==E){const Re=se.listener,gt=se.ha||se.src;se.fa&&_e(u.i,se),z=Re.call(gt,w)!==!1&&z}}return z&&!w.defaultPrevented}function mf(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(u,y||0)}function Cc(u){u.g=mf(()=>{u.g=null,u.i&&(u.i=!1,Cc(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class tn extends j{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Cc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(u){j.call(this),this.h=u,this.g={}}T(Ts,j);var Ol=[];function Ml(u){Ae(u.g,function(y,E){this.g.hasOwnProperty(E)&&gr(y)},u),u.g={}}Ts.prototype.N=function(){Ts.Z.N.call(this),Ml(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=h.JSON.stringify,pf=h.JSON.parse,Nc=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Ic(){}function kc(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){O.call(this,"d")}T(Bt,O);function Rn(){O.call(this,"c")}T(Rn,O);var pt={},Dc=null;function ma(){return Dc=Dc||new Et}pt.Ia="serverreachability";function Oc(u){O.call(this,pt.Ia,u)}T(Oc,O);function oi(u){const y=ma();Ot(y,new Oc(y))}pt.STAT_EVENT="statevent";function xs(u,y){O.call(this,pt.STAT_EVENT,u),this.stat=y}T(xs,O);function bt(u){const y=ma();Ot(y,new xs(y,u))}pt.Ja="timingevent";function ci(u,y){O.call(this,pt.Ja,u),this.size=y}T(ci,O);function ui(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},y)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function gf(u,y,E,w,z,K){u.info(function(){if(u.g)if(K){var se="",Re=K.split("&");for(let Ke=0;Ke<Re.length;Ke++){var gt=Re[Ke].split("=");if(gt.length>1){const ot=gt[0];gt=gt[1];const kn=ot.split("_");se=kn.length>=2&&kn[1]=="type"?se+(ot+"="+gt+"&"):se+(ot+"=redacted&")}}}else se=null;else se=K;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+E+`
`+se})}function Mc(u,y,E,w,z,K,se){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+E+`
`+K+" "+se})}function hi(u,y,E,w){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+yf(u,E)+(w?" "+w:"")})}function ws(u,y){u.info(function(){return"TIMEOUT: "+y})}Kn.prototype.info=function(){};function yf(u,y){if(!u.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(u=0;u<K.length;u++)if(Array.isArray(K[u])){var E=K[u];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var z=w[0];if(z!="noop"&&z!="stop"&&z!="close")for(let se=1;se<w.length;se++)w[se]=""}}}}return _r(K)}catch{return y}}var Ss={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jl;function As(){}T(As,Ic),As.prototype.g=function(){return new XMLHttpRequest},jl=new As;function zi(u){return encodeURIComponent(String(u))}function Vc(u){var y=1;u=u.split(":");const E=[];for(;y>0&&u.length;)E.push(u.shift()),y--;return u.length&&E.push(u.join(":")),E}function Qn(u,y,E,w){this.j=u,this.i=y,this.l=E,this.S=w||1,this.V=new Ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var Tt={},jt={};function fi(u,y,E){u.M=1,u.A=Rs(wt(y)),u.u=E,u.R=!0,pa(u,null)}function pa(u,y){u.F=Date.now(),di(u),u.B=wt(u.A);var E=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),va(E.i,"t",w),u.C=0,E=u.j.L,u.h=new Yn,u.g=Xc(u.j,E?y:null,!u.u),u.P>0&&(u.O=new tn(g(u.Y,u,u.g),u.P)),y=u.V,E=u.g,w=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(Ol[0]=z.toString()),z=Ol);for(let K=0;K<z.length;K++){const se=rt(E,z[K],w||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),oi(),gf(u.i,u.v,u.B,u.l,u.S,u.u)}Qn.prototype.ba=function(u){u=u.target;const y=this.O;y&&Jn(u)==3?y.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)e:{const Re=Jn(this.g),gt=this.g.ya(),Ke=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||Re!=4||gt==7||(gt==8||Ke<=0?oi(3):oi(2)),mi(this);var y=this.g.ca();this.X=y;var E=_f(this);if(this.o=y==200,Mc(this.i,this.v,this.B,this.l,this.S,Re,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,z=this.g;if((w=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(w)){var K=w;break t}}K=null}if(u=K)hi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,u);else{this.o=!1,this.m=3,bt(12),mn(this),Cn(this);break e}}if(this.R){u=!0;let ot;for(;!this.K&&this.C<E.length;)if(ot=Lc(this,E),ot==jt){Re==4&&(this.m=4,bt(14),u=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,bt(15),hi(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else hi(this.i,this.l,ot,null),pi(this,ot);if(jc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||E.length!=0||this.h.h||(this.m=1,bt(16),u=!1),this.o=this.o&&u,!u)hi(this.i,this.l,E,"[Invalid Chunked Response]"),mn(this),Cn(this);else if(E.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Jl(se),se.P=!0,bt(11))}}else hi(this.i,this.l,E,null),pi(this,E);Re==4&&mn(this),this.o&&!this.K&&(Re==4?Kc(this.j,this):(this.o=!1,di(this)))}else qi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),mn(this),Cn(this)}}}catch{}finally{}};function _f(u){if(!jc(u))return u.g.la();const y=qt(u.g);if(y==="")return"";let E="";const w=y.length,z=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),Cn(u),"";u.h.i=new h.TextDecoder}for(let K=0;K<w;K++)u.h.h=!0,E+=u.h.i.decode(y[K],{stream:!(z&&K==w-1)});return y.length=0,u.h.g+=E,u.C=0,u.h.g}function jc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Lc(u,y){var E=u.C,w=y.indexOf(`
`,E);return w==-1?jt:(E=Number(y.substring(E,w)),isNaN(E)?Tt:(w+=1,w+E>y.length?jt:(y=y.slice(w,w+E),u.C=w+E,y)))}Qn.prototype.cancel=function(){this.K=!0,mn(this)};function di(u){u.T=Date.now()+u.H,ga(u,u.H)}function ga(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ui(g(u.aa,u),y)}function mi(u){u.D&&(h.clearTimeout(u.D),u.D=null)}Qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ws(this.i,this.B),this.M!=2&&(oi(),bt(17)),mn(this),this.m=2,Cn(this)):ga(this,this.T-u)};function Cn(u){u.j.I==0||u.K||Kc(u.j,u)}function mn(u){mi(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,Ml(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function pi(u,y){try{var E=u.j;if(E.I!=0&&(E.g==u||yi(E.h,u))){if(!u.L&&yi(E.h,u)&&E.I==3){try{var w=E.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)wa(E),Ar(E);else break e;Ms(E),bt(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ui(g(E.Va,E),6e3));gi(E.h)<=1&&E.ta&&(E.ta=void 0)}else xi(E,11)}else if((u.L||E.g==u)&&wa(E),!N(y))for(z=E.Ba.g.parse(y),y=0;y<z.length;y++){let Ke=z[y];const ot=Ke[0];if(!(ot<=E.K))if(E.K=ot,Ke=Ke[1],E.I==2)if(Ke[0]=="c"){E.M=Ke[1],E.ba=Ke[2];const kn=Ke[3];kn!=null&&(E.ka=kn,E.j.info("VER="+E.ka));const wi=Ke[4];wi!=null&&(E.za=wi,E.j.info("SVER="+E.za));const Wn=Ke[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(w=1.5*Wn,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const Zn=u.g;if(Zn){const Vs=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var K=w.h;K.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ul(K,K.h),K.h=null))}if(w.G){const Sa=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(w.wa=Sa,$e(w.J,w.G,Sa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var se=u;if(w.na=$c(w,w.L?w.ba:null,w.W),se.L){zl(w.h,se);var Re=se,gt=w.O;gt&&(Re.H=gt),Re.D&&(mi(Re),di(Re)),w.g=se}else Fc(w);E.i.length>0&&Ti(E)}else Ke[0]!="stop"&&Ke[0]!="close"||xi(E,7);else E.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?xi(E,7):$l(E):Ke[0]!="noop"&&E.l&&E.l.qa(Ke),E.A=0)}}oi(4)}catch{}}var xt=class{constructor(u,y){this.g=u,this.map=y}};function Ll(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gi(u){return u.h?1:u.g?u.g.size:0}function yi(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Ul(u,y){u.g?u.g.add(y):u.h=y}function zl(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}Ll.prototype.cancel=function(){if(this.i=Bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Bl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const E of u.g.values())y=y.concat(E.G);return y}return V(u.i)}var Pc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(u,y){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const w=u[E].indexOf("=");let z,K=null;w>=0?(z=u[E].substring(0,w),K=u[E].substring(w+1)):z=u[E],y(z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof pn?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,vr(this,u.u),this.h=u.h,ql(this,qc(u.i)),this.m=u.m):u&&(y=String(u).match(Pc))?(this.l=!1,Lt(this,y[1]||"",!0),this.o=_i(y[2]||""),this.g=_i(y[3]||"",!0),vr(this,y[4]),this.h=_i(y[5]||"",!0),ql(this,y[6]||"",!0),this.m=_i(y[7]||"")):(this.l=!1,this.i=new br(null,this.l))}pn.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(Cs(y,_a,!0),":");var E=this.g;return(E||y=="file")&&(u.push("//"),(y=this.o)&&u.push(Cs(y,_a,!0),"@"),u.push(zi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Cs(E,E.charAt(0)=="/"?Hl:Uc,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Cs(E,zc)),u.join("")},pn.prototype.resolve=function(u){const y=wt(this);let E=!!u.j;E?Lt(y,u.j):E=!!u.o,E?y.o=u.o:E=!!u.g,E?y.g=u.g:E=u.u!=null;var w=u.h;if(E)vr(y,u.u);else if(E=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var z=y.h.lastIndexOf("/");z!=-1&&(w=y.h.slice(0,z+1)+w)}if(z=w,z==".."||z==".")w="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){w=z.lastIndexOf("/",0)==0,z=z.split("/");const K=[];for(let se=0;se<z.length;){const Re=z[se++];Re=="."?w&&se==z.length&&K.push(""):Re==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&se==z.length&&K.push("")):(K.push(Re),w=!0)}w=K.join("/")}else w=z}return E?y.h=w:E=u.i.toString()!=="",E?ql(y,qc(u.i)):E=!!u.m,E&&(y.m=u.m),y};function wt(u){return new pn(u)}function Lt(u,y,E){u.j=E?_i(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function vr(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function ql(u,y,E){y instanceof br?(u.i=y,Ea(u.i,u.l)):(E||(y=Cs(y,Er)),u.i=new br(y,u.l))}function $e(u,y,E){u.i.set(y,E)}function Rs(u){return $e(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _i(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Cs(u,y,E){return typeof u=="string"?(u=encodeURI(u).replace(y,sn),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _a=/[#\/\?@]/g,Uc=/[#\?:]/g,Hl=/[#\?]/g,Er=/[#\?@]/g,zc=/#/g;function br(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&ya(u.i,function(y,E){u.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=br.prototype,r.add=function(u,y){an(this),this.i=null,u=Tr(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(y),this.h+=1,this};function Bc(u,y){an(u),y=Tr(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Fl(u,y){return an(u),y=Tr(u,y),u.g.has(y)}r.forEach=function(u,y){an(this),this.g.forEach(function(E,w){E.forEach(function(z){u.call(y,z,w,this)},this)},this)};function Gl(u,y){an(u);let E=[];if(typeof y=="string")Fl(u,y)&&(E=E.concat(u.g.get(Tr(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)E=E.concat(u[y]);return E}r.set=function(u,y){return an(this),this.i=null,u=Tr(this,u),Fl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},r.get=function(u,y){return u?(u=Gl(this,u),u.length>0?String(u[0]):y):y};function va(u,y,E){Bc(u,y),E.length>0&&(u.i=null,u.g.set(Tr(u,y),V(E)),u.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var E=y[w];const z=zi(E);E=Gl(this,E);for(let K=0;K<E.length;K++){let se=z;E[K]!==""&&(se+="="+zi(E[K])),u.push(se)}}return this.i=u.join("&")};function qc(u){const y=new br;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Tr(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function Ea(u,y){y&&!u.j&&(an(u),u.i=null,u.g.forEach(function(E,w){const z=w.toLowerCase();w!=z&&(Bc(this,w),va(this,z,E))},u)),u.j=y}function $n(u,y){const E=new Kn;if(h.Image){const w=new Image;w.onload=b(Nn,E,"TestLoadImage: loaded",!0,y,w),w.onerror=b(Nn,E,"TestLoadImage: error",!1,y,w),w.onabort=b(Nn,E,"TestLoadImage: abort",!1,y,w),w.ontimeout=b(Nn,E,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else y(!1)}function Kl(u,y){const E=new Kn,w=new AbortController,z=setTimeout(()=>{w.abort(),Nn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:w.signal}).then(K=>{clearTimeout(z),K.ok?Nn(E,"TestPingServer: ok",!0,y):Nn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Nn(E,"TestPingServer: error",!1,y)})}function Nn(u,y,E,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(E)}catch{}}function xr(){this.g=new Nc}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}T(vi,Ic),vi.prototype.g=function(){return new Ns(this.i,this.h)};function Ns(u,y){Et.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ns,Et),r=Ns.prototype,r.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Xn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?wr(this):Xn(this),this.readyState==3&&ba(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,wr(this))},r.Na=function(u){this.g&&(this.response=u,wr(this))},r.ga=function(){this.g&&wr(this)};function wr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Xn(u)}r.setRequestHeader=function(u,y){this.A.append(u,y)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=y.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let y="";return Ae(u,function(E,w){y+=w,y+=":",y+=E,y+=`\r
`}),y}function Is(u,y,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=In(E),typeof u=="string"?E!=null&&zi(E):$e(u,y,E))}function We(u){Et.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(We,Et);var Ei=/^https?$/i,Ql=["POST","PUT"];r=We.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,y,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jl.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(K){ks(this,K);return}if(u=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)E.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())E.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),z=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(Ql,y,void 0)>=0)||w||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of E)this.g.setRequestHeader(K,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(K){ks(this,K)}};function ks(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,Yl(u),Bi(u)}function Yl(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ot(this,"complete"),Ot(this,"abort"),Bi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),We.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ds(this):this.Xa())},r.Xa=function(){Ds(this)};function Ds(u){if(u.h&&typeof c<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ot(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const K=u.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var w;if(w=K===0){let se=String(u.D).match(Pc)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),w=!Ei.test(se?se.toLowerCase():"")}E=w}if(E)Ot(u,"complete"),Ot(u,"success");else{u.o=6;try{var z=Jn(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",Yl(u)}}finally{Bi(u)}}}}function Bi(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,y||Ot(u,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),pf(y)}};function qt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(u){const y={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(N(u[w]))continue;var E=Vc(u[w]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[z]||[];y[z]=K,K.push(E)}qe(y,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(u,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||y}function Sr(u){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,u),this.Za=bi("retryDelaySeedMs",1e4,u),this.Ta=bi("forwardChannelMaxRetries",2,u),this.va=bi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ll(u&&u.concurrentRequestLimit),this.Ba=new xr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Sr.prototype,r.ka=8,r.I=1,r.connect=function(u,y,E,w){bt(0),this.W=u,this.H=y||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=$c(this,null,this.W),Ti(this)};function $l(u){if(Ta(u),u.I==3){var y=u.V++,E=wt(u.J);if($e(E,"SID",u.M),$e(E,"RID",y),$e(E,"TYPE","terminate"),Os(u,E),y=new Qn(u,u.j,y),y.M=2,y.A=Rs(wt(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=Xc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),di(y)}Yc(u)}function Ar(u){u.g&&(Jl(u),u.g.cancel(),u.g=null)}function Ta(u){Ar(u),u.v&&(h.clearTimeout(u.v),u.v=null),wa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function Ti(u){if(!Pl(u.h)&&!u.m){u.m=!0;var y=u.Ea;ue||A(),me||(ue(),me=!0),R.add(y,u),u.D=0}}function xa(u,y){return gi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ui(g(u.Ea,u,y),Qc(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new Qn(this,this.j,u);let K=this.o;if(this.U&&(K?(K=M(K),ae(K,this.U)):K=this.U),this.u!==null||this.R||(z.J=K,K=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Hc(this,z,y),E=wt(this.J),$e(E,"RID",u),$e(E,"CVER",22),this.G&&$e(E,"X-HTTP-Session-Id",this.G),Os(this,E),K&&(this.R?y="headers="+zi(In(K))+"&"+y:this.u&&Is(E,this.u,K)),Ul(this.h,z),this.Ra&&$e(E,"TYPE","init"),this.S?($e(E,"$req",y),$e(E,"SID","null"),z.U=!0,fi(z,E,null)):fi(z,E,y),this.I=2}}else this.I==3&&(u?Xl(this,u):this.i.length==0||Pl(this.h)||Xl(this))};function Xl(u,y){var E;y?E=y.l:E=u.V++;const w=wt(u.J);$e(w,"SID",u.M),$e(w,"RID",E),$e(w,"AID",u.K),Os(u,w),u.u&&u.o&&Is(w,u.u,u.o),E=new Qn(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Hc(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ul(u.h,E),fi(E,w,y)}function Os(u,y){u.H&&Ae(u.H,function(E,w){$e(y,w,E)}),u.l&&Ae({},function(E,w){$e(y,w,E)})}function Hc(u,y,E){E=Math.min(u.i.length,E);const w=u.l?g(u.l.Ka,u.l,u):null;e:{var z=u.i;let Re=-1;for(;;){const gt=["count="+E];Re==-1?E>0?(Re=z[0].g,gt.push("ofs="+Re)):Re=0:gt.push("ofs="+Re);let Ke=!0;for(let ot=0;ot<E;ot++){var K=z[ot].g;const kn=z[ot].map;if(K-=Re,K<0)Re=Math.max(0,z[ot].g-100),Ke=!1;else try{K="req"+K+"_"||"";try{var se=kn instanceof Map?kn:Object.entries(kn);for(const[wi,Wn]of se){let Zn=Wn;m(Wn)&&(Zn=_r(Wn)),gt.push(K+wi+"="+encodeURIComponent(Zn))}}catch(wi){throw gt.push(K+"type="+encodeURIComponent("_badmap")),wi}}catch{w&&w(kn)}}if(Ke){se=gt.join("&");break e}}se=void 0}return u=u.i.splice(0,E),y.G=u,se}function Fc(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;ue||A(),me||(ue(),me=!0),R.add(y,u),u.A=0}}function Ms(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ui(g(u.Da,u),Qc(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Gc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ui(g(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Ar(this),Gc(this))};function Jl(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function Gc(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=wt(u.na);$e(y,"RID","rpc"),$e(y,"SID",u.M),$e(y,"AID",u.K),$e(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&$e(y,"TO",u.ia),$e(y,"TYPE","xmlhttp"),Os(u,y),u.u&&u.o&&Is(y,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=Rs(wt(y)),E.u=null,E.R=!0,pa(E,u)}r.Va=function(){this.C!=null&&(this.C=null,Ar(this),Ms(this),bt(19))};function wa(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Kc(u,y){var E=null;if(u.g==y){wa(u),Jl(u),u.g=null;var w=2}else if(yi(u.h,y))E=y.G,zl(u.h,y),w=1;else return;if(u.I!=0){if(y.o)if(w==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var z=u.D;w=ma(),Ot(w,new ci(w,E)),Ti(u)}else Fc(u);else if(z=y.m,z==3||z==0&&y.X>0||!(w==1&&xa(u,y)||w==2&&Ms(u)))switch(E&&E.length>0&&(y=u.h,y.i=y.i.concat(E)),z){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function Qc(u,y){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*y}function xi(u,y){if(u.j.info("Error code "+y),y==2){var E=g(u.bb,u),w=u.Ua;const z=!w;w=new pn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Lt(w,"https"),Rs(w),z?$n(w.toString(),E):Kl(w.toString(),E)}else bt(2);u.I=0,u.l&&u.l.pa(y),Yc(u),Ta(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Yc(u){if(u.I=0,u.ja=[],u.l){const y=Bl(u.h);(y.length!=0||u.i.length!=0)&&(k(u.ja,y),k(u.ja,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.oa()}}function $c(u,y,E){var w=E instanceof pn?wt(E):new pn(E);if(w.g!="")y&&(w.g=y+"."+w.g),vr(w,w.u);else{var z=h.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const K=new pn(null);w&&Lt(K,w),y&&(K.g=y),z&&vr(K,z),E&&(K.h=E),w=K}return E=u.G,y=u.wa,E&&y&&$e(w,E,y),$e(w,"VER",u.ka),Os(u,w),w}function Xc(u,y,E){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new We(new vi({ab:E})):new We(u.ma),y.Fa(u.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jc(){}r=Jc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Rr(){}Rr.prototype.g=function(u,y){return new nn(u,y)};function nn(u,y){Et.call(this),this.g=new Sr(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!N(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new Hi(this)}T(nn,Et),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){$l(this.g)},nn.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=_r(u),u=E);y.i.push(new xt(y.Ya++,u)),y.I==3&&Ti(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,$l(this.g),delete this.g,nn.Z.N.call(this)};function Wc(u){Bt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const E in y){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}T(Wc,Bt);function Zc(){Rn.call(this),this.status=1}T(Zc,Rn);function Hi(u){this.g=u}T(Hi,Jc),Hi.prototype.ra=function(){Ot(this.g,"a")},Hi.prototype.qa=function(u){Ot(this.g,new Wc(u))},Hi.prototype.pa=function(u){Ot(this.g,new Zc)},Hi.prototype.oa=function(){Ot(this.g,"b")},Rr.prototype.createWebChannel=Rr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,hb=function(){return new Rr},ub=function(){return ma()},cb=pt,Qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ss.NO_ERROR=0,Ss.TIMEOUT=8,Ss.HTTP_ERROR=6,yh=Ss,Vl.COMPLETE="complete",ob=Vl,kc.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Bo=kc,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,lb=We}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al="12.9.0";function xI(r){Al=r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new xp("@firebase/firestore");function nl(){return aa.logLevel}function ce(r,...e){if(aa.logLevel<=Le.DEBUG){const n=e.map(Mp);aa.debug(`Firestore (${Al}): ${r}`,...n)}}function fr(r,...e){if(aa.logLevel<=Le.ERROR){const n=e.map(Mp);aa.error(`Firestore (${Al}): ${r}`,...n)}}function la(r,...e){if(aa.logLevel<=Le.WARN){const n=e.map(Mp);aa.warn(`Firestore (${Al}): ${r}`,...n)}}function Mp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,fb(r,s,n)}function fb(r,e,n){let s=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw fr(s),new Error(s)}function Ye(r,e,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||fb(e,l,s)}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class SI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class AI{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zs,e.enqueueRetryable((()=>l(this.currentUser)))};const h=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zs)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new db(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class RI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class CI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new RI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Pv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Pv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Pv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=II(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=e.charAt(l[c]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function Ym(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return Cm(l)===Cm(c)?Pe(l,c):Cm(l)?1:-1}return Pe(r.length,e.length)}const kI=55296,DI=57343;function Cm(r){const e=r.charCodeAt(0);return e>=kI&&e<=DI}function ml(r,e,n){return r.length===e.length&&r.every(((s,l)=>n(s,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="__name__";class Ni{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const c=Ni.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Pe(e.length,n.length)}static compareSegments(e,n){const s=Ni.isNumericId(e),l=Ni.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Ni.extractNumericId(e).compare(Ni.extractNumericId(n)):Ym(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class it extends Ni{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const OI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Ni{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return OI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uv}static keyField(){return new Yt([Uv])}static fromServerFormat(e){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(s+=m,l++):(c(),l++)}if(c(),h)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(it.fromString(e))}static fromName(e){return new ge(it.fromString(e).popFirst(5))}static empty(){return new ge(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(r,e,n){if(!n)throw new le(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function MI(r,e,n,s){if(e===!0&&s===!0)throw new le(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function zv(r){if(!ge.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Bv(r){if(ge.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function pb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Wh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function as(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(r);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(r,e){const n={typeString:r};return e&&(n.value=e),n}function _c(r,e){if(!pb(r))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(l&&typeof h!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new le(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=-62135596800,Hv=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Hv);return new lt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qv)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hv}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_c(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:kt("string",lt._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new lt(0,0))}static max(){return new Te(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=-1;function VI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Te.fromTimestamp(s===1e9?new lt(n+1,0):new lt(n,s));return new os(l,ge.empty(),e)}function jI(r){return new os(r.readTime,r.key,tc)}class os{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new os(Te.min(),ge.empty(),tc)}static max(){return new os(Te.max(),ge.empty(),tc)}}function LI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==PI)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let l=0,c=0,h=!1;e.forEach((m=>{++l,m.next((()=>{++c,h&&c===l&&n()}),(p=>s(p)))})),h=!0,c===l&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((l=>l?te.resolve(l):s()));return n}static forEach(e,n){const s=[];return e.forEach(((l,c)=>{s.push(n.call(this,l,c))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,l)=>{const c=e.length,h=new Array(c);let m=0;for(let p=0;p<c;p++){const g=p;n(e[g]).next((b=>{h[g]=b,++m,m===c&&s(h)}),(b=>l(b)))}}))}static doWhile(e,n){return new te(((s,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):s()};c()}))}}function zI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=-1;function ef(r){return r==null}function Oh(r){return r===0&&1/r==-1/0}function BI(r){return typeof r=="number"&&Number.isInteger(r)&&!Oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="";function qI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Fv(e)),e=HI(r.get(n),e);return Fv(e)}function HI(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case gb:n+="";break;default:n+=c}}return n}function Fv(r){return r+gb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function gs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function yb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,l,c){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=l??Qt.EMPTY,this.right=c??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,c){return new Qt(e??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Qt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,l,c){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kv(this.data.getIterator())}getIteratorFrom(e){return new Kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class Kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Vt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new _b("Invalid base64 string: "+c):c}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let h=0;h<l.length;++h)c+=String.fromCharCode(l[h]);return c})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const FI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(r){if(Ye(!!r,39018),typeof r=="string"){let e=0;const n=FI.exec(r);if(Ye(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function us(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="server_timestamp",Eb="__type__",bb="__previous_value__",Tb="__local_write_time__";function Lp(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[Eb])==null?void 0:s.stringValue)===vb}function tf(r){const e=r.mapValue.fields[bb];return Lp(e)?tf(e):e}function nc(r){const e=cs(r.mapValue.fields[Tb].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n,s,l,c,h,m,p,g,b,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=b,this.apiKey=T}}const Mh="(default)";class ic{constructor(e,n){this.projectId=e,this.database=n||Mh}static empty(){return new ic("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(e){return e instanceof ic&&e.projectId===this.projectId&&e.database===this.database}}function KI(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ic(r.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="__type__",QI="__max__",lh={mapValue:{}},wb="__vector__",Vh="value";function hs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Lp(r)?4:$I(r)?9007199254740991:YI(r)?10:11:Ee(28295,{value:r})}function Vi(r,e){if(r===e)return!0;const n=hs(r);if(n!==hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nc(r).isEqual(nc(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const h=cs(l.timestampValue),m=cs(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return us(l.bytesValue).isEqual(us(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return vt(l.geoPointValue.latitude)===vt(c.geoPointValue.latitude)&&vt(l.geoPointValue.longitude)===vt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return vt(l.integerValue)===vt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const h=vt(l.doubleValue),m=vt(c.doubleValue);return h===m?Oh(h)===Oh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return ml(r.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(l,c){const h=l.mapValue.fields||{},m=c.mapValue.fields||{};if(Gv(h)!==Gv(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Vi(h[p],m[p])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function rc(r,e){return(r.values||[]).find((n=>Vi(n,e)))!==void 0}function pl(r,e){if(r===e)return 0;const n=hs(r),s=hs(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(c,h){const m=vt(c.integerValue||c.doubleValue),p=vt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return Qv(r.timestampValue,e.timestampValue);case 4:return Qv(nc(r),nc(e));case 5:return Ym(r.stringValue,e.stringValue);case 6:return(function(c,h){const m=us(c),p=us(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(c,h){const m=c.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const b=Pe(m[g],p[g]);if(b!==0)return b}return Pe(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,h){const m=Pe(vt(c.latitude),vt(h.latitude));return m!==0?m:Pe(vt(c.longitude),vt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Yv(r.arrayValue,e.arrayValue);case 10:return(function(c,h){var S,V,k,G;const m=c.fields||{},p=h.fields||{},g=(S=m[Vh])==null?void 0:S.arrayValue,b=(V=p[Vh])==null?void 0:V.arrayValue,T=Pe(((k=g==null?void 0:g.values)==null?void 0:k.length)||0,((G=b==null?void 0:b.values)==null?void 0:G.length)||0);return T!==0?T:Yv(g,b)})(r.mapValue,e.mapValue);case 11:return(function(c,h){if(c===lh.mapValue&&h===lh.mapValue)return 0;if(c===lh.mapValue)return 1;if(h===lh.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),g=h.fields||{},b=Object.keys(g);p.sort(),b.sort();for(let T=0;T<p.length&&T<b.length;++T){const S=Ym(p[T],b[T]);if(S!==0)return S;const V=pl(m[p[T]],g[b[T]]);if(V!==0)return V}return Pe(p.length,b.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function Qv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=cs(r),s=cs(e),l=Pe(n.seconds,s.seconds);return l!==0?l:Pe(n.nanos,s.nanos)}function Yv(r,e){const n=r.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=pl(n[l],s[l]);if(c)return c}return Pe(n.length,s.length)}function gl(r){return $m(r)}function $m(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=cs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return us(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=$m(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const h of s)c?c=!1:l+=",",l+=`${h}:${$m(n.fields[h])}`;return l+"}"})(r.mapValue):Ee(61005,{value:r})}function _h(r){switch(hs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tf(r);return e?16+_h(e):16;case 5:return 2*r.stringValue.length;case 6:return us(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+_h(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return gs(s.fields,((c,h)=>{l+=c.length+_h(h)})),l})(r.mapValue);default:throw Ee(13486,{value:r})}}function $v(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Xm(r){return!!r&&"integerValue"in r}function Pp(r){return!!r&&"arrayValue"in r}function Xv(r){return!!r&&"nullValue"in r}function Jv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function vh(r){return!!r&&"mapValue"in r}function YI(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[xb])==null?void 0:s.stringValue)===wb}function Qo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return gs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Qo(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qo(r.arrayValue.values[n]);return e}return{...r}}function $I(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===QI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qo(n)}setAll(e){let n=Yt.emptyPath(),s={},l=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=m.popLast()}h?s[m.lastSegment()]=Qo(h):l.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(e){const n=this.field(e.popLast());vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];vh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){gs(n,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new dn(Qo(this.value))}}function Sb(r){const e=[];return gs(r.fields,((n,s)=>{const l=new Yt([n]);if(vh(s)){const c=Sb(s.mapValue).fields;if(c.length===0)e.push(l);else for(const h of c)e.push(l.child(h))}else e.push(l)})),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,l,c,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Te.min(),Te.min(),Te.min(),dn.empty(),0)}static newFoundDocument(e,n,s,l){return new Zt(e,1,n,Te.min(),s,l,0)}static newNoDocument(e,n){return new Zt(e,2,n,Te.min(),Te.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Te.min(),Te.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.position=e,this.inclusive=n}}function Wv(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],h=r.position[l];if(c.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),n.key):s=pl(h,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Zv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Vi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n="asc"){this.field=e,this.dir=n}}function XI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{}class It extends Ab{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new WI(e,n,s):n==="array-contains"?new t4(e,s):n==="in"?new n4(e,s):n==="not-in"?new i4(e,s):n==="array-contains-any"?new r4(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new ZI(e,s):new e4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(pl(n,this.value)):n!==null&&hs(this.value)===hs(n)&&this.matchesComparison(pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends Ab{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new li(e,n)}matches(e){return Rb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Rb(r){return r.op==="and"}function Cb(r){return JI(r)&&Rb(r)}function JI(r){for(const e of r.filters)if(e instanceof li)return!1;return!0}function Jm(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+gl(r.value);if(Cb(r))return r.filters.map((e=>Jm(e))).join(",");{const e=r.filters.map((n=>Jm(n))).join(",");return`${r.op}(${e})`}}function Nb(r,e){return r instanceof It?(function(s,l){return l instanceof It&&s.op===l.op&&s.field.isEqual(l.field)&&Vi(s.value,l.value)})(r,e):r instanceof li?(function(s,l){return l instanceof li&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,h,m)=>c&&Nb(h,l.filters[m])),!0):!1})(r,e):void Ee(19439)}function Ib(r){return r instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${gl(n.value)}`})(r):r instanceof li?(function(n){return n.op.toString()+" {"+n.getFilters().map(Ib).join(" ,")+"}"})(r):"Filter"}class WI extends It{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZI extends It{constructor(e,n){super(e,"in",n),this.keys=kb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class e4 extends It{constructor(e,n){super(e,"not-in",n),this.keys=kb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function kb(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>ge.fromName(s.referenceValue)))}class t4 extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pp(n)&&rc(n.arrayValue,this.value)}}class n4 extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rc(this.value.arrayValue,n)}}class i4 extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rc(this.value.arrayValue,n)}}class r4 extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>rc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n=null,s=[],l=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=h,this.endAt=m,this.Te=null}}function e1(r,e=null,n=[],s=[],l=null,c=null,h=null){return new s4(r,e,n,s,l,c,h)}function Up(r){const e=Se(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Jm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>gl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>gl(s))).join(",")),e.Te=n}return e.Te}function zp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!XI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Nb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Zv(r.startAt,e.startAt)&&Zv(r.endAt,e.endAt)}function Wm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n=null,s=[],l=[],c=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function a4(r,e,n,s,l,c,h,m){return new Nl(r,e,n,s,l,c,h,m)}function Bp(r){return new Nl(r)}function t1(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function l4(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Db(r){return r.collectionGroup!==null}function Yo(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Vt(Yt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new sc(c,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new sc(Yt.keyField(),s))}return e.Ie}function Di(r){const e=Se(r);return e.Ee||(e.Ee=o4(e,Yo(r))),e.Ee}function o4(r,e){if(r.limitType==="F")return e1(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new sc(l.field,c)}));const n=r.endAt?new jh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new jh(r.startAt.position,r.startAt.inclusive):null;return e1(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Zm(r,e){const n=r.filters.concat([e]);return new Nl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function c4(r,e){const n=r.explicitOrderBy.concat([e]);return new Nl(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Lh(r,e,n){return new Nl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function nf(r,e){return zp(Di(r),Di(e))&&r.limitType===e.limitType}function Ob(r){return`${Up(Di(r))}|lt:${r.limitType}`}function il(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>Ib(l))).join(", ")}]`),ef(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>gl(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>gl(l))).join(",")),`Target(${s})`})(Di(r))}; limitType=${r.limitType})`}function rf(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ge.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of Yo(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(h,m,p){const g=Wv(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,Yo(s),l)||s.endAt&&!(function(h,m,p){const g=Wv(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,Yo(s),l))})(r,e)}function u4(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Mb(r){return(e,n)=>{let s=!1;for(const l of Yo(r)){const c=h4(l,e,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function h4(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):(function(c,h,m){const p=h.data.field(c),g=m.data.field(c);return p!==null&&g!==null?pl(p,g):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,((n,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return yb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=new ht(ge.comparator);function dr(){return f4}const Vb=new ht(ge.comparator);function qo(...r){let e=Vb;for(const n of r)e=e.insert(n.key,n);return e}function jb(r){let e=Vb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ws(){return $o()}function Lb(){return $o()}function $o(){return new fa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const d4=new ht(ge.comparator),m4=new Vt(ge.comparator);function Ue(...r){let e=m4;for(const n of r)e=e.add(n);return e}const p4=new Vt(Pe);function g4(){return p4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function Pb(r){return{integerValue:""+r}}function y4(r,e){return BI(e)?Pb(e):qp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(){this._=void 0}}function _4(r,e,n){return r instanceof Ph?(function(l,c){const h={fields:{[Eb]:{stringValue:vb},[Tb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Lp(c)&&(c=tf(c)),c&&(h.fields[bb]=c),{mapValue:h}})(n,e):r instanceof ac?zb(r,e):r instanceof lc?Bb(r,e):(function(l,c){const h=Ub(l,c),m=n1(h)+n1(l.Ae);return Xm(h)&&Xm(l.Ae)?Pb(m):qp(l.serializer,m)})(r,e)}function v4(r,e,n){return r instanceof ac?zb(r,e):r instanceof lc?Bb(r,e):n}function Ub(r,e){return r instanceof Uh?(function(s){return Xm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Ph extends sf{}class ac extends sf{constructor(e){super(),this.elements=e}}function zb(r,e){const n=qb(e);for(const s of r.elements)n.some((l=>Vi(l,s)))||n.push(s);return{arrayValue:{values:n}}}class lc extends sf{constructor(e){super(),this.elements=e}}function Bb(r,e){let n=qb(e);for(const s of r.elements)n=n.filter((l=>!Vi(l,s)));return{arrayValue:{values:n}}}class Uh extends sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function n1(r){return vt(r.integerValue||r.doubleValue)}function qb(r){return Pp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function E4(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof ac&&l instanceof ac||s instanceof lc&&l instanceof lc?ml(s.elements,l.elements,Vi):s instanceof Uh&&l instanceof Uh?Vi(s.Ae,l.Ae):s instanceof Ph&&l instanceof Ph})(r.transform,e.transform)}class b4{constructor(e,n){this.version=e,this.transformResults=n}}class ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class af{}function Hb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Hp(r.key,ri.none()):new vc(r.key,r.data,ri.none());{const n=r.data,s=dn.empty();let l=new Vt(Yt.comparator);for(let c of e.fields)if(!l.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?s.delete(c):s.set(c,h),l=l.add(c)}return new ys(r.key,s,new xn(l.toArray()),ri.none())}}function T4(r,e,n){r instanceof vc?(function(l,c,h){const m=l.value.clone(),p=r1(l.fieldTransforms,c,h.transformResults);m.setAll(p),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ys?(function(l,c,h){if(!Eh(l.precondition,c))return void c.convertToUnknownDocument(h.version);const m=r1(l.fieldTransforms,c,h.transformResults),p=c.data;p.setAll(Fb(l)),p.setAll(m),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(l,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Xo(r,e,n,s){return r instanceof vc?(function(c,h,m,p){if(!Eh(c.precondition,h))return m;const g=c.value.clone(),b=s1(c.fieldTransforms,p,h);return g.setAll(b),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof ys?(function(c,h,m,p){if(!Eh(c.precondition,h))return m;const g=s1(c.fieldTransforms,p,h),b=h.data;return b.setAll(Fb(c)),b.setAll(g),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(c,h,m){return Eh(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function x4(r,e){let n=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=Ub(s.transform,l||null);c!=null&&(n===null&&(n=dn.empty()),n.set(s.field,c))}return n||null}function i1(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&ml(s,l,((c,h)=>E4(c,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class vc extends af{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ys extends af{constructor(e,n,s,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Fb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function r1(r,e,n){const s=new Map;Ye(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let l=0;l<n.length;l++){const c=r[l],h=c.transform,m=e.data.field(c.field);s.set(c.field,v4(h,m,n[l]))}return s}function s1(r,e,n){const s=new Map;for(const l of r){const c=l.transform,h=n.data.field(l.field);s.set(l.field,_4(c,h,e))}return s}class Hp extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w4 extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&T4(c,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Xo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Xo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Lb();return this.mutations.forEach((l=>{const c=e.get(l.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=n.has(l.key)?null:m;const p=Hb(h,m);p!==null&&s.set(l.key,p),h.isValidDocument()||h.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,((n,s)=>i1(n,s)))&&ml(this.baseMutations,e.baseMutations,((n,s)=>i1(n,s)))}}class Fp{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return d4})();const c=e.mutations;for(let h=0;h<c.length;h++)l=l.insert(c[h].key,s[h].version);return new Fp(e,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Be;function C4(r){switch(r){case Z.OK:return Ee(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function Gb(r){if(r===void 0)return fr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Nt.OK:return Z.OK;case Nt.CANCELLED:return Z.CANCELLED;case Nt.UNKNOWN:return Z.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return Z.INTERNAL;case Nt.UNAVAILABLE:return Z.UNAVAILABLE;case Nt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Nt.NOT_FOUND:return Z.NOT_FOUND;case Nt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Nt.ABORTED:return Z.ABORTED;case Nt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Nt.DATA_LOSS:return Z.DATA_LOSS;default:return Ee(39323,{code:r})}}(Be=Nt||(Nt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=new ss([4294967295,4294967295],0);function a1(r){const e=N4().encode(r),n=new ab;return n.update(e),new Uint8Array(n.digest())}function l1(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ss([n,s],0),new ss([l,c],0)]}class Gp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ho(`Invalid padding: ${n}`);if(s<0)throw new Ho(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ho(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ho(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ss.fromNumber(this.ge)}ye(e,n,s){let l=e.add(n.multiply(ss.fromNumber(s)));return l.compare(I4)===1&&(l=new ss([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=a1(e),[s,l]=l1(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,l,c);if(!this.we(h))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Gp(c,l,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=a1(e),[s,l]=l1(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,l,c);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,s,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,Ec.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new lf(Te.min(),l,new ht(Pe),dr(),Ue())}}class Ec{constructor(e,n,s,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ec(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n,s,l){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=l}}class Kb{constructor(e,n){this.targetId=e,this.Ce=n}}class Qb{constructor(e,n,s=$t.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class o1{constructor(){this.ve=0,this.Fe=c1(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Ee(38017,{changeType:c})}})),new Ec(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=c1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class k4{constructor(e){this.Ge=e,this.ze=new Map,this.je=dr(),this.He=oh(),this.Je=oh(),this.Ze=new ht(Pe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,s=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(Wm(c))if(s===0){const h=new ge(c.path);this.et(n,h,Zt.newNoDocument(h,Te.min()))}else Ye(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let h,m;try{h=us(s).toUint8Array()}catch(p){if(p instanceof _b)return la("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Gp(h,l,c)}catch(p){return la(p instanceof Ho?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((c=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const m=this.ot(h);if(m){if(c.current&&Wm(m.target)){const p=new ge(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,Zt.newNoDocument(p,e))}c.Be&&(n.set(h,c.ke()),c.Ke())}}));let s=Ue();this.Je.forEach(((c,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const l=new lf(e,n,this.Ze,this.je,s);return this.je=dr(),this.He=oh(),this.Je=oh(),this.Ze=new ht(Pe),l}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new o1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Vt(Pe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Vt(Pe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new o1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function oh(){return new ht(ge.comparator)}function c1(){return new ht(ge.comparator)}const D4={asc:"ASCENDING",desc:"DESCENDING"},O4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M4={and:"AND",or:"OR"};class V4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ep(r,e){return r.useProto3Json||ef(e)?e:{value:e}}function zh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function j4(r,e){return zh(r,e.toTimestamp())}function Oi(r){return Ye(!!r,49232),Te.fromTimestamp((function(n){const s=cs(n);return new lt(s.seconds,s.nanos)})(r))}function Kp(r,e){return tp(r,e).canonicalString()}function tp(r,e){const n=(function(l){return new it(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?n:n.child(e)}function $b(r){const e=it.fromString(r);return Ye(eT(e),10190,{key:e.toString()}),e}function np(r,e){return Kp(r.databaseId,e.path)}function Nm(r,e){const n=$b(e);if(n.get(1)!==r.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(Jb(n))}function Xb(r,e){return Kp(r.databaseId,e)}function L4(r){const e=$b(r);return e.length===4?it.emptyPath():Jb(e)}function ip(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Jb(r){return Ye(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function u1(r,e,n){return{name:np(r,e),fields:n.value.mapValue.fields}}function P4(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(g,b){return g.useProto3Json?(Ye(b===void 0||typeof b=="string",58123),$t.fromBase64String(b||"")):(Ye(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),$t.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const b=g.code===void 0?Z.UNKNOWN:Gb(g.code);return new le(b,g.message||"")})(h);n=new Qb(s,l,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Nm(r,s.document.name),c=Oi(s.document.updateTime),h=s.document.createTime?Oi(s.document.createTime):Te.min(),m=new dn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(l,c,h,m),g=s.targetIds||[],b=s.removedTargetIds||[];n=new bh(g,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Nm(r,s.document),c=s.readTime?Oi(s.readTime):Te.min(),h=Zt.newNoDocument(l,c),m=s.removedTargetIds||[];n=new bh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Nm(r,s.document),c=s.removedTargetIds||[];n=new bh([],c,l,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,h=new R4(l,c),m=s.targetId;n=new Kb(m,h)}}return n}function U4(r,e){let n;if(e instanceof vc)n={update:u1(r,e.key,e.value)};else if(e instanceof Hp)n={delete:np(r,e.key)};else if(e instanceof ys)n={update:u1(r,e.key,e.data),updateMask:Y4(e.fieldMask)};else{if(!(e instanceof w4))return Ee(16599,{dt:e.type});n={verify:np(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,h){const m=h.transform;if(m instanceof Ph)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ac)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:j4(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(r,e.precondition)),n}function z4(r,e){return r&&r.length>0?(Ye(e!==void 0,14353),r.map((n=>(function(l,c){let h=l.updateTime?Oi(l.updateTime):Oi(c);return h.isEqual(Te.min())&&(h=Oi(c)),new b4(h,l.transformResults||[])})(n,e)))):[]}function B4(r,e){return{documents:[Xb(r,e.path)]}}function q4(r,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Xb(r,l);const c=(function(g){if(g.length!==0)return Zb(li.create(g,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(g){if(g.length!==0)return g.map((b=>(function(S){return{field:rl(S.field),direction:G4(S.dir)}})(b)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=ep(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:l}}function H4(r){let e=L4(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ye(s===1,65062);const b=n.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];n.where&&(c=(function(T){const S=Wb(T);return S instanceof li&&Cb(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((S=>(function(k){return new sc(sl(k.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,ef(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(T){const S=!!T.before,V=T.values||[];return new jh(V,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const S=!T.before,V=T.values||[];return new jh(V,S)})(n.endAt)),a4(e,l,h,c,m,"F",p,g)}function F4(r,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Wb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=sl(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=sl(n.unaryFilter.field);return It.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=sl(n.unaryFilter.field);return It.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=sl(n.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return It.create(sl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return li.create(n.compositeFilter.filters.map((s=>Wb(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function G4(r){return D4[r]}function K4(r){return O4[r]}function Q4(r){return M4[r]}function rl(r){return{fieldPath:r.canonicalString()}}function sl(r){return Yt.fromServerFormat(r.fieldPath)}function Zb(r){return r instanceof It?(function(n){if(n.op==="=="){if(Jv(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NAN"}};if(Xv(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jv(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NAN"}};if(Xv(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(n.field),op:K4(n.op),value:n.value}}})(r):r instanceof li?(function(n){const s=n.getFilters().map((l=>Zb(l)));return s.length===1?s[0]:{compositeFilter:{op:Q4(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function Y4(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function eT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function tT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,s,l,c=Te.min(),h=Te.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.yt=e}}function X4(r){const e=H4({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Lh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.Sn=new W4}addToCollectionParentIndex(e,n){return this.Sn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(os.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(os.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class W4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Vt(it.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Vt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nT=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(nT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new yl(0)}static ar(){return new yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="LruGarbageCollector",Z4=1048576;function d1([r,e],[n,s]){const l=Pe(r,n);return l===0?Pe(e,s):l}class ek{constructor(e){this.Pr=e,this.buffer=new Vt(d1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();d1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tk{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(f1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cl(n)?ce(f1,"Ignoring IndexedDB error during garbage collection: ",n):await Rl(n)}await this.Ar(3e5)}))}}class nk{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Zh.ce);const s=new ek(n);return this.Vr.forEachTarget(e,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(h1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h1):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,l,c,h,m,p,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),l=this.params.maximumSequenceNumbersToCollect):l=T,h=Date.now(),this.nthSequenceNumber(e,l)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(c=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),nl()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-b}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-b}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:T}))))}}function ik(r,e){return new nk(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.changes=new fa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(s!==null&&Xo(s.mutation,l,xn.empty(),lt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const l=Ws();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,s).next((c=>{let h=qo();return c.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Ws();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const l=[];return s.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,l){let c=dr();const h=$o(),m=(function(){return $o()})();return n.forEach(((p,g)=>{const b=s.get(g.key);l.has(g.key)&&(b===void 0||b.mutation instanceof ys)?c=c.insert(g.key,g):b!==void 0?(h.set(g.key,b.mutation.getFieldMask()),Xo(b.mutation,g,b.mutation.getFieldMask(),lt.now())):h.set(g.key,xn.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((g,b)=>h.set(g,b))),n.forEach(((g,b)=>m.set(g,new sk(b,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=$o();let l=new ht(((h,m)=>h-m)),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let b=s.get(p)||xn.empty();b=m.applyToLocalView(g,b),s.set(p,b);const T=(l.get(m.batchId)||Ue()).add(p);l=l.insert(m.batchId,T)}))})).next((()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,b=p.value,T=Lb();b.forEach((S=>{if(!c.has(S)){const V=Hb(n.get(S),s.get(S));V!==null&&T.set(S,V),c=c.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return te.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,l){return l4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Db(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next((c=>{const h=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-c.size):te.resolve(Ws());let m=tc,p=c;return h.next((g=>te.forEach(g,((b,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(b)?te.resolve():this.remoteDocumentCache.getEntry(e,b).next((S=>{p=p.insert(b,S)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,p,g,Ue()))).next((b=>({batchId:m,changes:jb(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let l=qo();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const c=n.collectionGroup;let h=qo();return this.indexManager.getCollectionParents(e,c).next((m=>te.forEach(m,(p=>{const g=(function(T,S){return new Nl(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,s,l).next((b=>{b.forEach(((T,S)=>{h=h.insert(T,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,l)))).next((h=>{c.forEach(((p,g)=>{const b=g.getKey();h.get(b)===null&&(h=h.insert(b,Zt.newInvalidDocument(b)))}));let m=qo();return h.forEach(((p,g)=>{const b=c.get(p);b!==void 0&&Xo(b.mutation,g,xn.empty(),lt.now()),rf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return te.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:X4(l.bundledQuery),readTime:Oi(l.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this.overlays=new ht(ge.comparator),this.Lr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ws();return te.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((l,c)=>{this.bt(e,n,c)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const l=Ws(),c=n.length+1,h=new ge(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return te.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let c=new ht(((g,b)=>g-b));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let b=c.get(g.largestBatchId);b===null&&(b=Ws(),c=c.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const m=Ws(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,b)=>m.set(g,b))),!(m.size()>=l)););return te.resolve(m)}bt(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const h=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new A4(n,s));let c=this.Lr.get(n);c===void 0&&(c=Ue(),this.Lr.set(n,c)),this.Lr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this.kr=new Vt(Ut.Kr),this.qr=new Vt(Ut.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Ut(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new ge(new it([])),s=new Ut(n,e),l=new Ut(n,e+1),c=[];return this.qr.forEachInRange([s,l],(h=>{this.Wr(h),c.push(h.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ge(new it([])),s=new Ut(n,e),l=new Ut(n,e+1);let c=Ue();return this.qr.forEachInRange([s,l],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new Ut(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ge.comparator(e.key,n.key)||Pe(e.Hr,n.Hr)}static Ur(e,n){return Pe(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Vt(Ut.Kr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new S4(c,n,s,l);this.mutationQueue.push(h);for(const m of l)this.Jr=this.Jr.add(new Ut(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.Xr(s),c=l<0?0:l;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?jp:this.Yn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),l=new Ut(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,l],(h=>{const m=this.Zr(h.Hr);c.push(m)})),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(Pe);return n.forEach((l=>{const c=new Ut(l,0),h=new Ut(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,h],(m=>{s=s.add(m.Hr)}))})),te.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let c=s;ge.isDocumentKey(c)||(c=c.child(""));const h=new Ut(new ge(c),0);let m=new Vt(Pe);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===l&&(m=m.add(p.Hr)),!0)}),h),te.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const l=this.Zr(s);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Ye(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return te.forEach(n.mutations,(l=>{const c=new Ut(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Ut(n,0),l=this.Jr.firstAfterOrEqual(s);return te.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.ti=e,this.docs=(function(){return new ht(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=dr();return n.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Zt.newInvalidDocument(l))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let c=dr();const h=n.path,m=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:b}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||LI(jI(b),s)<=0||(l.has(b.key)||rf(n,b))&&(c=c.insert(b.key,b.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(e,n,s,l){Ee(9500)}ni(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new fk(this)}getSize(e){return te.resolve(this.size)}}class fk extends rk{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.persistence=e,this.ri=new fa((n=>Up(n)),zp),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.ii=0,this.si=new Qp,this.targetCount=0,this.oi=yl._r()}forEachTarget(e,n){return this.ri.forEach(((s,l)=>n(l))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),te.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new yl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.lr(n),te.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let l=0;const c=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)})),te.waitFor(c).next((()=>l))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((h=>{c.push(l.markPotentiallyOrphaned(e,h))})),te.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n){this._i={},this.overlays={},this.ai=new Zh(0),this.ui=!1,this.ui=!0,this.ci=new ck,this.referenceDelegate=e(this),this.li=new dk(this),this.indexManager=new J4,this.remoteDocumentCache=(function(l){return new hk(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new $4(n),this.Pi=new lk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ok,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new uk(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const l=new mk(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,n){return te.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class mk extends UI{constructor(e){super(),this.currentSequenceNumber=e}}class Yp{constructor(e){this.persistence=e,this.Ri=new Qp,this.Ai=null}static Vi(e){return new Yp(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,(s=>{const l=ge.fromPath(s);return this.mi(e,l).next((c=>{c||n.removeEntry(l,Te.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Bh{constructor(e,n){this.persistence=e,this.fi=new fa((s=>qI(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=ik(this,n)}static Vi(e,n){return new Bh(e,n)}Ti(){}Ii(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((l=>s+l))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return te.forEach(this.fi,((s,l)=>this.wr(e,s,l).next((c=>c?te.resolve():n(l)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,c.removeEntry(h,Te.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_h(e.data.value)),n}wr(e,n,s){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.fi.get(n);return te.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=l}static Es(e,n){let s=Ue(),l=Ue();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new $p(e,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return H2()?8:zI(en())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,l){const c={result:null};return this.gs(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ps(e,n,l,s).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new pk;return this.ys(e,n,h).next((m=>{if(c.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>c.result))}ws(e,n,s,l){return s.documentReadCount<this.Vs?(nl()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",il(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(nl()<=Le.DEBUG&&ce("QueryEngine","Query:",il(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(nl()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",il(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(n))):te.resolve())}gs(e,n){if(t1(n))return te.resolve(null);let s=Di(n);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Lh(n,null,"F"),s=Di(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const h=Ue(...c);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,m);return this.Ss(n,g,h,p.readTime)?this.gs(e,Lh(n,null,"F")):this.Ds(e,g,n,p)}))))})))))}ps(e,n,s,l){return t1(n)||l.isEqual(Te.min())?te.resolve(null):this.fs.getDocuments(e,s).next((c=>{const h=this.bs(n,c);return this.Ss(n,h,s,l)?te.resolve(null):(nl()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),il(n)),this.Ds(e,h,n,VI(l,tc)).next((m=>m)))}))}bs(e,n){let s=new Vt(Mb(e));return n.forEach(((l,c)=>{rf(e,c)&&(s=s.add(c))})),s}Ss(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,n,s){return nl()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",il(n)),this.fs.getDocumentsMatchingQuery(e,n,os.min(),s)}Ds(e,n,s,l){return this.fs.getDocumentsMatchingQuery(e,s,l).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="LocalStore",yk=3e8;class _k{constructor(e,n,s,l){this.persistence=e,this.Cs=n,this.serializer=l,this.vs=new ht(Pe),this.Fs=new fa((c=>Up(c)),zp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ak(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function vk(r,e,n,s){return new _k(r,e,n,s)}async function rT(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const h=[],m=[];let p=Ue();for(const g of l){h.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}for(const g of c){m.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function Ek(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,b){const T=g.batch,S=T.keys();let V=te.resolve();return S.forEach((k=>{V=V.next((()=>b.getEntry(p,k))).next((G=>{const H=g.docVersions.get(k);Ye(H!==null,48541),G.version.compareTo(H)<0&&(T.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),b.addEntry(G)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function sT(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function bk(r,e){const n=Se(r),s=e.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const m=[];e.targetChanges.forEach(((b,T)=>{const S=l.get(T);if(!S)return;m.push(n.li.removeMatchingKeys(c,b.removedDocuments,T).next((()=>n.li.addMatchingKeys(c,b.addedDocuments,T))));let V=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?V=V.withResumeToken($t.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):b.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(b.resumeToken,s)),l=l.insert(T,V),(function(G,H,ne){return G.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=yk?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(S,V,b)&&m.push(n.li.updateTargetData(c,V))}));let p=dr(),g=Ue();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,b))})),m.push(Tk(c,h,e.documentUpdates).next((b=>{p=b.Bs,g=b.Ls}))),!s.isEqual(Te.min())){const b=n.li.getLastRemoteSnapshotVersion(c).next((T=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(b)}return te.waitFor(m).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,g))).next((()=>p))})).then((c=>(n.vs=l,c)))}function Tk(r,e,n){let s=Ue(),l=Ue();return n.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let h=dr();return n.forEach(((m,p)=>{const g=c.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ce(Xp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:h,Ls:l}}))}function xk(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=jp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function wk(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.li.getTargetData(s,e).next((c=>c?(l=c,te.resolve(l)):n.li.allocateTargetId(s).next((h=>(l=new ts(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function rp(r,e,n){const s=Se(r),l=s.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(h=>s.persistence.referenceDelegate.removeTarget(h,l)))}catch(h){if(!Cl(h))throw h;ce(Xp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(l.target)}function m1(r,e,n){const s=Se(r);let l=Te.min(),c=Ue();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,b){const T=Se(p),S=T.Fs.get(b);return S!==void 0?te.resolve(T.vs.get(S)):T.li.getTargetData(g,b)})(s,h,Di(e)).next((m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((p=>{c=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?l:Te.min(),n?c:Ue()))).next((m=>(Sk(s,u4(e),m),{documents:m,ks:c})))))}function Sk(r,e,n){let s=r.Ms.get(e)||Te.min();n.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(e,s)}class p1{constructor(){this.activeTargetIds=g4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ak{constructor(){this.vo=new p1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new p1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="ConnectivityMonitor";class y1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(g1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(g1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function sp(){return ch===null?ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="RestConnection",Ck={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Nk{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===Mh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(e,n,s,l,c){const h=sp(),m=this.Qo(e,n.toUriEncodedString());ce(Im,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,l,c);const{host:g}=new URL(m),b=xl(g);return this.zo(e,m,p,s,b).then((T=>(ce(Im,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw la(Im,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}jo(e,n,s,l,c,h){return this.Wo(e,n,s,l,c)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}Qo(e,n){const s=Ck[e];let l=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection",Po=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class ul extends Nk{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ul.c_){const e=ub();Po(e,cb.STAT_EVENT,(n=>{n.stat===Qm.PROXY?ce(Jt,"STAT_EVENT: detected buffering proxy"):n.stat===Qm.NOPROXY&&ce(Jt,"STAT_EVENT: detected no buffering proxy")})),ul.c_=!0}}zo(e,n,s,l,c){const h=sp();return new Promise(((m,p)=>{const g=new lb;g.setWithCredentials(!0),g.listenOnce(ob.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case yh.NO_ERROR:const T=g.getResponseJson();ce(Jt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case yh.TIMEOUT:ce(Jt,`RPC '${e}' ${h} timed out`),p(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const S=g.getStatus();if(ce(Jt,`RPC '${e}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const k=V==null?void 0:V.error;if(k&&k.status&&k.message){const G=(function(ne){const ie=ne.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ie)>=0?ie:Z.UNKNOWN})(k.status);p(new le(G,k.message))}else p(new le(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(Z.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(Jt,`RPC '${e}' ${h} completed.`)}}));const b=JSON.stringify(l);ce(Jt,`RPC '${e}' ${h} sending request:`,l),g.send(n,"POST",b,s,15)}))}T_(e,n,s){const l=sp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const g=c.join("");ce(Jt,`Creating RPC '${e}' stream ${l}: ${g}`,m);const b=h.createWebChannel(g,m);this.I_(b);let T=!1,S=!1;const V=new Ik({Ho:k=>{S?ce(Jt,`Not sending because RPC '${e}' stream ${l} is closed:`,k):(T||(ce(Jt,`Opening RPC '${e}' stream ${l} transport.`),b.open(),T=!0),ce(Jt,`RPC '${e}' stream ${l} sending:`,k),b.send(k))},Jo:()=>b.close()});return Po(b,Bo.EventType.OPEN,(()=>{S||(ce(Jt,`RPC '${e}' stream ${l} transport opened.`),V.i_())})),Po(b,Bo.EventType.CLOSE,(()=>{S||(S=!0,ce(Jt,`RPC '${e}' stream ${l} transport closed`),V.o_(),this.E_(b))})),Po(b,Bo.EventType.ERROR,(k=>{S||(S=!0,la(Jt,`RPC '${e}' stream ${l} transport errored. Name:`,k.name,"Message:",k.message),V.o_(new le(Z.UNAVAILABLE,"The operation could not be completed")))})),Po(b,Bo.EventType.MESSAGE,(k=>{var G;if(!S){const H=k.data[0];Ye(!!H,16349);const ne=H,ie=(ne==null?void 0:ne.error)||((G=ne[0])==null?void 0:G.error);if(ie){ce(Jt,`RPC '${e}' stream ${l} received error:`,ie);const ee=ie.status;let be=(function(R){const A=Nt[R];if(A!==void 0)return Gb(A)})(ee),ue=ie.message;ee==="NOT_FOUND"&&ue.includes("database")&&ue.includes("does not exist")&&ue.includes(this.databaseId.database)&&la(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),be===void 0&&(be=Z.INTERNAL,ue="Unknown error status: "+ee+" with message "+ie.message),S=!0,V.o_(new le(be,ue)),b.close()}else ce(Jt,`RPC '${e}' stream ${l} received:`,H),V.__(H)}})),ul.u_(),setTimeout((()=>{V.s_()}),0),V}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return hb()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(r){return new ul(r)}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(r){return new V4(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ul.c_=!1;class aT{constructor(e,n,s=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&ce("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="PersistentStream";class lT{constructor(e,n,s,l,c,h,m,p){this.Ci=e,this.b_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{e((()=>{const l=new le(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(_1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce(_1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Dk extends lT{constructor(e,n,s,l,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=P4(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Te.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?Oi(h.readTime):Te.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=ip(this.serializer),n.addTarget=(function(c,h){let m;const p=h.target;if(m=Wm(p)?{documents:B4(c,p)}:{query:q4(c,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Yb(c,h.resumeToken);const g=ep(c,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Te.min())>0){m.readTime=zh(c,h.snapshotVersion.toTimestamp());const g=ep(c,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=F4(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=ip(this.serializer),n.removeTarget=e,this.K_(n)}}class Ok extends lT{constructor(e,n,s,l,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,h),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=z4(e.writeResults,e.commitTime),s=Oi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ip(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>U4(this.serializer,s)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{}class Vk extends Mk{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Wo(e,tp(n,s),l,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(Z.UNKNOWN,c.toString())}))}jo(e,n,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,tp(n,s),l,h,m,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(Z.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function jk(r,e,n,s){return new Vk(r,e,n,s)}class Lk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class Pk{constructor(e,n,s,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{da(this)&&(ce(oa,"Restarting streams for network reachability change."),await(async function(p){const g=Se(p);g.Ea.add(4),await bc(g),g.Va.set("Unknown"),g.Ea.delete(4),await cf(g)})(this))}))})),this.Va=new Lk(s,l)}}async function cf(r){if(da(r))for(const e of r.Ra)await e(!0)}async function bc(r){for(const e of r.Ra)await e(!1)}function oT(r,e){const n=Se(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),eg(n)?Zp(n):Il(n).O_()&&Wp(n,e))}function Jp(r,e){const n=Se(r),s=Il(n);n.Ia.delete(e),s.O_()&&cT(n,e),n.Ia.size===0&&(s.O_()?s.L_():da(n)&&n.Va.set("Unknown"))}function Wp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Il(r).Z_(e)}function cT(r,e){r.da.$e(e),Il(r).X_(e)}function Zp(r){r.da=new k4({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Il(r).start(),r.Va.ua()}function eg(r){return da(r)&&!Il(r).x_()&&r.Ia.size>0}function da(r){return Se(r).Ea.size===0}function uT(r){r.da=void 0}async function Uk(r){r.Va.set("Online")}async function zk(r){r.Ia.forEach(((e,n)=>{Wp(r,e)}))}async function Bk(r,e){uT(r),eg(r)?(r.Va.ha(e),Zp(r)):r.Va.set("Unknown")}async function qk(r,e,n){if(r.Va.set("Online"),e instanceof Qb&&e.state===2&&e.cause)try{await(async function(l,c){const h=c.cause;for(const m of c.targetIds)l.Ia.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.Ia.delete(m),l.da.removeTarget(m))})(r,e)}catch(s){ce(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await qh(r,s)}else if(e instanceof bh?r.da.Xe(e):e instanceof Kb?r.da.st(e):r.da.tt(e),!n.isEqual(Te.min()))try{const s=await sT(r.localStore);n.compareTo(s)>=0&&await(function(c,h){const m=c.da.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const b=c.Ia.get(g);b&&c.Ia.set(g,b.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const b=c.Ia.get(p);if(!b)return;c.Ia.set(p,b.withResumeToken($t.EMPTY_BYTE_STRING,b.snapshotVersion)),cT(c,p);const T=new ts(b.target,p,g,b.sequenceNumber);Wp(c,T)})),c.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(oa,"Failed to raise snapshot:",s),await qh(r,s)}}async function qh(r,e,n){if(!Cl(e))throw e;r.Ea.add(1),await bc(r),r.Va.set("Offline"),n||(n=()=>sT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(oa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await cf(r)}))}function hT(r,e){return e().catch((n=>qh(r,n,e)))}async function uf(r){const e=Se(r),n=fs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jp;for(;Hk(e);)try{const l=await xk(e.localStore,s);if(l===null){e.Ta.length===0&&n.L_();break}s=l.batchId,Fk(e,l)}catch(l){await qh(e,l)}fT(e)&&dT(e)}function Hk(r){return da(r)&&r.Ta.length<10}function Fk(r,e){r.Ta.push(e);const n=fs(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function fT(r){return da(r)&&!fs(r).x_()&&r.Ta.length>0}function dT(r){fs(r).start()}async function Gk(r){fs(r).ra()}async function Kk(r){const e=fs(r);for(const n of r.Ta)e.ea(n.mutations)}async function Qk(r,e,n){const s=r.Ta.shift(),l=Fp.from(s,e,n);await hT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await uf(r)}async function Yk(r,e){e&&fs(r).Y_&&await(async function(s,l){if((function(h){return C4(h)&&h!==Z.ABORTED})(l.code)){const c=s.Ta.shift();fs(s).B_(),await hT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await uf(s)}})(r,e),fT(r)&&dT(r)}async function v1(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),ce(oa,"RemoteStore received new credentials");const s=da(n);n.Ea.add(3),await bc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cf(n)}async function $k(r,e){const n=Se(r);e?(n.Ea.delete(2),await cf(n)):e||(n.Ea.add(2),await bc(n),n.Va.set("Unknown"))}function Il(r){return r.ma||(r.ma=(function(n,s,l){const c=Se(n);return c.sa(),new Dk(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:Uk.bind(null,r),Yo:zk.bind(null,r),t_:Bk.bind(null,r),J_:qk.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),eg(r)?Zp(r):r.Va.set("Unknown")):(await r.ma.stop(),uT(r))}))),r.ma}function fs(r){return r.fa||(r.fa=(function(n,s,l){const c=Se(n);return c.sa(),new Ok(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Gk.bind(null,r),t_:Yk.bind(null,r),ta:Kk.bind(null,r),na:Qk.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await uf(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(oa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,s,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,c){const h=Date.now()+s,m=new tg(e,n,h,l,c);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(r,e){if(fr("AsyncQueue",`${e}: ${r}`),Cl(r))return new le(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{static emptySet(e){return new hl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=qo(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new hl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.ga=new ht(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class _l{constructor(e,n,s,l,c,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,l,c){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new _l(e,n,hl.emptySet(n),h,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Jk{constructor(){this.queries=b1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Se(n),c=l.queries;l.queries=b1(),c.forEach(((h,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function b1(){return new fa((r=>Ob(r)),nf)}async function Wk(r,e){const n=Se(r);let s=3;const l=e.query;let c=n.queries.get(l);c?!c.Sa()&&e.Da()&&(s=2):(c=new Xk,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(h){const m=ng(h,`Initialization of query '${il(e.query)}' failed`);return void e.onError(m)}n.queries.set(l,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&ig(n)}async function Zk(r,e){const n=Se(r),s=e.query;let l=3;const c=n.queries.get(s);if(c){const h=c.ba.indexOf(e);h>=0&&(c.ba.splice(h,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function eD(r,e){const n=Se(r);let s=!1;for(const l of e){const c=l.query,h=n.queries.get(c);if(h){for(const m of h.ba)m.Fa(l)&&(s=!0);h.wa=l}}s&&ig(n)}function tD(r,e,n){const s=Se(r),l=s.queries.get(e);if(l)for(const c of l.ba)c.onError(n);s.queries.delete(e)}function ig(r){r.Ca.forEach((e=>{e.next()}))}var ap,T1;(T1=ap||(ap={})).Ma="default",T1.Cache="cache";class nD{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new _l(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){this.key=e}}class pT{constructor(e){this.key=e}}class iD{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.eu=Mb(e),this.tu=new hl(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new E1,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,T)=>{const S=l.get(b),V=rf(this.query,T)?T:null,k=!!S&&this.mutatedKeys.has(S.key),G=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let H=!1;S&&V?S.data.isEqual(V.data)?k!==G&&(s.track({type:3,doc:V}),H=!0):this.su(S,V)||(s.track({type:2,doc:V}),H=!0,(p&&this.eu(V,p)>0||g&&this.eu(V,g)<0)&&(m=!0)):!S&&V?(s.track({type:0,doc:V}),H=!0):S&&!V&&(s.track({type:1,doc:S}),H=!0,(p||g)&&(m=!0)),H&&(V?(h=h.add(V),c=G?c.add(b):c.delete(b)):(h=h.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const b=this.query.limitType==="F"?h.last():h.first();h=h.delete(b.key),c=c.delete(b.key),s.track({type:1,doc:b})}return{tu:h,iu:s,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((b,T)=>(function(V,k){const G=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:H})}};return G(V)-G(k)})(b.type,T.type)||this.eu(b.doc,T.doc))),this.ou(s),l=l??!1;const m=n&&!l?this._u():[],p=this.Ya.size===0&&this.current&&!l?1:0,g=p!==this.Xa;return this.Xa=p,h.length!==0||g?{snapshot:new _l(this.query,e.tu,c,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new E1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new pT(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new mT(s))})),n}cu(e){this.Za=e.ks,this.Ya=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _l.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const rg="SyncEngine";class rD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class sD{constructor(e){this.key=e,this.hu=!1}}class aD{constructor(e,n,s,l,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new fa((m=>Ob(m)),nf),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(ge.comparator),this.Au=new Map,this.Vu=new Qp,this.du={},this.mu=new Map,this.fu=yl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lD(r,e,n=!0){const s=bT(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await gT(s,e,n,!0),l}async function oD(r,e){const n=bT(r);await gT(n,e,!0,!1)}async function gT(r,e,n,s){const l=await wk(r.localStore,Di(e)),c=l.targetId,h=r.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await cD(r,e,c,h==="current",l.resumeToken)),r.isPrimaryClient&&n&&oT(r.remoteStore,l),m}async function cD(r,e,n,s,l){r.pu=(T,S,V)=>(async function(G,H,ne,ie){let ee=H.view.ru(ne);ee.Ss&&(ee=await m1(G.localStore,H.query,!1).then((({documents:R})=>H.view.ru(R,ee))));const be=ie&&ie.targetChanges.get(H.targetId),ue=ie&&ie.targetMismatches.get(H.targetId)!=null,me=H.view.applyChanges(ee,G.isPrimaryClient,be,ue);return w1(G,H.targetId,me.au),me.snapshot})(r,T,S,V);const c=await m1(r.localStore,e,!0),h=new iD(e,c.ks),m=h.ru(c.documents),p=Ec.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),g=h.applyChanges(m,r.isPrimaryClient,p);w1(r,n,g.au);const b=new rD(e,n,h);return r.Tu.set(e,b),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function uD(r,e,n){const s=Se(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((h=>!nf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await rp(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Jp(s.remoteStore,l.targetId),lp(s,l.targetId)})).catch(Rl)):(lp(s,l.targetId),await rp(s.localStore,l.targetId,!0))}async function hD(r,e){const n=Se(r),s=n.Tu.get(e),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Jp(n.remoteStore,s.targetId))}async function fD(r,e,n){const s=vD(r);try{const l=await(function(h,m){const p=Se(h),g=lt.now(),b=m.reduce(((V,k)=>V.add(k.key)),Ue());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let k=dr(),G=Ue();return p.xs.getEntries(V,b).next((H=>{k=H,k.forEach(((ne,ie)=>{ie.isValidDocument()||(G=G.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,k))).next((H=>{T=H;const ne=[];for(const ie of m){const ee=x4(ie,T.get(ie.key).overlayedDocument);ee!=null&&ne.push(new ys(ie.key,ee,Sb(ee.value.mapValue),ri.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,ne,m)})).next((H=>{S=H;const ne=H.applyToLocalDocumentSet(T,G);return p.documentOverlayCache.saveOverlays(V,H.batchId,ne)}))})).then((()=>({batchId:S.batchId,changes:jb(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(h,m,p){let g=h.du[h.currentUser.toKey()];g||(g=new ht(Pe)),g=g.insert(m,p),h.du[h.currentUser.toKey()]=g})(s,l.batchId,n),await Tc(s,l.changes),await uf(s.remoteStore)}catch(l){const c=ng(l,"Failed to persist write");n.reject(c)}}async function yT(r,e){const n=Se(r);try{const s=await bk(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const h=n.Au.get(c);h&&(Ye(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?h.hu=!0:l.modifiedDocuments.size>0?Ye(h.hu,14607):l.removedDocuments.size>0&&(Ye(h.hu,42227),h.hu=!1))})),await Tc(n,s,e)}catch(s){await Rl(s)}}function x1(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((c,h)=>{const m=h.view.va(e);m.snapshot&&l.push(m.snapshot)})),(function(h,m){const p=Se(h);p.onlineState=m;let g=!1;p.queries.forEach(((b,T)=>{for(const S of T.ba)S.va(m)&&(g=!0)})),g&&ig(p)})(s.eventManager,e),l.length&&s.Pu.J_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function dD(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Au.get(e),c=l&&l.key;if(c){let h=new ht(ge.comparator);h=h.insert(c,Zt.newNoDocument(c,Te.min()));const m=Ue().add(c),p=new lf(Te.min(),new Map,new ht(Pe),h,m);await yT(s,p),s.Ru=s.Ru.remove(c),s.Au.delete(e),sg(s)}else await rp(s.localStore,e,!1).then((()=>lp(s,e,n))).catch(Rl)}async function mD(r,e){const n=Se(r),s=e.batch.batchId;try{const l=await Ek(n.localStore,e);vT(n,s,null),_T(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Tc(n,l)}catch(l){await Rl(l)}}async function pD(r,e,n){const s=Se(r);try{const l=await(function(h,m){const p=Se(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let b;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ye(T!==null,37113),b=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,b,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b))).next((()=>p.localDocuments.getDocuments(g,b)))}))})(s.localStore,e);vT(s,e,n),_T(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Tc(s,l)}catch(l){await Rl(l)}}function _T(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function vT(r,e,n){const s=Se(r);let l=s.du[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),s.du[s.currentUser.toKey()]=l}}function lp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||ET(r,s)}))}function ET(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Jp(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),sg(r))}function w1(r,e,n){for(const s of n)s instanceof mT?(r.Vu.addReference(s.key,e),gD(r,s)):s instanceof pT?(ce(rg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||ET(r,s.key)):Ee(19791,{wu:s})}function gD(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(ce(rg,"New document in limbo: "+n),r.Eu.add(s),sg(r))}function sg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(it.fromString(e)),s=r.fu.next();r.Au.set(s,new sD(n)),r.Ru=r.Ru.insert(n,s),oT(r.remoteStore,new ts(Di(Bp(n.path)),s,"TargetPurposeLimboResolution",Zh.ce))}}async function Tc(r,e,n){const s=Se(r),l=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{var b;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(b=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:b.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){l.push(g);const T=$p.Es(p.targetId,g);c.push(T)}})))})),await Promise.all(h),s.Pu.J_(l),await(async function(p,g){const b=Se(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>te.forEach(g,(S=>te.forEach(S.Ts,(V=>b.persistence.referenceDelegate.addReference(T,S.targetId,V))).next((()=>te.forEach(S.Is,(V=>b.persistence.referenceDelegate.removeReference(T,S.targetId,V)))))))))}catch(T){if(!Cl(T))throw T;ce(Xp,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const V=b.vs.get(S),k=V.snapshotVersion,G=V.withLastLimboFreeSnapshotVersion(k);b.vs=b.vs.insert(S,G)}}})(s.localStore,c))}async function yD(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){ce(rg,"User change. New user:",e.toKey());const s=await rT(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(Z.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Tc(n,s.Ns)}}function _D(r,e){const n=Se(r),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let l=Ue();const c=n.Iu.get(e);if(!c)return l;for(const h of c){const m=n.Tu.get(h);l=l.unionWith(m.view.nu)}return l}}function bT(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=yT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_D.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dD.bind(null,e),e.Pu.J_=eD.bind(null,e.eventManager),e.Pu.yu=tD.bind(null,e.eventManager),e}function vD(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pD.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return vk(this.persistence,new gk,e.initialUser,this.serializer)}Cu(e){return new iT(Yp.Vi,this.serializer)}Du(e){return new Ak}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class ED extends Hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Bh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new tk(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new iT((s=>Bh.Vi(s,n)),this.serializer)}}class op{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>x1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=yD.bind(null,this.syncEngine),await $k(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Jk})()}createDatastore(e){const n=of(e.databaseInfo.databaseId),s=kk(e.databaseInfo);return jk(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,l,c,h,m){return new Pk(s,l,c,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>x1(this.syncEngine,n,0)),(function(){return y1.v()?new y1:new Rk})())}createSyncEngine(e,n){return(function(l,c,h,m,p,g,b){const T=new aD(l,c,h,m,p,g);return b&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const c=Se(l);ce(oa,"RemoteStore shutting down."),c.Ea.add(5),await bc(c),c.Aa.shutdown(),c.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}op.provider={build:()=>new op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="FirestoreClient";class TD{constructor(e,n,s,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=l,this.user=Wt.UNAUTHENTICATED,this.clientId=Vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async h=>{ce(ds,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ce(ds,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ng(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Dm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(ds,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await rT(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function S1(r,e){r.asyncQueue.verifyOperationInProgress();const n=await xD(r);ce(ds,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>v1(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>v1(e.remoteStore,l))),r._onlineComponents=e}async function xD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(ds,"Using user provided OfflineComponentProvider");try{await Dm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;la("Error using user provided cache. Falling back to memory cache: "+n),await Dm(r,new Hh)}}else ce(ds,"Using default OfflineComponentProvider"),await Dm(r,new ED(void 0));return r._offlineComponents}async function TT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(ds,"Using user provided OnlineComponentProvider"),await S1(r,r._uninitializedComponentsProvider._online)):(ce(ds,"Using default OnlineComponentProvider"),await S1(r,new op))),r._onlineComponents}function wD(r){return TT(r).then((e=>e.syncEngine))}async function A1(r){const e=await TT(r),n=e.eventManager;return n.onListen=lD.bind(null,e.syncEngine),n.onUnlisten=uD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hD.bind(null,e.syncEngine),n}function SD(r,e,n,s){const l=new bD(s),c=new nD(e,l,n);return r.asyncQueue.enqueueAndForget((async()=>Wk(await A1(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>Zk(await A1(r),c)))}}function AD(r,e){const n=new Zs;return r.asyncQueue.enqueueAndForget((async()=>fD(await wD(r),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="ComponentProvider",R1=new Map;function CD(r,e,n,s,l){return new GI(r,e,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,xT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="firestore.googleapis.com",C1=!0;class N1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wT,this.ssl=C1}else this.host=e.host,this.ssl=e.ssl??C1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Z4)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hf{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new wI;switch(s.type){case"firstParty":return new CI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=R1.get(n);s&&(ce(RD,"Removing Datastore"),R1.delete(n),s.terminate())})(this),Promise.resolve()}}function ND(r,e,n,s={}){var g;r=as(r,hf);const l=xl(e),c=r._getSettings(),h={...c,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;l&&(_E(`https://${m}`),vE("Firestore",!0)),c.host!==wT&&c.host!==m&&la("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:m,ssl:l,emulatorOptions:s};if(!na(p,h)&&(r._setSettings(p),s.mockUserToken)){let b,T;if(typeof s.mockUserToken=="string")b=s.mockUserToken,T=Wt.MOCK_USER;else{b=M2(s.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Wt(S)}r._authCredentials=new SI(new db(b,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new _s(this.firestore,e,this._query)}}class Dt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(_c(n,Dt._jsonSchema))return new Dt(e,s||null,new ge(it.fromString(n.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:kt("string",Dt._jsonSchemaVersion),referencePath:kt("string")};class ls extends _s{constructor(e,n,s){super(e,n,Bp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new ge(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function Pi(r,e,...n){if(r=zt(r),mb("collection","path",e),r instanceof hf){const s=it.fromString(e,...n);return Bv(s),new ls(r,null,s)}{if(!(r instanceof Dt||r instanceof ls))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return Bv(s),new ls(r.firestore,null,s)}}function ag(r,e,...n){if(r=zt(r),arguments.length===1&&(e=Vp.newId()),mb("doc","path",e),r instanceof hf){const s=it.fromString(e,...n);return zv(s),new Dt(r,null,new ge(s))}{if(!(r instanceof Dt||r instanceof ls))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return zv(s),new Dt(r.firestore,r instanceof ls?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="AsyncQueue";class k1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aT(this,"async_queue_retry"),this._c=()=>{const s=km();s&&ce(I1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Cl(e))throw e;ce(I1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,fr("INTERNAL UNHANDLED ERROR: ",D1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=tg.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ee(47125,{Pc:D1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function D1(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class vl extends hf{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new k1,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k1(e),this._firestoreClient=void 0,await e}}}function ID(r,e){const n=typeof r=="object"?r:xE(),s=typeof r=="string"?r:Mh,l=Sp(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=D2("firestore");c&&ND(l,...c)}return l}function ST(r){if(r._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||kD(r),r._firestoreClient}function kD(r){var s,l,c,h;const e=r._freezeSettings(),n=CD(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,(l=r._app)==null?void 0:l.options.apiKey,e);r._componentsProvider||(c=e.localCache)!=null&&c._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new TD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn($t.fromBase64String(e))}catch(n){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_c(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:kt("string",Hn._jsonSchemaVersion),bytes:kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(_c(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:kt("string",Mi._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_c(e,si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new si(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:kt("string",si._jsonSchemaVersion),vectorValues:kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=/^__.*__$/;class OD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new vc(e,this.data,n,this.fieldTransforms)}}class AT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function RT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:r})}}class cg{constructor(e,n,s,l,c,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var l;const n=(l=this.path)==null?void 0:l.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var l;const n=(l=this.path)==null?void 0:l.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Fh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(RT(this.dataSource)&&DD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class MD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||of(e)}createContext(e,n,s,l=!1){return new cg({dataSource:e,methodName:n,targetDoc:s,path:Yt.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ug(r){const e=r._freezeSettings(),n=of(r._databaseId);return new MD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function VD(r,e,n,s,l,c={}){const h=r.createContext(c.merge||c.mergeFields?2:0,e,n,l);hg("Data must be an object, but it was:",h,s);const m=CT(s,h);let p,g;if(c.merge)p=new xn(h.fieldMask),g=h.fieldTransforms;else if(c.mergeFields){const b=[];for(const T of c.mergeFields){const S=ca(e,T,n);if(!h.contains(S))throw new le(Z.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);kT(b,S)||b.push(S)}p=new xn(b),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new OD(new dn(m),p,g)}class ff extends og{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ff}}function jD(r,e,n,s){const l=r.createContext(1,e,n);hg("Data must be an object, but it was:",l,s);const c=[],h=dn.empty();gs(s,((p,g)=>{const b=IT(e,p,n);g=zt(g);const T=l.childContextForFieldPath(b);if(g instanceof ff)c.push(b);else{const S=xc(g,T);S!=null&&(c.push(b),h.set(b,S))}}));const m=new xn(c);return new AT(h,m,l.fieldTransforms)}function LD(r,e,n,s,l,c){const h=r.createContext(1,e,n),m=[ca(e,s,n)],p=[l];if(c.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)m.push(ca(e,c[S])),p.push(c[S+1]);const g=[],b=dn.empty();for(let S=m.length-1;S>=0;--S)if(!kT(g,m[S])){const V=m[S];let k=p[S];k=zt(k);const G=h.childContextForFieldPath(V);if(k instanceof ff)g.push(V);else{const H=xc(k,G);H!=null&&(g.push(V),b.set(V,H))}}const T=new xn(g);return new AT(b,T,h.fieldTransforms)}function PD(r,e,n,s=!1){return xc(n,r.createContext(s?4:3,e))}function xc(r,e){if(NT(r=zt(r)))return hg("Unsupported field value:",e,r),CT(r,e);if(r instanceof og)return(function(s,l){if(!RT(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,l){const c=[];let h=0;for(const m of s){let p=xc(m,l.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),h++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return y4(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=lt.fromDate(s);return{timestampValue:zh(l.serializer,c)}}if(s instanceof lt){const c=new lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zh(l.serializer,c)}}if(s instanceof Mi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:Yb(l.serializer,s._byteString)};if(s instanceof Dt){const c=l.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw l.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Kp(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof si)return(function(h,m){const p=h instanceof si?h.toArray():h;return{mapValue:{fields:{[xb]:{stringValue:wb},[Vh]:{arrayValue:{values:p.map((b=>{if(typeof b!="number")throw m.createError("VectorValues must only contain numeric values.");return qp(m.serializer,b)}))}}}}}})(s,l);if(tT(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Wh(s)}`)})(r,e)}function CT(r,e){const n={};return yb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(r,((s,l)=>{const c=xc(l,e.childContextForField(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function NT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof lt||r instanceof Mi||r instanceof Hn||r instanceof Dt||r instanceof og||r instanceof si||tT(r))}function hg(r,e,n){if(!NT(n)||!pb(n)){const s=Wh(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function ca(r,e,n){if((e=zt(e))instanceof lg)return e._internalPath;if(typeof e=="string")return IT(r,e);throw Fh("Field path arguments must be of type string or ",r,!1,void 0,n)}const UD=new RegExp("[~\\*/\\[\\]]");function IT(r,e,n){if(e.search(UD)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new lg(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Fh(r,e,n,s,l){const c=s&&!s.isEmpty(),h=l!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||h)&&(p+=" (found",c&&(p+=` in field ${s}`),h&&(p+=` in document ${l}`),p+=")"),new le(Z.INVALID_ARGUMENT,m+r+p)}function kT(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{convertValue(e,n="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return gs(e,((l,c)=>{s[l]=this.convertValue(c,n)})),s}convertVectorValue(e){var s,l,c;const n=(c=(l=(s=e.fields)==null?void 0:s[Vh].arrayValue)==null?void 0:l.values)==null?void 0:c.map((h=>vt(h.doubleValue)));return new si(n)}convertGeoPoint(e){return new Mi(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=tf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nc(e));default:return null}}convertTimestamp(e){const n=cs(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ye(eT(s),9688,{name:e});const l=new ic(s.get(1),s.get(3)),c=new ge(s.popFirst(5));return l.isEqual(n)||fr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT extends zD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}}const O1="@firebase/firestore",M1="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n,s,l,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(ca("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BD extends OT{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fg{}class dg extends fg{}function wc(r,e,...n){let s=[];e instanceof fg&&s.push(e),s=s.concat(n),(function(c){const h=c.filter((p=>p instanceof mg)).length,m=c.filter((p=>p instanceof df)).length;if(h>1||h>0&&m>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class df extends dg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new df(e,n,s)}_apply(e){const n=this._parse(e);return MT(e._query,n),new _s(e.firestore,e.converter,Zm(e._query,n))}_parse(e){const n=ug(e.firestore);return(function(c,h,m,p,g,b,T){let S;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){P1(T,b);const k=[];for(const G of T)k.push(L1(p,c,G));S={arrayValue:{values:k}}}else S=L1(p,c,T)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||P1(T,b),S=PD(m,h,T,b==="in"||b==="not-in");return It.create(g,b,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function j1(r,e,n){const s=e,l=ca("where",r);return df._create(l,s,n)}class mg extends fg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let h=l;const m=c.getFlattenedFilters();for(const p of m)MT(h,p),h=Zm(h,p)})(e._query,n),new _s(e.firestore,e.converter,Zm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pg extends dg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new pg(e,n)}_apply(e){const n=(function(l,c,h){if(l.startAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sc(c,h)})(e._query,this._field,this._direction);return new _s(e.firestore,e.converter,c4(e._query,n))}}function HD(r,e="asc"){const n=e,s=ca("orderBy",r);return pg._create(s,n)}class gg extends dg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new gg(e,n,s)}_apply(e){return new _s(e.firestore,e.converter,Lh(e._query,this._limit,this._limitType))}}function FD(r){return gg._create("limit",r,"F")}function L1(r,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Db(e)&&n.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ge.isDocumentKey(s))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return $v(r,new ge(s))}if(n instanceof Dt)return $v(r,n._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function P1(r,e){if(!Array.isArray(r)||r.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MT(r,e){const n=(function(l,c){for(const h of l)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function GD(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Fo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ea extends OT{constructor(e,n,s,l,c,h){super(e,n,s,l,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ca("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:kt("string",ea._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class Th extends ea{data(e={}){return super.data(e)}}class fl{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Fo(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Th(this._firestore,this._userDataWriter,s.key,s,new Fo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map((m=>{const p=new Th(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Fo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const p=new Th(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Fo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,b=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),b=h.indexOf(m.doc.key)),{type:KD(m.type),doc:p,oldIndex:g,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fl._jsonSchemaVersion="firestore/querySnapshot/1.0",fl._jsonSchema={type:kt("string",fl._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};function QD(r,e,n,...s){r=as(r,Dt);const l=as(r.firestore,vl),c=ug(l);let h;return h=typeof(e=zt(e))=="string"||e instanceof lg?LD(c,"updateDoc",r._key,e,n,s):jD(c,"updateDoc",r._key,e),yg(l,[h.toMutation(r._key,ri.exists(!0))])}function YD(r){return yg(as(r.firestore,vl),[new Hp(r._key,ri.none())])}function Sc(r,e){const n=as(r.firestore,vl),s=ag(r),l=GD(r.converter,e),c=ug(r.firestore);return yg(n,[VD(c,"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,ri.exists(!1))]).then((()=>s))}function Ac(r,...e){var g,b,T;r=zt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||V1(e[s])||(n=e[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(V1(e[s])){const S=e[s];e[s]=(g=S.next)==null?void 0:g.bind(S),e[s+1]=(b=S.error)==null?void 0:b.bind(S),e[s+2]=(T=S.complete)==null?void 0:T.bind(S)}let c,h,m;if(r instanceof Dt)h=as(r.firestore,vl),m=Bp(r._key.path),c={next:S=>{e[s]&&e[s]($D(h,r,S))},error:e[s+1],complete:e[s+2]};else{const S=as(r,_s);h=as(S.firestore,vl),m=S._query;const V=new DT(h);c={next:k=>{e[s]&&e[s](new fl(h,V,S,k))},error:e[s+1],complete:e[s+2]},qD(r._query)}const p=ST(h);return SD(p,m,l,c)}function yg(r,e){const n=ST(r);return AD(n,e)}function $D(r,e,n){const s=n.docs.get(e._key),l=new DT(r);return new ea(r,l,e._key,s,new Fo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){xI(wl),dl(new ia("firestore",((s,{instanceIdentifier:l,options:c})=>{const h=s.getProvider("app").getImmediate(),m=new vl(new AI(s.getProvider("auth-internal")),new NI(h,s.getProvider("app-check-internal")),KI(h,l),h);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),rs(O1,M1,e),rs(O1,M1,"esm2020")})();const XD={apiKey:"AIzaSyDIYLFaM7IX1pDUkcvSKKig4Pu0jFyrM6Y",authDomain:"app-exercicio-max.firebaseapp.com",projectId:"app-exercicio-max",storageBucket:"app-exercicio-max.firebasestorage.app",messagingSenderId:"421765071196",appId:"1:421765071196:web:787567a356a1ea31954199",measurementId:"G-CVDFKJGE2H"},VT=TE(XD),_g=bI(VT),Fn=ID(VT);var Bn=(r=>(r.ACTIVE="ativo",r.ELIMINATED="eliminado",r))(Bn||{});const vg="users",Eg="timeSlots",jT="checkIns",LT="distributions",PT="qrCodes",Rc=r=>{const e=wc(Pi(Fn,vg));return Ac(e,n=>{const s=n.docs.map(l=>({id:l.id,...l.data()}));r(s)})},JD=async r=>{const e={...r,balance:r.depositedValue,status:Bn.ACTIVE,createdAt:new Date().toISOString()};await Sc(Pi(Fn,vg),e)},oc=async r=>{const e=ag(Fn,vg,r.id),{id:n,...s}=r;await QD(e,s)},bg=r=>{const e=wc(Pi(Fn,Eg));return Ac(e,n=>{const s=n.docs.map(l=>({id:l.id,...l.data()}));r(s)})},WD=async r=>{await Sc(Pi(Fn,Eg),r)},ZD=async r=>{await YD(ag(Fn,Eg,r))},Tg=r=>{const e=wc(Pi(Fn,jT));return Ac(e,n=>{const s=n.docs.map(l=>({id:l.id,...l.data()}));r(s)})},eO=async r=>{await Sc(Pi(Fn,jT),r)},tO=r=>{const e=wc(Pi(Fn,LT),HD("date","asc"));return Ac(e,n=>{const s=n.docs.map(l=>({id:l.id,...l.data()}));r(s)})},U1=async r=>{await Sc(Pi(Fn,LT),r)},UT=r=>{new Date().toLocaleDateString("pt-BR");const n=(()=>{const l=new Date;return`${l.getFullYear()}-${String(l.getMonth()+1).padStart(2,"0")}-${String(l.getDate()).padStart(2,"0")}`})(),s=wc(Pi(Fn,PT),j1("date","==",n),j1("active","==",!0),FD(1));return Ac(s,l=>{l.empty?r(null):r({id:l.docs[0].id,...l.docs[0].data()})})},nO=async()=>{const n={date:(()=>{const s=new Date;return`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")}`})(),token:Math.random().toString(36).substring(2,10).toUpperCase(),active:!0,createdAt:new Date().toISOString()};return await Sc(Pi(Fn,PT),n),n},iO=()=>{const[r,e]=L.useState([]),[n,s]=L.useState(!1),[l,c]=L.useState(""),[h,m]=L.useState(null),[p,g]=L.useState({name:"",cpf:"",uniqueCode:"",phone:"",depositedValue:0});L.useEffect(()=>{const k=Rc(G=>{e(G)});return()=>k()},[]);const b=async k=>{k.preventDefault();try{h?await oc({...h,...p}):await JD(p),g({name:"",cpf:"",uniqueCode:"",phone:"",depositedValue:0}),m(null),s(!1)}catch(G){console.error("Error saving user:",G),alert("Erro ao salvar usurio.")}},T=k=>{m(k),g({name:k.name,cpf:k.cpf,uniqueCode:k.uniqueCode,phone:k.phone,depositedValue:k.depositedValue}),s(!0)},S=async k=>{try{const G=k.status===Bn.ACTIVE?Bn.ELIMINATED:Bn.ACTIVE;await oc({...k,status:G})}catch(G){console.error("Error updating status:",G)}},V=r.filter(k=>k.name.toLowerCase().includes(l.toLowerCase())||k.cpf.includes(l)||k.uniqueCode.toLowerCase().includes(l.toLowerCase()));return _.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[_.jsxs("div",{className:"relative w-full md:w-[450px] group",children:[_.jsx(vp,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-lime-600 transition-colors w-5 h-5"}),_.jsx("input",{type:"text",placeholder:"PESQUISAR ATLETA...",className:"w-full pl-14 pr-6 py-4 bg-white border-2 border-slate-300 rounded-2xl text-slate-900 font-bold placeholder:text-slate-400 focus:ring-4 focus:ring-lime-400/10 focus:border-lime-500 outline-none transition-all shadow-md uppercase tracking-widest text-sm",value:l,onChange:k=>c(k.target.value)})]}),_.jsxs("button",{onClick:()=>{m(null),s(!0)},className:"flex items-center px-8 py-4 bg-black text-lime-400 rounded-2xl font-black uppercase italic tracking-tighter hover:bg-zinc-900 hover:scale-[1.05] transition-all shadow-2xl active:scale-95",children:[_.jsx(oE,{className:"w-6 h-6 mr-2"}),"Cadastrar Atleta"]})]}),_.jsxs("div",{className:"bg-white rounded-[2rem] border-2 border-slate-300 overflow-hidden shadow-[0_20px_50px_rgba(0,0,0,0.08)]",children:[_.jsxs("table",{className:"min-w-full divide-y-2 divide-slate-200",children:[_.jsx("thead",{className:"bg-slate-50",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-8 py-6 text-left text-[11px] font-black text-slate-500 uppercase tracking-[0.3em]",children:"Perfil do Atleta"}),_.jsx("th",{className:"px-8 py-6 text-left text-[11px] font-black text-slate-500 uppercase tracking-[0.3em]",children:"Identificao"}),_.jsx("th",{className:"px-8 py-6 text-left text-[11px] font-black text-slate-500 uppercase tracking-[0.3em]",children:"Mtricas Financeiras"}),_.jsx("th",{className:"px-8 py-6 text-left text-[11px] font-black text-slate-500 uppercase tracking-[0.3em]",children:"Status"}),_.jsx("th",{className:"px-8 py-6 text-right text-[11px] font-black text-slate-500 uppercase tracking-[0.3em]",children:"Gesto"})]})}),_.jsx("tbody",{className:"divide-y-2 divide-slate-100",children:V.map(k=>{var G,H;return _.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors group",children:[_.jsx("td",{className:"px-8 py-6 whitespace-nowrap",children:_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 bg-black rounded-xl flex items-center justify-center text-lime-400 font-black text-xl border-2 border-zinc-800 shadow-md",children:k.name&&k.name[0]?k.name[0].toUpperCase():"?"}),_.jsxs("div",{children:[_.jsx("div",{className:"text-sm font-black text-slate-900 uppercase tracking-tight",children:k.name}),_.jsx("div",{className:"text-[10px] text-slate-400 font-bold tracking-widest uppercase",children:k.phone})]})]})}),_.jsxs("td",{className:"px-8 py-6 whitespace-nowrap",children:[_.jsxs("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:["CPF: ",k.cpf]}),_.jsx("div",{className:"text-xs text-black font-black font-sport bg-lime-400 inline-block px-3 py-1 rounded-lg border-2 border-lime-500 uppercase tracking-tighter italic shadow-sm",children:k.uniqueCode})]}),_.jsxs("td",{className:"px-8 py-6 whitespace-nowrap",children:[_.jsxs("div",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:["Aposta: R$ ",(G=k.depositedValue)==null?void 0:G.toFixed(2)]}),_.jsxs("div",{className:"text-lg font-black text-slate-900 italic font-sport",children:["R$ ",(H=k.balance)==null?void 0:H.toFixed(2)]})]}),_.jsx("td",{className:"px-8 py-6 whitespace-nowrap",children:_.jsx("span",{className:`px-4 py-1.5 inline-flex text-[9px] font-black rounded-full uppercase tracking-[0.2em] italic border-2 shadow-sm ${k.status===Bn.ACTIVE?"bg-lime-400 text-black border-lime-500":"bg-rose-50 text-rose-600 border-rose-200"}`,children:k.status===Bn.ACTIVE?"Em Competio":"Eliminado"})}),_.jsx("td",{className:"px-8 py-6 whitespace-nowrap text-right",children:_.jsxs("div",{className:"flex justify-end gap-3",children:[_.jsx("button",{onClick:()=>T(k),className:"p-3 bg-white text-slate-400 hover:text-black hover:border-black rounded-xl transition-all border-2 border-slate-200 shadow-sm",children:_.jsx(GA,{className:"w-5 h-5"})}),_.jsx("button",{onClick:()=>S(k),className:`p-3 rounded-xl transition-all border-2 shadow-sm ${k.status===Bn.ACTIVE?"bg-white text-slate-400 hover:text-rose-600 hover:border-rose-400 border-slate-200":"bg-white text-slate-400 hover:text-lime-600 hover:border-lime-400 border-slate-200"}`,children:k.status===Bn.ACTIVE?_.jsx(n2,{className:"w-5 h-5"}):_.jsx(aE,{className:"w-5 h-5"})})]})})]},k.id)})})]}),V.length===0&&_.jsx("div",{className:"p-20 text-center text-slate-400 font-black uppercase tracking-[0.3em] italic bg-slate-50",children:"Nenhum Atleta Identificado"})]}),n&&_.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:_.jsxs("div",{className:"bg-white rounded-[3rem] border-4 border-slate-200 shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in duration-300",children:[_.jsxs("div",{className:"p-8 bg-slate-50 flex justify-between items-center border-b-4 border-slate-100",children:[_.jsx("h3",{className:"text-2xl font-black italic uppercase font-sport text-slate-900 tracking-widest",children:h?"Modificar Perfil":"Novo Recruta"}),_.jsx("button",{onClick:()=>s(!1),className:"text-slate-400 hover:text-slate-900 p-2 bg-white rounded-xl border-2 border-slate-200 transition-all",children:_.jsx(hE,{className:"w-6 h-6"})})]}),_.jsxs("form",{onSubmit:b,className:"p-10 space-y-6",children:[_.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Nome Completo"}),_.jsx("input",{required:!0,type:"text",className:"w-full px-5 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase placeholder:text-slate-300",placeholder:"DIGITE O NOME",value:p.name,onChange:k=>g({...p,name:k.target.value})})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"CPF Registro"}),_.jsx("input",{required:!0,type:"text",className:"w-full px-5 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none",value:p.cpf,onChange:k=>g({...p,cpf:k.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Tag nica (ID)"}),_.jsx("input",{required:!0,type:"text",className:"w-full px-5 py-4 bg-lime-50 border-2 border-lime-200 rounded-2xl text-lime-600 font-black font-sport italic transition-all outline-none uppercase",value:p.uniqueCode,onChange:k=>g({...p,uniqueCode:k.target.value})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Telefone"}),_.jsx("input",{required:!0,type:"text",className:"w-full px-5 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none",value:p.phone,onChange:k=>g({...p,phone:k.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Aposta Inicial (R$)"}),_.jsx("input",{required:!0,type:"number",className:"w-full px-5 py-4 bg-white border-2 border-slate-900 rounded-2xl text-slate-900 font-black text-xl focus:ring-2 focus:ring-lime-400 transition-all outline-none",value:p.depositedValue,onChange:k=>g({...p,depositedValue:Number(k.target.value)})})]})]}),_.jsxs("div",{className:"flex justify-end gap-4 pt-6",children:[_.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-8 py-4 text-slate-400 font-black uppercase tracking-widest hover:text-slate-900 transition-colors",children:"Cancelar"}),_.jsx("button",{type:"submit",className:"px-10 py-4 bg-black text-lime-400 rounded-2xl font-black uppercase italic tracking-tighter shadow-xl hover:scale-[1.05] transition-all",children:"Confirmar"})]})]})]})})]})},rO=()=>{const[r,e]=L.useState(null);L.useEffect(()=>{const m=UT(p=>{e(p)});return()=>m()},[]);const n=async()=>{try{await nO()}catch(m){console.error("Error creating QR Code:",m),alert(`Erro ao gerar QR Code: ${m.message}`)}},s=r?`${window.location.origin}/#/checkin?token=${r.token}`:"",l=()=>{navigator.clipboard.writeText(s),alert("LINK DE ACESSO COPIADO COM SUCESSO!")},c=()=>{const m=encodeURIComponent(` *FitReward - Portal de Check-in*

Atleta, seu portal de acesso para o treino de hoje j est disponvel!

Acesse aqui: ${s}`);window.open(`https://wa.me/?text=${m}`,"_blank")},h=()=>{const m=encodeURIComponent(`FitReward - Portal de Check-in

Atleta, seu portal de acesso para o treino de hoje j est disponvel!`);window.open(`https://t.me/share/url?url=${encodeURIComponent(s)}&text=${m}`,"_blank")};return _.jsxs("div",{className:"max-w-3xl mx-auto space-y-12 animate-in fade-in duration-700",children:[_.jsxs("div",{className:"bg-white p-16 md:p-24 rounded-[4rem] text-center space-y-12 shadow-[0_40px_100px_-20px_rgba(0,0,0,0.1)] border-2 border-slate-100 relative overflow-hidden group",children:[_.jsxs("div",{className:"relative inline-block",children:[_.jsx("div",{className:"absolute inset-0 bg-slate-200/20 blur-2xl rounded-full scale-150"}),_.jsx("div",{className:"relative p-8 bg-white border-2 border-slate-50 text-slate-900 rounded-[2.5rem] shadow-[0_15px_35px_rgba(0,0,0,0.05)]",children:_.jsx(cE,{className:"w-12 h-12 stroke-[1.5px]"})})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("h3",{className:"text-4xl md:text-5xl font-black italic uppercase font-sport text-slate-900 tracking-tighter",children:"Portal de Acesso"}),_.jsxs("p",{className:"text-slate-400 flex items-center justify-center font-black uppercase text-[10px] tracking-[0.4em] gap-2",children:[_.jsx(wh,{className:"w-3 h-3 text-lime-500"}),"Data Local: ",new Date().toLocaleDateString("pt-BR")]})]}),r?_.jsxs("div",{className:"space-y-12 animate-in zoom-in duration-500",children:[_.jsx("div",{className:"relative inline-block bg-white p-10 rounded-[3rem] border-2 border-slate-100 shadow-xl",children:_.jsxs("div",{className:"w-56 h-56 bg-white p-4 rounded-3xl flex items-center justify-center border-4 border-slate-50 shadow-inner overflow-hidden",children:[_.jsx("div",{className:"grid grid-cols-8 gap-1.5 w-full h-full opacity-90",children:Array.from({length:64}).map((m,p)=>_.jsx("div",{className:`rounded-[2px] ${Math.random()>.4?"bg-black":"bg-transparent"}`},p))}),_.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:_.jsx("div",{className:"bg-white px-5 py-2.5 border-[6px] border-black rounded-2xl font-sport italic font-black text-black text-3xl tracking-widest shadow-2xl",children:r.token.substring(0,4).toUpperCase()})})]})}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-xl mx-auto pt-4",children:[_.jsxs("button",{onClick:c,className:"flex items-center justify-center gap-3 px-6 py-5 bg-[#25D366] text-white rounded-3xl font-black uppercase text-[10px] tracking-widest shadow-lg hover:scale-105 active:scale-95 transition-all",children:[_.jsx(HA,{className:"w-5 h-5 fill-current"}),"WhatsApp"]}),_.jsxs("button",{onClick:h,className:"flex items-center justify-center gap-3 px-6 py-5 bg-[#0088cc] text-white rounded-3xl font-black uppercase text-[10px] tracking-widest shadow-lg hover:scale-105 active:scale-95 transition-all",children:[_.jsx(e2,{className:"w-5 h-5 fill-current"}),"Telegram"]}),_.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-3 px-6 py-5 bg-slate-900 text-white rounded-3xl font-black uppercase text-[10px] tracking-widest shadow-lg hover:scale-105 active:scale-95 transition-all",children:[_.jsx(RA,{className:"w-5 h-5"}),"Copiar Link"]})]}),_.jsx("div",{className:"pt-6",children:_.jsxs("button",{onClick:n,className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.4em] hover:text-rose-500 transition-colors flex items-center justify-center mx-auto gap-2",children:[_.jsx(JA,{className:"w-3 h-3"})," Regenerar Acesso de Hoje"]})})]}):_.jsx("div",{className:"py-12 animate-in fade-in duration-500",children:_.jsx("button",{onClick:n,className:"px-12 py-8 bg-black text-lime-400 rounded-[2rem] font-black text-2xl uppercase italic font-sport tracking-tighter shadow-[0_25px_60px_-15px_rgba(0,0,0,0.5)] hover:scale-[1.05] active:scale-95 transition-all border-b-4 border-zinc-800",children:"Ativar Check-in Hoje"})})]}),_.jsxs("div",{className:"bg-white border-2 border-slate-100 p-10 rounded-[3rem] shadow-sm flex items-center gap-8 group",children:[_.jsx("div",{className:"p-5 bg-slate-50 border-2 border-slate-100 rounded-[1.5rem] text-lime-500 shadow-inner group-hover:scale-110 transition-transform",children:_.jsx(r2,{className:"w-8 h-8"})}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("h4",{className:"font-black italic uppercase font-sport text-slate-900 tracking-widest text-xl leading-tight",children:"Protocolo de Segurana Ativo"}),_.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-relaxed",children:["O sistema gera um ",_.jsx("span",{className:"text-slate-900",children:"Token nico Dirio"}),". Links antigos tornam-se invlidos s 00:00, prevenindo check-ins fora do perodo de competio."]})]})]}),_.jsx("div",{className:"text-center",children:_.jsx("p",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.8em] italic",children:"FitReward Management System  Secure Portal V4"})})]})},sO=()=>{const[r,e]=L.useState([]),[n,s]=L.useState([]),[l,c]=L.useState([]),h=()=>{const k=new Date;return`${k.getFullYear()}-${String(k.getMonth()+1).padStart(2,"0")}-${String(k.getDate()).padStart(2,"0")}`},[m,p]=L.useState(h()),[g,b]=L.useState("");L.useEffect(()=>{const k=Tg(ne=>e(ne)),G=Rc(ne=>s(ne)),H=bg(ne=>c(ne));return()=>{k(),G(),H()}},[]);const T=r.filter(k=>{const G=n.find(ie=>ie.id===k.userId),H=(G==null?void 0:G.name.toLowerCase().includes(g.toLowerCase()))||(G==null?void 0:G.cpf.includes(g)),ne=k.date===m;return H&&ne}),S=k=>{var G;return((G=l.find(H=>H.id===k))==null?void 0:G.name)||"N/A"},V=k=>{var G;return((G=n.find(H=>H.id===k))==null?void 0:G.name)||"Desconhecido"};return _.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[_.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-200 flex flex-col md:flex-row gap-6 items-end shadow-sm",children:[_.jsxs("div",{className:"flex-1 w-full group",children:[_.jsx("label",{className:"block text-[9px] font-black text-slate-400 uppercase tracking-[0.4em] mb-3 ml-1",children:"Atleta em Campo"}),_.jsxs("div",{className:"relative",children:[_.jsx(vp,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-lime-500 transition-colors w-5 h-5"}),_.jsx("input",{type:"text",className:"w-full pl-14 pr-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl text-slate-900 font-bold placeholder:text-slate-200 focus:ring-4 focus:ring-lime-400/5 focus:border-lime-400 outline-none transition-all uppercase tracking-widest text-xs",placeholder:"NOME OU DOCUMENTO...",value:g,onChange:k=>b(k.target.value)})]})]}),_.jsxs("div",{className:"w-full md:w-64 group",children:[_.jsx("label",{className:"block text-[9px] font-black text-slate-400 uppercase tracking-[0.4em] mb-3 ml-1",children:"Linha do Tempo"}),_.jsxs("div",{className:"relative",children:[_.jsx(wh,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-lime-500 transition-colors w-5 h-5"}),_.jsx("input",{type:"date",className:"w-full pl-14 pr-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl text-slate-900 font-black focus:ring-4 focus:ring-lime-400/5 focus:border-lime-400 outline-none transition-all",value:m,onChange:k=>p(k.target.value)})]})]}),_.jsxs("button",{onClick:()=>{b(""),p(h())},className:"px-8 py-4 bg-slate-100 text-slate-500 rounded-2xl font-black uppercase tracking-[0.2em] text-[10px] hover:text-slate-900 border border-slate-200 transition-all flex items-center",children:[_.jsx(OA,{className:"w-4 h-4 mr-2"}),"Resetar"]})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:T.map(k=>_.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-200 overflow-hidden hover:border-lime-400 hover:-translate-y-2 transition-all shadow-md group",children:[_.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"p-3 bg-white border border-slate-200 rounded-2xl text-lime-600 shadow-sm group-hover:scale-110 transition-transform",children:_.jsx(Tp,{className:"w-6 h-6"})}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-black text-slate-900 italic uppercase font-sport tracking-widest leading-tight",children:V(k.userId)}),_.jsxs("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-[0.3em] mt-1",children:["ID: ",k.userId.substring(0,8).toUpperCase()]})]})]}),_.jsxs("div",{className:"bg-black text-lime-400 px-4 py-2 rounded-xl flex items-center text-xs font-black shadow-lg italic font-sport",children:[_.jsx(bp,{className:"w-4 h-4 mr-1.5"}),k.score.toFixed(1)," PTS"]})]}),_.jsxs("div",{className:"p-8 space-y-6 text-slate-900",children:[_.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[_.jsxs("div",{className:"flex items-center text-[10px] font-black uppercase tracking-widest text-slate-500",children:[_.jsx(wh,{className:"w-4 h-4 mr-3 text-lime-500/50"}),k.date]}),_.jsxs("div",{className:"flex items-center text-[10px] font-black uppercase tracking-widest text-slate-500",children:[_.jsx(Qh,{className:"w-4 h-4 mr-3 text-lime-500/50"}),k.time]})]}),_.jsxs("div",{className:"flex items-center text-[10px] font-black uppercase tracking-[0.2em] text-lime-700 bg-lime-50 p-4 rounded-2xl border border-lime-100",children:[_.jsx(hc,{className:"w-4 h-4 mr-3"}),"BLOCO: ",S(k.timeSlotId)]}),_.jsxs("div",{className:"flex items-start p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[_.jsx(zA,{className:"w-5 h-5 mr-4 text-slate-400 mt-1"}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Coordenadas de Registro"}),_.jsxs("p",{className:"text-[10px] text-slate-900 font-mono tracking-tighter",children:["LAT: ",k.latitude.toFixed(6)]}),_.jsxs("p",{className:"text-[10px] text-slate-900 font-mono tracking-tighter",children:["LNG: ",k.longitude.toFixed(6)]})]})]})]})]},k.id))}),T.length===0&&_.jsxs("div",{className:"text-center py-32 bg-white rounded-[3rem] border-2 border-dashed border-slate-200",children:[_.jsx(lE,{className:"w-20 h-20 text-slate-100 mx-auto mb-6"}),_.jsx("p",{className:"text-slate-300 font-black uppercase tracking-[0.5em] italic",children:"Zero Atletas Registrados no Perodo"})]})]})},aO=()=>{const[r,e]=L.useState([]),[n,s]=L.useState([]),[l,c]=L.useState([]),[h,m]=L.useState(!1),[p,g]=L.useState(null);L.useEffect(()=>{const V=tO(H=>e(H.reverse())),k=Rc(H=>s(H)),G=Tg(H=>c(H));return()=>{V(),k(),G()}},[]);const b=async()=>{new Date().toLocaleDateString("pt-BR");const k=(()=>{const ue=new Date;return`${ue.getFullYear()}-${String(ue.getMonth()+1).padStart(2,"0")}-${String(ue.getDate()).padStart(2,"0")}`})(),G=n.filter(ue=>ue.status===Bn.ACTIVE);let H=0,ne=0,ie=0;const ee=l.filter(ue=>ue.date===k),be=new Set(ee.map(ue=>ue.userId));for(const ue of G)if(be.has(ue.id))ie++;else{ne++;const me=10,R=Math.max(0,ue.balance-me);await oc({...ue,balance:R}),await U1({userId:ue.id,amount:-me,date:k,reason:"FALTA - Penalidade Diria"}),H+=me}if(ie>0&&H>0){let ue=0;if(ee.forEach(me=>ue+=me.score),ue>0)for(const me of ee){const R=me.score/ue*H,A=n.find(C=>C.id===me.userId);A&&(await oc({...A,balance:A.balance+R}),await U1({userId:A.id,amount:R,date:k,reason:"RECOMPENSA - Distribuio Diria"}))}}return{message:"DISTRIBUIO COMPUTADA COM SUCESSO",totalPot:H,absentCount:ne,presentCount:ie}},T=async()=>{m(!0);try{const V=await b();g(V)}catch(V){console.error("Distribution failed:",V),alert("Erro ao processar distribuio.")}finally{m(!1)}},S=r.reduce((V,k)=>V+(k.amount>0?k.amount:0),0);return _.jsxs("div",{className:"space-y-10 animate-in fade-in duration-700",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[_.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border-2 border-slate-300 shadow-md relative overflow-hidden group",children:[_.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:_.jsx(kA,{className:"w-24 h-24 text-slate-900"})}),_.jsx("p",{className:"text-[11px] font-black text-slate-500 uppercase tracking-[0.3em] mb-4",children:"Payout Total"}),_.jsxs("h3",{className:"text-4xl font-black text-slate-900 italic font-sport tracking-tight",children:["R$ ",S.toFixed(2)]}),_.jsx("div",{className:"mt-4 h-2 w-16 bg-lime-400 rounded-full border border-lime-500"})]}),_.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border-2 border-slate-300 shadow-md relative overflow-hidden group",children:[_.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:_.jsx(Lm,{className:"w-24 h-24 text-slate-900"})}),_.jsx("p",{className:"text-[11px] font-black text-slate-500 uppercase tracking-[0.3em] mb-4",children:"Eventos de Caixa"}),_.jsxs("h3",{className:"text-4xl font-black text-slate-900 italic font-sport tracking-tight",children:[r.length," ",_.jsx("span",{className:"text-sm uppercase font-sans text-slate-400 tracking-widest ml-2",children:"Transaes"})]}),_.jsx("div",{className:"mt-4 h-2 w-16 bg-zinc-900 rounded-full border border-zinc-800"})]}),_.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border-2 border-slate-300 shadow-md relative overflow-hidden group",children:[_.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:_.jsx(uE,{className:"w-24 h-24 text-slate-900"})}),_.jsx("p",{className:"text-[11px] font-black text-slate-500 uppercase tracking-[0.3em] mb-4",children:"Atletas Ativos"}),_.jsxs("h3",{className:"text-4xl font-black text-slate-900 italic font-sport tracking-tight",children:[n.filter(V=>V.status===Bn.ACTIVE).length," ",_.jsx("span",{className:"text-sm uppercase font-sans text-slate-400 tracking-widest ml-2",children:"Competidores"})]}),_.jsx("div",{className:"mt-4 h-2 w-16 bg-lime-500 rounded-full border border-lime-600"})]})]}),_.jsxs("div",{className:"bg-black rounded-[3rem] p-10 flex flex-col md:flex-row items-center justify-between gap-8 relative overflow-hidden group shadow-[0_30px_60px_rgba(0,0,0,0.3)]",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10 pointer-events-none"}),_.jsxs("div",{className:"space-y-3 relative z-10 text-center md:text-left",children:[_.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-lime-400 text-black text-[10px] font-black uppercase tracking-widest rounded-full italic shadow-lg",children:[_.jsx(Lm,{className:"w-3 h-3 fill-current"})," Manual Payout Override"]}),_.jsx("h3",{className:"text-4xl font-black text-white italic uppercase font-sport tracking-widest leading-none",children:"Rodar Distribuio"}),_.jsx("p",{className:"text-zinc-400 text-sm font-semibold max-w-xl",children:"Dispara o clculo dirio: penaliza faltantes em R$ 10,00 e redistribui para os presentes com base na performance."})]}),_.jsxs("button",{onClick:T,disabled:h,className:`relative z-10 px-10 py-6 bg-lime-400 text-black rounded-[1.5rem] font-black text-lg uppercase italic tracking-tighter flex items-center shadow-2xl transition-all ${h?"opacity-50":"hover:bg-white hover:scale-[1.05] active:scale-95"}`,children:[h?_.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-black mr-3"}):_.jsx(QA,{className:"w-7 h-7 mr-3 fill-current"}),h?"Calculando...":"Rodar Agora"]})]}),p&&_.jsxs("div",{className:"bg-white border-4 border-lime-400 p-8 rounded-[2rem] flex items-start gap-6 animate-in slide-in-from-top-4 duration-500 shadow-xl",children:[_.jsx("div",{className:"p-3 bg-black rounded-2xl text-lime-400 shadow-lg",children:_.jsx(xA,{className:"w-8 h-8"})}),_.jsxs("div",{children:[_.jsx("h4",{className:"text-xl font-black text-slate-900 uppercase italic font-sport tracking-widest",children:p.message}),_.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 gap-8 text-[11px] font-black uppercase tracking-widest text-slate-500",children:[p.totalPot!==void 0&&_.jsxs("div",{children:["Arrecadao: ",_.jsxs("span",{className:"text-black ml-2 font-bold",children:["R$ ",p.totalPot.toFixed(2)]})]}),p.absentCount!==void 0&&_.jsxs("div",{children:["Faltas: ",_.jsx("span",{className:"text-rose-600 ml-2 font-bold",children:p.absentCount})]}),p.presentCount!==void 0&&_.jsxs("div",{children:["Premiados: ",_.jsx("span",{className:"text-lime-600 ml-2 font-bold",children:p.presentCount})]})]})]})]}),_.jsxs("div",{className:"bg-white rounded-[2.5rem] border-2 border-slate-300 overflow-hidden shadow-xl",children:[_.jsxs("div",{className:"px-10 py-6 border-b-2 border-slate-200 flex justify-between items-center bg-slate-50",children:[_.jsx("h3",{className:"text-lg font-black text-slate-900 uppercase italic tracking-widest font-sport",children:"Log de Transaes"}),_.jsx("div",{className:"p-2 bg-white border-2 border-slate-100 rounded-xl text-slate-400",children:_.jsx(Ep,{className:"w-5 h-5"})})]}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"min-w-full divide-y-2 divide-slate-200",children:[_.jsx("thead",{className:"bg-slate-50/50",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-10 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.3em]",children:"Timeline"}),_.jsx("th",{className:"px-10 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.3em]",children:"Atleta"}),_.jsx("th",{className:"px-10 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-[0.3em]",children:"Motivo"}),_.jsx("th",{className:"px-10 py-5 text-right text-[10px] font-black text-slate-400 uppercase tracking-[0.3em]",children:"Crdito"})]})}),_.jsx("tbody",{className:"divide-y-2 divide-slate-100",children:r.map(V=>{var k;return _.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors",children:[_.jsx("td",{className:"px-10 py-6 whitespace-nowrap text-sm text-slate-500",children:_.jsxs("div",{className:"flex items-center font-bold tracking-tighter",children:[_.jsx(wh,{className:"w-4 h-4 mr-2 text-lime-500"}),V.date]})}),_.jsx("td",{className:"px-10 py-6 whitespace-nowrap",children:_.jsx("div",{className:"text-sm font-black text-slate-900 uppercase tracking-tight",children:((k=n.find(G=>G.id===V.userId))==null?void 0:k.name)||"DESCONHECIDO"})}),_.jsx("td",{className:"px-10 py-6 whitespace-nowrap text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:V.reason}),_.jsx("td",{className:"px-10 py-6 whitespace-nowrap text-right",children:_.jsxs("span",{className:`text-xl font-black font-sport italic tracking-tighter px-4 py-1 rounded-lg border-2 shadow-sm ${V.amount>=0?"text-lime-600 bg-lime-50 border-lime-200":"text-rose-600 bg-rose-50 border-rose-200"}`,children:[V.amount>=0?"+":""," R$ ",V.amount.toFixed(2)]})})]},V.id)})})]})})]})]})},lO=()=>{const[r,e]=L.useState([]),[n,s]=L.useState(!1),[l,c]=L.useState({name:"",startTime:"",endTime:"",weight:1});L.useEffect(()=>{const p=bg(g=>{e(g)});return()=>p()},[]);const h=async p=>{p.preventDefault();try{await WD(l),c({name:"",startTime:"",endTime:"",weight:1}),s(!1)}catch(g){console.error("Error saving time slot:",g),g.code==="permission-denied"?alert("Erro: Permisso negada. Verifique se voc est logado como administrador."):alert(`Erro ao salvar horrio: ${g.message||"Erro desconhecido"}`)}},m=async p=>{if(confirm("REMOVER ESTE BLOCO DE HORRIO?"))try{await ZD(p)}catch(g){console.error("Error deleting time slot:",g),alert("Erro ao remover horrio.")}};return _.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[_.jsxs("div",{className:"space-y-1",children:[_.jsx("h3",{className:"text-3xl font-black italic uppercase font-sport text-slate-900 tracking-widest leading-none",children:"Clulas de Treino"}),_.jsx("p",{className:"text-slate-400 font-black uppercase text-[10px] tracking-[0.4em]",children:"Configurao de Janelas de Check-in"})]}),_.jsxs("button",{onClick:()=>s(!0),className:"flex items-center px-8 py-4 bg-black text-lime-400 rounded-2xl font-black uppercase italic tracking-tighter hover:bg-zinc-900 hover:scale-[1.05] transition-all shadow-2xl active:scale-95",children:[_.jsx(oE,{className:"w-6 h-6 mr-2"}),"Novo Horrio"]})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:r.map(p=>_.jsxs("div",{className:"bg-white rounded-[2rem] border-2 border-slate-300 overflow-hidden shadow-lg group relative transition-all hover:border-lime-500 hover:-translate-y-1",children:[_.jsxs("div",{className:"p-8 space-y-6",children:[_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsx("div",{className:"p-4 bg-slate-50 border-2 border-slate-100 rounded-2xl text-slate-900 shadow-inner group-hover:border-lime-200 transition-colors",children:_.jsx(Qh,{className:"w-8 h-8"})}),_.jsx("button",{onClick:()=>m(p.id),className:"p-3 bg-white text-slate-300 hover:text-rose-600 border-2 border-slate-100 rounded-xl transition-all hover:border-rose-200",children:_.jsx(m2,{className:"w-5 h-5"})})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"text-xl font-black text-slate-900 uppercase italic font-sport tracking-widest",children:p.name}),_.jsx("div",{className:"flex items-center gap-2 mt-2",children:_.jsxs("span",{className:"px-3 py-1 bg-black text-white text-[10px] font-black rounded-lg uppercase tracking-widest",children:[p.startTime," - ",p.endTime]})})]}),_.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border-2 border-slate-100",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"p-2 bg-lime-400 rounded-lg shadow-sm",children:_.jsx(Lm,{className:"w-4 h-4 text-black fill-current"})}),_.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Peso Recompensa"})]}),_.jsxs("span",{className:"text-3xl font-black text-slate-900 font-sport italic tracking-tighter",children:["x",p.weight]})]})]}),_.jsx("div",{className:"h-2 bg-slate-100 group-hover:bg-lime-400 transition-colors"})]},p.id))}),_.jsxs("div",{className:"bg-white border-2 border-slate-300 p-8 rounded-[2.5rem] relative overflow-hidden group shadow-md flex items-center gap-6",children:[_.jsx("div",{className:"absolute top-0 left-0 w-2 h-full bg-slate-900"}),_.jsx("div",{className:"p-4 bg-slate-50 border-2 border-slate-100 rounded-2xl text-slate-400",children:_.jsx(a2,{className:"w-8 h-8"})}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-black italic uppercase font-sport text-slate-900 tracking-[0.2em] text-lg",children:"Regras do Sistema"}),_.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-1",children:"Check-ins realizados fora destas janelas sero invalidados automaticamente pelo servidor."})]})]}),n&&_.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:_.jsxs("div",{className:"bg-white rounded-[3rem] border-4 border-slate-200 shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in duration-300",children:[_.jsxs("div",{className:"p-8 bg-slate-50 flex justify-between items-center border-b-4 border-slate-100",children:[_.jsx("h3",{className:"text-2xl font-black italic uppercase font-sport text-slate-900 tracking-widest",children:"Novo Bloco"}),_.jsx("button",{onClick:()=>s(!1),className:"text-slate-400 hover:text-slate-900 p-2 bg-white rounded-xl border-2 border-slate-200",children:_.jsx(hE,{className:"w-6 h-6"})})]}),_.jsxs("form",{onSubmit:h,className:"p-10 space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Identificao do Bloco"}),_.jsx("input",{required:!0,type:"text",placeholder:"EX: MANH ELITE",className:"w-full px-5 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase",value:l.name,onChange:p=>c({...l,name:p.target.value})})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Abertura"}),_.jsx("input",{required:!0,type:"time",className:"w-full px-5 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl text-slate-900 font-bold",value:l.startTime,onChange:p=>c({...l,startTime:p.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Fechamento"}),_.jsx("input",{required:!0,type:"time",className:"w-full px-5 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl text-slate-900 font-bold",value:l.endTime,onChange:p=>c({...l,endTime:p.target.value})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Peso da Recompensa (Multiplicador)"}),_.jsx("input",{required:!0,type:"number",min:"1",max:"10",className:"w-full px-5 py-4 bg-white border-2 border-slate-900 rounded-2xl text-slate-900 font-black text-xl",value:l.weight,onChange:p=>c({...l,weight:Number(p.target.value)})})]}),_.jsx("div",{className:"flex gap-4 pt-4",children:_.jsx("button",{type:"submit",className:"flex-1 py-5 bg-black text-lime-400 rounded-2xl font-black uppercase italic tracking-tighter shadow-xl hover:scale-[1.05] transition-all",children:"Registrar Bloco"})})]})]})})]})},oO=()=>{const[r,e]=L.useState([]);L.useEffect(()=>{const l=Rc(c=>{const h=[...c].sort((m,p)=>p.balance-m.balance);e(h)});return()=>l()},[]);const n=r.slice(0,3),s=r.slice(3);return _.jsxs("div",{className:"space-y-16 animate-in fade-in slide-in-from-bottom-8 duration-1000",children:[_.jsxs("section",{className:"relative",children:[_.jsx("div",{className:"absolute inset-0 bg-lime-500/5 blur-[120px] rounded-full -z-10"}),_.jsxs("div",{className:"text-center mb-12 space-y-2",children:[_.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1 bg-black text-lime-400 rounded-full text-[10px] font-black uppercase tracking-[0.3em] italic shadow-xl",children:[_.jsx(yA,{className:"w-3 h-3"})," Hall da Fama"]}),_.jsx("h2",{className:"text-5xl font-black italic uppercase font-sport text-slate-900 tracking-tighter",children:"Top 3 Competidores"}),_.jsx("p",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-[0.4em]",children:"A elite da performance financeira e fsica"})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 items-end max-w-5xl mx-auto px-4",children:[n[1]?_.jsxs("div",{className:"order-2 md:order-1 space-y-4 text-center group",children:[_.jsxs("div",{className:"relative inline-block",children:[_.jsx("div",{className:"w-28 h-28 bg-white border-4 border-slate-300 rounded-full flex items-center justify-center text-slate-300 shadow-2xl group-hover:scale-110 group-hover:-translate-y-2 transition-all duration-500",children:_.jsx("span",{className:"text-4xl font-black italic font-sport",children:"2"})}),_.jsx("div",{className:"absolute -top-4 -right-2 text-slate-400 animate-bounce",children:_.jsx(av,{className:"w-12 h-12 fill-current drop-shadow-lg"})})]}),_.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border-2 border-slate-200 shadow-xl relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-slate-300"}),_.jsx("h4",{className:"font-black italic uppercase font-sport text-slate-900 truncate text-lg",children:n[1].name}),_.jsxs("p",{className:"text-2xl font-black text-slate-500 font-sport",children:["R$ ",n[1].balance.toFixed(2)]}),_.jsx("div",{className:"mt-3 text-[9px] font-black text-slate-300 uppercase tracking-widest italic",children:"Silver Tier"})]})]}):_.jsx("div",{className:"order-2 md:order-1 hidden md:block"}),n[0]?_.jsxs("div",{className:"order-1 md:order-2 space-y-6 text-center group pb-12 scale-110 z-10",children:[_.jsxs("div",{className:"relative inline-block",children:[_.jsx("div",{className:"absolute inset-0 bg-yellow-400/30 blur-3xl rounded-full scale-150 animate-pulse"}),_.jsx("div",{className:"relative w-36 h-36 bg-black border-4 border-yellow-500 rounded-full flex items-center justify-center text-yellow-500 shadow-[0_0_60px_rgba(234,179,8,0.4)] group-hover:scale-110 transition-all duration-700",children:_.jsx(NA,{className:"w-20 h-20 fill-current drop-shadow-[0_0_10px_rgba(234,179,8,0.8)]"})}),_.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-yellow-500 text-black px-6 py-2 rounded-full font-black text-[11px] uppercase tracking-widest shadow-[0_10px_25px_rgba(234,179,8,0.5)] whitespace-nowrap italic",children:"CAMPEO ATUAL"})]}),_.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border-4 border-yellow-500 shadow-[0_30px_70px_rgba(0,0,0,0.15)] relative",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-yellow-50/50 to-transparent pointer-events-none"}),_.jsx("h4",{className:"text-3xl font-black italic uppercase font-sport text-slate-900 tracking-tight",children:n[0].name}),_.jsxs("p",{className:"text-4xl font-black text-yellow-600 font-sport mt-1",children:["R$ ",n[0].balance.toFixed(2)]}),_.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-1 bg-yellow-500 text-black rounded-lg text-[9px] font-black uppercase tracking-widest italic",children:[_.jsx(u2,{className:"w-3 h-3 fill-current"})," MVP da Temporada"]})]})]}):_.jsxs("div",{className:"order-1 md:order-2 py-20 text-center",children:[_.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full mx-auto flex items-center justify-center text-slate-200",children:_.jsx(bp,{className:"w-10 h-10"})}),_.jsx("p",{className:"mt-4 text-slate-300 font-black uppercase text-[10px] tracking-widest",children:"Sem Lderes"})]}),n[2]?_.jsxs("div",{className:"order-3 md:order-3 space-y-4 text-center group",children:[_.jsxs("div",{className:"relative inline-block",children:[_.jsx("div",{className:"w-24 h-24 bg-white border-4 border-orange-700/30 rounded-full flex items-center justify-center text-orange-700/50 shadow-xl group-hover:scale-110 group-hover:-translate-y-2 transition-all duration-500",children:_.jsx("span",{className:"text-3xl font-black italic font-sport",children:"3"})}),_.jsx("div",{className:"absolute -top-3 -right-1 text-orange-700",children:_.jsx(av,{className:"w-10 h-10 fill-current drop-shadow-md"})})]}),_.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border-2 border-slate-200 shadow-xl relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-orange-700/40"}),_.jsx("h4",{className:"font-black italic uppercase font-sport text-slate-900 truncate text-lg",children:n[2].name}),_.jsxs("p",{className:"text-2xl font-black text-orange-800/60 font-sport",children:["R$ ",n[2].balance.toFixed(2)]}),_.jsx("div",{className:"mt-3 text-[9px] font-black text-slate-300 uppercase tracking-widest italic",children:"Bronze Tier"})]})]}):_.jsx("div",{className:"order-3 md:order-3 hidden md:block"})]})]}),_.jsxs("section",{className:"max-w-5xl mx-auto space-y-8",children:[_.jsxs("div",{className:"flex items-center justify-between px-10",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 bg-black rounded-2xl flex items-center justify-center text-lime-400 shadow-lg",children:_.jsx(Ep,{className:"w-6 h-6"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-2xl font-black italic uppercase font-sport text-slate-900 tracking-widest",children:"Classificao Geral"}),_.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Abaixo do Top 3 Elite"})]})]}),_.jsxs("div",{className:"hidden md:flex items-center gap-2 px-6 py-2 bg-white border-2 border-slate-200 rounded-full shadow-sm",children:[_.jsx("span",{className:"w-2 h-2 bg-lime-500 rounded-full animate-pulse"}),_.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Live Ranking Update"})]})]}),_.jsxs("div",{className:"bg-white rounded-[3rem] border-2 border-slate-300 overflow-hidden shadow-[0_40px_100px_rgba(0,0,0,0.05)]",children:[_.jsx("div",{className:"grid grid-cols-1 divide-y-2 divide-slate-100",children:s.length>0?s.map((l,c)=>_.jsxs("div",{className:"flex items-center px-10 py-8 hover:bg-slate-50/80 transition-all group cursor-default",children:[_.jsxs("div",{className:"w-16 text-3xl font-black italic font-sport text-slate-400 group-hover:text-black transition-colors",children:["#",c+4]}),_.jsxs("div",{className:"flex-1 flex items-center gap-6",children:[_.jsx("div",{className:"w-14 h-14 bg-zinc-900 rounded-2xl flex items-center justify-center text-white font-black text-xl border-2 border-zinc-800 shadow-md group-hover:scale-110 transition-transform",children:l.name&&l.name[0]?l.name[0].toUpperCase():"?"}),_.jsxs("div",{children:[_.jsxs("div",{className:"text-base font-black text-slate-900 uppercase tracking-tight flex items-center gap-3",children:[l.name,c+4<=10&&_.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-500 rounded border border-slate-200 text-[8px] font-black uppercase tracking-widest",children:"Top 10"})]}),_.jsxs("div",{className:"text-[10px] text-slate-400 font-bold tracking-[0.2em] uppercase mt-1",children:["Protocolo: ",_.jsx("span",{className:"text-slate-600 font-sport italic",children:l.uniqueCode})]})]})]}),_.jsxs("div",{className:"text-right flex items-center gap-8",children:[_.jsxs("div",{children:[_.jsx("div",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest mb-1",children:"Performance"}),_.jsxs("div",{className:"text-xl font-black font-sport italic text-slate-900 tracking-tighter",children:["R$ ",l.balance.toFixed(2)]})]}),_.jsx(sE,{className:"w-5 h-5 text-slate-200 group-hover:text-lime-500 transition-colors"})]})]},l.id)):_.jsxs("div",{className:"p-32 text-center space-y-6",children:[_.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full mx-auto flex items-center justify-center text-slate-200 border-2 border-dashed border-slate-200",children:_.jsx(f2,{className:"w-10 h-10"})}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("p",{className:"text-slate-300 font-black uppercase tracking-[0.5em] italic text-sm",children:"Sem outros competidores"}),_.jsx("p",{className:"text-slate-200 text-[9px] font-black uppercase tracking-widest",children:"Cadastre mais atletas para preencher o ranking"})]})]})}),_.jsxs("div",{className:"bg-slate-50 px-10 py-6 border-t-2 border-slate-100 flex justify-between items-center",children:[_.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.2em]",children:["Sincronizado: ",new Date().toLocaleTimeString()]}),_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),_.jsx("span",{className:"text-[8px] font-black uppercase text-slate-400 tracking-widest",children:"Elite"})]}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx("div",{className:"w-2 h-2 bg-slate-300 rounded-full"}),_.jsx("span",{className:"text-[8px] font-black uppercase text-slate-400 tracking-widest",children:"Challenger"})]})]})]})]})]}),_.jsx("div",{className:"text-center pb-12",children:_.jsx("p",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.7em] animate-pulse",children:"Push your limits  Reward your effort  FitReward System"})})]})},cO=()=>{const[r,e]=L.useState(""),[n,s]=L.useState(""),[l,c]=L.useState(""),[h,m]=L.useState(!1),p=Tl(),g=async b=>{b.preventDefault(),m(!0),c("");try{await lN(_g,r,n),p("/admin/usuarios")}catch(T){T.code==="auth/invalid-credential"?c("CREDENCIAIS INVLIDAS."):c("ERRO AO FAZER LOGIN: "+T.message)}finally{m(!1)}};return _.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-6 relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-2xl aspect-square bg-lime-500/5 blur-[150px] rounded-full"}),_.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-[3rem] shadow-2xl w-full max-w-md overflow-hidden relative z-10",children:[_.jsxs("div",{className:"p-12 bg-zinc-800/30 text-center space-y-4 border-b border-zinc-800",children:[_.jsx("div",{className:"inline-flex p-5 bg-lime-400 rounded-[1.5rem] mb-2 shadow-[0_0_40px_rgba(163,230,53,0.4)] animate-pulse-lime",children:_.jsx(hc,{className:"w-10 h-10 text-black"})}),_.jsxs("h1",{className:"text-4xl font-black italic tracking-tighter text-white font-sport uppercase",children:["Fit",_.jsx("span",{className:"text-lime-400",children:"Reward"})]}),_.jsx("p",{className:"text-zinc-500 text-[10px] font-black uppercase tracking-[0.4em]",children:"Controle Central"})]}),_.jsxs("form",{onSubmit:g,className:"p-12 space-y-8",children:[_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-[9px] font-black text-zinc-500 uppercase tracking-[0.3em] mb-3 ml-1",children:"Email"}),_.jsxs("div",{className:"relative group",children:[_.jsx(Tp,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 group-focus-within:text-lime-400 transition-colors w-5 h-5"}),_.jsx("input",{type:"email",required:!0,className:"w-full pl-14 pr-6 py-5 bg-black border border-zinc-800 rounded-2xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase font-sport tracking-widest",placeholder:"SEU EMAIL",value:r,onChange:b=>e(b.target.value)})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-[9px] font-black text-zinc-500 uppercase tracking-[0.3em] mb-3 ml-1",children:"Senha"}),_.jsxs("div",{className:"relative group",children:[_.jsx(_p,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 group-focus-within:text-lime-400 transition-colors w-5 h-5"}),_.jsx("input",{type:"password",required:!0,className:"w-full pl-14 pr-6 py-5 bg-black border border-zinc-800 rounded-2xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase font-sport tracking-widest",placeholder:"",value:n,onChange:b=>s(b.target.value)})]})]})]}),l&&_.jsxs("div",{className:"flex items-center text-white text-[10px] bg-red-600 p-4 rounded-xl font-black uppercase tracking-widest",children:[_.jsx(yp,{className:"w-4 h-4 mr-3 shrink-0"}),l]}),_.jsx("button",{type:"submit",disabled:h,className:"w-full py-6 bg-lime-400 text-black rounded-[1.5rem] font-black text-xl shadow-[0_15px_35px_rgba(163,230,53,0.3)] hover:scale-[1.03] active:scale-95 transition-all flex items-center justify-center gap-3 uppercase tracking-tighter italic font-sport",children:h?_.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-black"}):_.jsxs(_.Fragment,{children:[_.jsx(jA,{className:"w-6 h-6"}),"Acessar Portal"]})})]}),_.jsx("div",{className:"p-5 bg-black text-center",children:_.jsx(ta,{to:"/signup",className:"text-[10px] text-zinc-500 hover:text-lime-400 uppercase tracking-[0.2em] font-black transition-colors",children:"CRIAR NOVA CONTA"})})]})]})},uh={lat:-23.55052,lng:-46.633308,radius:500},uO=()=>{const[r]=nA(),e=r.get("token"),[n,s]=L.useState(1),[l,c]=L.useState(""),[h,m]=L.useState(null),[p,g]=L.useState([]),[b,T]=L.useState([]),[S,V]=L.useState(null),[k,G]=L.useState([]),[H,ne]=L.useState(!1),[ie,ee]=L.useState(null),[be,ue]=L.useState(!1),[me,R]=L.useState(new Date);L.useEffect(()=>{const ke=setInterval(()=>R(new Date),1e3),Ge=Rc(g),Y=bg(T),re=Tg(G),de=UT(V);return()=>{clearInterval(ke),Ge(),Y(),re(),de()}},[]);const A=me.getDay(),C=A===0||A===6,j=()=>{const ke=me.getHours().toString().padStart(2,"0"),Ge=me.getMinutes().toString().padStart(2,"0");return`${ke}:${Ge}`},O=()=>{const ke=new Date;return`${ke.getFullYear()}-${String(ke.getMonth()+1).padStart(2,"0")}-${String(ke.getDate()).padStart(2,"0")}`},U=ke=>{ke.preventDefault(),ne(!0),ee(null);const Ge=l.trim(),Y=p.find(re=>re.cpf===Ge||re.uniqueCode.toUpperCase()===Ge.toUpperCase());setTimeout(()=>{Y?Y.status===Bn.ELIMINATED?ee("CONTA BLOQUEADA. PROCURE O ADMINISTRADOR."):(m(Y),s(2)):ee("ATLETA NO IDENTIFICADO."),ne(!1)},600)},N=async()=>{if(ne(!0),ee(null),C){ee("O PORTAL ABRE APENAS DE SEGUNDA A SEXTA."),ne(!1);return}const ke=O(),Ge=j(),Y=b.find(Ae=>Ge>=Ae.startTime&&Ge<=Ae.endTime);if(!Y){ee(`JANELA FECHADA AGORA (${Ge}).`),ne(!1);return}const re=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";if(!S&&!re){ee("SISTEMA INDISPONVEL: QR CODE NO FOI ATIVADO HOJE."),ne(!1);return}if(e&&S&&S.token!==e&&!re){ee("QR CODE INVLIDO OU EXPIRADO PARA ESTE ACESSO."),ne(!1);return}if(k.some(Ae=>Ae.userId===(h==null?void 0:h.id)&&Ae.date===ke)){ee("CHECK-IN J REALIZADO HOJE."),ne(!1);return}try{const Ae=await new Promise((An,Es)=>{navigator.geolocation.getCurrentPosition(An,Es,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),{latitude:qe,longitude:M}=Ae.coords,J=6371e3,ae=qe*Math.PI/180,oe=uh.lat*Math.PI/180,_e=(uh.lat-qe)*Math.PI/180,xe=(uh.lng-M)*Math.PI/180,De=Math.sin(_e/2)*Math.sin(_e/2)+Math.cos(ae)*Math.cos(oe)*Math.sin(xe/2)*Math.sin(xe/2),mt=2*Math.atan2(Math.sqrt(De),Math.sqrt(1-De));if(J*mt>uh.radius&&!re){ee("VOC EST FORA DO RAIO DA ACADEMIA."),ne(!1);return}const Ui=10*(Y.weight||1);await eO({userId:h.id,date:ke,time:Ge,latitude:qe,longitude:M,timeSlotId:Y.id,score:Ui});const gr={...h,balance:h.balance+Ui};await oc(gr),ue(!0)}catch{ee("GPS OBRIGATRIO. ATIVE A LOCALIZAO E TENTE NOVAMENTE.")}finally{ne(!1)}};return be?_.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-6 font-sans",children:_.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-12 rounded-[3rem] text-center space-y-8 max-w-md w-full shadow-[0_0_100px_rgba(163,230,53,0.1)]",children:[_.jsx("div",{className:"inline-flex p-6 bg-lime-400 rounded-full shadow-[0_0_40px_rgba(163,230,53,0.3)] animate-bounce",children:_.jsx(aE,{className:"w-12 h-12 text-black"})}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("h2",{className:"text-4xl font-black italic font-sport text-white uppercase tracking-tighter",children:"Misso Cumprida!"}),_.jsx("p",{className:"text-zinc-500 font-black uppercase text-[10px] tracking-[0.4em]",children:"Check-in Validado com Sucesso"})]}),_.jsxs("div",{className:"bg-black p-6 rounded-2xl border border-zinc-800 space-y-1",children:[_.jsxs("p",{className:"text-zinc-500 text-[10px] font-black uppercase tracking-widest",children:["Atleta: ",h==null?void 0:h.name]}),_.jsx("p",{className:"text-lime-400 text-2xl font-black font-sport italic tracking-tighter",children:"RECOMPENSA CREDITADA"})]}),_.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-5 bg-white text-black rounded-2xl font-black uppercase italic tracking-tighter hover:bg-lime-400 transition-all",children:"Novo Registro"})]})}):_.jsxs("div",{className:"min-h-screen bg-black text-white p-6 flex flex-col items-center justify-center relative overflow-hidden font-sans",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-lime-500/50 to-transparent"}),_.jsxs("div",{className:"w-full max-w-md space-y-10 relative z-10",children:[_.jsxs("div",{className:"text-center space-y-4",children:[_.jsx("div",{className:"inline-flex p-4 bg-lime-400 rounded-2xl shadow-lg mb-2",children:_.jsx(hc,{className:"w-8 h-8 text-black"})}),_.jsxs("h1",{className:"text-5xl font-black italic font-sport uppercase tracking-tighter leading-none",children:["Fit",_.jsx("span",{className:"text-lime-400",children:"Reward"})]}),_.jsxs("div",{className:"flex items-center justify-center gap-4 text-zinc-500 font-black uppercase text-[10px] tracking-[0.4em]",children:[_.jsx(Qh,{className:"w-3 h-3 text-lime-500"}),me.toLocaleTimeString("pt-BR")]})]}),ie&&_.jsxs("div",{className:"bg-rose-500/10 border border-rose-500/20 p-5 rounded-2xl flex items-start gap-4 animate-in slide-in-from-top-2",children:[_.jsx(yp,{className:"w-5 h-5 text-rose-500 shrink-0 mt-1"}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("p",{className:"text-rose-500 font-black text-[10px] uppercase tracking-widest text-left",children:"Aviso de Bloqueio"}),_.jsx("p",{className:"text-white text-xs font-bold uppercase tracking-tight leading-snug text-left",children:ie})]})]}),n===1?_.jsxs("form",{onSubmit:U,className:"space-y-8",children:[_.jsxs("div",{className:"space-y-4",children:[_.jsx("label",{className:"block text-[9px] font-black text-zinc-500 uppercase tracking-[0.3em] ml-1",children:"Identificao do Atleta"}),_.jsxs("div",{className:"relative group",children:[_.jsx(vp,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 group-focus-within:text-lime-400 transition-colors w-5 h-5"}),_.jsx("input",{required:!0,type:"text",placeholder:"CPF OU TAG NICA",className:"w-full pl-14 pr-6 py-7 bg-zinc-900/50 border border-zinc-800 rounded-3xl text-white font-bold placeholder:text-zinc-700 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase font-sport tracking-widest text-xl",value:l,onChange:ke=>c(ke.target.value)})]})]}),_.jsx("button",{type:"submit",disabled:H,className:"w-full py-7 bg-white text-black rounded-3xl font-black text-2xl uppercase italic tracking-tighter hover:bg-lime-400 transition-all flex items-center justify-center gap-3 font-sport shadow-2xl active:scale-95",children:H?_.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-black"}):_.jsxs(_.Fragment,{children:["PRXIMO ",_.jsx(sE,{className:"w-8 h-8"})]})})]}):_.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[_.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-800 p-8 rounded-[2.5rem] space-y-6",children:[_.jsxs("div",{className:"flex items-center gap-5",children:[_.jsx("div",{className:"w-20 h-20 bg-lime-400 rounded-3xl flex items-center justify-center text-black font-black text-3xl font-sport italic shadow-lg",children:(h==null?void 0:h.name[0].toUpperCase())||"?"}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-2xl font-black text-white uppercase italic font-sport tracking-tight leading-none mb-2",children:h==null?void 0:h.name}),_.jsxs("div",{className:"inline-flex items-center px-3 py-1 bg-black rounded-lg border border-zinc-800",children:[_.jsx("span",{className:"text-[10px] text-zinc-500 font-black uppercase tracking-widest mr-2",children:"ID:"}),_.jsx("span",{className:"text-[10px] text-lime-400 font-black font-sport italic",children:h==null?void 0:h.uniqueCode})]})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[_.jsxs("div",{className:"bg-black/40 p-5 rounded-2xl border border-zinc-800/50",children:[_.jsx("p",{className:"text-[8px] font-black text-zinc-600 uppercase tracking-widest mb-1",children:"Saldo Atual"}),_.jsxs("p",{className:"text-lg font-black text-white font-sport italic",children:["R$ ",h==null?void 0:h.balance.toFixed(2)]})]}),_.jsxs("div",{className:"bg-black/40 p-5 rounded-2xl border border-zinc-800/50",children:[_.jsx("p",{className:"text-[8px] font-black text-zinc-600 uppercase tracking-widest mb-1",children:"Aposta Diria"}),_.jsxs("p",{className:"text-lg font-black text-white font-sport italic",children:["R$ ",h==null?void 0:h.depositedValue.toFixed(2)]})]})]})]}),_.jsx("div",{className:"space-y-4",children:_.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-4",children:[_.jsx("button",{onClick:()=>s(1),className:"py-6 bg-zinc-900 border border-zinc-800 text-zinc-500 rounded-3xl flex items-center justify-center hover:text-white transition-all active:scale-90",children:_.jsx(pA,{className:"w-7 h-7"})}),_.jsx("button",{onClick:N,disabled:H,className:"py-6 bg-lime-400 text-black rounded-3xl font-black text-2xl uppercase italic tracking-tighter hover:bg-white transition-all flex items-center justify-center gap-3 font-sport shadow-[0_25px_50px_rgba(163,230,53,0.2)] active:scale-95",children:H?_.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-black"}):_.jsx(_.Fragment,{children:"CHECK-IN"})})]})})]}),_.jsxs("div",{className:"pt-12 flex flex-col items-center gap-4",children:[_.jsxs(ta,{to:"/admin/login",className:"group flex items-center gap-3 px-6 py-3 bg-zinc-900/30 border border-zinc-800/50 rounded-full transition-all hover:bg-lime-400/10 hover:border-lime-400/30",children:[_.jsx(_p,{className:"w-3 h-3 text-zinc-600 group-hover:text-lime-400 transition-colors"}),_.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.4em] text-zinc-500 group-hover:text-white transition-colors",children:"ACESSO RESTRITO AO COMANDO"})]}),_.jsx("p",{className:"text-[8px] text-zinc-800 font-black uppercase tracking-[0.6em]",children:"FitReward Performance V4"})]})]})]})},hO=()=>{const[r,e]=L.useState(""),[n,s]=L.useState(""),[l,c]=L.useState(""),[h,m]=L.useState(!1),p=Tl(),g=async b=>{b.preventDefault(),m(!0),c("");try{await aN(_g,r,n),p("/admin/usuarios")}catch(T){T.code==="auth/email-already-in-use"?c("ESTE EMAIL J EST EM USO."):T.code==="auth/weak-password"?c("A SENHA DEVE TER PELO MENOS 6 CARACTERES."):c("ERRO AO CRIAR CONTA: "+T.message)}finally{m(!1)}};return _.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-6 relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-2xl aspect-square bg-lime-500/5 blur-[150px] rounded-full"}),_.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-[3rem] shadow-2xl w-full max-w-md overflow-hidden relative z-10",children:[_.jsxs("div",{className:"p-12 bg-zinc-800/30 text-center space-y-4 border-b border-zinc-800",children:[_.jsx("div",{className:"inline-flex p-5 bg-lime-400 rounded-[1.5rem] mb-2 shadow-[0_0_40px_rgba(163,230,53,0.4)] animate-pulse-lime",children:_.jsx(hc,{className:"w-10 h-10 text-black"})}),_.jsxs("h1",{className:"text-4xl font-black italic tracking-tighter text-white font-sport uppercase",children:["Fit",_.jsx("span",{className:"text-lime-400",children:"Reward"})]}),_.jsx("p",{className:"text-zinc-500 text-[10px] font-black uppercase tracking-[0.4em]",children:"Novo Acesso"})]}),_.jsxs("form",{onSubmit:g,className:"p-12 space-y-8",children:[_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-[9px] font-black text-zinc-500 uppercase tracking-[0.3em] mb-3 ml-1",children:"Email"}),_.jsxs("div",{className:"relative group",children:[_.jsx(Tp,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 group-focus-within:text-lime-400 transition-colors w-5 h-5"}),_.jsx("input",{type:"email",required:!0,className:"w-full pl-14 pr-6 py-5 bg-black border border-zinc-800 rounded-2xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase font-sport tracking-widest",placeholder:"SEU EMAIL",value:r,onChange:b=>e(b.target.value)})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-[9px] font-black text-zinc-500 uppercase tracking-[0.3em] mb-3 ml-1",children:"Senha"}),_.jsxs("div",{className:"relative group",children:[_.jsx(_p,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 group-focus-within:text-lime-400 transition-colors w-5 h-5"}),_.jsx("input",{type:"password",required:!0,className:"w-full pl-14 pr-6 py-5 bg-black border border-zinc-800 rounded-2xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase font-sport tracking-widest",placeholder:"",value:n,onChange:b=>s(b.target.value)})]})]})]}),l&&_.jsxs("div",{className:"flex items-center text-white text-[10px] bg-red-600 p-4 rounded-xl font-black uppercase tracking-widest",children:[_.jsx(yp,{className:"w-4 h-4 mr-3 shrink-0"}),l]}),_.jsx("button",{type:"submit",disabled:h,className:"w-full py-6 bg-lime-400 text-black rounded-[1.5rem] font-black text-xl shadow-[0_15px_35px_rgba(163,230,53,0.3)] hover:scale-[1.03] active:scale-95 transition-all flex items-center justify-center gap-3 uppercase tracking-tighter italic font-sport",children:h?_.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-black"}):_.jsxs(_.Fragment,{children:[_.jsx(_2,{className:"w-6 h-6"}),"Criar Conta"]})})]}),_.jsx("div",{className:"p-5 bg-black text-center",children:_.jsx(ta,{to:"/admin/login",className:"text-[10px] text-zinc-500 hover:text-lime-400 uppercase tracking-[0.2em] font-black transition-colors",children:"J TEM UMA CONTA? LOGIN"})})]})]})},zT=L.createContext({currentUser:null,loading:!0}),fO=()=>L.useContext(zT),dO=({children:r})=>{const[e,n]=L.useState(null),[s,l]=L.useState(!0);L.useEffect(()=>uN(_g,m=>{n(m),l(!1)}),[]);const c={currentUser:e,loading:s};return _.jsx(zT.Provider,{value:c,children:!s&&r})},tl=({children:r})=>{const{currentUser:e,loading:n}=fO();return n?_.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-lime-400 font-black tracking-widest uppercase",children:"Carregando Sistema..."}):e?_.jsx(_.Fragment,{children:r}):_.jsx(Mm,{to:"/admin/login",replace:!0})},mO=()=>_.jsx(JS,{children:_.jsx(dO,{children:_.jsx(x2,{children:_.jsxs(AS,{children:[_.jsx(zn,{path:"/admin/login",element:_.jsx(cO,{})}),_.jsx(zn,{path:"/signup",element:_.jsx(hO,{})}),_.jsx(zn,{path:"/admin/usuarios",element:_.jsx(tl,{children:_.jsx(iO,{})})}),_.jsx(zn,{path:"/admin/qrcode",element:_.jsx(tl,{children:_.jsx(rO,{})})}),_.jsx(zn,{path:"/admin/horarios",element:_.jsx(tl,{children:_.jsx(lO,{})})}),_.jsx(zn,{path:"/admin/checkins",element:_.jsx(tl,{children:_.jsx(sO,{})})}),_.jsx(zn,{path:"/admin/ranking",element:_.jsx(tl,{children:_.jsx(oO,{})})}),_.jsx(zn,{path:"/admin/distribuicoes",element:_.jsx(tl,{children:_.jsx(aO,{})})}),_.jsx(zn,{path:"/checkin",element:_.jsx(uO,{})}),_.jsx(zn,{path:"/admin",element:_.jsx(Mm,{to:"/admin/usuarios",replace:!0})}),_.jsx(zn,{path:"/",element:_.jsx(Mm,{to:"/checkin",replace:!0})})]})})})}),BT=document.getElementById("root");if(!BT)throw new Error("Could not find root element to mount to");const pO=Nw.createRoot(BT);pO.render(_.jsx(bw.StrictMode,{children:_.jsx(mO,{})}));
