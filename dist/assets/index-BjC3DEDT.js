(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function kE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Hm={exports:{}},ac={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function kS(){if(Av)return ac;Av=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:u,ref:o!==void 0?o:null,props:c}}return ac.Fragment=e,ac.jsx=n,ac.jsxs=n,ac}var Rv;function DS(){return Rv||(Rv=1,Hm.exports=kS()),Hm.exports}var g=DS(),Fm={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function OS(){if(Nv)return we;Nv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.iterator;function R(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,U={};function W(D,ee,ce){this.props=D,this.context=ee,this.refs=U,this.updater=ce||L}W.prototype.isReactComponent={},W.prototype.setState=function(D,ee){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ee,"setState")},W.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function se(){}se.prototype=W.prototype;function Y(D,ee,ce){this.props=D,this.context=ee,this.refs=U,this.updater=ce||L}var X=Y.prototype=new se;X.constructor=Y,P(X,W.prototype),X.isPureReactComponent=!0;var re=Array.isArray;function de(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(D,ee,ce){var ae=ce.ref;return{$$typeof:i,type:D,key:ee,ref:ae!==void 0?ae:null,props:ce}}function O(D,ee){return N(D.type,ee,D.props)}function j(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function B(D){var ee={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ce){return ee[ce]})}var I=/\/+/g;function nt(D,ee){return typeof D=="object"&&D!==null&&D.key!=null?B(""+D.key):ee.toString(36)}function vt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(de,de):(D.status="pending",D.then(function(ee){D.status==="pending"&&(D.status="fulfilled",D.value=ee)},function(ee){D.status==="pending"&&(D.status="rejected",D.reason=ee)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Q(D,ee,ce,ae,me){var ye=typeof D;(ye==="undefined"||ye==="boolean")&&(D=null);var ke=!1;if(D===null)ke=!0;else switch(ye){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(D.$$typeof){case i:case e:ke=!0;break;case E:return ke=D._init,Q(ke(D._payload),ee,ce,ae,me)}}if(ke)return me=me(D),ke=ae===""?"."+nt(D,0):ae,re(me)?(ce="",ke!=null&&(ce=ke.replace(I,"$&/")+"/"),Q(me,ee,ce,"",function(ai){return ai})):me!=null&&(j(me)&&(me=O(me,ce+(me.key==null||D&&D.key===me.key?"":(""+me.key).replace(I,"$&/")+"/")+ke)),ee.push(me)),1;ke=0;var bt=ae===""?".":ae+":";if(re(D))for(var $e=0;$e<D.length;$e++)ae=D[$e],ye=bt+nt(ae,$e),ke+=Q(ae,ee,ce,ye,me);else if($e=R(D),typeof $e=="function")for(D=$e.call(D),$e=0;!(ae=D.next()).done;)ae=ae.value,ye=bt+nt(ae,$e++),ke+=Q(ae,ee,ce,ye,me);else if(ye==="object"){if(typeof D.then=="function")return Q(vt(D),ee,ce,ae,me);throw ee=String(D),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ke}function oe(D,ee,ce){if(D==null)return D;var ae=[],me=0;return Q(D,ae,"","",function(ye){return ee.call(ce,ye,me++)}),ae}function pe(D){if(D._status===-1){var ee=D._result;ee=ee(),ee.then(function(ce){(D._status===0||D._status===-1)&&(D._status=1,D._result=ce)},function(ce){(D._status===0||D._status===-1)&&(D._status=2,D._result=ce)}),D._status===-1&&(D._status=0,D._result=ee)}if(D._status===1)return D._result.default;throw D._result}var Ae=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Me={map:oe,forEach:function(D,ee,ce){oe(D,function(){ee.apply(this,arguments)},ce)},count:function(D){var ee=0;return oe(D,function(){ee++}),ee},toArray:function(D){return oe(D,function(ee){return ee})||[]},only:function(D){if(!j(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return we.Activity=x,we.Children=Me,we.Component=W,we.Fragment=n,we.Profiler=o,we.PureComponent=Y,we.StrictMode=r,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,we.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},we.cache=function(D){return function(){return D.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(D,ee,ce){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ae=P({},D.props),me=D.key;if(ee!=null)for(ye in ee.key!==void 0&&(me=""+ee.key),ee)!A.call(ee,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&ee.ref===void 0||(ae[ye]=ee[ye]);var ye=arguments.length-2;if(ye===1)ae.children=ce;else if(1<ye){for(var ke=Array(ye),bt=0;bt<ye;bt++)ke[bt]=arguments[bt+2];ae.children=ke}return N(D.type,me,ae)},we.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},we.createElement=function(D,ee,ce){var ae,me={},ye=null;if(ee!=null)for(ae in ee.key!==void 0&&(ye=""+ee.key),ee)A.call(ee,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(me[ae]=ee[ae]);var ke=arguments.length-2;if(ke===1)me.children=ce;else if(1<ke){for(var bt=Array(ke),$e=0;$e<ke;$e++)bt[$e]=arguments[$e+2];me.children=bt}if(D&&D.defaultProps)for(ae in ke=D.defaultProps,ke)me[ae]===void 0&&(me[ae]=ke[ae]);return N(D,ye,me)},we.createRef=function(){return{current:null}},we.forwardRef=function(D){return{$$typeof:m,render:D}},we.isValidElement=j,we.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:pe}},we.memo=function(D,ee){return{$$typeof:y,type:D,compare:ee===void 0?null:ee}},we.startTransition=function(D){var ee=C.T,ce={};C.T=ce;try{var ae=D(),me=C.S;me!==null&&me(ce,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(de,Ae)}catch(ye){Ae(ye)}finally{ee!==null&&ce.types!==null&&(ee.types=ce.types),C.T=ee}},we.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},we.use=function(D){return C.H.use(D)},we.useActionState=function(D,ee,ce){return C.H.useActionState(D,ee,ce)},we.useCallback=function(D,ee){return C.H.useCallback(D,ee)},we.useContext=function(D){return C.H.useContext(D)},we.useDebugValue=function(){},we.useDeferredValue=function(D,ee){return C.H.useDeferredValue(D,ee)},we.useEffect=function(D,ee){return C.H.useEffect(D,ee)},we.useEffectEvent=function(D){return C.H.useEffectEvent(D)},we.useId=function(){return C.H.useId()},we.useImperativeHandle=function(D,ee,ce){return C.H.useImperativeHandle(D,ee,ce)},we.useInsertionEffect=function(D,ee){return C.H.useInsertionEffect(D,ee)},we.useLayoutEffect=function(D,ee){return C.H.useLayoutEffect(D,ee)},we.useMemo=function(D,ee){return C.H.useMemo(D,ee)},we.useOptimistic=function(D,ee){return C.H.useOptimistic(D,ee)},we.useReducer=function(D,ee,ce){return C.H.useReducer(D,ee,ce)},we.useRef=function(D){return C.H.useRef(D)},we.useState=function(D){return C.H.useState(D)},we.useSyncExternalStore=function(D,ee,ce){return C.H.useSyncExternalStore(D,ee,ce)},we.useTransition=function(){return C.H.useTransition()},we.version="19.2.4",we}var Cv;function qp(){return Cv||(Cv=1,Fm.exports=OS()),Fm.exports}var V=qp();const MS=kE(V);var Gm={exports:{}},oc={},$m={exports:{}},Km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function jS(){return Iv||(Iv=1,(function(i){function e(Q,oe){var pe=Q.length;Q.push(oe);e:for(;0<pe;){var Ae=pe-1>>>1,Me=Q[Ae];if(0<o(Me,oe))Q[Ae]=oe,Q[pe]=Me,pe=Ae;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var oe=Q[0],pe=Q.pop();if(pe!==oe){Q[0]=pe;e:for(var Ae=0,Me=Q.length,D=Me>>>1;Ae<D;){var ee=2*(Ae+1)-1,ce=Q[ee],ae=ee+1,me=Q[ae];if(0>o(ce,pe))ae<Me&&0>o(me,ce)?(Q[Ae]=me,Q[ae]=pe,Ae=ae):(Q[Ae]=ce,Q[ee]=pe,Ae=ee);else if(ae<Me&&0>o(me,pe))Q[Ae]=me,Q[ae]=pe,Ae=ae;else break e}}return oe}function o(Q,oe){var pe=Q.sortIndex-oe.sortIndex;return pe!==0?pe:Q.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();i.unstable_now=function(){return u.now()-m}}var p=[],y=[],E=1,x=null,w=3,R=!1,L=!1,P=!1,U=!1,W=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function X(Q){for(var oe=n(y);oe!==null;){if(oe.callback===null)r(y);else if(oe.startTime<=Q)r(y),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(y)}}function re(Q){if(P=!1,X(Q),!L)if(n(p)!==null)L=!0,de||(de=!0,B());else{var oe=n(y);oe!==null&&vt(re,oe.startTime-Q)}}var de=!1,C=-1,A=5,N=-1;function O(){return U?!0:!(i.unstable_now()-N<A)}function j(){if(U=!1,de){var Q=i.unstable_now();N=Q;var oe=!0;try{e:{L=!1,P&&(P=!1,se(C),C=-1),R=!0;var pe=w;try{t:{for(X(Q),x=n(p);x!==null&&!(x.expirationTime>Q&&O());){var Ae=x.callback;if(typeof Ae=="function"){x.callback=null,w=x.priorityLevel;var Me=Ae(x.expirationTime<=Q);if(Q=i.unstable_now(),typeof Me=="function"){x.callback=Me,X(Q),oe=!0;break t}x===n(p)&&r(p),X(Q)}else r(p);x=n(p)}if(x!==null)oe=!0;else{var D=n(y);D!==null&&vt(re,D.startTime-Q),oe=!1}}break e}finally{x=null,w=pe,R=!1}oe=void 0}}finally{oe?B():de=!1}}}var B;if(typeof Y=="function")B=function(){Y(j)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,nt=I.port2;I.port1.onmessage=j,B=function(){nt.postMessage(null)}}else B=function(){W(j,0)};function vt(Q,oe){C=W(function(){Q(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var pe=w;w=oe;try{return Q()}finally{w=pe}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var pe=w;w=Q;try{return oe()}finally{w=pe}},i.unstable_scheduleCallback=function(Q,oe,pe){var Ae=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ae+pe:Ae):pe=Ae,Q){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=pe+Me,Q={id:E++,callback:oe,priorityLevel:Q,startTime:pe,expirationTime:Me,sortIndex:-1},pe>Ae?(Q.sortIndex=pe,e(y,Q),n(p)===null&&Q===n(y)&&(P?(se(C),C=-1):P=!0,vt(re,pe-Ae))):(Q.sortIndex=Me,e(p,Q),L||R||(L=!0,de||(de=!0,B()))),Q},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(Q){var oe=w;return function(){var pe=w;w=oe;try{return Q.apply(this,arguments)}finally{w=pe}}}})(Km)),Km}var kv;function VS(){return kv||(kv=1,$m.exports=jS()),$m.exports}var Qm={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function US(){if(Dv)return nn;Dv=1;var i=qp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:p,containerInfo:y,implementation:E}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nn.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,E)},nn.flushSync=function(p){var y=u.T,E=r.p;try{if(u.T=null,r.p=2,p)return p()}finally{u.T=y,r.p=E,r.d.f()}},nn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},nn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},nn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,x=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,R=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:R}):E==="script"&&r.d.X(p,{crossOrigin:x,integrity:w,fetchPriority:R,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},nn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,x=m(E,y.crossOrigin);r.d.L(p,E,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},nn.requestFormReset=function(p){r.d.r(p)},nn.unstable_batchedUpdates=function(p,y){return p(y)},nn.useFormState=function(p,y,E){return u.H.useFormState(p,y,E)},nn.useFormStatus=function(){return u.H.useHostTransitionStatus()},nn.version="19.2.4",nn}var Ov;function PS(){if(Ov)return Qm.exports;Ov=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Qm.exports=US(),Qm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function LS(){if(Mv)return oc;Mv=1;var i=VS(),e=qp(),n=PS();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function u(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(r(188))}function y(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,l=s;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return p(d),t;if(f===l)return p(d),s;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=d,l=f;else{for(var v=!1,T=d.child;T;){if(T===a){v=!0,a=d,l=f;break}if(T===l){v=!0,l=d,a=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===a){v=!0,a=f,l=d;break}if(T===l){v=!0,l=f,a=d;break}T=T.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function E(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=E(t),s!==null)return s;t=t.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case W:return"Profiler";case U:return"StrictMode";case re:return"Suspense";case de:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case Y:return t.displayName||"Context";case se:return(t._context.displayName||"Context")+".Consumer";case X:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return s=t.displayName||null,s!==null?s:nt(t.type)||"Memo";case A:s=t._payload,t=t._init;try{return nt(t(s))}catch{}}return null}var vt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ae=[],Me=-1;function D(t){return{current:t}}function ee(t){0>Me||(t.current=Ae[Me],Ae[Me]=null,Me--)}function ce(t,s){Me++,Ae[Me]=t.current,t.current=s}var ae=D(null),me=D(null),ye=D(null),ke=D(null);function bt(t,s){switch(ce(ye,s),ce(me,t),ce(ae,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Y_(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Y_(s),t=X_(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(ae),ce(ae,t)}function $e(){ee(ae),ee(me),ee(ye)}function ai(t){t.memoizedState!==null&&ce(ke,t);var s=ae.current,a=X_(s,t.type);s!==a&&(ce(me,t),ce(ae,a))}function ns(t){me.current===t&&(ee(ae),ee(me)),ke.current===t&&(ee(ke),nc._currentValue=pe)}var is,Vs;function qn(t){if(is===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);is=s&&s[1]||"",Vs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+is+t+Vs}var Hr=!1;function ss(t,s){if(!t||Hr)return"";Hr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var G=K}Reflect.construct(t,[],te)}else{try{te.call()}catch(K){G=K}t.call(te.prototype)}}else{try{throw Error()}catch(K){G=K}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var k=v.split(`
`),F=T.split(`
`);for(d=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(l===k.length||d===F.length)for(l=k.length-1,d=F.length-1;1<=l&&0<=d&&k[l]!==F[d];)d--;for(;1<=l&&0<=d;l--,d--)if(k[l]!==F[d]){if(l!==1||d!==1)do if(l--,d--,0>d||k[l]!==F[d]){var J=`
`+k[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=d);break}}}finally{Hr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?qn(a):""}function Us(t,s){switch(t.tag){case 26:case 27:case 5:return qn(t.type);case 16:return qn("Lazy");case 13:return t.child!==s&&s!==null?qn("Suspense Fallback"):qn("Suspense");case 19:return qn("SuspenseList");case 0:case 15:return ss(t.type,!1);case 11:return ss(t.type.render,!1);case 1:return ss(t.type,!0);case 31:return qn("Activity");default:return""}}function Ps(t){try{var s="",a=null;do s+=Us(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var dt=Object.prototype.hasOwnProperty,Et=i.unstable_scheduleCallback,oi=i.unstable_cancelCallback,ru=i.unstable_shouldYield,al=i.unstable_requestPaint,Bt=i.unstable_now,rs=i.unstable_getCurrentPriorityLevel,Hn=i.unstable_ImmediatePriority,tn=i.unstable_UserBlockingPriority,xt=i.unstable_NormalPriority,li=i.unstable_LowPriority,Ua=i.unstable_IdlePriority,Pa=i.log,La=i.unstable_setDisableYieldValue,Sn=null,Pt=null;function hn(t){if(typeof Pa=="function"&&La(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Sn,t)}catch{}}var ft=Math.clz32?Math.clz32:as,za=Math.log,Ls=Math.LN2;function as(t){return t>>>=0,t===0?32:31-(za(t)/Ls|0)|0}var qt=256,wi=262144,it=4194304;function dn(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fn(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?d=dn(l):(v&=T,v!==0?d=dn(v):a||(a=T&~t,a!==0&&(d=dn(a))))):(T=l&~f,T!==0?d=dn(T):v!==0?d=dn(v):a||(a=l&~t,a!==0&&(d=dn(a)))),d===0?0:s!==0&&s!==d&&(s&f)===0&&(f=d&-d,a=s&-s,f>=a||f===32&&(a&4194048)!==0)?s:d}function Fn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function $d(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var t=it;return it<<=1,(it&62914560)===0&&(it=4194304),t}function Si(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Fr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Kd(t,s,a,l,d,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,k=t.expirationTimes,F=t.hiddenUpdates;for(a=v&~a;0<a;){var J=31-ft(a),te=1<<J;T[J]=0,k[J]=-1;var G=F[J];if(G!==null)for(F[J]=null,J=0;J<G.length;J++){var K=G[J];K!==null&&(K.lane&=-536870913)}a&=~te}l!==0&&Gr(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~s))}function Gr(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-ft(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ol(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-ft(a),d=1<<l;d&s|t[l]&s&&(t[l]|=s),a&=~d}}function ll(t,s){var a=s&-s;return a=(a&42)!==0?1:$r(a),(a&(t.suspendedLanes|s))!==0?0:a}function $r(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function os(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ou(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:vv(t.type))}function ci(t,s){var a=oe.p;try{return oe.p=t,s()}finally{oe.p=a}}var ui=Math.random().toString(36).slice(2),Rt="__reactFiber$"+ui,Ht="__reactProps$"+ui,Ai="__reactContainer$"+ui,Ba="__reactEvents$"+ui,Qd="__reactListeners$"+ui,lu="__reactHandles$"+ui,cu="__reactResources$"+ui,Ri="__reactMarker$"+ui;function qa(t){delete t[Rt],delete t[Ht],delete t[Ba],delete t[Qd],delete t[lu]}function Ni(t){var s=t[Rt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Ai]||a[Rt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=iv(t);t!==null;){if(a=t[Rt])return a;t=iv(t)}return s}t=a,a=t.parentNode}return null}function Gn(t){if(t=t[Rt]||t[Ai]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function An(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function Ci(t){var s=t[cu];return s||(s=t[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Nt(t){t[Ri]=!0}var cl=new Set,ul={};function Ii(t,s){ki(t,s),ki(t+"Capture",s)}function ki(t,s){for(ul[t]=s,t=0;t<s.length;t++)cl.add(s[t])}var hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dl={},fl={};function uu(t){return dt.call(fl,t)?!0:dt.call(dl,t)?!1:hl.test(t)?fl[t]=!0:(dl[t]=!0,!1)}function Ha(t,s,a){if(uu(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Rn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Ct(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zs(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ml(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Qe(t){if(!t._valueTracker){var s=zs(t)?"checked":"value";t._valueTracker=ml(t,s,""+t[s])}}function Kr(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=zs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function Di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qr=/[\n"\\]/g;function mn(t){return t.replace(Qr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Fa(t,s,a,l,d,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Ft(s)):t.value!==""+Ft(s)&&(t.value=""+Ft(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?pl(t,v,Ft(s)):a!=null?pl(t,v,Ft(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ft(T):t.removeAttribute("name")}function hu(t,s,a,l,d,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),s!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||s!=null)){Qe(t);return}a=a!=null?""+Ft(a):"",s=s!=null?""+Ft(s):a,T||s===t.value||(t.value=s),t.defaultValue=s}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Qe(t)}function pl(t,s,a){s==="number"&&Di(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Bs(t,s,a,l){if(t=t.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=s.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ft(a),s=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function du(t,s,a){if(s!=null&&(s=""+Ft(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Ft(a):""}function qs(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(vt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Ft(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function pn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gl(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||fu.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function yl(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in s)l=s[d],s.hasOwnProperty(d)&&a[d]!==l&&gl(t,d,l)}else for(var f in s)s.hasOwnProperty(f)&&gl(t,f,s[f])}function Ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $a(t){return Hs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function hi(){}var _l=null;function $n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fs=null,Oi=null;function Yr(t){var s=Gn(t);if(s&&(t=s.stateNode)){var a=t[Ht]||null;e:switch(t=s.stateNode,s.type){case"input":if(Fa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var d=l[Ht]||null;if(!d)throw Error(r(90));Fa(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&Kr(l)}break e;case"textarea":du(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Bs(t,!!a.multiple,s,!1)}}}var Ka=!1;function Gs(t,s,a){if(Ka)return t(s,a);Ka=!0;try{var l=t(s);return l}finally{if(Ka=!1,(Fs!==null||Oi!==null)&&(oh(),Fs&&(s=Fs,t=Oi,Oi=Fs=null,Yr(s),t)))for(s=0;s<t.length;s++)Yr(t[s])}}function di(t,s){var a=t.stateNode;if(a===null)return null;var l=a[Ht]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=!1;if(Kn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Xr=!1}var Mi=null,vl=null,Jr=null;function bl(){if(Jr)return Jr;var t,s=vl,a=s.length,l,d="value"in Mi?Mi.value:Mi.textContent,f=d.length;for(t=0;t<a&&s[t]===d[t];t++);var v=a-t;for(l=1;l<=v&&s[a-l]===d[f-l];l++);return Jr=d.slice(t,1<l?1-l:void 0)}function Wr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function ls(){return!0}function fi(){return!1}function Kt(t){function s(a,l,d,f,v){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ls:fi,this.isPropagationStopped=fi,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),s}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=Kt(cs),$s=x({},cs,{view:0,detail:0}),El=Kt($s),Ks,Qa,Vi,Ya=x({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vi&&(Vi&&t.type==="mousemove"?(Ks=t.screenX-Vi.screenX,Qa=t.screenY-Vi.screenY):Qa=Ks=0,Vi=t),Ks)},movementY:function(t){return"movementY"in t?t.movementY:Qa}}),xl=Kt(Ya),Zr=x({},Ya,{dataTransfer:0}),pu=Kt(Zr),gu=x({},$s,{relatedTarget:0}),ea=Kt(gu),Tl=x({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=Kt(Tl),Xa=x({},cs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_u=Kt(Xa),vu=x({},cs,{data:0}),Ui=Kt(vu),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=xu[t])?!!s[t]:!1}function Qs(){return Tu}var ln=x({},$s,{key:function(t){if(t.key){var s=bu[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Wr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(t){return t.type==="keypress"?Wr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wu=Kt(ln),Su=x({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),us=Kt(Su),h=x({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),_=Kt(h),b=x({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Kt(b),q=x({},Ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Kt(q),le=x({},cs,{newState:0,oldState:0}),Re=Kt(le),Tt=[9,13,27,32],Fe=Kn&&"CompositionEvent"in window,ct=null;Kn&&"documentMode"in document&&(ct=document.documentMode);var Qn=Kn&&"TextEvent"in window&&!ct,Pi=Kn&&(!Fe||ct&&8<ct&&11>=ct),mi=" ",pi=!1;function ta(t,s){switch(t){case"keyup":return Tt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ja(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wa=!1;function tw(t,s){switch(t){case"compositionend":return Ja(s);case"keypress":return s.which!==32?null:(pi=!0,mi);case"textInput":return t=s.data,t===mi&&pi?null:t;default:return null}}function nw(t,s){if(Wa)return t==="compositionend"||!Fe&&ta(t,s)?(t=bl(),Jr=vl=Mi=null,Wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Pi&&s.locale!=="ko"?null:s.data;default:return null}}var iw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ay(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!iw[t.type]:s==="textarea"}function oy(t,s,a,l){Fs?Oi?Oi.push(l):Oi=[l]:Fs=l,s=mh(s,"onChange"),0<s.length&&(a=new ji("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var wl=null,Sl=null;function sw(t){H_(t,0)}function Au(t){var s=An(t);if(Kr(s))return t}function ly(t,s){if(t==="change")return s}var cy=!1;if(Kn){var Yd;if(Kn){var Xd="oninput"in document;if(!Xd){var uy=document.createElement("div");uy.setAttribute("oninput","return;"),Xd=typeof uy.oninput=="function"}Yd=Xd}else Yd=!1;cy=Yd&&(!document.documentMode||9<document.documentMode)}function hy(){wl&&(wl.detachEvent("onpropertychange",dy),Sl=wl=null)}function dy(t){if(t.propertyName==="value"&&Au(Sl)){var s=[];oy(s,Sl,t,$n(t)),Gs(sw,s)}}function rw(t,s,a){t==="focusin"?(hy(),wl=s,Sl=a,wl.attachEvent("onpropertychange",dy)):t==="focusout"&&hy()}function aw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(Sl)}function ow(t,s){if(t==="click")return Au(s)}function lw(t,s){if(t==="input"||t==="change")return Au(s)}function cw(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Nn=typeof Object.is=="function"?Object.is:cw;function Al(t,s){if(Nn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!dt.call(s,d)||!Nn(t[d],s[d]))return!1}return!0}function fy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function my(t,s){var a=fy(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=fy(a)}}function py(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?py(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function gy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Di(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Di(t.document)}return s}function Jd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var uw=Kn&&"documentMode"in document&&11>=document.documentMode,Za=null,Wd=null,Rl=null,Zd=!1;function yy(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zd||Za==null||Za!==Di(l)||(l=Za,"selectionStart"in l&&Jd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Rl&&Al(Rl,l)||(Rl=l,l=mh(Wd,"onSelect"),0<l.length&&(s=new ji("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=Za)))}function na(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var eo={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},ef={},_y={};Kn&&(_y=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function ia(t){if(ef[t])return ef[t];if(!eo[t])return t;var s=eo[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in _y)return ef[t]=s[a];return t}var vy=ia("animationend"),by=ia("animationiteration"),Ey=ia("animationstart"),hw=ia("transitionrun"),dw=ia("transitionstart"),fw=ia("transitioncancel"),xy=ia("transitionend"),Ty=new Map,tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tf.push("scrollEnd");function gi(t,s){Ty.set(t,s),Ii(s,[t])}var Ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Yn=[],to=0,nf=0;function Nu(){for(var t=to,s=nf=to=0;s<t;){var a=Yn[s];Yn[s++]=null;var l=Yn[s];Yn[s++]=null;var d=Yn[s];Yn[s++]=null;var f=Yn[s];if(Yn[s++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}f!==0&&wy(a,d,f)}}function Cu(t,s,a,l){Yn[to++]=t,Yn[to++]=s,Yn[to++]=a,Yn[to++]=l,nf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function sf(t,s,a,l){return Cu(t,s,a,l),Iu(t)}function sa(t,s){return Cu(t,null,null,s),Iu(t)}function wy(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&s!==null&&(d=31-ft(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[s]:l.push(s),s.lane=a|536870912),f):null}function Iu(t){if(50<Yl)throw Yl=0,fm=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var no={};function mw(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,s,a,l){return new mw(t,s,a,l)}function rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hs(t,s){var a=t.alternate;return a===null?(a=Cn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Sy(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function ku(t,s,a,l,d,f){var v=0;if(l=t,typeof t=="function")rf(t)&&(v=1);else if(typeof t=="string")v=vS(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Cn(31,a,s,d),t.elementType=N,t.lanes=f,t;case P:return ra(a.children,d,f,s);case U:v=8,d|=24;break;case W:return t=Cn(12,a,s,d|2),t.elementType=W,t.lanes=f,t;case re:return t=Cn(13,a,s,d),t.elementType=re,t.lanes=f,t;case de:return t=Cn(19,a,s,d),t.elementType=de,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:v=10;break e;case se:v=9;break e;case X:v=11;break e;case C:v=14;break e;case A:v=16,l=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return s=Cn(v,a,s,d),s.elementType=t,s.type=l,s.lanes=f,s}function ra(t,s,a,l){return t=Cn(7,t,l,s),t.lanes=a,t}function af(t,s,a){return t=Cn(6,t,null,s),t.lanes=a,t}function Ay(t){var s=Cn(18,null,null,0);return s.stateNode=t,s}function of(t,s,a){return s=Cn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Ry=new WeakMap;function Xn(t,s){if(typeof t=="object"&&t!==null){var a=Ry.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Ps(s)},Ry.set(t,s),s)}return{value:t,source:s,stack:Ps(s)}}var io=[],so=0,Du=null,Nl=0,Jn=[],Wn=0,Ys=null,Li=1,zi="";function ds(t,s){io[so++]=Nl,io[so++]=Du,Du=t,Nl=s}function Ny(t,s,a){Jn[Wn++]=Li,Jn[Wn++]=zi,Jn[Wn++]=Ys,Ys=t;var l=Li;t=zi;var d=32-ft(l)-1;l&=~(1<<d),a+=1;var f=32-ft(s)+d;if(30<f){var v=d-d%5;f=(l&(1<<v)-1).toString(32),l>>=v,d-=v,Li=1<<32-ft(s)+d|a<<d|l,zi=f+t}else Li=1<<f|a<<d|l,zi=t}function lf(t){t.return!==null&&(ds(t,1),Ny(t,1,0))}function cf(t){for(;t===Du;)Du=io[--so],io[so]=null,Nl=io[--so],io[so]=null;for(;t===Ys;)Ys=Jn[--Wn],Jn[Wn]=null,zi=Jn[--Wn],Jn[Wn]=null,Li=Jn[--Wn],Jn[Wn]=null}function Cy(t,s){Jn[Wn++]=Li,Jn[Wn++]=zi,Jn[Wn++]=Ys,Li=s.id,zi=s.overflow,Ys=t}var Qt=null,rt=null,ze=!1,Xs=null,Zn=!1,uf=Error(r(519));function Js(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cl(Xn(s,t)),uf}function Iy(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[Rt]=t,s[Ht]=l,a){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(a=0;a<Jl.length;a++)Oe(Jl[a],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),hu(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),qs(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||K_(s.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),l.onScroll!=null&&Oe("scroll",s),l.onScrollEnd!=null&&Oe("scrollend",s),l.onClick!=null&&(s.onclick=hi),s=!0):s=!1,s||Js(t,!0)}function ky(t){for(Qt=t.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Qt=Qt.return}}function ro(t){if(t!==Qt)return!1;if(!ze)return ky(t),ze=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Nm(t.type,t.memoizedProps)),a=!a),a&&rt&&Js(t),ky(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=nv(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=nv(t)}else s===27?(s=rt,hr(t.type)?(t=Om,Om=null,rt=t):rt=s):rt=Qt?ti(t.stateNode.nextSibling):null;return!0}function aa(){rt=Qt=null,ze=!1}function hf(){var t=Xs;return t!==null&&(vn===null?vn=t:vn.push.apply(vn,t),Xs=null),t}function Cl(t){Xs===null?Xs=[t]:Xs.push(t)}var df=D(null),oa=null,fs=null;function Ws(t,s,a){ce(df,s._currentValue),s._currentValue=a}function ms(t){t._currentValue=df.current,ee(df)}function ff(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function mf(t,s,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var v=d.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=d;for(var k=0;k<s.length;k++)if(T.context===s[k]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),ff(f.return,a,t),l||(v=null);break e}f=T.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(r(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),ff(v,a,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function ao(t,s,a,l){t=null;for(var d=s,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var T=d.type;Nn(d.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(d===ke.current){if(v=d.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(nc):t=[nc])}d=d.return}t!==null&&mf(s,t,a,l),s.flags|=262144}function Ou(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function la(t){oa=t,fs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Dy(oa,t)}function Mu(t,s){return oa===null&&la(t),Dy(t,s)}function Dy(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},fs===null){if(t===null)throw Error(r(308));fs=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else fs=fs.next=s;return a}var pw=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},gw=i.unstable_scheduleCallback,yw=i.unstable_NormalPriority,It={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new pw,data:new Map,refCount:0}}function Il(t){t.refCount--,t.refCount===0&&gw(yw,function(){t.controller.abort()})}var kl=null,gf=0,oo=0,lo=null;function _w(t,s){if(kl===null){var a=kl=[];gf=0,oo=vm(),lo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return gf++,s.then(Oy,Oy),s}function Oy(){if(--gf===0&&kl!==null){lo!==null&&(lo.status="fulfilled");var t=kl;kl=null,oo=0,lo=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function vw(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var My=Q.S;Q.S=function(t,s){y_=Bt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&_w(t,s),My!==null&&My(t,s)};var ca=D(null);function yf(){var t=ca.current;return t!==null?t:tt.pooledCache}function ju(t,s){s===null?ce(ca,ca.current):ce(ca,s.pool)}function jy(){var t=yf();return t===null?null:{parent:It._currentValue,pool:t}}var co=Error(r(460)),_f=Error(r(474)),Vu=Error(r(542)),Uu={then:function(){}};function Vy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Uy(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(hi,hi),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ly(t),t;default:if(typeof s.status=="string")s.then(hi,hi);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=l}},function(l){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ly(t),t}throw ha=s,co}}function ua(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ha=a,co):a}}var ha=null;function Py(){if(ha===null)throw Error(r(459));var t=ha;return ha=null,t}function Ly(t){if(t===co||t===Vu)throw Error(r(483))}var uo=null,Dl=0;function Pu(t){var s=Dl;return Dl+=1,uo===null&&(uo=[]),Uy(uo,t,s)}function Ol(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Lu(t,s){throw s.$$typeof===w?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function zy(t){function s(z,M){if(t){var H=z.deletions;H===null?(z.deletions=[M],z.flags|=16):H.push(M)}}function a(z,M){if(!t)return null;for(;M!==null;)s(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function d(z,M){return z=hs(z,M),z.index=0,z.sibling=null,z}function f(z,M,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<M?(z.flags|=67108866,M):H):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,M,H,Z){return M===null||M.tag!==6?(M=af(H,z.mode,Z),M.return=z,M):(M=d(M,H),M.return=z,M)}function k(z,M,H,Z){var _e=H.type;return _e===P?J(z,M,H.props.children,Z,H.key):M!==null&&(M.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&ua(_e)===M.type)?(M=d(M,H.props),Ol(M,H),M.return=z,M):(M=ku(H.type,H.key,H.props,null,z.mode,Z),Ol(M,H),M.return=z,M)}function F(z,M,H,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=of(H,z.mode,Z),M.return=z,M):(M=d(M,H.children||[]),M.return=z,M)}function J(z,M,H,Z,_e){return M===null||M.tag!==7?(M=ra(H,z.mode,Z,_e),M.return=z,M):(M=d(M,H),M.return=z,M)}function te(z,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=af(""+M,z.mode,H),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case R:return H=ku(M.type,M.key,M.props,null,z.mode,H),Ol(H,M),H.return=z,H;case L:return M=of(M,z.mode,H),M.return=z,M;case A:return M=ua(M),te(z,M,H)}if(vt(M)||B(M))return M=ra(M,z.mode,H,null),M.return=z,M;if(typeof M.then=="function")return te(z,Pu(M),H);if(M.$$typeof===Y)return te(z,Mu(z,M),H);Lu(z,M)}return null}function G(z,M,H,Z){var _e=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return _e!==null?null:T(z,M,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case R:return H.key===_e?k(z,M,H,Z):null;case L:return H.key===_e?F(z,M,H,Z):null;case A:return H=ua(H),G(z,M,H,Z)}if(vt(H)||B(H))return _e!==null?null:J(z,M,H,Z,null);if(typeof H.then=="function")return G(z,M,Pu(H),Z);if(H.$$typeof===Y)return G(z,M,Mu(z,H),Z);Lu(z,H)}return null}function K(z,M,H,Z,_e){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(H)||null,T(M,z,""+Z,_e);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case R:return z=z.get(Z.key===null?H:Z.key)||null,k(M,z,Z,_e);case L:return z=z.get(Z.key===null?H:Z.key)||null,F(M,z,Z,_e);case A:return Z=ua(Z),K(z,M,H,Z,_e)}if(vt(Z)||B(Z))return z=z.get(H)||null,J(M,z,Z,_e,null);if(typeof Z.then=="function")return K(z,M,H,Pu(Z),_e);if(Z.$$typeof===Y)return K(z,M,H,Mu(M,Z),_e);Lu(M,Z)}return null}function fe(z,M,H,Z){for(var _e=null,qe=null,ge=M,Ce=M=0,Ve=null;ge!==null&&Ce<H.length;Ce++){ge.index>Ce?(Ve=ge,ge=null):Ve=ge.sibling;var He=G(z,ge,H[Ce],Z);if(He===null){ge===null&&(ge=Ve);break}t&&ge&&He.alternate===null&&s(z,ge),M=f(He,M,Ce),qe===null?_e=He:qe.sibling=He,qe=He,ge=Ve}if(Ce===H.length)return a(z,ge),ze&&ds(z,Ce),_e;if(ge===null){for(;Ce<H.length;Ce++)ge=te(z,H[Ce],Z),ge!==null&&(M=f(ge,M,Ce),qe===null?_e=ge:qe.sibling=ge,qe=ge);return ze&&ds(z,Ce),_e}for(ge=l(ge);Ce<H.length;Ce++)Ve=K(ge,z,Ce,H[Ce],Z),Ve!==null&&(t&&Ve.alternate!==null&&ge.delete(Ve.key===null?Ce:Ve.key),M=f(Ve,M,Ce),qe===null?_e=Ve:qe.sibling=Ve,qe=Ve);return t&&ge.forEach(function(gr){return s(z,gr)}),ze&&ds(z,Ce),_e}function be(z,M,H,Z){if(H==null)throw Error(r(151));for(var _e=null,qe=null,ge=M,Ce=M=0,Ve=null,He=H.next();ge!==null&&!He.done;Ce++,He=H.next()){ge.index>Ce?(Ve=ge,ge=null):Ve=ge.sibling;var gr=G(z,ge,He.value,Z);if(gr===null){ge===null&&(ge=Ve);break}t&&ge&&gr.alternate===null&&s(z,ge),M=f(gr,M,Ce),qe===null?_e=gr:qe.sibling=gr,qe=gr,ge=Ve}if(He.done)return a(z,ge),ze&&ds(z,Ce),_e;if(ge===null){for(;!He.done;Ce++,He=H.next())He=te(z,He.value,Z),He!==null&&(M=f(He,M,Ce),qe===null?_e=He:qe.sibling=He,qe=He);return ze&&ds(z,Ce),_e}for(ge=l(ge);!He.done;Ce++,He=H.next())He=K(ge,z,Ce,He.value,Z),He!==null&&(t&&He.alternate!==null&&ge.delete(He.key===null?Ce:He.key),M=f(He,M,Ce),qe===null?_e=He:qe.sibling=He,qe=He);return t&&ge.forEach(function(IS){return s(z,IS)}),ze&&ds(z,Ce),_e}function et(z,M,H,Z){if(typeof H=="object"&&H!==null&&H.type===P&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case R:e:{for(var _e=H.key;M!==null;){if(M.key===_e){if(_e=H.type,_e===P){if(M.tag===7){a(z,M.sibling),Z=d(M,H.props.children),Z.return=z,z=Z;break e}}else if(M.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&ua(_e)===M.type){a(z,M.sibling),Z=d(M,H.props),Ol(Z,H),Z.return=z,z=Z;break e}a(z,M);break}else s(z,M);M=M.sibling}H.type===P?(Z=ra(H.props.children,z.mode,Z,H.key),Z.return=z,z=Z):(Z=ku(H.type,H.key,H.props,null,z.mode,Z),Ol(Z,H),Z.return=z,z=Z)}return v(z);case L:e:{for(_e=H.key;M!==null;){if(M.key===_e)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){a(z,M.sibling),Z=d(M,H.children||[]),Z.return=z,z=Z;break e}else{a(z,M);break}else s(z,M);M=M.sibling}Z=of(H,z.mode,Z),Z.return=z,z=Z}return v(z);case A:return H=ua(H),et(z,M,H,Z)}if(vt(H))return fe(z,M,H,Z);if(B(H)){if(_e=B(H),typeof _e!="function")throw Error(r(150));return H=_e.call(H),be(z,M,H,Z)}if(typeof H.then=="function")return et(z,M,Pu(H),Z);if(H.$$typeof===Y)return et(z,M,Mu(z,H),Z);Lu(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(a(z,M.sibling),Z=d(M,H),Z.return=z,z=Z):(a(z,M),Z=af(H,z.mode,Z),Z.return=z,z=Z),v(z)):a(z,M)}return function(z,M,H,Z){try{Dl=0;var _e=et(z,M,H,Z);return uo=null,_e}catch(ge){if(ge===co||ge===Vu)throw ge;var qe=Cn(29,ge,null,z.mode);return qe.lanes=Z,qe.return=z,qe}finally{}}}var da=zy(!0),By=zy(!1),Zs=!1;function vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function er(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function tr(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,s=Iu(t),wy(t,null,a),s}return Cu(t,l,s,a),Iu(t)}function Ml(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,ol(t,a)}}function Ef(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?d=f=s:f=f.next=s}else d=f=s;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var xf=!1;function jl(){if(xf){var t=lo;if(t!==null)throw t}}function Vl(t,s,a,l){xf=!1;var d=t.updateQueue;Zs=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var k=T,F=k.next;k.next=null,v===null?f=F:v.next=F,v=k;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==v&&(T===null?J.firstBaseUpdate=F:T.next=F,J.lastBaseUpdate=k))}if(f!==null){var te=d.baseState;v=0,J=F=k=null,T=f;do{var G=T.lane&-536870913,K=G!==T.lane;if(K?(je&G)===G:(l&G)===G){G!==0&&G===oo&&(xf=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,be=T;G=s;var et=a;switch(be.tag){case 1:if(fe=be.payload,typeof fe=="function"){te=fe.call(et,te,G);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=be.payload,G=typeof fe=="function"?fe.call(et,te,G):fe,G==null)break e;te=x({},te,G);break e;case 2:Zs=!0}}G=T.callback,G!==null&&(t.flags|=64,K&&(t.flags|=8192),K=d.callbacks,K===null?d.callbacks=[G]:K.push(G))}else K={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(F=J=K,k=te):J=J.next=K,v|=G;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;K=T,T=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);J===null&&(k=te),d.baseState=k,d.firstBaseUpdate=F,d.lastBaseUpdate=J,f===null&&(d.shared.lanes=0),ar|=v,t.lanes=v,t.memoizedState=te}}function qy(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function Hy(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)qy(a[t],s)}var ho=D(null),zu=D(0);function Fy(t,s){t=Ts,ce(zu,t),ce(ho,s),Ts=t|s.baseLanes}function Tf(){ce(zu,Ts),ce(ho,ho.current)}function wf(){Ts=zu.current,ee(ho),ee(zu)}var In=D(null),ei=null;function nr(t){var s=t.alternate;ce(wt,wt.current&1),ce(In,t),ei===null&&(s===null||ho.current!==null||s.memoizedState!==null)&&(ei=t)}function Sf(t){ce(wt,wt.current),ce(In,t),ei===null&&(ei=t)}function Gy(t){t.tag===22?(ce(wt,wt.current),ce(In,t),ei===null&&(ei=t)):ir()}function ir(){ce(wt,wt.current),ce(In,In.current)}function kn(t){ee(In),ei===t&&(ei=null),ee(wt)}var wt=D(0);function Bu(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||km(a)||Dm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ps=0,Ne=null,We=null,kt=null,qu=!1,fo=!1,fa=!1,Hu=0,Ul=0,mo=null,bw=0;function gt(){throw Error(r(321))}function Af(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Nn(t[a],s[a]))return!1;return!0}function Rf(t,s,a,l,d,f){return ps=f,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=t===null||t.memoizedState===null?N0:qf,fa=!1,f=a(l,d),fa=!1,fo&&(f=Ky(s,a,l,d)),$y(t),f}function $y(t){Q.H=zl;var s=We!==null&&We.next!==null;if(ps=0,kt=We=Ne=null,qu=!1,Ul=0,mo=null,s)throw Error(r(300));t===null||Dt||(t=t.dependencies,t!==null&&Ou(t)&&(Dt=!0))}function Ky(t,s,a,l){Ne=t;var d=0;do{if(fo&&(mo=null),Ul=0,fo=!1,25<=d)throw Error(r(301));if(d+=1,kt=We=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=C0,f=s(a,l)}while(fo);return f}function Ew(){var t=Q.H,s=t.useState()[0];return s=typeof s.then=="function"?Pl(s):s,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ne.flags|=1024),s}function Nf(){var t=Hu!==0;return Hu=0,t}function Cf(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function If(t){if(qu){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}qu=!1}ps=0,kt=We=Ne=null,fo=!1,Ul=Hu=0,mo=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Ne.memoizedState=kt=t:kt=kt.next=t,kt}function St(){if(We===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var s=kt===null?Ne.memoizedState:kt.next;if(s!==null)kt=s,We=t;else{if(t===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},kt===null?Ne.memoizedState=kt=t:kt=kt.next=t}return kt}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(t){var s=Ul;return Ul+=1,mo===null&&(mo=[]),t=Uy(mo,t,s),s=Ne,(kt===null?s.memoizedState:kt.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?N0:qf),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Pl(t);if(t.$$typeof===Y)return Yt(t)}throw Error(r(438,String(t)))}function kf(t){var s=null,a=Ne.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Fu(),Ne.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=O;return s.index++,a}function gs(t,s){return typeof s=="function"?s(t):s}function $u(t){var s=St();return Df(s,We,t)}function Df(t,s,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}s.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{s=d.next;var T=v=null,k=null,F=s,J=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(je&te)===te:(ps&te)===te){var G=F.revertLane;if(G===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===oo&&(J=!0);else if((ps&G)===G){F=F.next,G===oo&&(J=!0);continue}else te={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},k===null?(T=k=te,v=f):k=k.next=te,Ne.lanes|=G,ar|=G;te=F.action,fa&&a(f,te),f=F.hasEagerState?F.eagerState:a(f,te)}else G={lane:te,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},k===null?(T=k=G,v=f):k=k.next=G,Ne.lanes|=te,ar|=te;F=F.next}while(F!==null&&F!==s);if(k===null?v=f:k.next=T,!Nn(f,t.memoizedState)&&(Dt=!0,J&&(a=lo,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=k,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Of(t){var s=St(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=s.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do f=t(f,v.action),v=v.next;while(v!==d);Nn(f,s.memoizedState)||(Dt=!0),s.memoizedState=f,s.baseQueue===null&&(s.baseState=f),a.lastRenderedState=f}return[f,l]}function Qy(t,s,a){var l=Ne,d=St(),f=ze;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!Nn((We||d).memoizedState,a);if(v&&(d.memoizedState=a,Dt=!0),d=d.queue,Vf(Jy.bind(null,l,d,t),[t]),d.getSnapshot!==s||v||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,po(9,{destroy:void 0},Xy.bind(null,l,d,a,s),null),tt===null)throw Error(r(349));f||(ps&127)!==0||Yy(l,s,a)}return a}function Yy(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Ne.updateQueue,s===null?(s=Fu(),Ne.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Xy(t,s,a,l){s.value=a,s.getSnapshot=l,Wy(s)&&Zy(t)}function Jy(t,s,a){return a(function(){Wy(s)&&Zy(t)})}function Wy(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Nn(t,a)}catch{return!0}}function Zy(t){var s=sa(t,2);s!==null&&bn(s,t,2)}function Mf(t){var s=cn();if(typeof t=="function"){var a=t;if(t=a(),fa){hn(!0);try{a()}finally{hn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:t},s}function e0(t,s,a,l){return t.baseState=a,Df(t,We,typeof l=="function"?l:gs)}function xw(t,s,a,l,d){if(Yu(t))throw Error(r(485));if(t=s.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=s.pending,a===null?(f.next=s.pending=f,t0(s,f)):(f.next=a.next,s.pending=a.next=f)}}function t0(t,s){var a=s.action,l=s.payload,d=t.state;if(s.isTransition){var f=Q.T,v={};Q.T=v;try{var T=a(d,l),k=Q.S;k!==null&&k(v,T),n0(t,s,T)}catch(F){jf(t,s,F)}finally{f!==null&&v.types!==null&&(f.types=v.types),Q.T=f}}else try{f=a(d,l),n0(t,s,f)}catch(F){jf(t,s,F)}}function n0(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){i0(t,s,l)},function(l){return jf(t,s,l)}):i0(t,s,a)}function i0(t,s,a){s.status="fulfilled",s.value=a,s0(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,t0(t,a)))}function jf(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,s0(s),s=s.next;while(s!==l)}t.action=null}function s0(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function r0(t,s){return s}function a0(t,s){if(ze){var a=tt.formState;if(a!==null){e:{var l=Ne;if(ze){if(rt){t:{for(var d=rt,f=Zn;d.nodeType!==8;){if(!f){d=null;break t}if(d=ti(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){rt=ti(d.nextSibling),l=d.data==="F!";break e}}Js(l)}l=!1}l&&(s=a[0])}}return a=cn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r0,lastRenderedState:s},a.queue=l,a=S0.bind(null,Ne,l),l.dispatch=a,l=Mf(!1),f=Bf.bind(null,Ne,!1,l.queue),l=cn(),d={state:s,dispatch:null,action:t,pending:null},l.queue=d,a=xw.bind(null,Ne,d,f,a),d.dispatch=a,l.memoizedState=t,[s,a,!1]}function o0(t){var s=St();return l0(s,We,t)}function l0(t,s,a){if(s=Df(t,s,r0)[0],t=$u(gs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Pl(s)}catch(v){throw v===co?Vu:v}else l=s;s=St();var d=s.queue,f=d.dispatch;return a!==s.memoizedState&&(Ne.flags|=2048,po(9,{destroy:void 0},Tw.bind(null,d,a),null)),[l,f,t]}function Tw(t,s){t.action=s}function c0(t){var s=St(),a=We;if(a!==null)return l0(s,a,t);St(),s=s.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function po(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=Ne.updateQueue,s===null&&(s=Fu(),Ne.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function u0(){return St().memoizedState}function Ku(t,s,a,l){var d=cn();Ne.flags|=t,d.memoizedState=po(1|s,{destroy:void 0},a,l===void 0?null:l)}function Qu(t,s,a,l){var d=St();l=l===void 0?null:l;var f=d.memoizedState.inst;We!==null&&l!==null&&Af(l,We.memoizedState.deps)?d.memoizedState=po(s,f,a,l):(Ne.flags|=t,d.memoizedState=po(1|s,f,a,l))}function h0(t,s){Ku(8390656,8,t,s)}function Vf(t,s){Qu(2048,8,t,s)}function ww(t){Ne.flags|=4;var s=Ne.updateQueue;if(s===null)s=Fu(),Ne.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function d0(t){var s=St().memoizedState;return ww({ref:s,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function f0(t,s){return Qu(4,2,t,s)}function m0(t,s){return Qu(4,4,t,s)}function p0(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function g0(t,s,a){a=a!=null?a.concat([t]):null,Qu(4,4,p0.bind(null,s,t),a)}function Uf(){}function y0(t,s){var a=St();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Af(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function _0(t,s){var a=St();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Af(s,l[1]))return l[0];if(l=t(),fa){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,s],l}function Pf(t,s,a){return a===void 0||(ps&1073741824)!==0&&(je&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=v_(),Ne.lanes|=t,ar|=t,a)}function v0(t,s,a,l){return Nn(a,s)?a:ho.current!==null?(t=Pf(t,a,l),Nn(t,s)||(Dt=!0),t):(ps&42)===0||(ps&1073741824)!==0&&(je&261930)===0?(Dt=!0,t.memoizedState=a):(t=v_(),Ne.lanes|=t,ar|=t,s)}function b0(t,s,a,l,d){var f=oe.p;oe.p=f!==0&&8>f?f:8;var v=Q.T,T={};Q.T=T,Bf(t,!1,s,a);try{var k=d(),F=Q.S;if(F!==null&&F(T,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var J=vw(k,l);Ll(t,s,J,Mn(t))}else Ll(t,s,l,Mn(t))}catch(te){Ll(t,s,{then:function(){},status:"rejected",reason:te},Mn())}finally{oe.p=f,v!==null&&T.types!==null&&(v.types=T.types),Q.T=v}}function Sw(){}function Lf(t,s,a,l){if(t.tag!==5)throw Error(r(476));var d=E0(t).queue;b0(t,d,s,pe,a===null?Sw:function(){return x0(t),a(l)})}function E0(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:pe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function x0(t){var s=E0(t);s.next===null&&(s=t.alternate.memoizedState),Ll(t,s.next.queue,{},Mn())}function zf(){return Yt(nc)}function T0(){return St().memoizedState}function w0(){return St().memoizedState}function Aw(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Mn();t=er(a);var l=tr(s,t,a);l!==null&&(bn(l,s,a),Ml(l,s,a)),s={cache:pf()},t.payload=s;return}s=s.return}}function Rw(t,s,a){var l=Mn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yu(t)?A0(s,a):(a=sf(t,s,a,l),a!==null&&(bn(a,t,l),R0(a,s,l)))}function S0(t,s,a){var l=Mn();Ll(t,s,a,l)}function Ll(t,s,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))A0(s,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=s.lastRenderedReducer,f!==null))try{var v=s.lastRenderedState,T=f(v,a);if(d.hasEagerState=!0,d.eagerState=T,Nn(T,v))return Cu(t,s,d,0),tt===null&&Nu(),!1}catch{}finally{}if(a=sf(t,s,d,l),a!==null)return bn(a,t,l),R0(a,s,l),!0}return!1}function Bf(t,s,a,l){if(l={lane:2,revertLane:vm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(s)throw Error(r(479))}else s=sf(t,a,l,2),s!==null&&bn(s,t,2)}function Yu(t){var s=t.alternate;return t===Ne||s!==null&&s===Ne}function A0(t,s){fo=qu=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function R0(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,ol(t,a)}}var zl={readContext:Yt,use:Gu,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};zl.useEffectEvent=gt;var N0={readContext:Yt,use:Gu,useCallback:function(t,s){return cn().memoizedState=[t,s===void 0?null:s],t},useContext:Yt,useEffect:h0,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Ku(4194308,4,p0.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Ku(4194308,4,t,s)},useInsertionEffect:function(t,s){Ku(4,2,t,s)},useMemo:function(t,s){var a=cn();s=s===void 0?null:s;var l=t();if(fa){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=cn();if(a!==void 0){var d=a(s);if(fa){hn(!0);try{a(s)}finally{hn(!1)}}}else d=s;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=Rw.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var s=cn();return t={current:t},s.memoizedState=t},useState:function(t){t=Mf(t);var s=t.queue,a=S0.bind(null,Ne,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Uf,useDeferredValue:function(t,s){var a=cn();return Pf(a,t,s)},useTransition:function(){var t=Mf(!1);return t=b0.bind(null,Ne,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=Ne,d=cn();if(ze){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),tt===null)throw Error(r(349));(je&127)!==0||Yy(l,s,a)}d.memoizedState=a;var f={value:a,getSnapshot:s};return d.queue=f,h0(Jy.bind(null,l,f,t),[t]),l.flags|=2048,po(9,{destroy:void 0},Xy.bind(null,l,f,a,s),null),a},useId:function(){var t=cn(),s=tt.identifierPrefix;if(ze){var a=zi,l=Li;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Hu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=bw++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:zf,useFormState:a0,useActionState:a0,useOptimistic:function(t){var s=cn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Bf.bind(null,Ne,!0,a),a.dispatch=s,[t,s]},useMemoCache:kf,useCacheRefresh:function(){return cn().memoizedState=Aw.bind(null,Ne)},useEffectEvent:function(t){var s=cn(),a={impl:t};return s.memoizedState=a,function(){if((Ge&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},qf={readContext:Yt,use:Gu,useCallback:y0,useContext:Yt,useEffect:Vf,useImperativeHandle:g0,useInsertionEffect:f0,useLayoutEffect:m0,useMemo:_0,useReducer:$u,useRef:u0,useState:function(){return $u(gs)},useDebugValue:Uf,useDeferredValue:function(t,s){var a=St();return v0(a,We.memoizedState,t,s)},useTransition:function(){var t=$u(gs)[0],s=St().memoizedState;return[typeof t=="boolean"?t:Pl(t),s]},useSyncExternalStore:Qy,useId:T0,useHostTransitionStatus:zf,useFormState:o0,useActionState:o0,useOptimistic:function(t,s){var a=St();return e0(a,We,t,s)},useMemoCache:kf,useCacheRefresh:w0};qf.useEffectEvent=d0;var C0={readContext:Yt,use:Gu,useCallback:y0,useContext:Yt,useEffect:Vf,useImperativeHandle:g0,useInsertionEffect:f0,useLayoutEffect:m0,useMemo:_0,useReducer:Of,useRef:u0,useState:function(){return Of(gs)},useDebugValue:Uf,useDeferredValue:function(t,s){var a=St();return We===null?Pf(a,t,s):v0(a,We.memoizedState,t,s)},useTransition:function(){var t=Of(gs)[0],s=St().memoizedState;return[typeof t=="boolean"?t:Pl(t),s]},useSyncExternalStore:Qy,useId:T0,useHostTransitionStatus:zf,useFormState:c0,useActionState:c0,useOptimistic:function(t,s){var a=St();return We!==null?e0(a,We,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:w0};C0.useEffectEvent=d0;function Hf(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:x({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ff={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=Mn(),d=er(l);d.payload=s,a!=null&&(d.callback=a),s=tr(t,d,l),s!==null&&(bn(s,t,l),Ml(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=Mn(),d=er(l);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=tr(t,d,l),s!==null&&(bn(s,t,l),Ml(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Mn(),l=er(a);l.tag=2,s!=null&&(l.callback=s),s=tr(t,l,a),s!==null&&(bn(s,t,a),Ml(s,t,a))}};function I0(t,s,a,l,d,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):s.prototype&&s.prototype.isPureReactComponent?!Al(a,l)||!Al(d,f):!0}function k0(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&Ff.enqueueReplaceState(s,s.state,null)}function ma(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=x({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function D0(t){Ru(t)}function O0(t){console.error(t)}function M0(t){Ru(t)}function Xu(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function j0(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Gf(t,s,a){return a=er(a),a.tag=3,a.payload={element:null},a.callback=function(){Xu(t,s)},a}function V0(t){return t=er(t),t.tag=3,t}function U0(t,s,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){j0(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){j0(s,a,l),typeof d!="function"&&(or===null?or=new Set([this]):or.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Nw(t,s,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&ao(s,a,d,!0),a=In.current,a!==null){switch(a.tag){case 31:case 13:return ei===null?lh():a.alternate===null&&yt===0&&(yt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Uu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),gm(t,l,d)),!1;case 22:return a.flags|=65536,l===Uu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),gm(t,l,d)),!1}throw Error(r(435,a.tag))}return gm(t,l,d),lh(),!1}if(ze)return s=In.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,l!==uf&&(t=Error(r(422),{cause:l}),Cl(Xn(t,a)))):(l!==uf&&(s=Error(r(423),{cause:l}),Cl(Xn(s,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Xn(l,a),d=Gf(t.stateNode,l,d),Ef(t,d),yt!==4&&(yt=2)),!1;var f=Error(r(520),{cause:l});if(f=Xn(f,a),Ql===null?Ql=[f]:Ql.push(f),yt!==4&&(yt=2),s===null)return!0;l=Xn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Gf(a.stateNode,l,t),Ef(a,t),!1;case 1:if(s=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(or===null||!or.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=V0(d),U0(d,t,a,l),Ef(a,d),!1}a=a.return}while(a!==null);return!1}var $f=Error(r(461)),Dt=!1;function Xt(t,s,a,l){s.child=t===null?By(s,null,a,l):da(s,t.child,a,l)}function P0(t,s,a,l,d){a=a.render;var f=s.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return la(s),l=Rf(t,s,a,v,f,d),T=Nf(),t!==null&&!Dt?(Cf(t,s,d),ys(t,s,d)):(ze&&T&&lf(s),s.flags|=1,Xt(t,s,l,d),s.child)}function L0(t,s,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!rf(f)&&f.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=f,z0(t,s,f,l,d)):(t=ku(a.type,null,l,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(f=t.child,!em(t,d)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Al,a(v,l)&&t.ref===s.ref)return ys(t,s,d)}return s.flags|=1,t=hs(f,l),t.ref=s.ref,t.return=s,s.child=t}function z0(t,s,a,l,d){if(t!==null){var f=t.memoizedProps;if(Al(f,l)&&t.ref===s.ref)if(Dt=!1,s.pendingProps=l=f,em(t,d))(t.flags&131072)!==0&&(Dt=!0);else return s.lanes=t.lanes,ys(t,s,d)}return Kf(t,s,a,l,d)}function B0(t,s,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=s.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,s.child=null;return q0(t,s,f,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(s,f!==null?f.cachePool:null),f!==null?Fy(s,f):Tf(),Gy(s);else return l=s.lanes=536870912,q0(t,s,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(ju(s,f.cachePool),Fy(s,f),ir(),s.memoizedState=null):(t!==null&&ju(s,null),Tf(),ir());return Xt(t,s,d,a),s.child}function Bl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function q0(t,s,a,l,d){var f=yf();return f=f===null?null:{parent:It._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},t!==null&&ju(s,null),Tf(),Gy(s),t!==null&&ao(t,s,l,!0),s.childLanes=d,null}function Ju(t,s){return s=Zu({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function H0(t,s,a){return da(s,t.child,null,a),t=Ju(s,s.pendingProps),t.flags|=2,kn(s),s.memoizedState=null,t}function Cw(t,s,a){var l=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=Ju(s,l),s.lanes=536870912,Bl(null,t);if(Sf(s),(t=rt)?(t=tv(t,Zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ys!==null?{id:Li,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},a=Ay(t),a.return=s,s.child=a,Qt=s,rt=null)):t=null,t===null)throw Js(s);return s.lanes=536870912,null}return Ju(s,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(Sf(s),d)if(s.flags&256)s.flags&=-257,s=H0(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(Dt||ao(t,s,a,!1),d=(a&t.childLanes)!==0,Dt||d){if(l=tt,l!==null&&(v=ll(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,sa(t,v),bn(l,t,v),$f;lh(),s=H0(t,s,a)}else t=f.treeContext,rt=ti(v.nextSibling),Qt=s,ze=!0,Xs=null,Zn=!1,t!==null&&Cy(s,t),s=Ju(s,l),s.flags|=4096;return s}return t=hs(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Wu(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Kf(t,s,a,l,d){return la(s),a=Rf(t,s,a,l,void 0,d),l=Nf(),t!==null&&!Dt?(Cf(t,s,d),ys(t,s,d)):(ze&&l&&lf(s),s.flags|=1,Xt(t,s,a,d),s.child)}function F0(t,s,a,l,d,f){return la(s),s.updateQueue=null,a=Ky(s,l,a,d),$y(t),l=Nf(),t!==null&&!Dt?(Cf(t,s,f),ys(t,s,f)):(ze&&l&&lf(s),s.flags|=1,Xt(t,s,a,f),s.child)}function G0(t,s,a,l,d){if(la(s),s.stateNode===null){var f=no,v=a.contextType;typeof v=="object"&&v!==null&&(f=Yt(v)),f=new a(l,f),s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ff,s.stateNode=f,f._reactInternals=s,f=s.stateNode,f.props=l,f.state=s.memoizedState,f.refs={},vf(s),v=a.contextType,f.context=typeof v=="object"&&v!==null?Yt(v):no,f.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Hf(s,a,v,l),f.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Ff.enqueueReplaceState(f,f.state,null),Vl(s,l,f,d),jl(),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){f=s.stateNode;var T=s.memoizedProps,k=ma(a,T);f.props=k;var F=f.context,J=a.contextType;v=no,typeof J=="object"&&J!==null&&(v=Yt(J));var te=a.getDerivedStateFromProps;J=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||F!==v)&&k0(s,f,l,v),Zs=!1;var G=s.memoizedState;f.state=G,Vl(s,l,f,d),jl(),F=s.memoizedState,T||G!==F||Zs?(typeof te=="function"&&(Hf(s,a,te,l),F=s.memoizedState),(k=Zs||I0(s,a,k,l,G,F,v))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(s.flags|=4194308)):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=F),f.props=l,f.state=F,f.context=v,l=k):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{f=s.stateNode,bf(t,s),v=s.memoizedProps,J=ma(a,v),f.props=J,te=s.pendingProps,G=f.context,F=a.contextType,k=no,typeof F=="object"&&F!==null&&(k=Yt(F)),T=a.getDerivedStateFromProps,(F=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==te||G!==k)&&k0(s,f,l,k),Zs=!1,G=s.memoizedState,f.state=G,Vl(s,l,f,d),jl();var K=s.memoizedState;v!==te||G!==K||Zs||t!==null&&t.dependencies!==null&&Ou(t.dependencies)?(typeof T=="function"&&(Hf(s,a,T,l),K=s.memoizedState),(J=Zs||I0(s,a,J,l,G,K,k)||t!==null&&t.dependencies!==null&&Ou(t.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,K,k),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,K,k)),typeof f.componentDidUpdate=="function"&&(s.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=K),f.props=l,f.state=K,f.context=k,l=J):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(s.flags|=1024),l=!1)}return f=l,Wu(t,s),l=(s.flags&128)!==0,f||l?(f=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),s.flags|=1,t!==null&&l?(s.child=da(s,t.child,null,d),s.child=da(s,null,a,d)):Xt(t,s,a,d),s.memoizedState=f.state,t=s.child):t=ys(t,s,d),t}function $0(t,s,a,l){return aa(),s.flags|=256,Xt(t,s,a,l),s.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yf(t){return{baseLanes:t,cachePool:jy()}}function Xf(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=On),t}function K0(t,s,a){var l=s.pendingProps,d=!1,f=(s.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),v&&(d=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(ze){if(d?nr(s):ir(),(t=rt)?(t=tv(t,Zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ys!==null?{id:Li,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},a=Ay(t),a.return=s,s.child=a,Qt=s,rt=null)):t=null,t===null)throw Js(s);return Dm(t)?s.lanes=32:s.lanes=536870912,null}var T=l.children;return l=l.fallback,d?(ir(),d=s.mode,T=Zu({mode:"hidden",children:T},d),l=ra(l,d,a,null),T.return=s,l.return=s,T.sibling=l,s.child=T,l=s.child,l.memoizedState=Yf(a),l.childLanes=Xf(t,v,a),s.memoizedState=Qf,Bl(null,l)):(nr(s),Jf(s,T))}var k=t.memoizedState;if(k!==null&&(T=k.dehydrated,T!==null)){if(f)s.flags&256?(nr(s),s.flags&=-257,s=Wf(t,s,a)):s.memoizedState!==null?(ir(),s.child=t.child,s.flags|=128,s=null):(ir(),T=l.fallback,d=s.mode,l=Zu({mode:"visible",children:l.children},d),T=ra(T,d,a,null),T.flags|=2,l.return=s,T.return=s,l.sibling=T,s.child=l,da(s,t.child,null,a),l=s.child,l.memoizedState=Yf(a),l.childLanes=Xf(t,v,a),s.memoizedState=Qf,s=Bl(null,l));else if(nr(s),Dm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(r(419)),l.stack="",l.digest=v,Cl({value:l,source:null,stack:null}),s=Wf(t,s,a)}else if(Dt||ao(t,s,a,!1),v=(a&t.childLanes)!==0,Dt||v){if(v=tt,v!==null&&(l=ll(v,a),l!==0&&l!==k.retryLane))throw k.retryLane=l,sa(t,l),bn(v,t,l),$f;km(T)||lh(),s=Wf(t,s,a)}else km(T)?(s.flags|=192,s.child=t.child,s=null):(t=k.treeContext,rt=ti(T.nextSibling),Qt=s,ze=!0,Xs=null,Zn=!1,t!==null&&Cy(s,t),s=Jf(s,l.children),s.flags|=4096);return s}return d?(ir(),T=l.fallback,d=s.mode,k=t.child,F=k.sibling,l=hs(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,F!==null?T=hs(F,T):(T=ra(T,d,a,null),T.flags|=2),T.return=s,l.return=s,l.sibling=T,s.child=l,Bl(null,l),l=s.child,T=t.child.memoizedState,T===null?T=Yf(a):(d=T.cachePool,d!==null?(k=It._currentValue,d=d.parent!==k?{parent:k,pool:k}:d):d=jy(),T={baseLanes:T.baseLanes|a,cachePool:d}),l.memoizedState=T,l.childLanes=Xf(t,v,a),s.memoizedState=Qf,Bl(t.child,l)):(nr(s),a=t.child,t=a.sibling,a=hs(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=a,s.memoizedState=null,a)}function Jf(t,s){return s=Zu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Zu(t,s){return t=Cn(22,t,null,s),t.lanes=0,t}function Wf(t,s,a){return da(s,t.child,null,a),t=Jf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Q0(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),ff(t.return,s,a)}function Zf(t,s,a,l,d,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=d,v.treeForkCount=f)}function Y0(t,s,a){var l=s.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var v=wt.current,T=(v&2)!==0;if(T?(v=v&1|2,s.flags|=128):v&=1,ce(wt,v),Xt(t,s,l,a),l=ze?Nl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Q0(t,a,s);else if(t.tag===19)Q0(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=s.child,d=null;a!==null;)t=a.alternate,t!==null&&Bu(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Zf(s,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&Bu(t)===null){s.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Zf(s,!0,a,null,f,l);break;case"together":Zf(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function ys(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),ar|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(ao(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=hs(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=hs(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function em(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Ou(t)))}function Iw(t,s,a){switch(s.tag){case 3:bt(s,s.stateNode.containerInfo),Ws(s,It,t.memoizedState.cache),aa();break;case 27:case 5:ai(s);break;case 4:bt(s,s.stateNode.containerInfo);break;case 10:Ws(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Sf(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(nr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?K0(t,s,a):(nr(s),t=ys(t,s,a),t!==null?t.sibling:null);nr(s);break;case 19:var d=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(ao(t,s,a,!1),l=(a&s.childLanes)!==0),d){if(l)return Y0(t,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ce(wt,wt.current),l)break;return null;case 22:return s.lanes=0,B0(t,s,a,s.pendingProps);case 24:Ws(s,It,t.memoizedState.cache)}return ys(t,s,a)}function X0(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Dt=!0;else{if(!em(t,a)&&(s.flags&128)===0)return Dt=!1,Iw(t,s,a);Dt=(t.flags&131072)!==0}else Dt=!1,ze&&(s.flags&1048576)!==0&&Ny(s,Nl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=ua(s.elementType),s.type=t,typeof t=="function")rf(t)?(l=ma(t,l),s.tag=1,s=G0(null,s,t,l,a)):(s.tag=0,s=Kf(null,s,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===X){s.tag=11,s=P0(null,s,t,l,a);break e}else if(d===C){s.tag=14,s=L0(null,s,t,l,a);break e}}throw s=nt(t)||t,Error(r(306,s,""))}}return s;case 0:return Kf(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,d=ma(l,s.pendingProps),G0(t,s,l,d,a);case 3:e:{if(bt(s,s.stateNode.containerInfo),t===null)throw Error(r(387));l=s.pendingProps;var f=s.memoizedState;d=f.element,bf(t,s),Vl(s,l,null,a);var v=s.memoizedState;if(l=v.cache,Ws(s,It,l),l!==f.cache&&mf(s,[It],a,!0),jl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=$0(t,s,l,a);break e}else if(l!==d){d=Xn(Error(r(424)),s),Cl(d),s=$0(t,s,l,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=ti(t.firstChild),Qt=s,ze=!0,Xs=null,Zn=!0,a=By(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(aa(),l===d){s=ys(t,s,a);break e}Xt(t,s,l,a)}s=s.child}return s;case 26:return Wu(t,s),t===null?(a=ov(s.type,null,s.pendingProps,null))?s.memoizedState=a:ze||(a=s.type,t=s.pendingProps,l=ph(ye.current).createElement(a),l[Rt]=s,l[Ht]=t,Jt(l,a,t),Nt(l),s.stateNode=l):s.memoizedState=ov(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return ai(s),t===null&&ze&&(l=s.stateNode=sv(s.type,s.pendingProps,ye.current),Qt=s,Zn=!0,d=rt,hr(s.type)?(Om=d,rt=ti(l.firstChild)):rt=d),Xt(t,s,s.pendingProps.children,a),Wu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&ze&&((d=l=rt)&&(l=aS(l,s.type,s.pendingProps,Zn),l!==null?(s.stateNode=l,Qt=s,rt=ti(l.firstChild),Zn=!1,d=!0):d=!1),d||Js(s)),ai(s),d=s.type,f=s.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Nm(d,f)?l=null:v!==null&&Nm(d,v)&&(s.flags|=32),s.memoizedState!==null&&(d=Rf(t,s,Ew,null,null,a),nc._currentValue=d),Wu(t,s),Xt(t,s,l,a),s.child;case 6:return t===null&&ze&&((t=a=rt)&&(a=oS(a,s.pendingProps,Zn),a!==null?(s.stateNode=a,Qt=s,rt=null,t=!0):t=!1),t||Js(s)),null;case 13:return K0(t,s,a);case 4:return bt(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=da(s,null,l,a):Xt(t,s,l,a),s.child;case 11:return P0(t,s,s.type,s.pendingProps,a);case 7:return Xt(t,s,s.pendingProps,a),s.child;case 8:return Xt(t,s,s.pendingProps.children,a),s.child;case 12:return Xt(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ws(s,s.type,l.value),Xt(t,s,l.children,a),s.child;case 9:return d=s.type._context,l=s.pendingProps.children,la(s),d=Yt(d),l=l(d),s.flags|=1,Xt(t,s,l,a),s.child;case 14:return L0(t,s,s.type,s.pendingProps,a);case 15:return z0(t,s,s.type,s.pendingProps,a);case 19:return Y0(t,s,a);case 31:return Cw(t,s,a);case 22:return B0(t,s,a,s.pendingProps);case 24:return la(s),l=Yt(It),t===null?(d=yf(),d===null&&(d=tt,f=pf(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),s.memoizedState={parent:l,cache:d},vf(s),Ws(s,It,d)):((t.lanes&a)!==0&&(bf(t,s),Vl(s,null,null,a),jl()),d=t.memoizedState,f=s.memoizedState,d.parent!==l?(d={parent:l,cache:l},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Ws(s,It,l)):(l=f.cache,Ws(s,It,l),l!==d.cache&&mf(s,[It],a,!0))),Xt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function _s(t){t.flags|=4}function tm(t,s,a,l,d){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(T_())t.flags|=8192;else throw ha=Uu,_f}else t.flags&=-16777217}function J0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!dv(s))if(T_())t.flags|=8192;else throw ha=Uu,_f}function eh(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?au():536870912,t.lanes|=s,vo|=s)}function ql(t,s){if(!ze)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function kw(t,s,a){var l=s.pendingProps;switch(cf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(s),null;case 1:return at(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ms(It),$e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ro(s)?_s(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,hf())),at(s),null;case 26:var d=s.type,f=s.memoizedState;return t===null?(_s(s),f!==null?(at(s),J0(s,f)):(at(s),tm(s,d,null,l,a))):f?f!==t.memoizedState?(_s(s),at(s),J0(s,f)):(at(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&_s(s),at(s),tm(s,d,t,l,a)),null;case 27:if(ns(s),a=ye.current,d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&_s(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return at(s),null}t=ae.current,ro(s)?Iy(s):(t=sv(d,l,a),s.stateNode=t,_s(s))}return at(s),null;case 5:if(ns(s),d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&_s(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return at(s),null}if(f=ae.current,ro(s))Iy(s);else{var v=ph(ye.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(d,{is:l.is}):v.createElement(d)}}f[Rt]=s,f[Ht]=l;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=f;e:switch(Jt(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&_s(s)}}return at(s),tm(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&_s(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(t=ye.current,ro(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,d=Qt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Rt]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||K_(t.nodeValue,a)),t||Js(s,!0)}else t=ph(t).createTextNode(l),t[Rt]=s,s.stateNode=t}return at(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=ro(s),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Rt]=s}else aa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;at(s),t=!1}else a=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(kn(s),s):(kn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return at(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=ro(s),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Rt]=s}else aa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;at(s),d=!1}else d=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(kn(s),s):(kn(s),null)}return kn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),eh(s,s.updateQueue),at(s),null);case 4:return $e(),t===null&&Tm(s.stateNode.containerInfo),at(s),null;case 10:return ms(s.type),at(s),null;case 19:if(ee(wt),l=s.memoizedState,l===null)return at(s),null;if(d=(s.flags&128)!==0,f=l.rendering,f===null)if(d)ql(l,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(f=Bu(t),f!==null){for(s.flags|=128,ql(l,!1),t=f.updateQueue,s.updateQueue=t,eh(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Sy(a,t),a=a.sibling;return ce(wt,wt.current&1|2),ze&&ds(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&Bt()>rh&&(s.flags|=128,d=!0,ql(l,!1),s.lanes=4194304)}else{if(!d)if(t=Bu(f),t!==null){if(s.flags|=128,d=!0,t=t.updateQueue,s.updateQueue=t,eh(s,t),ql(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!ze)return at(s),null}else 2*Bt()-l.renderingStartTime>rh&&a!==536870912&&(s.flags|=128,d=!0,ql(l,!1),s.lanes=4194304);l.isBackwards?(f.sibling=s.child,s.child=f):(t=l.last,t!==null?t.sibling=f:s.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Bt(),t.sibling=null,a=wt.current,ce(wt,d?a&1|2:a&1),ze&&ds(s,l.treeForkCount),t):(at(s),null);case 22:case 23:return kn(s),wf(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(at(s),s.subtreeFlags&6&&(s.flags|=8192)):at(s),a=s.updateQueue,a!==null&&eh(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&ee(ca),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ms(It),at(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Dw(t,s){switch(cf(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ms(It),$e(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return ns(s),null;case 31:if(s.memoizedState!==null){if(kn(s),s.alternate===null)throw Error(r(340));aa()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(kn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));aa()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return ee(wt),null;case 4:return $e(),null;case 10:return ms(s.type),null;case 22:case 23:return kn(s),wf(),t!==null&&ee(ca),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return ms(It),null;case 25:return null;default:return null}}function W0(t,s){switch(cf(s),s.tag){case 3:ms(It),$e();break;case 26:case 27:case 5:ns(s);break;case 4:$e();break;case 31:s.memoizedState!==null&&kn(s);break;case 13:kn(s);break;case 19:ee(wt);break;case 10:ms(s.type);break;case 22:case 23:kn(s),wf(),t!==null&&ee(ca);break;case 24:ms(It)}}function Hl(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==d)}}catch(T){Xe(s,s.return,T)}}function sr(t,s,a){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,d=s;var k=a,F=T;try{F()}catch(J){Xe(d,k,J)}}}l=l.next}while(l!==f)}}catch(J){Xe(s,s.return,J)}}function Z0(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Hy(s,a)}catch(l){Xe(t,t.return,l)}}}function e_(t,s,a){a.props=ma(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,s,l)}}function Fl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){Xe(t,s,d)}}function Bi(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Xe(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Xe(t,s,d)}else a.current=null}function t_(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Xe(t,t.return,d)}}function nm(t,s,a){try{var l=t.stateNode;eS(l,t.type,a,s),l[Ht]=s}catch(d){Xe(t,t.return,d)}}function n_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&hr(t.type)||t.tag===4}function im(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||n_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&hr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sm(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=hi));else if(l!==4&&(l===27&&hr(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(sm(t,s,a),t=t.sibling;t!==null;)sm(t,s,a),t=t.sibling}function th(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&hr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(th(t,s,a),t=t.sibling;t!==null;)th(t,s,a),t=t.sibling}function i_(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Jt(s,l,a),s[Rt]=t,s[Ht]=a}catch(f){Xe(t,t.return,f)}}var vs=!1,Ot=!1,rm=!1,s_=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function Ow(t,s){if(t=t.containerInfo,Am=xh,t=gy(t),Jd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,T=-1,k=-1,F=0,J=0,te=t,G=null;t:for(;;){for(var K;te!==a||d!==0&&te.nodeType!==3||(T=v+d),te!==f||l!==0&&te.nodeType!==3||(k=v+l),te.nodeType===3&&(v+=te.nodeValue.length),(K=te.firstChild)!==null;)G=te,te=K;for(;;){if(te===t)break t;if(G===a&&++F===d&&(T=v),G===f&&++J===l&&(k=v),(K=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=K}a=T===-1||k===-1?null:{start:T,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rm={focusedElem:t,selectionRange:a},xh=!1,Gt=s;Gt!==null;)if(s=Gt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Gt=t;else for(;Gt!==null;){switch(s=Gt,f=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=s,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var fe=ma(a.type,d);t=l.getSnapshotBeforeUpdate(fe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){Xe(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Im(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Im(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,Gt=t;break}Gt=s.return}}function r_(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Es(t,a),l&4&&Hl(5,a);break;case 1:if(Es(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(v){Xe(a,a.return,v)}else{var d=ma(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Xe(a,a.return,v)}}l&64&&Z0(a),l&512&&Fl(a,a.return);break;case 3:if(Es(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Hy(t,s)}catch(v){Xe(a,a.return,v)}}break;case 27:s===null&&l&4&&i_(a);case 26:case 5:Es(t,a),s===null&&l&4&&t_(a),l&512&&Fl(a,a.return);break;case 12:Es(t,a);break;case 31:Es(t,a),l&4&&l_(t,a);break;case 13:Es(t,a),l&4&&c_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=qw.bind(null,a),lS(t,a))));break;case 22:if(l=a.memoizedState!==null||vs,!l){s=s!==null&&s.memoizedState!==null||Ot,d=vs;var f=Ot;vs=l,(Ot=s)&&!f?xs(t,a,(a.subtreeFlags&8772)!==0):Es(t,a),vs=d,Ot=f}break;case 30:break;default:Es(t,a)}}function a_(t){var s=t.alternate;s!==null&&(t.alternate=null,a_(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&qa(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,gn=!1;function bs(t,s,a){for(a=a.child;a!==null;)o_(t,s,a),a=a.sibling}function o_(t,s,a){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Sn,a)}catch{}switch(a.tag){case 26:Ot||Bi(a,s),bs(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ot||Bi(a,s);var l=ut,d=gn;hr(a.type)&&(ut=a.stateNode,gn=!1),bs(t,s,a),Zl(a.stateNode),ut=l,gn=d;break;case 5:Ot||Bi(a,s);case 6:if(l=ut,d=gn,ut=null,bs(t,s,a),ut=l,gn=d,ut!==null)if(gn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(f){Xe(a,s,f)}else try{ut.removeChild(a.stateNode)}catch(f){Xe(a,s,f)}break;case 18:ut!==null&&(gn?(t=ut,Z_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ro(t)):Z_(ut,a.stateNode));break;case 4:l=ut,d=gn,ut=a.stateNode.containerInfo,gn=!0,bs(t,s,a),ut=l,gn=d;break;case 0:case 11:case 14:case 15:sr(2,a,s),Ot||sr(4,a,s),bs(t,s,a);break;case 1:Ot||(Bi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&e_(a,s,l)),bs(t,s,a);break;case 21:bs(t,s,a);break;case 22:Ot=(l=Ot)||a.memoizedState!==null,bs(t,s,a),Ot=l;break;default:bs(t,s,a)}}function l_(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ro(t)}catch(a){Xe(s,s.return,a)}}}function c_(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ro(t)}catch(a){Xe(s,s.return,a)}}function Mw(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new s_),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new s_),s;default:throw Error(r(435,t.tag))}}function nh(t,s){var a=Mw(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var d=Hw.bind(null,t,l);l.then(d,d)}})}function yn(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,v=s,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(hr(T.type)){ut=T.stateNode,gn=!1;break e}break;case 5:ut=T.stateNode,gn=!1;break e;case 3:case 4:ut=T.stateNode.containerInfo,gn=!0;break e}T=T.return}if(ut===null)throw Error(r(160));o_(f,v,d),ut=null,gn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)u_(s,t),s=s.sibling}var yi=null;function u_(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(s,t),_n(t),l&4&&(sr(3,t,t.return),Hl(3,t),sr(5,t,t.return));break;case 1:yn(s,t),_n(t),l&512&&(Ot||a===null||Bi(a,a.return)),l&64&&vs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=yi;if(yn(s,t),_n(t),l&512&&(Ot||a===null||Bi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Ri]||f[Rt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Jt(f,l,a),f[Rt]=t,Nt(f),l=f;break e;case"link":var v=uv("link","href",d).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}f=d.createElement(l),Jt(f,l,a),d.head.appendChild(f);break;case"meta":if(v=uv("meta","content",d).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}f=d.createElement(l),Jt(f,l,a),d.head.appendChild(f);break;default:throw Error(r(468,l))}f[Rt]=t,Nt(f),l=f}t.stateNode=l}else hv(d,t.type,t.stateNode);else t.stateNode=cv(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?hv(d,t.type,t.stateNode):cv(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&nm(t,t.memoizedProps,a.memoizedProps)}break;case 27:yn(s,t),_n(t),l&512&&(Ot||a===null||Bi(a,a.return)),a!==null&&l&4&&nm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(yn(s,t),_n(t),l&512&&(Ot||a===null||Bi(a,a.return)),t.flags&32){d=t.stateNode;try{pn(d,"")}catch(fe){Xe(t,t.return,fe)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,nm(t,d,a!==null?a.memoizedProps:d)),l&1024&&(rm=!0);break;case 6:if(yn(s,t),_n(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Xe(t,t.return,fe)}}break;case 3:if(_h=null,d=yi,yi=gh(s.containerInfo),yn(s,t),yi=d,_n(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ro(s.containerInfo)}catch(fe){Xe(t,t.return,fe)}rm&&(rm=!1,h_(t));break;case 4:l=yi,yi=gh(t.stateNode.containerInfo),yn(s,t),_n(t),yi=l;break;case 12:yn(s,t),_n(t);break;case 31:yn(s,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nh(t,l)));break;case 13:yn(s,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sh=Bt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nh(t,l)));break;case 22:d=t.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,F=vs,J=Ot;if(vs=F||d,Ot=J||k,yn(s,t),Ot=J,vs=F,_n(t),l&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||k||vs||Ot||pa(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){k=a=s;try{if(f=k.stateNode,d)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=k.stateNode;var te=k.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(fe){Xe(k,k.return,fe)}}}else if(s.tag===6){if(a===null){k=s;try{k.stateNode.nodeValue=d?"":k.memoizedProps}catch(fe){Xe(k,k.return,fe)}}}else if(s.tag===18){if(a===null){k=s;try{var K=k.stateNode;d?ev(K,!0):ev(k.stateNode,!1)}catch(fe){Xe(k,k.return,fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,nh(t,a))));break;case 19:yn(s,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nh(t,l)));break;case 30:break;case 21:break;default:yn(s,t),_n(t)}}function _n(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(n_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var d=a.stateNode,f=im(t);th(t,f,d);break;case 5:var v=a.stateNode;a.flags&32&&(pn(v,""),a.flags&=-33);var T=im(t);th(t,T,v);break;case 3:case 4:var k=a.stateNode.containerInfo,F=im(t);sm(t,F,k);break;default:throw Error(r(161))}}catch(J){Xe(t,t.return,J)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function h_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;h_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Es(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)r_(t,s.alternate,s),s=s.sibling}function pa(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:sr(4,s,s.return),pa(s);break;case 1:Bi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&e_(s,s.return,a),pa(s);break;case 27:Zl(s.stateNode);case 26:case 5:Bi(s,s.return),pa(s);break;case 22:s.memoizedState===null&&pa(s);break;case 30:pa(s);break;default:pa(s)}t=t.sibling}}function xs(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,d=t,f=s,v=f.flags;switch(f.tag){case 0:case 11:case 15:xs(d,f,a),Hl(4,f);break;case 1:if(xs(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){Xe(l,l.return,F)}if(l=f,d=l.updateQueue,d!==null){var T=l.stateNode;try{var k=d.shared.hiddenCallbacks;if(k!==null)for(d.shared.hiddenCallbacks=null,d=0;d<k.length;d++)qy(k[d],T)}catch(F){Xe(l,l.return,F)}}a&&v&64&&Z0(f),Fl(f,f.return);break;case 27:i_(f);case 26:case 5:xs(d,f,a),a&&l===null&&v&4&&t_(f),Fl(f,f.return);break;case 12:xs(d,f,a);break;case 31:xs(d,f,a),a&&v&4&&l_(d,f);break;case 13:xs(d,f,a),a&&v&4&&c_(d,f);break;case 22:f.memoizedState===null&&xs(d,f,a),Fl(f,f.return);break;case 30:break;default:xs(d,f,a)}s=s.sibling}}function am(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Il(a))}function om(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Il(t))}function _i(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)d_(t,s,a,l),s=s.sibling}function d_(t,s,a,l){var d=s.flags;switch(s.tag){case 0:case 11:case 15:_i(t,s,a,l),d&2048&&Hl(9,s);break;case 1:_i(t,s,a,l);break;case 3:_i(t,s,a,l),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Il(t)));break;case 12:if(d&2048){_i(t,s,a,l),t=s.stateNode;try{var f=s.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){Xe(s,s.return,k)}}else _i(t,s,a,l);break;case 31:_i(t,s,a,l);break;case 13:_i(t,s,a,l);break;case 23:break;case 22:f=s.stateNode,v=s.alternate,s.memoizedState!==null?f._visibility&2?_i(t,s,a,l):Gl(t,s):f._visibility&2?_i(t,s,a,l):(f._visibility|=2,go(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),d&2048&&am(v,s);break;case 24:_i(t,s,a,l),d&2048&&om(s.alternate,s);break;default:_i(t,s,a,l)}}function go(t,s,a,l,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var f=t,v=s,T=a,k=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:go(f,v,T,k,d),Hl(8,v);break;case 23:break;case 22:var J=v.stateNode;v.memoizedState!==null?J._visibility&2?go(f,v,T,k,d):Gl(f,v):(J._visibility|=2,go(f,v,T,k,d)),d&&F&2048&&am(v.alternate,v);break;case 24:go(f,v,T,k,d),d&&F&2048&&om(v.alternate,v);break;default:go(f,v,T,k,d)}s=s.sibling}}function Gl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,d=l.flags;switch(l.tag){case 22:Gl(a,l),d&2048&&am(l.alternate,l);break;case 24:Gl(a,l),d&2048&&om(l.alternate,l);break;default:Gl(a,l)}s=s.sibling}}var $l=8192;function yo(t,s,a){if(t.subtreeFlags&$l)for(t=t.child;t!==null;)f_(t,s,a),t=t.sibling}function f_(t,s,a){switch(t.tag){case 26:yo(t,s,a),t.flags&$l&&t.memoizedState!==null&&bS(a,yi,t.memoizedState,t.memoizedProps);break;case 5:yo(t,s,a);break;case 3:case 4:var l=yi;yi=gh(t.stateNode.containerInfo),yo(t,s,a),yi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=$l,$l=16777216,yo(t,s,a),$l=l):yo(t,s,a));break;default:yo(t,s,a)}}function m_(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Kl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Gt=l,g_(l,t)}m_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)p_(t),t=t.sibling}function p_(t){switch(t.tag){case 0:case 11:case 15:Kl(t),t.flags&2048&&sr(9,t,t.return);break;case 3:Kl(t);break;case 12:Kl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,ih(t)):Kl(t);break;default:Kl(t)}}function ih(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Gt=l,g_(l,t)}m_(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:sr(8,s,s.return),ih(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,ih(s));break;default:ih(s)}t=t.sibling}}function g_(t,s){for(;Gt!==null;){var a=Gt;switch(a.tag){case 0:case 11:case 15:sr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Gt=l;else e:for(a=t;Gt!==null;){l=Gt;var d=l.sibling,f=l.return;if(a_(l),l===a){Gt=null;break e}if(d!==null){d.return=f,Gt=d;break e}Gt=f}}}var jw={getCacheForType:function(t){var s=Yt(It),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Yt(It).controller.signal}},Vw=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,De=null,je=0,Ye=0,Dn=null,rr=!1,_o=!1,lm=!1,Ts=0,yt=0,ar=0,ga=0,cm=0,On=0,vo=0,Ql=null,vn=null,um=!1,sh=0,y_=0,rh=1/0,ah=null,or=null,Lt=0,lr=null,bo=null,ws=0,hm=0,dm=null,__=null,Yl=0,fm=null;function Mn(){return(Ge&2)!==0&&je!==0?je&-je:Q.T!==null?vm():ou()}function v_(){if(On===0)if((je&536870912)===0||ze){var t=wi;wi<<=1,(wi&3932160)===0&&(wi=262144),On=t}else On=536870912;return t=In.current,t!==null&&(t.flags|=32),On}function bn(t,s,a){(t===tt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Eo(t,0),cr(t,je,On,!1)),Fr(t,a),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(ga|=a),yt===4&&cr(t,je,On,!1)),qi(t))}function b_(t,s,a){if((Ge&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Fn(t,s),d=l?Lw(t,s):pm(t,s,!0),f=l;do{if(d===0){_o&&!l&&cr(t,s,0,!1);break}else{if(a=t.current.alternate,f&&!Uw(a)){d=pm(t,s,!1),f=!1;continue}if(d===2){if(f=s,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var T=t;d=Ql;var k=T.current.memoizedState.isDehydrated;if(k&&(Eo(T,v).flags|=256),v=pm(T,v,!1),v!==2){if(lm&&!k){T.errorRecoveryDisabledLanes|=f,ga|=f,d=4;break e}f=vn,vn=d,f!==null&&(vn===null?vn=f:vn.push.apply(vn,f))}d=v}if(f=!1,d!==2)continue}}if(d===1){Eo(t,0),cr(t,s,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:cr(l,s,On,!rr);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=sh+300-Bt(),10<d)){if(cr(l,s,On,!rr),fn(l,0,!0)!==0)break e;ws=s,l.timeoutHandle=J_(E_.bind(null,l,a,vn,ah,um,s,On,ga,vo,rr,f,"Throttled",-0,0),d);break e}E_(l,a,vn,ah,um,s,On,ga,vo,rr,f,null,-0,0)}}break}while(!0);qi(t)}function E_(t,s,a,l,d,f,v,T,k,F,J,te,G,K){if(t.timeoutHandle=-1,te=s.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},f_(s,f,te);var fe=(f&62914560)===f?sh-Bt():(f&4194048)===f?y_-Bt():0;if(fe=ES(te,fe),fe!==null){ws=f,t.cancelPendingCommit=fe(C_.bind(null,t,s,f,a,l,d,v,T,k,J,te,null,G,K)),cr(t,f,v,!F);return}}C_(t,s,f,a,l,d,v,T,k)}function Uw(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!Nn(f(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function cr(t,s,a,l){s&=~cm,s&=~ga,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var d=s;0<d;){var f=31-ft(d),v=1<<f;l[f]=-1,d&=~v}a!==0&&Gr(t,a,s)}function oh(){return(Ge&6)===0?(Xl(0),!1):!0}function mm(){if(De!==null){if(Ye===0)var t=De.return;else t=De,fs=oa=null,If(t),uo=null,Dl=0,t=De;for(;t!==null;)W0(t.alternate,t),t=t.return;De=null}}function Eo(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,iS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ws=0,mm(),tt=t,De=a=hs(t.current,null),je=s,Ye=0,Dn=null,rr=!1,_o=Fn(t,s),lm=!1,vo=On=cm=ga=ar=yt=0,vn=Ql=null,um=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var d=31-ft(l),f=1<<d;s|=t[d],l&=~f}return Ts=s,Nu(),a}function x_(t,s){Ne=null,Q.H=zl,s===co||s===Vu?(s=Py(),Ye=3):s===_f?(s=Py(),Ye=4):Ye=s===$f?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Dn=s,De===null&&(yt=1,Xu(t,Xn(s,t.current)))}function T_(){var t=In.current;return t===null?!0:(je&4194048)===je?ei===null:(je&62914560)===je||(je&536870912)!==0?t===ei:!1}function w_(){var t=Q.H;return Q.H=zl,t===null?zl:t}function S_(){var t=Q.A;return Q.A=jw,t}function lh(){yt=4,rr||(je&4194048)!==je&&In.current!==null||(_o=!0),(ar&134217727)===0&&(ga&134217727)===0||tt===null||cr(tt,je,On,!1)}function pm(t,s,a){var l=Ge;Ge|=2;var d=w_(),f=S_();(tt!==t||je!==s)&&(ah=null,Eo(t,s)),s=!1;var v=yt;e:do try{if(Ye!==0&&De!==null){var T=De,k=Dn;switch(Ye){case 8:mm(),v=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(s=!0);var F=Ye;if(Ye=0,Dn=null,xo(t,T,k,F),a&&_o){v=0;break e}break;default:F=Ye,Ye=0,Dn=null,xo(t,T,k,F)}}Pw(),v=yt;break}catch(J){x_(t,J)}while(!0);return s&&t.shellSuspendCounter++,fs=oa=null,Ge=l,Q.H=d,Q.A=f,De===null&&(tt=null,je=0,Nu()),v}function Pw(){for(;De!==null;)A_(De)}function Lw(t,s){var a=Ge;Ge|=2;var l=w_(),d=S_();tt!==t||je!==s?(ah=null,rh=Bt()+500,Eo(t,s)):_o=Fn(t,s);e:do try{if(Ye!==0&&De!==null){s=De;var f=Dn;t:switch(Ye){case 1:Ye=0,Dn=null,xo(t,s,f,1);break;case 2:case 9:if(Vy(f)){Ye=0,Dn=null,R_(s);break}s=function(){Ye!==2&&Ye!==9||tt!==t||(Ye=7),qi(t)},f.then(s,s);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Vy(f)?(Ye=0,Dn=null,R_(s)):(Ye=0,Dn=null,xo(t,s,f,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var T=De;if(v?dv(v):T.stateNode.complete){Ye=0,Dn=null;var k=T.sibling;if(k!==null)De=k;else{var F=T.return;F!==null?(De=F,ch(F)):De=null}break t}}Ye=0,Dn=null,xo(t,s,f,5);break;case 6:Ye=0,Dn=null,xo(t,s,f,6);break;case 8:mm(),yt=6;break e;default:throw Error(r(462))}}zw();break}catch(J){x_(t,J)}while(!0);return fs=oa=null,Q.H=l,Q.A=d,Ge=a,De!==null?0:(tt=null,je=0,Nu(),yt)}function zw(){for(;De!==null&&!ru();)A_(De)}function A_(t){var s=X0(t.alternate,t,Ts);t.memoizedProps=t.pendingProps,s===null?ch(t):De=s}function R_(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=F0(a,s,s.pendingProps,s.type,void 0,je);break;case 11:s=F0(a,s,s.pendingProps,s.type.render,s.ref,je);break;case 5:If(s);default:W0(a,s),s=De=Sy(s,Ts),s=X0(a,s,Ts)}t.memoizedProps=t.pendingProps,s===null?ch(t):De=s}function xo(t,s,a,l){fs=oa=null,If(s),uo=null,Dl=0;var d=s.return;try{if(Nw(t,d,s,a,je)){yt=1,Xu(t,Xn(a,t.current)),De=null;return}}catch(f){if(d!==null)throw De=d,f;yt=1,Xu(t,Xn(a,t.current)),De=null;return}s.flags&32768?(ze||l===1?t=!0:_o||(je&536870912)!==0?t=!1:(rr=t=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),N_(s,t)):ch(s)}function ch(t){var s=t;do{if((s.flags&32768)!==0){N_(s,rr);return}t=s.return;var a=kw(s.alternate,s,Ts);if(a!==null){De=a;return}if(s=s.sibling,s!==null){De=s;return}De=s=t}while(s!==null);yt===0&&(yt=5)}function N_(t,s){do{var a=Dw(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);yt=6,De=null}function C_(t,s,a,l,d,f,v,T,k){t.cancelPendingCommit=null;do uh();while(Lt!==0);if((Ge&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(f=s.lanes|s.childLanes,f|=nf,Kd(t,a,f,v,T,k),t===tt&&(De=tt=null,je=0),bo=s,lr=t,ws=a,hm=f,dm=d,__=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Fw(xt,function(){return M_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,d=oe.p,oe.p=2,v=Ge,Ge|=4;try{Ow(t,s,a)}finally{Ge=v,oe.p=d,Q.T=l}}Lt=1,I_(),k_(),D_()}}function I_(){if(Lt===1){Lt=0;var t=lr,s=bo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=oe.p;oe.p=2;var d=Ge;Ge|=4;try{u_(s,t);var f=Rm,v=gy(t.containerInfo),T=f.focusedElem,k=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&py(T.ownerDocument.documentElement,T)){if(k!==null&&Jd(T)){var F=k.start,J=k.end;if(J===void 0&&(J=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(J,T.value.length);else{var te=T.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var K=G.getSelection(),fe=T.textContent.length,be=Math.min(k.start,fe),et=k.end===void 0?be:Math.min(k.end,fe);!K.extend&&be>et&&(v=et,et=be,be=v);var z=my(T,be),M=my(T,et);if(z&&M&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var H=te.createRange();H.setStart(z.node,z.offset),K.removeAllRanges(),be>et?(K.addRange(H),K.extend(M.node,M.offset)):(H.setEnd(M.node,M.offset),K.addRange(H))}}}}for(te=[],K=T;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var Z=te[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}xh=!!Am,Rm=Am=null}finally{Ge=d,oe.p=l,Q.T=a}}t.current=s,Lt=2}}function k_(){if(Lt===2){Lt=0;var t=lr,s=bo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=oe.p;oe.p=2;var d=Ge;Ge|=4;try{r_(t,s.alternate,s)}finally{Ge=d,oe.p=l,Q.T=a}}Lt=3}}function D_(){if(Lt===4||Lt===3){Lt=0,al();var t=lr,s=bo,a=ws,l=__;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Lt=5:(Lt=0,bo=lr=null,O_(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(or=null),os(a),s=s.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Sn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Q.T,d=oe.p,oe.p=2,Q.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{Q.T=s,oe.p=d}}(ws&3)!==0&&uh(),qi(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===fm?Yl++:(Yl=0,fm=t):Yl=0,Xl(0)}}function O_(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Il(s)))}function uh(){return I_(),k_(),D_(),M_()}function M_(){if(Lt!==5)return!1;var t=lr,s=hm;hm=0;var a=os(ws),l=Q.T,d=oe.p;try{oe.p=32>a?32:a,Q.T=null,a=dm,dm=null;var f=lr,v=ws;if(Lt=0,bo=lr=null,ws=0,(Ge&6)!==0)throw Error(r(331));var T=Ge;if(Ge|=4,p_(f.current),d_(f,f.current,v,a),Ge=T,Xl(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Sn,f)}catch{}return!0}finally{oe.p=d,Q.T=l,O_(t,s)}}function j_(t,s,a){s=Xn(a,s),s=Gf(t.stateNode,s,2),t=tr(t,s,2),t!==null&&(Fr(t,2),qi(t))}function Xe(t,s,a){if(t.tag===3)j_(t,t,a);else for(;s!==null;){if(s.tag===3){j_(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(or===null||!or.has(l))){t=Xn(a,t),a=V0(2),l=tr(s,a,2),l!==null&&(U0(a,l,s,t),Fr(l,2),qi(l));break}}s=s.return}}function gm(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Vw;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(a)||(lm=!0,d.add(a),t=Bw.bind(null,t,s,a),s.then(t,t))}function Bw(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(je&a)===a&&(yt===4||yt===3&&(je&62914560)===je&&300>Bt()-sh?(Ge&2)===0&&Eo(t,0):cm|=a,vo===je&&(vo=0)),qi(t)}function V_(t,s){s===0&&(s=au()),t=sa(t,s),t!==null&&(Fr(t,s),qi(t))}function qw(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),V_(t,a)}function Hw(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),V_(t,a)}function Fw(t,s){return Et(t,s)}var hh=null,To=null,ym=!1,dh=!1,_m=!1,ur=0;function qi(t){t!==To&&t.next===null&&(To===null?hh=To=t:To=To.next=t),dh=!0,ym||(ym=!0,$w())}function Xl(t,s){if(!_m&&dh){_m=!0;do for(var a=!1,l=hh;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-ft(42|t)+1)-1,f&=d&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,z_(l,f))}else f=je,f=fn(l,l===tt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Fn(l,f)||(a=!0,z_(l,f));l=l.next}while(a);_m=!1}}function Gw(){U_()}function U_(){dh=ym=!1;var t=0;ur!==0&&nS()&&(t=ur);for(var s=Bt(),a=null,l=hh;l!==null;){var d=l.next,f=P_(l,s);f===0?(l.next=null,a===null?hh=d:a.next=d,d===null&&(To=a)):(a=l,(t!==0||(f&3)!==0)&&(dh=!0)),l=d}Lt!==0&&Lt!==5||Xl(t),ur!==0&&(ur=0)}function P_(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-ft(f),T=1<<v,k=d[v];k===-1?((T&a)===0||(T&l)!==0)&&(d[v]=$d(T,s)):k<=s&&(t.expiredLanes|=T),f&=~T}if(s=tt,a=je,a=fn(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&oi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Fn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&oi(l),os(a)){case 2:case 8:a=tn;break;case 32:a=xt;break;case 268435456:a=Ua;break;default:a=xt}return l=L_.bind(null,t),a=Et(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&oi(l),t.callbackPriority=2,t.callbackNode=null,2}function L_(t,s){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(uh()&&t.callbackNode!==a)return null;var l=je;return l=fn(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(b_(t,l,s),P_(t,Bt()),t.callbackNode!=null&&t.callbackNode===a?L_.bind(null,t):null)}function z_(t,s){if(uh())return null;b_(t,s,!0)}function $w(){sS(function(){(Ge&6)!==0?Et(Hn,Gw):U_()})}function vm(){if(ur===0){var t=oo;t===0&&(t=qt,qt<<=1,(qt&261888)===0&&(qt=256)),ur=t}return ur}function B_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:$a(""+t)}function q_(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function Kw(t,s,a,l,d){if(s==="submit"&&a&&a.stateNode===d){var f=B_((d[Ht]||null).action),v=l.submitter;v&&(s=(s=v[Ht]||null)?B_(s.formAction):v.getAttribute("formAction"),s!==null&&(f=s,v=null));var T=new ji("action","action",null,l,d);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ur!==0){var k=v?q_(d,v):new FormData(d);Lf(a,{pending:!0,data:k,method:d.method,action:f},null,k)}}else typeof f=="function"&&(T.preventDefault(),k=v?q_(d,v):new FormData(d),Lf(a,{pending:!0,data:k,method:d.method,action:f},f,k))},currentTarget:d}]})}}for(var bm=0;bm<tf.length;bm++){var Em=tf[bm],Qw=Em.toLowerCase(),Yw=Em[0].toUpperCase()+Em.slice(1);gi(Qw,"on"+Yw)}gi(vy,"onAnimationEnd"),gi(by,"onAnimationIteration"),gi(Ey,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(hw,"onTransitionRun"),gi(dw,"onTransitionStart"),gi(fw,"onTransitionCancel"),gi(xy,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function H_(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(s)for(var v=l.length-1;0<=v;v--){var T=l[v],k=T.instance,F=T.currentTarget;if(T=T.listener,k!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=F;try{f(d)}catch(J){Ru(J)}d.currentTarget=null,f=k}else for(v=0;v<l.length;v++){if(T=l[v],k=T.instance,F=T.currentTarget,T=T.listener,k!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=F;try{f(d)}catch(J){Ru(J)}d.currentTarget=null,f=k}}}}function Oe(t,s){var a=s[Ba];a===void 0&&(a=s[Ba]=new Set);var l=t+"__bubble";a.has(l)||(F_(s,t,2,!1),a.add(l))}function xm(t,s,a){var l=0;s&&(l|=4),F_(a,t,l,s)}var fh="_reactListening"+Math.random().toString(36).slice(2);function Tm(t){if(!t[fh]){t[fh]=!0,cl.forEach(function(a){a!=="selectionchange"&&(Xw.has(a)||xm(a,!1,t),xm(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[fh]||(s[fh]=!0,xm("selectionchange",!1,s))}}function F_(t,s,a,l){switch(vv(s)){case 2:var d=wS;break;case 8:d=SS;break;default:d=Pm}a=d.bind(null,s,a,t),d=void 0,!Xr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(s,a,{capture:!0,passive:d}):t.addEventListener(s,a,!0):d!==void 0?t.addEventListener(s,a,{passive:d}):t.addEventListener(s,a,!1)}function wm(t,s,a,l,d){var f=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===d)break;if(v===4)for(v=l.return;v!==null;){var k=v.tag;if((k===3||k===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;T!==null;){if(v=Ni(T),v===null)return;if(k=v.tag,k===5||k===6||k===26||k===27){l=f=v;continue e}T=T.parentNode}}l=l.return}Gs(function(){var F=f,J=$n(a),te=[];e:{var G=Ty.get(t);if(G!==void 0){var K=ji,fe=t;switch(t){case"keypress":if(Wr(a)===0)break e;case"keydown":case"keyup":K=wu;break;case"focusin":fe="focus",K=ea;break;case"focusout":fe="blur",K=ea;break;case"beforeblur":case"afterblur":K=ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=_;break;case vy:case by:case Ey:K=yu;break;case xy:K=S;break;case"scroll":case"scrollend":K=El;break;case"wheel":K=$;break;case"copy":case"cut":case"paste":K=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=us;break;case"toggle":case"beforetoggle":K=Re}var be=(s&4)!==0,et=!be&&(t==="scroll"||t==="scrollend"),z=be?G!==null?G+"Capture":null:G;be=[];for(var M=F,H;M!==null;){var Z=M;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||z===null||(Z=di(M,z),Z!=null&&be.push(Wl(M,Z,H))),et)break;M=M.return}0<be.length&&(G=new K(G,fe,null,a,J),te.push({event:G,listeners:be}))}}if((s&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",G&&a!==_l&&(fe=a.relatedTarget||a.fromElement)&&(Ni(fe)||fe[Ai]))break e;if((K||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,K?(fe=a.relatedTarget||a.toElement,K=F,fe=fe?Ni(fe):null,fe!==null&&(et=c(fe),be=fe.tag,fe!==et||be!==5&&be!==27&&be!==6)&&(fe=null)):(K=null,fe=F),K!==fe)){if(be=xl,Z="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(be=us,Z="onPointerLeave",z="onPointerEnter",M="pointer"),et=K==null?G:An(K),H=fe==null?G:An(fe),G=new be(Z,M+"leave",K,a,J),G.target=et,G.relatedTarget=H,Z=null,Ni(J)===F&&(be=new be(z,M+"enter",fe,a,J),be.target=H,be.relatedTarget=et,Z=be),et=Z,K&&fe)t:{for(be=Jw,z=K,M=fe,H=0,Z=z;Z;Z=be(Z))H++;Z=0;for(var _e=M;_e;_e=be(_e))Z++;for(;0<H-Z;)z=be(z),H--;for(;0<Z-H;)M=be(M),Z--;for(;H--;){if(z===M||M!==null&&z===M.alternate){be=z;break t}z=be(z),M=be(M)}be=null}else be=null;K!==null&&G_(te,G,K,be,!1),fe!==null&&et!==null&&G_(te,et,fe,be,!0)}}e:{if(G=F?An(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var qe=ly;else if(ay(G))if(cy)qe=lw;else{qe=aw;var ge=rw}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Ga(F.elementType)&&(qe=ly):qe=ow;if(qe&&(qe=qe(t,F))){oy(te,qe,a,J);break e}ge&&ge(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&pl(G,"number",G.value)}switch(ge=F?An(F):window,t){case"focusin":(ay(ge)||ge.contentEditable==="true")&&(Za=ge,Wd=F,Rl=null);break;case"focusout":Rl=Wd=Za=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,yy(te,a,J);break;case"selectionchange":if(uw)break;case"keydown":case"keyup":yy(te,a,J)}var Ce;if(Fe)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Wa?ta(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(Pi&&a.locale!=="ko"&&(Wa||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Wa&&(Ce=bl()):(Mi=J,vl="value"in Mi?Mi.value:Mi.textContent,Wa=!0)),ge=mh(F,Ve),0<ge.length&&(Ve=new Ui(Ve,t,null,a,J),te.push({event:Ve,listeners:ge}),Ce?Ve.data=Ce:(Ce=Ja(a),Ce!==null&&(Ve.data=Ce)))),(Ce=Qn?tw(t,a):nw(t,a))&&(Ve=mh(F,"onBeforeInput"),0<Ve.length&&(ge=new Ui("onBeforeInput","beforeinput",null,a,J),te.push({event:ge,listeners:Ve}),ge.data=Ce)),Kw(te,t,F,a,J)}H_(te,s)})}function Wl(t,s,a){return{instance:t,listener:s,currentTarget:a}}function mh(t,s){for(var a=s+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=di(t,a),d!=null&&l.unshift(Wl(t,d,f)),d=di(t,s),d!=null&&l.push(Wl(t,d,f))),t.tag===3)return l;t=t.return}return[]}function Jw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function G_(t,s,a,l,d){for(var f=s._reactName,v=[];a!==null&&a!==l;){var T=a,k=T.alternate,F=T.stateNode;if(T=T.tag,k!==null&&k===l)break;T!==5&&T!==26&&T!==27||F===null||(k=F,d?(F=di(a,f),F!=null&&v.unshift(Wl(a,F,k))):d||(F=di(a,f),F!=null&&v.push(Wl(a,F,k)))),a=a.return}v.length!==0&&t.push({event:s,listeners:v})}var Ww=/\r\n?/g,Zw=/\u0000|\uFFFD/g;function $_(t){return(typeof t=="string"?t:""+t).replace(Ww,`
`).replace(Zw,"")}function K_(t,s){return s=$_(s),$_(t)===s}function Ze(t,s,a,l,d,f){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&pn(t,""+l);break;case"className":Rn(t,"class",l);break;case"tabIndex":Rn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(t,a,l);break;case"style":yl(t,l,f);break;case"data":if(s!=="object"){Rn(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=$a(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(s!=="input"&&Ze(t,s,"name",d.name,d,null),Ze(t,s,"formEncType",d.formEncType,d,null),Ze(t,s,"formMethod",d.formMethod,d,null),Ze(t,s,"formTarget",d.formTarget,d,null)):(Ze(t,s,"encType",d.encType,d,null),Ze(t,s,"method",d.method,d,null),Ze(t,s,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=$a(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=hi);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=$a(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),Ha(t,"popover",l);break;case"xlinkActuate":Ct(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ct(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ct(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ct(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ct(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ct(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ha(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mu.get(a)||a,Ha(t,a,l))}}function Sm(t,s,a,l,d,f){switch(a){case"style":yl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ul.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),f=t[Ht]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(s,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ha(t,a,l)}}}function Jt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ze(t,s,f,v,a,null)}}d&&Ze(t,s,"srcSet",a.srcSet,a,null),l&&Ze(t,s,"src",a.src,a,null);return;case"input":Oe("invalid",t);var T=f=v=d=null,k=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":d=J;break;case"type":v=J;break;case"checked":k=J;break;case"defaultChecked":F=J;break;case"value":f=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:Ze(t,s,l,J,a,null)}}hu(t,f,T,k,F,v,d,!1);return;case"select":Oe("invalid",t),l=v=f=null;for(d in a)if(a.hasOwnProperty(d)&&(T=a[d],T!=null))switch(d){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Ze(t,s,d,T,a,null)}s=f,a=v,t.multiple=!!l,s!=null?Bs(t,!!l,s,!1):a!=null&&Bs(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),f=d=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":d=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Ze(t,s,v,T,a,null)}qs(t,l,d,f);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,s,k,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Jl.length;l++)Oe(Jl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ze(t,s,F,l,a,null)}return;default:if(Ga(s)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Sm(t,s,J,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ze(t,s,T,l,a,null))}function eS(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,v=null,T=null,k=null,F=null,J=null;for(K in a){var te=a[K];if(a.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":k=te;default:l.hasOwnProperty(K)||Ze(t,s,K,null,l,te)}}for(var G in l){var K=l[G];if(te=a[G],l.hasOwnProperty(G)&&(K!=null||te!=null))switch(G){case"type":f=K;break;case"name":d=K;break;case"checked":F=K;break;case"defaultChecked":J=K;break;case"value":v=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:K!==te&&Ze(t,s,G,K,l,te)}}Fa(t,v,T,k,F,J,f,d);return;case"select":K=v=T=G=null;for(f in a)if(k=a[f],a.hasOwnProperty(f)&&k!=null)switch(f){case"value":break;case"multiple":K=k;default:l.hasOwnProperty(f)||Ze(t,s,f,null,l,k)}for(d in l)if(f=l[d],k=a[d],l.hasOwnProperty(d)&&(f!=null||k!=null))switch(d){case"value":G=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==k&&Ze(t,s,d,f,l,k)}s=T,a=v,l=K,G!=null?Bs(t,!!a,G,!1):!!l!=!!a&&(s!=null?Bs(t,!!a,s,!0):Bs(t,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(T in a)if(d=a[T],a.hasOwnProperty(T)&&d!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,s,T,null,l,d)}for(v in l)if(d=l[v],f=a[v],l.hasOwnProperty(v)&&(d!=null||f!=null))switch(v){case"value":G=d;break;case"defaultValue":K=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==f&&Ze(t,s,v,d,l,f)}du(t,G,K);return;case"option":for(var fe in a)if(G=a[fe],a.hasOwnProperty(fe)&&G!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:Ze(t,s,fe,null,l,G)}for(k in l)if(G=l[k],K=a[k],l.hasOwnProperty(k)&&G!==K&&(G!=null||K!=null))switch(k){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ze(t,s,k,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)G=a[be],a.hasOwnProperty(be)&&G!=null&&!l.hasOwnProperty(be)&&Ze(t,s,be,null,l,G);for(F in l)if(G=l[F],K=a[F],l.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:Ze(t,s,F,G,l,K)}return;default:if(Ga(s)){for(var et in a)G=a[et],a.hasOwnProperty(et)&&G!==void 0&&!l.hasOwnProperty(et)&&Sm(t,s,et,void 0,l,G);for(J in l)G=l[J],K=a[J],!l.hasOwnProperty(J)||G===K||G===void 0&&K===void 0||Sm(t,s,J,G,l,K);return}}for(var z in a)G=a[z],a.hasOwnProperty(z)&&G!=null&&!l.hasOwnProperty(z)&&Ze(t,s,z,null,l,G);for(te in l)G=l[te],K=a[te],!l.hasOwnProperty(te)||G===K||G==null&&K==null||Ze(t,s,te,G,l,K)}function Q_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,v=d.initiatorType,T=d.duration;if(f&&T&&Q_(v)){for(v=0,T=d.responseEnd,l+=1;l<a.length;l++){var k=a[l],F=k.startTime;if(F>T)break;var J=k.transferSize,te=k.initiatorType;J&&Q_(te)&&(k=k.responseEnd,v+=J*(k<T?1:(T-F)/(k-F)))}if(--l,s+=8*(f+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Am=null,Rm=null;function ph(t){return t.nodeType===9?t:t.ownerDocument}function Y_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X_(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Nm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Cm=null;function nS(){var t=window.event;return t&&t.type==="popstate"?t===Cm?!1:(Cm=t,!0):(Cm=null,!1)}var J_=typeof setTimeout=="function"?setTimeout:void 0,iS=typeof clearTimeout=="function"?clearTimeout:void 0,W_=typeof Promise=="function"?Promise:void 0,sS=typeof queueMicrotask=="function"?queueMicrotask:typeof W_<"u"?function(t){return W_.resolve(null).then(t).catch(rS)}:J_;function rS(t){setTimeout(function(){throw t})}function hr(t){return t==="head"}function Z_(t,s){var a=s,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),Ro(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Zl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Zl(a);for(var f=a.firstChild;f;){var v=f.nextSibling,T=f.nodeName;f[Ri]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&Zl(t.ownerDocument.body);a=d}while(a);Ro(s)}function ev(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Im(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Im(a),qa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function aS(t,s,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ri])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ti(t.nextSibling),t===null)break}return null}function oS(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ti(t.nextSibling),t===null))return null;return t}function tv(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ti(t.nextSibling),t===null))return null;return t}function km(t){return t.data==="$?"||t.data==="$~"}function Dm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function lS(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ti(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Om=null;function nv(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return ti(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function iv(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function sv(t,s,a){switch(s=ph(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Zl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);qa(t)}var ni=new Map,rv=new Set;function gh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ss=oe.d;oe.d={f:cS,r:uS,D:hS,C:dS,L:fS,m:mS,X:gS,S:pS,M:yS};function cS(){var t=Ss.f(),s=oh();return t||s}function uS(t){var s=Gn(t);s!==null&&s.tag===5&&s.type==="form"?x0(s):Ss.r(t)}var wo=typeof document>"u"?null:document;function av(t,s,a){var l=wo;if(l&&typeof s=="string"&&s){var d=mn(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),rv.has(d)||(rv.add(d),t={rel:t,crossOrigin:a,href:s},l.querySelector(d)===null&&(s=l.createElement("link"),Jt(s,"link",t),Nt(s),l.head.appendChild(s)))}}function hS(t){Ss.D(t),av("dns-prefetch",t,null)}function dS(t,s){Ss.C(t,s),av("preconnect",t,s)}function fS(t,s,a){Ss.L(t,s,a);var l=wo;if(l&&t&&s){var d='link[rel="preload"][as="'+mn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+mn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+mn(a.imageSizes)+'"]')):d+='[href="'+mn(t)+'"]';var f=d;switch(s){case"style":f=So(t);break;case"script":f=Ao(t)}ni.has(f)||(t=x({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),ni.set(f,t),l.querySelector(d)!==null||s==="style"&&l.querySelector(ec(f))||s==="script"&&l.querySelector(tc(f))||(s=l.createElement("link"),Jt(s,"link",t),Nt(s),l.head.appendChild(s)))}}function mS(t,s){Ss.m(t,s);var a=wo;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+mn(l)+'"][href="'+mn(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ao(t)}if(!ni.has(f)&&(t=x({rel:"modulepreload",href:t},s),ni.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(tc(f)))return}l=a.createElement("link"),Jt(l,"link",t),Nt(l),a.head.appendChild(l)}}}function pS(t,s,a){Ss.S(t,s,a);var l=wo;if(l&&t){var d=Ci(l).hoistableStyles,f=So(t);s=s||"default";var v=d.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(ec(f)))T.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":s},a),(a=ni.get(f))&&Mm(t,a);var k=v=l.createElement("link");Nt(k),Jt(k,"link",t),k._p=new Promise(function(F,J){k.onload=F,k.onerror=J}),k.addEventListener("load",function(){T.loading|=1}),k.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yh(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:T},d.set(f,v)}}}function gS(t,s){Ss.X(t,s);var a=wo;if(a&&t){var l=Ci(a).hoistableScripts,d=Ao(t),f=l.get(d);f||(f=a.querySelector(tc(d)),f||(t=x({src:t,async:!0},s),(s=ni.get(d))&&jm(t,s),f=a.createElement("script"),Nt(f),Jt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function yS(t,s){Ss.M(t,s);var a=wo;if(a&&t){var l=Ci(a).hoistableScripts,d=Ao(t),f=l.get(d);f||(f=a.querySelector(tc(d)),f||(t=x({src:t,async:!0,type:"module"},s),(s=ni.get(d))&&jm(t,s),f=a.createElement("script"),Nt(f),Jt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function ov(t,s,a,l){var d=(d=ye.current)?gh(d):null;if(!d)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=So(a.href),a=Ci(d).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=So(a.href);var f=Ci(d).hoistableStyles,v=f.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=d.querySelector(ec(t)))&&!f._p&&(v.instance=f,v.state.loading=5),ni.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ni.set(t,a),f||_S(d,t,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ao(a),a=Ci(d).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function So(t){return'href="'+mn(t)+'"'}function ec(t){return'link[rel="stylesheet"]['+t+"]"}function lv(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function _S(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Jt(s,"link",a),Nt(s),t.head.appendChild(s))}function Ao(t){return'[src="'+mn(t)+'"]'}function tc(t){return"script[async]"+t}function cv(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+mn(a.href)+'"]');if(l)return s.instance=l,Nt(l),l;var d=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Nt(l),Jt(l,"style",d),yh(l,a.precedence,t),s.instance=l;case"stylesheet":d=So(a.href);var f=t.querySelector(ec(d));if(f)return s.state.loading|=4,s.instance=f,Nt(f),f;l=lv(a),(d=ni.get(d))&&Mm(l,d),f=(t.ownerDocument||t).createElement("link"),Nt(f);var v=f;return v._p=new Promise(function(T,k){v.onload=T,v.onerror=k}),Jt(f,"link",l),s.state.loading|=4,yh(f,a.precedence,t),s.instance=f;case"script":return f=Ao(a.src),(d=t.querySelector(tc(f)))?(s.instance=d,Nt(d),d):(l=a,(d=ni.get(f))&&(l=x({},a),jm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),Nt(d),Jt(d,"link",l),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,yh(l,a.precedence,t));return s.instance}function yh(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===s)f=T;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Mm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function jm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var _h=null;function uv(t,s,a){if(_h===null){var l=new Map,d=_h=new Map;d.set(a,l)}else d=_h,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[Ri]||f[Rt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(s)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function hv(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function vS(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function dv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function bS(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=So(l.href),f=s.querySelector(ec(d));if(f){s=f._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=vh.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=f,Nt(f);return}f=s.ownerDocument||s,l=lv(l),(d=ni.get(d))&&Mm(l,d),f=f.createElement("link"),Nt(f);var v=f;v._p=new Promise(function(T,k){v.onload=T,v.onerror=k}),Jt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=vh.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Vm=0;function ES(t,s){return t.stylesheets&&t.count===0&&Eh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Eh(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+s);0<t.imgBytes&&Vm===0&&(Vm=62500*tS());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Eh(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Vm?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function vh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Eh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bh=null;function Eh(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bh=new Map,s.forEach(xS,t),bh=null,vh.call(t))}function xS(t,s){if(!(s.state.loading&4)){var a=bh.get(t);if(a)var l=a.get(null);else{a=new Map,bh.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var v=d[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}d=s.instance,v=d.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,d),a.set(v,d),this.count++,l=vh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var nc={$$typeof:Y,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function TS(t,s,a,l,d,f,v,T,k){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function fv(t,s,a,l,d,f,v,T,k,F,J,te){return t=new TS(t,s,a,v,k,F,J,te,T),s=1,f===!0&&(s|=24),f=Cn(3,null,null,s),t.current=f,f.stateNode=t,s=pf(),s.refCount++,t.pooledCache=s,s.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:s},vf(f),t}function mv(t){return t?(t=no,t):no}function pv(t,s,a,l,d,f){d=mv(d),l.context===null?l.context=d:l.pendingContext=d,l=er(s),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=tr(t,l,s),a!==null&&(bn(a,t,s),Ml(a,t,s))}function gv(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Um(t,s){gv(t,s),(t=t.alternate)&&gv(t,s)}function yv(t){if(t.tag===13||t.tag===31){var s=sa(t,67108864);s!==null&&bn(s,t,67108864),Um(t,67108864)}}function _v(t){if(t.tag===13||t.tag===31){var s=Mn();s=$r(s);var a=sa(t,s);a!==null&&bn(a,t,s),Um(t,s)}}var xh=!0;function wS(t,s,a,l){var d=Q.T;Q.T=null;var f=oe.p;try{oe.p=2,Pm(t,s,a,l)}finally{oe.p=f,Q.T=d}}function SS(t,s,a,l){var d=Q.T;Q.T=null;var f=oe.p;try{oe.p=8,Pm(t,s,a,l)}finally{oe.p=f,Q.T=d}}function Pm(t,s,a,l){if(xh){var d=Lm(l);if(d===null)wm(t,s,l,Th,a),bv(t,l);else if(RS(d,t,s,a,l))l.stopPropagation();else if(bv(t,l),s&4&&-1<AS.indexOf(t)){for(;d!==null;){var f=Gn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=dn(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var k=1<<31-ft(v);T.entanglements[1]|=k,v&=~k}qi(f),(Ge&6)===0&&(rh=Bt()+500,Xl(0))}}break;case 31:case 13:T=sa(f,2),T!==null&&bn(T,f,2),oh(),Um(f,2)}if(f=Lm(l),f===null&&wm(t,s,l,Th,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else wm(t,s,l,null,a)}}function Lm(t){return t=$n(t),zm(t)}var Th=null;function zm(t){if(Th=null,t=Ni(t),t!==null){var s=c(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=u(s),t!==null)return t;t=null}else if(a===31){if(t=m(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Th=t,null}function vv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rs()){case Hn:return 2;case tn:return 8;case xt:case li:return 32;case Ua:return 268435456;default:return 32}default:return 32}}var Bm=!1,dr=null,fr=null,mr=null,ic=new Map,sc=new Map,pr=[],AS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bv(t,s){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":ic.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(s.pointerId)}}function rc(t,s,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},s!==null&&(s=Gn(s),s!==null&&yv(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function RS(t,s,a,l,d){switch(s){case"focusin":return dr=rc(dr,t,s,a,l,d),!0;case"dragenter":return fr=rc(fr,t,s,a,l,d),!0;case"mouseover":return mr=rc(mr,t,s,a,l,d),!0;case"pointerover":var f=d.pointerId;return ic.set(f,rc(ic.get(f)||null,t,s,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,sc.set(f,rc(sc.get(f)||null,t,s,a,l,d)),!0}return!1}function Ev(t){var s=Ni(t.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){t.blockedOn=s,ci(t.priority,function(){_v(a)});return}}else if(s===31){if(s=m(a),s!==null){t.blockedOn=s,ci(t.priority,function(){_v(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wh(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Lm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);_l=l,a.target.dispatchEvent(l),_l=null}else return s=Gn(a),s!==null&&yv(s),t.blockedOn=a,!1;s.shift()}return!0}function xv(t,s,a){wh(t)&&a.delete(s)}function NS(){Bm=!1,dr!==null&&wh(dr)&&(dr=null),fr!==null&&wh(fr)&&(fr=null),mr!==null&&wh(mr)&&(mr=null),ic.forEach(xv),sc.forEach(xv)}function Sh(t,s){t.blockedOn===s&&(t.blockedOn=null,Bm||(Bm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,NS)))}var Ah=null;function Tv(t){Ah!==t&&(Ah=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ah===t&&(Ah=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],d=t[s+2];if(typeof l!="function"){if(zm(l||a)===null)continue;break}var f=Gn(a);f!==null&&(t.splice(s,3),s-=3,Lf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Ro(t){function s(k){return Sh(k,t)}dr!==null&&Sh(dr,t),fr!==null&&Sh(fr,t),mr!==null&&Sh(mr,t),ic.forEach(s),sc.forEach(s);for(var a=0;a<pr.length;a++){var l=pr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<pr.length&&(a=pr[0],a.blockedOn===null);)Ev(a),a.blockedOn===null&&pr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],v=d[Ht]||null;if(typeof f=="function")v||Tv(a);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(d=f,v=f[Ht]||null)T=v.formAction;else if(zm(d)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Tv(a)}}}function wv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function qm(t){this._internalRoot=t}Rh.prototype.render=qm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Mn();pv(a,l,t,s,null,null)},Rh.prototype.unmount=qm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;pv(t.current,2,null,t,null,null),oh(),s[Ai]=null}};function Rh(t){this._internalRoot=t}Rh.prototype.unstable_scheduleHydration=function(t){if(t){var s=ou();t={blockedOn:null,target:t,priority:s};for(var a=0;a<pr.length&&s!==0&&s<pr[a].priority;a++);pr.splice(a,0,t),a===0&&Ev(t)}};var Sv=e.version;if(Sv!=="19.2.4")throw Error(r(527,Sv,"19.2.4"));oe.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(s),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var CS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{Sn=Nh.inject(CS),Pt=Nh}catch{}}return oc.createRoot=function(t,s){if(!o(t))throw Error(r(299));var a=!1,l="",d=D0,f=O0,v=M0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(f=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=fv(t,1,!1,null,null,a,l,null,d,f,v,wv),t[Ai]=s.current,Tm(t),new qm(s)},oc.hydrateRoot=function(t,s,a){if(!o(t))throw Error(r(299));var l=!1,d="",f=D0,v=O0,T=M0,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(k=a.formState)),s=fv(t,1,!0,s,a??null,l,d,k,f,v,T,wv),s.context=mv(null),a=s.current,l=Mn(),l=$r(l),d=er(l),d.callback=null,tr(a,d,l),a=l,s.current.lanes=a,Fr(s,a),qi(s),t[Ai]=s.current,Tm(t),new Rh(s)},oc.version="19.2.4",oc}var jv;function zS(){if(jv)return Gm.exports;jv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Gm.exports=LS(),Gm.exports}var BS=zS();const qS=kE(BS);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vv="popstate";function HS(i={}){function e(o,c){let{pathname:u="/",search:m="",hash:p=""}=Da(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),fp("",{pathname:u,search:m,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let u=o.document.querySelector("base"),m="";if(u&&u.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof c=="string"?c:Ac(c))}function r(o,c){zn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return GS(e,n,r,i)}function ht(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function zn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FS(){return Math.random().toString(36).substring(2,10)}function Uv(i,e){return{usr:i.state,key:i.key,idx:e}}function fp(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Da(e):e,state:n,key:e&&e.key||r||FS()}}function Ac({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Da(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function GS(i,e,n,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,u=o.history,m="POP",p=null,y=E();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function E(){return(u.state||{idx:null}).idx}function x(){m="POP";let U=E(),W=U==null?null:U-y;y=U,p&&p({action:m,location:P.location,delta:W})}function w(U,W){m="PUSH";let se=fp(P.location,U,W);n&&n(se,U),y=E()+1;let Y=Uv(se,y),X=P.createHref(se);try{u.pushState(Y,"",X)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(X)}c&&p&&p({action:m,location:P.location,delta:1})}function R(U,W){m="REPLACE";let se=fp(P.location,U,W);n&&n(se,U),y=E();let Y=Uv(se,y),X=P.createHref(se);u.replaceState(Y,"",X),c&&p&&p({action:m,location:P.location,delta:0})}function L(U){return $S(U)}let P={get action(){return m},get location(){return i(o,u)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Vv,x),p=U,()=>{o.removeEventListener(Vv,x),p=null}},createHref(U){return e(o,U)},createURL:L,encodeLocation(U){let W=L(U);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:w,replace:R,go(U){return u.go(U)}};return P}function $S(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:Ac(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function DE(i,e,n="/"){return KS(i,e,n,!1)}function KS(i,e,n,r){let o=typeof e=="string"?Da(e):e,c=ks(o.pathname||"/",n);if(c==null)return null;let u=OE(i);QS(u);let m=null;for(let p=0;m==null&&p<u.length;++p){let y=rA(c);m=iA(u[p],y,r)}return m}function OE(i,e=[],n=[],r="",o=!1){let c=(u,m,p=o,y)=>{let E={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(r)&&p)return;ht(E.relativePath.startsWith(r),`Absolute route path "${E.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(r.length)}let x=Ns([r,E.relativePath]),w=n.concat(E);u.children&&u.children.length>0&&(ht(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),OE(u.children,e,w,x,p)),!(u.path==null&&!u.index)&&e.push({path:x,score:tA(x,u.index),routesMeta:w})};return i.forEach((u,m)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))c(u,m);else for(let y of ME(u.path))c(u,m,!0,y)}),e}function ME(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let u=ME(r.join("/")),m=[];return m.push(...u.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...u),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function QS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:nA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var YS=/^:[\w-]+$/,XS=3,JS=2,WS=1,ZS=10,eA=-2,Pv=i=>i==="*";function tA(i,e){let n=i.split("/"),r=n.length;return n.some(Pv)&&(r+=eA),e&&(r+=JS),n.filter(o=>!Pv(o)).reduce((o,c)=>o+(YS.test(c)?XS:c===""?WS:ZS),r)}function nA(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function iA(i,e,n=!1){let{routesMeta:r}=i,o={},c="/",u=[];for(let m=0;m<r.length;++m){let p=r[m],y=m===r.length-1,E=c==="/"?e:e.slice(c.length)||"/",x=Jh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),w=p.route;if(!x&&y&&n&&!r[r.length-1].route.index&&(x=Jh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!x)return null;Object.assign(o,x.params),u.push({params:o,pathname:Ns([c,x.pathname]),pathnameBase:cA(Ns([c,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(c=Ns([c,x.pathnameBase]))}return u}function Jh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=sA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((y,{paramName:E,isOptional:x},w)=>{if(E==="*"){let L=m[w]||"";u=c.slice(0,c.length-L.length).replace(/(.)\/+$/,"$1")}const R=m[w];return x&&!R?y[E]=void 0:y[E]=(R||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:u,pattern:i}}function sA(i,e=!1,n=!0){zn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function rA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ks(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}var aA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function oA(i,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof i=="string"?Da(i):i,c;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?c=Lv(n.substring(1),"/"):c=Lv(n,e)):c=e,{pathname:c,search:uA(r),hash:hA(o)}}function Lv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ym(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hp(i){let e=lA(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Fp(i,e,n,r=!1){let o;typeof i=="string"?o=Da(i):(o={...i},ht(!o.pathname||!o.pathname.includes("?"),Ym("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Ym("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Ym("#","search","hash",o)));let c=i===""||o.pathname==="",u=c?"/":o.pathname,m;if(u==null)m=n;else{let x=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),x-=1;o.pathname=w.join("/")}m=x>=0?e[x]:"/"}let p=oA(o,m),y=u&&u!=="/"&&u.endsWith("/"),E=(c||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Ns=i=>i.join("/").replace(/\/\/+/g,"/"),cA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),uA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,hA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,dA=class{constructor(i,e,n,r=!1){this.status=i,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function fA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function mA(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var jE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function VE(i,e){let n=i;if(typeof n!="string"||!aA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(jE)try{let c=new URL(window.location.href),u=n.startsWith("//")?new URL(c.protocol+n):new URL(n),m=ks(u.pathname,e);u.origin===c.origin&&m!=null?n=m+u.search+u.hash:o=!0}catch{zn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var UE=["POST","PUT","PATCH","DELETE"];new Set(UE);var pA=["GET",...UE];new Set(pA);var Qo=V.createContext(null);Qo.displayName="DataRouter";var bd=V.createContext(null);bd.displayName="DataRouterState";var gA=V.createContext(!1),PE=V.createContext({isTransitioning:!1});PE.displayName="ViewTransition";var yA=V.createContext(new Map);yA.displayName="Fetchers";var _A=V.createContext(null);_A.displayName="Await";var Bn=V.createContext(null);Bn.displayName="Navigation";var Pc=V.createContext(null);Pc.displayName="Location";var Wi=V.createContext({outlet:null,matches:[],isDataRoute:!1});Wi.displayName="Route";var Gp=V.createContext(null);Gp.displayName="RouteError";var LE="REACT_ROUTER_ERROR",vA="REDIRECT",bA="ROUTE_ERROR_RESPONSE";function EA(i){if(i.startsWith(`${LE}:${vA}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function xA(i){if(i.startsWith(`${LE}:${bA}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new dA(e.status,e.statusText,e.data)}catch{}}function TA(i,{relative:e}={}){ht(Yo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=V.useContext(Bn),{hash:o,pathname:c,search:u}=Lc(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:Ns([n,c])),r.createHref({pathname:m,search:u,hash:o})}function Yo(){return V.useContext(Pc)!=null}function Zi(){return ht(Yo(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Pc).location}var zE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BE(i){V.useContext(Bn).static||V.useLayoutEffect(i)}function Xo(){let{isDataRoute:i}=V.useContext(Wi);return i?VA():wA()}function wA(){ht(Yo(),"useNavigate() may be used only in the context of a <Router> component.");let i=V.useContext(Qo),{basename:e,navigator:n}=V.useContext(Bn),{matches:r}=V.useContext(Wi),{pathname:o}=Zi(),c=JSON.stringify(Hp(r)),u=V.useRef(!1);return BE(()=>{u.current=!0}),V.useCallback((p,y={})=>{if(zn(u.current,zE),!u.current)return;if(typeof p=="number"){n.go(p);return}let E=Fp(p,JSON.parse(c),o,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ns([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,c,o,i])}V.createContext(null);function Lc(i,{relative:e}={}){let{matches:n}=V.useContext(Wi),{pathname:r}=Zi(),o=JSON.stringify(Hp(n));return V.useMemo(()=>Fp(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function SA(i,e){return qE(i,e)}function qE(i,e,n,r,o){var se;ht(Yo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=V.useContext(Bn),{matches:u}=V.useContext(Wi),m=u[u.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",x=m&&m.route;{let Y=x&&x.path||"";FE(y,!x||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let w=Zi(),R;if(e){let Y=typeof e=="string"?Da(e):e;ht(E==="/"||((se=Y.pathname)==null?void 0:se.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),R=Y}else R=w;let L=R.pathname||"/",P=L;if(E!=="/"){let Y=E.replace(/^\//,"").split("/");P="/"+L.replace(/^\//,"").split("/").slice(Y.length).join("/")}let U=DE(i,{pathname:P});zn(x||U!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),zn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=IA(U&&U.map(Y=>Object.assign({},Y,{params:Object.assign({},p,Y.params),pathname:Ns([E,c.encodeLocation?c.encodeLocation(Y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?E:Ns([E,c.encodeLocation?c.encodeLocation(Y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathnameBase])})),u,n,r,o);return e&&W?V.createElement(Pc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},W):W}function AA(){let i=jA(),e=fA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",i),u=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:c},"ErrorBoundary")," or"," ",V.createElement("code",{style:c},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:o},n):null,u)}var RA=V.createElement(AA,null),HE=class extends V.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=xA(i.digest);n&&(i=n)}let e=i!==void 0?V.createElement(Wi.Provider,{value:this.props.routeContext},V.createElement(Gp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?V.createElement(NA,{error:i},e):e}};HE.contextType=gA;var Xm=new WeakMap;function NA({children:i,error:e}){let{basename:n}=V.useContext(Bn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=EA(e.digest);if(r){let o=Xm.get(e);if(o)throw o;let c=VE(r.location,n);if(jE&&!Xm.get(e))if(c.isExternal||r.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:r.replace}));throw Xm.set(e,u),u}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return i}function CA({routeContext:i,match:e,children:n}){let r=V.useContext(Qo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Wi.Provider,{value:i},n)}function IA(i,e=[],n=null,r=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,u=n==null?void 0:n.errors;if(u!=null){let E=c.findIndex(x=>x.route.id&&(u==null?void 0:u[x.route.id])!==void 0);ht(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<c.length;E++){let x=c[E];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(p=E),x.route.id){let{loaderData:w,errors:R}=n,L=x.route.loader&&!w.hasOwnProperty(x.route.id)&&(!R||R[x.route.id]===void 0);if(x.route.lazy||L){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let y=n&&r?(E,x)=>{var w,R;r(E,{location:n.location,params:((R=(w=n.matches)==null?void 0:w[0])==null?void 0:R.params)??{},unstable_pattern:mA(n.matches),errorInfo:x})}:void 0;return c.reduceRight((E,x,w)=>{let R,L=!1,P=null,U=null;n&&(R=u&&x.route.id?u[x.route.id]:void 0,P=x.route.errorElement||RA,m&&(p<0&&w===0?(FE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,U=null):p===w&&(L=!0,U=x.route.hydrateFallbackElement||null)));let W=e.concat(c.slice(0,w+1)),se=()=>{let Y;return R?Y=P:L?Y=U:x.route.Component?Y=V.createElement(x.route.Component,null):x.route.element?Y=x.route.element:Y=E,V.createElement(CA,{match:x,routeContext:{outlet:E,matches:W,isDataRoute:n!=null},children:Y})};return n&&(x.route.ErrorBoundary||x.route.errorElement||w===0)?V.createElement(HE,{location:n.location,revalidation:n.revalidation,component:P,error:R,children:se(),routeContext:{outlet:null,matches:W,isDataRoute:!0},onError:y}):se()},null)}function $p(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kA(i){let e=V.useContext(Qo);return ht(e,$p(i)),e}function DA(i){let e=V.useContext(bd);return ht(e,$p(i)),e}function OA(i){let e=V.useContext(Wi);return ht(e,$p(i)),e}function Kp(i){let e=OA(i),n=e.matches[e.matches.length-1];return ht(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function MA(){return Kp("useRouteId")}function jA(){var r;let i=V.useContext(Gp),e=DA("useRouteError"),n=Kp("useRouteError");return i!==void 0?i:(r=e.errors)==null?void 0:r[n]}function VA(){let{router:i}=kA("useNavigate"),e=Kp("useNavigate"),n=V.useRef(!1);return BE(()=>{n.current=!0}),V.useCallback(async(o,c={})=>{zn(n.current,zE),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var zv={};function FE(i,e,n){!e&&!zv[i]&&(zv[i]=!0,zn(!1,n))}V.memo(UA);function UA({routes:i,future:e,state:n,onError:r}){return qE(i,void 0,n,r,e)}function GE({to:i,replace:e,state:n,relative:r}){ht(Yo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=V.useContext(Bn);zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=V.useContext(Wi),{pathname:u}=Zi(),m=Xo(),p=Fp(i,Hp(c),u,r==="path"),y=JSON.stringify(p);return V.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:r})},[m,y,r,e,n]),null}function jn(i){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PA({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:c=!1,unstable_useTransitions:u}){ht(!Yo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:u,future:{}}),[m,o,c,u]);typeof n=="string"&&(n=Da(n));let{pathname:y="/",search:E="",hash:x="",state:w=null,key:R="default"}=n,L=V.useMemo(()=>{let P=ks(y,m);return P==null?null:{location:{pathname:P,search:E,hash:x,state:w,key:R},navigationType:r}},[m,y,E,x,w,R,r]);return zn(L!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${x}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:V.createElement(Bn.Provider,{value:p},V.createElement(Pc.Provider,{children:e,value:L}))}function LA({children:i,location:e}){return SA(mp(i),e)}function mp(i,e=[]){let n=[];return V.Children.forEach(i,(r,o)=>{if(!V.isValidElement(r))return;let c=[...e,o];if(r.type===V.Fragment){n.push.apply(n,mp(r.props.children,c));return}ht(r.type===jn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=mp(r.props.children,c)),n.push(u)}),n}var Lh="get",zh="application/x-www-form-urlencoded";function Ed(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function zA(i){return Ed(i)&&i.tagName.toLowerCase()==="button"}function BA(i){return Ed(i)&&i.tagName.toLowerCase()==="form"}function qA(i){return Ed(i)&&i.tagName.toLowerCase()==="input"}function HA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function FA(i,e){return i.button===0&&(!e||e==="_self")&&!HA(i)}function pp(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,n)=>{let r=i[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function GA(i,e){let n=pp(i);return e&&e.forEach((r,o)=>{n.has(o)||e.getAll(o).forEach(c=>{n.append(o,c)})}),n}var Ch=null;function $A(){if(Ch===null)try{new FormData(document.createElement("form"),0),Ch=!1}catch{Ch=!0}return Ch}var KA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jm(i){return i!=null&&!KA.has(i)?(zn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zh}"`),null):i}function QA(i,e){let n,r,o,c,u;if(BA(i)){let m=i.getAttribute("action");r=m?ks(m,e):null,n=i.getAttribute("method")||Lh,o=Jm(i.getAttribute("enctype"))||zh,c=new FormData(i)}else if(zA(i)||qA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(r=p?ks(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Lh,o=Jm(i.getAttribute("formenctype"))||Jm(m.getAttribute("enctype"))||zh,c=new FormData(m,i),!$A()){let{name:y,type:E,value:x}=i;if(E==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,x)}}else{if(Ed(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lh,r=null,o=zh,u=i}return c&&o==="text/plain"&&(u=c,c=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function YA(i,e,n,r){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&ks(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function XA(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function WA(i,e,n){let r=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await XA(c,n);return u.links?u.links():[]}return[]}));return n2(r.flat(1).filter(JA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Bv(i,e,n,r,o,c){let u=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>u(p,y)||m(p,y)):c==="data"?e.filter((p,y)=>{var x;let E=r.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(u(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function ZA(i,e,{includeHydrateFallback:n}={}){return e2(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function e2(i){return[...new Set(i)]}function t2(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function n2(i,e){let n=new Set;return new Set(e),i.reduce((r,o)=>{let c=JSON.stringify(t2(o));return n.has(c)||(n.add(c),r.push({key:c,link:o})),r},[])}function $E(){let i=V.useContext(Qo);return Qp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function i2(){let i=V.useContext(bd);return Qp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Yp=V.createContext(void 0);Yp.displayName="FrameworkContext";function KE(){let i=V.useContext(Yp);return Qp(i,"You must render this element inside a <HydratedRouter> element"),i}function s2(i,e){let n=V.useContext(Yp),[r,o]=V.useState(!1),[c,u]=V.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:x}=e,w=V.useRef(null);V.useEffect(()=>{if(i==="render"&&u(!0),i==="viewport"){let P=W=>{W.forEach(se=>{u(se.isIntersecting)})},U=new IntersectionObserver(P,{threshold:.5});return w.current&&U.observe(w.current),()=>{U.disconnect()}}},[i]),V.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let R=()=>{o(!0)},L=()=>{o(!1),u(!1)};return n?i!=="intent"?[c,w,{}]:[c,w,{onFocus:lc(m,R),onBlur:lc(p,L),onMouseEnter:lc(y,R),onMouseLeave:lc(E,L),onTouchStart:lc(x,R)}]:[!1,w,{}]}function lc(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function r2({page:i,...e}){let{router:n}=$E(),r=V.useMemo(()=>DE(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?V.createElement(o2,{page:i,matches:r,...e}):null}function a2(i){let{manifest:e,routeModules:n}=KE(),[r,o]=V.useState([]);return V.useEffect(()=>{let c=!1;return WA(i,e,n).then(u=>{c||o(u)}),()=>{c=!0}},[i,e,n]),r}function o2({page:i,matches:e,...n}){let r=Zi(),{future:o,manifest:c,routeModules:u}=KE(),{basename:m}=$E(),{loaderData:p,matches:y}=i2(),E=V.useMemo(()=>Bv(i,e,y,c,r,"data"),[i,e,y,c,r]),x=V.useMemo(()=>Bv(i,e,y,c,r,"assets"),[i,e,y,c,r]),w=V.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let P=new Set,U=!1;if(e.forEach(se=>{var X;let Y=c.routes[se.route.id];!Y||!Y.hasLoader||(!E.some(re=>re.route.id===se.route.id)&&se.route.id in p&&((X=u[se.route.id])!=null&&X.shouldRevalidate)||Y.hasClientLoader?U=!0:P.add(se.route.id))}),P.size===0)return[];let W=YA(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return U&&P.size>0&&W.searchParams.set("_routes",e.filter(se=>P.has(se.route.id)).map(se=>se.route.id).join(",")),[W.pathname+W.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,r,c,E,e,i,u]),R=V.useMemo(()=>ZA(x,c),[x,c]),L=a2(x);return V.createElement(V.Fragment,null,w.map(P=>V.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),R.map(P=>V.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),L.map(({key:P,link:U})=>V.createElement("link",{key:P,nonce:n.nonce,...U,crossOrigin:U.crossOrigin??n.crossOrigin})))}function l2(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var c2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{c2&&(window.__reactRouterVersion="7.13.0")}catch{}function u2({basename:i,children:e,unstable_useTransitions:n,window:r}){let o=V.useRef();o.current==null&&(o.current=HS({window:r,v5Compat:!0}));let c=o.current,[u,m]=V.useState({action:c.action,location:c.location}),p=V.useCallback(y=>{n===!1?m(y):V.startTransition(()=>m(y))},[n]);return V.useLayoutEffect(()=>c.listen(p),[c,p]),V.createElement(PA,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:c,unstable_useTransitions:n})}var QE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ri=V.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:c,replace:u,state:m,target:p,to:y,preventScrollReset:E,viewTransition:x,unstable_defaultShouldRevalidate:w,...R},L){let{basename:P,unstable_useTransitions:U}=V.useContext(Bn),W=typeof y=="string"&&QE.test(y),se=VE(y,P);y=se.to;let Y=TA(y,{relative:o}),[X,re,de]=s2(r,R),C=m2(y,{replace:u,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:x,unstable_defaultShouldRevalidate:w,unstable_useTransitions:U});function A(O){e&&e(O),O.defaultPrevented||C(O)}let N=V.createElement("a",{...R,...de,href:se.absoluteURL||Y,onClick:se.isExternal||c?e:A,ref:l2(L,re),target:p,"data-discover":!W&&n==="render"?"true":void 0});return X&&!W?V.createElement(V.Fragment,null,N,V.createElement(r2,{page:Y})):N});ri.displayName="Link";var h2=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:c,to:u,viewTransition:m,children:p,...y},E){let x=Lc(u,{relative:y.relative}),w=Zi(),R=V.useContext(bd),{navigator:L,basename:P}=V.useContext(Bn),U=R!=null&&b2(x)&&m===!0,W=L.encodeLocation?L.encodeLocation(x).pathname:x.pathname,se=w.pathname,Y=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(se=se.toLowerCase(),Y=Y?Y.toLowerCase():null,W=W.toLowerCase()),Y&&P&&(Y=ks(Y,P)||Y);const X=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let re=se===W||!o&&se.startsWith(W)&&se.charAt(X)==="/",de=Y!=null&&(Y===W||!o&&Y.startsWith(W)&&Y.charAt(W.length)==="/"),C={isActive:re,isPending:de,isTransitioning:U},A=re?e:void 0,N;typeof r=="function"?N=r(C):N=[r,re?"active":null,de?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let O=typeof c=="function"?c(C):c;return V.createElement(ri,{...y,"aria-current":A,className:N,ref:E,style:O,to:u,viewTransition:m},typeof p=="function"?p(C):p)});h2.displayName="NavLink";var d2=V.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:c,method:u=Lh,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:x,unstable_defaultShouldRevalidate:w,...R},L)=>{let{unstable_useTransitions:P}=V.useContext(Bn),U=_2(),W=v2(m,{relative:y}),se=u.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&QE.test(m),X=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let de=re.nativeEvent.submitter,C=(de==null?void 0:de.getAttribute("formmethod"))||u,A=()=>U(de||re.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:x,unstable_defaultShouldRevalidate:w});P&&n!==!1?V.startTransition(()=>A()):A()};return V.createElement("form",{ref:L,method:se,action:W,onSubmit:r?p:X,...R,"data-discover":!Y&&i==="render"?"true":void 0})});d2.displayName="Form";function f2(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YE(i){let e=V.useContext(Qo);return ht(e,f2(i)),e}function m2(i,{target:e,replace:n,state:r,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let y=Xo(),E=Zi(),x=Lc(i,{relative:c});return V.useCallback(w=>{if(FA(w,e)){w.preventDefault();let R=n!==void 0?n:Ac(E)===Ac(x),L=()=>y(i,{replace:R,state:r,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:m});p?V.startTransition(()=>L()):L()}},[E,y,x,n,r,e,i,o,c,u,m,p])}function p2(i){zn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=V.useRef(pp(i)),n=V.useRef(!1),r=Zi(),o=V.useMemo(()=>GA(r.search,n.current?null:e.current),[r.search]),c=Xo(),u=V.useCallback((m,p)=>{const y=pp(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,c("?"+y,p)},[c,o]);return[o,u]}var g2=0,y2=()=>`__${String(++g2)}__`;function _2(){let{router:i}=YE("useSubmit"),{basename:e}=V.useContext(Bn),n=MA(),r=i.fetch,o=i.navigate;return V.useCallback(async(c,u={})=>{let{action:m,method:p,encType:y,formData:E,body:x}=QA(c,e);if(u.navigate===!1){let w=u.fetcherKey||y2();await r(w,n,u.action||m,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:E,body:x,formMethod:u.method||p,formEncType:u.encType||y,flushSync:u.flushSync})}else await o(u.action||m,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:E,body:x,formMethod:u.method||p,formEncType:u.encType||y,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,o,e,n])}function v2(i,{relative:e}={}){let{basename:n}=V.useContext(Bn),r=V.useContext(Wi);ht(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Lc(i||".",{relative:e})},u=Zi();if(i==null){c.search=u.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(x=>x).forEach(x=>m.append("index",x));let E=m.toString();c.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Ns([n,c.pathname])),Ac(c)}function b2(i,{relative:e}={}){let n=V.useContext(PE);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=YE("useViewTransitionState"),o=Lc(i,{relative:e});if(!n.isTransitioning)return!1;let c=ks(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=ks(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Jh(o.pathname,u)!=null||Jh(o.pathname,c)!=null}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=(...i)=>i.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=i=>{const e=x2(i);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=V.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:u,...m},p)=>V.createElement("svg",{ref:p,...T2,width:e,height:e,stroke:i,strokeWidth:r?Number(n)*24/Number(e):n,className:XE("lucide",o),...!c&&!w2(m)&&{"aria-hidden":"true"},...m},[...u.map(([y,E])=>V.createElement(y,E)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(i,e)=>{const n=V.forwardRef(({className:r,...o},c)=>V.createElement(S2,{ref:c,iconNode:e,className:XE(`lucide-${E2(qv(i))}`,`lucide-${i}`,r),...o}));return n.displayName=qv(i),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Cr=Ie("activity",A2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],N2=Ie("arrow-left",R2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Ih=Ie("arrow-up-right",C2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Wh=Ie("calendar",I2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],D2=Ie("camera",k2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],M2=Ie("chevron-right",O2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xd=Ie("circle-alert",j2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],JE=Ie("circle-check-big",V2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],WE=Ie("circle-check",U2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Xp=Ie("clipboard-list",P2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Jo=Ie("clock",L2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],B2=Ie("copy",z2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],H2=Ie("dollar-sign",q2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],G2=Ie("funnel",F2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Jp=Ie("lock",$2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Q2=Ie("log-in",K2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],X2=Ie("log-out",Y2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ZE=Ie("map-pin",J2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Z2=Ie("message-circle",W2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],tR=Ie("pen",eR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],iR=Ie("pencil",nR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],rR=Ie("play",sR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],e1=Ie("plus",aR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],t1=Ie("qr-code",oR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],cR=Ie("refresh-cw",lR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Wp=Ie("search",uR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],dR=Ie("send",hR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],mR=Ie("shield-alert",fR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],n1=Ie("shield-check",pR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Hv=Ie("shield",gR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_R=Ie("square-check-big",yR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],bR=Ie("timer",vR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],i1=Ie("trash-2",ER);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],yc=Ie("trending-up",xR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Zp=Ie("trophy",TR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],SR=Ie("upload",wR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],RR=Ie("user-plus",AR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],eg=Ie("user",NR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_c=Ie("users",CR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],s1=Ie("x",IR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],jo=Ie("zap",kR),DR=({children:i})=>{var u;const e=Zi(),n=Xo(),r=e.pathname.startsWith("/admin")&&e.pathname!=="/admin/login",o=()=>{sessionStorage.removeItem("isAdminAuthenticated"),n("/admin/login")};if(!r)return g.jsx("div",{className:"min-h-screen bg-slate-100 text-slate-900",children:i});const c=[{path:"/admin",icon:Cr,label:"Viso Geral"},{path:"/admin/usuarios",icon:_c,label:"Atletas"},{path:"/admin/qrcode",icon:t1,label:"Portal QR"},{path:"/admin/horarios",icon:Jo,label:"Horrios"},{path:"/admin/checkins",icon:Xp,label:"Registros"},{path:"/admin/ranking",icon:Zp,label:"Ranking"},{path:"/admin/distribuicoes",icon:yc,label:"Recompensas"}];return g.jsxs("div",{className:"flex min-h-screen bg-slate-100 text-slate-900 font-sans text-sm",children:[g.jsxs("aside",{className:"w-56 bg-black flex-shrink-0 flex flex-col z-20 shadow-[10px_0_30px_rgba(0,0,0,0.2)]",children:[g.jsx("div",{className:"p-6",children:g.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",children:[g.jsx("div",{className:"p-2 bg-lime-400 rounded-lg text-black shadow-[0_0_15px_rgba(163,230,53,0.4)]",children:g.jsx(Cr,{className:"w-5 h-5 font-bold"})}),g.jsxs("h1",{className:"text-xl font-black italic tracking-tighter text-white font-sport uppercase",children:["Fit",g.jsx("span",{className:"text-lime-400",children:"Reward"})]})]})}),g.jsx("nav",{className:"mt-2 flex-1 px-3 space-y-1",children:c.map(m=>{const p=m.icon,y=e.pathname===m.path;return g.jsxs(ri,{to:m.path,className:`flex items-center px-4 py-3 text-[9px] font-black uppercase tracking-[0.2em] rounded-xl transition-all ${y?"bg-lime-400 text-black shadow-[0_8px_16px_rgba(163,230,53,0.2)]":"text-zinc-500 hover:bg-zinc-900 hover:text-white border border-transparent hover:border-zinc-800"}`,children:[g.jsx(p,{className:`w-3.5 h-3.5 mr-3 ${y?"text-black":"text-zinc-700"}`}),m.label]},m.path)})}),g.jsx("div",{className:"p-5 border-t border-zinc-900",children:g.jsxs("button",{onClick:o,className:"w-full flex items-center px-4 py-2 text-[9px] font-black uppercase tracking-[0.3em] text-zinc-600 hover:text-red-500 transition-all",children:[g.jsx(X2,{className:"w-4 h-4 mr-3"}),"Logout"]})})]}),g.jsxs("main",{className:"flex-1 overflow-y-auto flex flex-col",children:[g.jsxs("header",{className:"bg-white border-b-2 border-slate-300 py-4 px-8 flex justify-between items-center sticky top-0 z-10 shadow-sm",children:[g.jsx("h2",{className:"text-lg font-black italic text-slate-900 font-sport uppercase tracking-[0.2em]",children:((u=c.find(m=>m.path===e.pathname))==null?void 0:u.label)||"Performance Area"}),g.jsxs(ri,{to:"/checkin",className:"group flex items-center px-5 py-2.5 bg-black rounded-lg text-lime-400 text-[9px] font-black uppercase tracking-widest hover:bg-lime-400 hover:text-black transition-all shadow-xl active:scale-95",children:[g.jsx(_R,{className:"w-4 h-4 mr-2"}),"Terminal de Check-in"]})]}),g.jsx("div",{className:"p-6 max-w-[1600px] mx-auto w-full",children:i})]})]})},OR=()=>{};var Fv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},MR=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const o=i[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],u=i[n++],m=i[n++],p=((o&7)<<18|(c&63)<<12|(u&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const c=i[n++],u=i[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},a1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const c=i[o],u=o+1<i.length,m=u?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,E=c>>2,x=(c&3)<<4|m>>4;let w=(m&15)<<2|y>>6,R=y&63;p||(R=64,u||(w=64)),r.push(n[E],n[x],n[w],n[R])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(r1(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):MR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const x=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||m==null||y==null||x==null)throw new jR;const w=c<<2|m>>4;if(r.push(w),y!==64){const R=m<<4&240|y>>2;if(r.push(R),x!==64){const L=y<<6&192|x;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class jR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VR=function(i){const e=r1(i);return a1.encodeByteArray(e,!0)},Zh=function(i){return VR(i).replace(/\./g,"")},o1=function(i){try{return a1.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=()=>UR().__FIREBASE_DEFAULTS__,LR=()=>{if(typeof process>"u"||typeof Fv>"u")return;const i=Fv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},zR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&o1(i[1]);return e&&JSON.parse(e)},Td=()=>{try{return OR()||PR()||LR()||zR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},l1=i=>{var e,n;return(n=(e=Td())==null?void 0:e.emulatorHosts)==null?void 0:n[i]},c1=i=>{const e=l1(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},u1=()=>{var i;return(i=Td())==null?void 0:i.config},h1=i=>{var e;return(e=Td())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tg(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Zh(JSON.stringify(n)),Zh(JSON.stringify(u)),""].join(".")}const vc={};function qR(){const i={prod:[],emulator:[]};for(const e of Object.keys(vc))vc[e]?i.emulator.push(e):i.prod.push(e);return i}function HR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Gv=!1;function ng(i,e){if(typeof window>"u"||typeof document>"u"||!Ur(window.location.host)||vc[i]===e||vc[i]||Gv)return;vc[i]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",c=qR().prod.length>0;function u(){const w=document.getElementById(r);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,R){w.setAttribute("width","24"),w.setAttribute("id",R),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Gv=!0,u()},w}function E(w,R){w.setAttribute("id",R),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function x(){const w=HR(r),R=n("text"),L=document.getElementById(R)||document.createElement("span"),P=n("learnmore"),U=document.getElementById(P)||document.createElement("a"),W=n("preprendIcon"),se=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Y=w.element;m(Y),E(U,P);const X=y();p(se,W),Y.append(se,L,U,X),document.body.appendChild(Y)}c?(L.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function GR(){var e;const i=(e=Td())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $R(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function QR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YR(){const i=on();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function XR(){return!GR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JR(){try{return typeof indexedDB=="object"}catch{return!1}}function WR(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="FirebaseError";class es extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZR,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zc.prototype.create)}}class zc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?eN(c,r):"Error",m=`${this.serviceName}: ${u} (${o}).`;return new es(o,m,r)}}function eN(i,e){return i.replace(tN,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const tN=/\{\$([^}]+)}/g;function nN(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ta(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=i[o],u=e[o];if($v(c)&&$v(u)){if(!Ta(c,u))return!1}else if(c!==u)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function $v(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hc(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function dc(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function iN(i,e){const n=new sN(i,e);return n.subscribe.bind(n)}class sN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rN(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Wm),o.error===void 0&&(o.error=Wm),o.complete===void 0&&(o.complete=Wm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rN(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(i){return i&&i._delegate?i._delegate:i}class Ir{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new BR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lN(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&u.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oN(i){return i===_a?void 0:i}function lN(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ue||(Ue={}));const uN={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},hN=Ue.INFO,dN={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},fN=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=dN[e];if(o)console[o](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ig{constructor(e){this.name=e,this._logLevel=hN,this._logHandler=fN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const mN=(i,e)=>e.some(n=>i instanceof n);let Kv,Qv;function pN(){return Kv||(Kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gN(){return Qv||(Qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f1=new WeakMap,gp=new WeakMap,m1=new WeakMap,Zm=new WeakMap,sg=new WeakMap;function yN(i){const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",u)},c=()=>{n(wr(i.result)),o()},u=()=>{r(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&f1.set(n,i)}).catch(()=>{}),sg.set(e,i),e}function _N(i){if(gp.has(i))return;const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",u),i.removeEventListener("abort",u)},c=()=>{n(),o()},u=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",u),i.addEventListener("abort",u)});gp.set(i,e)}let yp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return gp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||m1.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function vN(i){yp=i(yp)}function bN(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(ep(this),e,...n);return m1.set(r,e.sort?e.sort():[e]),wr(r)}:gN().includes(i)?function(...e){return i.apply(ep(this),e),wr(f1.get(this))}:function(...e){return wr(i.apply(ep(this),e))}}function EN(i){return typeof i=="function"?bN(i):(i instanceof IDBTransaction&&_N(i),mN(i,pN())?new Proxy(i,yp):i)}function wr(i){if(i instanceof IDBRequest)return yN(i);if(Zm.has(i))return Zm.get(i);const e=EN(i);return e!==i&&(Zm.set(i,e),sg.set(e,i)),e}const ep=i=>sg.get(i);function xN(i,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const u=indexedDB.open(i,e),m=wr(u);return r&&u.addEventListener("upgradeneeded",p=>{r(wr(u.result),p.oldVersion,p.newVersion,wr(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const TN=["get","getKey","getAll","getAllKeys","count"],wN=["put","add","delete","clear"],tp=new Map;function Yv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(tp.get(e))return tp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=wN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||TN.includes(n)))return;const c=async function(u,...m){const p=this.transaction(u,o?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return tp.set(e,c),c}vN(i=>({...i,get:(e,n,r)=>Yv(e,n)||i.get(e,n,r),has:(e,n)=>!!Yv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AN(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _p="@firebase/app",Xv="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new ig("@firebase/app"),RN="@firebase/app-compat",NN="@firebase/analytics-compat",CN="@firebase/analytics",IN="@firebase/app-check-compat",kN="@firebase/app-check",DN="@firebase/auth",ON="@firebase/auth-compat",MN="@firebase/database",jN="@firebase/data-connect",VN="@firebase/database-compat",UN="@firebase/functions",PN="@firebase/functions-compat",LN="@firebase/installations",zN="@firebase/installations-compat",BN="@firebase/messaging",qN="@firebase/messaging-compat",HN="@firebase/performance",FN="@firebase/performance-compat",GN="@firebase/remote-config",$N="@firebase/remote-config-compat",KN="@firebase/storage",QN="@firebase/storage-compat",YN="@firebase/firestore",XN="@firebase/ai",JN="@firebase/firestore-compat",WN="firebase",ZN="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="[DEFAULT]",eC={[_p]:"fire-core",[RN]:"fire-core-compat",[CN]:"fire-analytics",[NN]:"fire-analytics-compat",[kN]:"fire-app-check",[IN]:"fire-app-check-compat",[DN]:"fire-auth",[ON]:"fire-auth-compat",[MN]:"fire-rtdb",[jN]:"fire-data-connect",[VN]:"fire-rtdb-compat",[UN]:"fire-fn",[PN]:"fire-fn-compat",[LN]:"fire-iid",[zN]:"fire-iid-compat",[BN]:"fire-fcm",[qN]:"fire-fcm-compat",[HN]:"fire-perf",[FN]:"fire-perf-compat",[GN]:"fire-rc",[$N]:"fire-rc-compat",[KN]:"fire-gcs",[QN]:"fire-gcs-compat",[YN]:"fire-fst",[JN]:"fire-fst-compat",[XN]:"fire-vertex","fire-js":"fire-js",[WN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Map,tC=new Map,bp=new Map;function Jv(i,e){try{i.container.addComponent(e)}catch(n){Ds.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function wa(i){const e=i.name;if(bp.has(e))return Ds.debug(`There were multiple attempts to register component ${e}.`),!1;bp.set(e,i);for(const n of ed.values())Jv(n,i);for(const n of tC.values())Jv(n,i);return!0}function wd(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Un(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new zc("app","Firebase",nC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=ZN;function p1(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:vp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Sr.create("bad-app-name",{appName:String(o)});if(n||(n=u1()),!n)throw Sr.create("no-options");const c=ed.get(o);if(c){if(Ta(n,c.options)&&Ta(r,c.config))return c;throw Sr.create("duplicate-app",{appName:o})}const u=new cN(o);for(const p of bp.values())u.addComponent(p);const m=new iC(n,r,u);return ed.set(o,m),m}function rg(i=vp){const e=ed.get(i);if(!e&&i===vp&&u1())return p1();if(!e)throw Sr.create("no-app",{appName:i});return e}function Gi(i,e,n){let r=eC[i]??i;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ds.warn(u.join(" "));return}wa(new Ir(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="firebase-heartbeat-database",rC=1,Rc="firebase-heartbeat-store";let np=null;function g1(){return np||(np=xN(sC,rC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Rc)}catch(n){console.warn(n)}}}}).catch(i=>{throw Sr.create("idb-open",{originalErrorMessage:i.message})})),np}async function aC(i){try{const n=(await g1()).transaction(Rc),r=await n.objectStore(Rc).get(y1(i));return await n.done,r}catch(e){if(e instanceof es)Ds.warn(e.message);else{const n=Sr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ds.warn(n.message)}}}async function Wv(i,e){try{const r=(await g1()).transaction(Rc,"readwrite");await r.objectStore(Rc).put(e,y1(i)),await r.done}catch(n){if(n instanceof es)Ds.warn(n.message);else{const r=Sr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ds.warn(r.message)}}}function y1(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=1024,lC=30;class cC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Zv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(u=>u.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>lC){const u=dC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ds.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zv(),{heartbeatsToSend:r,unsentEntries:o}=uC(this._heartbeatsCache.heartbeats),c=Zh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Ds.warn(n),""}}}function Zv(){return new Date().toISOString().substring(0,10)}function uC(i,e=oC){const n=[];let r=i.slice();for(const o of i){const c=n.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),eb(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),eb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JR()?WR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function eb(i){return Zh(JSON.stringify({version:2,heartbeats:i})).length}function dC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(i){wa(new Ir("platform-logger",e=>new SN(e),"PRIVATE")),wa(new Ir("heartbeat",e=>new cC(e),"PRIVATE")),Gi(_p,Xv,i),Gi(_p,Xv,"esm2020"),Gi("fire-js","")}fC("");var mC="firebase",pC="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(mC,pC,"app");function _1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gC=_1,v1=new zc("auth","Firebase",_1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new ig("@firebase/auth");function yC(i,...e){td.logLevel<=Ue.WARN&&td.warn(`Auth (${Oa}): ${i}`,...e)}function Bh(i,...e){td.logLevel<=Ue.ERROR&&td.error(`Auth (${Oa}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(i,...e){throw ag(i,...e)}function $i(i,...e){return ag(i,...e)}function b1(i,e,n){const r={...gC(),[e]:n};return new zc("auth","Firebase",r).create(e,{appName:i.name})}function Cs(i){return b1(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ag(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return v1.create(i,...e)}function Ee(i,e,...n){if(!i)throw ag(e,...n)}function As(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Bh(e),new Error(e)}function Os(i,e){i||As(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function _C(){return tb()==="http:"||tb()==="https:"}function tb(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_C()||KR()||"connection"in navigator)?navigator.onLine:!0}function bC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Os(n>e,"Short delay should be less than long delay!"),this.isMobile=FR()||QR()}get(){return vC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(i,e){Os(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TC=new qc(3e4,6e4);function Pr(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Lr(i,e,n,r,o={}){return x1(i,o,async()=>{let c={},u={};r&&(e==="GET"?u=r:c={body:JSON.stringify(r)});const m=Bc({key:i.config.apiKey,...u}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:p,...c};return $R()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Ur(i.emulatorConfig.host)&&(y.credentials="include"),E1.fetch()(await T1(i,i.config.apiHost,n,m),y)})}async function x1(i,e,n){i._canInitEmulator=!1;const r={...EC,...e};try{const o=new SC(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw kh(i,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const m=c.ok?u.errorMessage:u.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(i,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw kh(i,"email-already-in-use",u);if(p==="USER_DISABLED")throw kh(i,"user-disabled",u);const E=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw b1(i,E,y);xi(i,E)}}catch(o){if(o instanceof es)throw o;xi(i,"network-request-failed",{message:String(o)})}}async function Hc(i,e,n,r,o={}){const c=await Lr(i,e,n,r,o);return"mfaPendingCredential"in c&&xi(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function T1(i,e,n,r){const o=`${e}${n}?${r}`,c=i,u=c.config.emulator?og(i.config,o):`${i.config.apiScheme}://${o}`;return xC.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function wC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($i(this.auth,"network-request-failed")),TC.get())})}}function kh(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=$i(i,e,r);return o.customData._tokenResponse=n,o}function nb(i){return i!==void 0&&i.enterprise!==void 0}class AC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RC(i,e){return Lr(i,"GET","/v2/recaptchaConfig",Pr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(i,e){return Lr(i,"POST","/v1/accounts:delete",e)}async function nd(i,e){return Lr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CC(i,e=!1){const n=_t(i),r=await n.getIdToken(e),o=lg(r);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c==null?void 0:c.sign_in_provider;return{claims:o,token:r,authTime:bc(ip(o.auth_time)),issuedAtTime:bc(ip(o.iat)),expirationTime:bc(ip(o.exp)),signInProvider:u||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function ip(i){return Number(i)*1e3}function lg(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return Bh("JWT malformed, contained fewer than 3 sections"),null;try{const o=o1(n);return o?JSON.parse(o):(Bh("Failed to decode base64 JWT payload"),null)}catch(o){return Bh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ib(i){const e=lg(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof es&&IC(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function IC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bc(this.lastLoginAt),this.creationTime=bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(i){var x;const e=i.auth,n=await i.getIdToken(),r=await Nc(i,nd(e,{idToken:n}));Ee(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const c=(x=o.providerUserInfo)!=null&&x.length?w1(o.providerUserInfo):[],u=OC(i.providerData,c),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!(u!=null&&u.length),y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new xp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,E)}async function DC(i){const e=_t(i);await id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OC(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function w1(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(i,e){const n=await x1(i,{},async()=>{const r=Bc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,u=await T1(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return i.emulatorConfig&&Ur(i.emulatorConfig.host)&&(p.credentials="include"),E1.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jC(i,e){return Lr(i,"POST","/v2/accounts:revokeToken",Pr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ib(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=ib(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await MC(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,u=new Vo;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class vi{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new kC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Nc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return CC(this,e)}reload(){return DC(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await id(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await Nc(this,NC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,u=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:x,emailVerified:w,isAnonymous:R,providerData:L,stsTokenManager:P}=n;Ee(x&&P,e,"internal-error");const U=Vo.fromJSON(this.name,P);Ee(typeof x=="string",e,"internal-error"),yr(r,e.name),yr(o,e.name),Ee(typeof w=="boolean",e,"internal-error"),Ee(typeof R=="boolean",e,"internal-error"),yr(c,e.name),yr(u,e.name),yr(m,e.name),yr(p,e.name),yr(y,e.name),yr(E,e.name);const W=new vi({uid:x,auth:e,email:o,emailVerified:w,displayName:r,isAnonymous:R,photoURL:u,phoneNumber:c,tenantId:m,stsTokenManager:U,createdAt:y,lastLoginAt:E});return L&&Array.isArray(L)&&(W.providerData=L.map(se=>({...se}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(e,n,r=!1){const o=new Vo;o.updateFromServerResponse(n);const c=new vi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await id(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?w1(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),m=new Vo;m.updateFromIdToken(r);const p=new vi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:u}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new xp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=new Map;function Rs(i){Os(i instanceof Function,"Expected a class definition");let e=sb.get(i);return e?(Os(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,sb.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}S1.type="NONE";const rb=S1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(i,e,n){return`firebase:${i}:${e}:${n}`}class Uo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=qh(this.userKey,o.apiKey,c),this.fullPersistenceKey=qh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await nd(this.auth,{idToken:e}).catch(()=>{});return n?vi._fromGetAccountInfoResponse(this.auth,n,e):null}return vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Uo(Rs(rb),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Rs(rb);const u=qh(r,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(u);if(E){let x;if(typeof E=="string"){const w=await nd(e,{idToken:E}).catch(()=>{});if(!w)break;x=await vi._fromGetAccountInfoResponse(e,w,E)}else x=vi._fromJSON(e,E);y!==c&&(m=x),c=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Uo(c,e,r):(c=p[0],m&&await c._set(u,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(u)}catch{}})),new Uo(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(C1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(A1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k1(e))return"Blackberry";if(D1(e))return"Webos";if(R1(e))return"Safari";if((e.includes("chrome/")||N1(e))&&!e.includes("edge/"))return"Chrome";if(I1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function A1(i=on()){return/firefox\//i.test(i)}function R1(i=on()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N1(i=on()){return/crios\//i.test(i)}function C1(i=on()){return/iemobile/i.test(i)}function I1(i=on()){return/android/i.test(i)}function k1(i=on()){return/blackberry/i.test(i)}function D1(i=on()){return/webos/i.test(i)}function cg(i=on()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function VC(i=on()){var e;return cg(i)&&!!((e=window.navigator)!=null&&e.standalone)}function UC(){return YR()&&document.documentMode===10}function O1(i=on()){return cg(i)||I1(i)||D1(i)||k1(i)||/windows phone/i.test(i)||C1(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(i,e=[]){let n;switch(i){case"Browser":n=ab(on());break;case"Worker":n=`${ab(on())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((u,m)=>{try{const p=e(c);u(p)}catch(p){m(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(i,e={}){return Lr(i,"GET","/v2/passwordPolicy",Pr(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=6;class BC{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ob(this),this.idTokenSubscription=new ob(this),this.beforeStateQueue=new PC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rs(n)),this._initializationPromise=this.queue(async()=>{var r,o,c;if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nd(this,{idToken:e}),r=await vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(Un(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(c=this.redirectUser)==null?void 0:c._redirectEventId,m=r==null?void 0:r._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===m)&&(p!=null&&p.user)&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await id(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Cs(this));const n=e?_t(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LC(this),n=new BC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rs(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[Rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{u||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,o);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&yC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ma(i){return _t(i)}class ob{constructor(e){this.auth=e,this.observer=null,this.addObserver=iN(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HC(i){Sd=i}function j1(i){return Sd.loadJS(i)}function FC(){return Sd.recaptchaEnterpriseScript}function GC(){return Sd.gapiScript}function $C(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class KC{constructor(){this.enterprise=new QC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class QC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const YC="recaptcha-enterprise",V1="NO_RECAPTCHA";class XC{constructor(e){this.type=YC,this.auth=Ma(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,m)=>{RC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new AC(p);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,u(y.siteKey)}}).catch(p=>{m(p)})})}function o(c,u,m){const p=window.grecaptcha;nb(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(y=>{u(y)}).catch(()=>{u(V1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KC().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{r(this.auth).then(m=>{if(!n&&nb(window.grecaptcha))o(m,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=FC();p.length!==0&&(p+=m),j1(p).then(()=>{o(m,c,u)}).catch(y=>{u(y)})}}).catch(m=>{u(m)})})}}async function lb(i,e,n,r=!1,o=!1){const c=new XC(i);let u;if(o)u=V1;else try{u=await c.verify(n)}catch{u=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:u}):Object.assign(m,{captchaResponse:u}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Tp(i,e,n,r,o){var c;if((c=i._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await lb(i,e,n,n==="getOobCode");return r(i,u)}else return r(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await lb(i,e,n,n==="getOobCode");return r(i,m)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(i,e){const n=wd(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Ta(c,e??{}))return o;xi(o,"already-initialized")}return n.initialize({options:e})}function WC(i,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rs);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ZC(i,e,n){const r=Ma(i);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=U1(e),{host:u,port:m}=eI(e),p=m===null?"":`:${m}`,y={url:`${c}//${u}${p}/`},E=Object.freeze({host:u,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(Ta(y,r.config.emulator)&&Ta(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,Ur(u)?(tg(`${c}//${u}${p}`),ng("Auth",!0)):tI()}function U1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function eI(i){const e=U1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:cb(r.substr(c.length+1))}}else{const[c,u]=r.split(":");return{host:c,port:cb(u)}}}function cb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function tI(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,n){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}async function nI(i,e){return Lr(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(i,e){return Hc(i,"POST","/v1/accounts:signInWithPassword",Pr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(i,e){return Hc(i,"POST","/v1/accounts:signInWithEmailLink",Pr(i,e))}async function rI(i,e){return Hc(i,"POST","/v1/accounts:signInWithEmailLink",Pr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends ug{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Cc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Cc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tp(e,n,"signInWithPassword",iI);case"emailLink":return sI(e,{email:this._email,oobCode:this._password});default:xi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tp(e,r,"signUpPassword",nI);case"emailLink":return rI(e,{idToken:n,email:this._email,oobCode:this._password});default:xi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(i,e){return Hc(i,"POST","/v1/accounts:signInWithIdp",Pr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="http://localhost";class Sa extends ug{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const u=new Sa(r,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Po(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Po(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Po(e,n)}buildRequest(){const e={requestUri:aI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lI(i){const e=hc(dc(i)).link,n=e?hc(dc(e)).deep_link_id:null,r=hc(dc(i)).deep_link_id;return(r?hc(dc(r)).link:null)||r||n||e||i}class hg{constructor(e){const n=hc(dc(e)),r=n.apiKey??null,o=n.oobCode??null,c=oI(n.mode??null);Ee(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=lI(e);try{return new hg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.providerId=Wo.PROVIDER_ID}static credential(e,n){return Cc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=hg.parseLink(n);return Ee(r,"argument-error"),Cc._fromEmailAndCode(e,r.code,r.tenantId)}}Wo.PROVIDER_ID="password";Wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends P1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends Fc{constructor(){super("facebook.com")}static credential(e){return Sa._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.FACEBOOK_SIGN_IN_METHOD="facebook.com";_r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Sa._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vr.credential(n,r)}catch{return null}}}vr.GOOGLE_SIGN_IN_METHOD="google.com";vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Fc{constructor(){super("github.com")}static credential(e){return Sa._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.GITHUB_SIGN_IN_METHOD="github.com";br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Fc{constructor(){super("twitter.com")}static credential(e,n){return Sa._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Er.credential(n,r)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(i,e){return Hc(i,"POST","/v1/accounts:signUp",Pr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await vi._fromIdTokenResponse(e,r,o),u=ub(r);return new Aa({user:c,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=ub(r);return new Aa({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function ub(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends es{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,sd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new sd(e,n,r,o)}}function L1(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sd._fromErrorAndOperation(i,c,e,r):c})}async function uI(i,e,n=!1){const r=await Nc(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Aa._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(i,e,n=!1){const{auth:r}=i;if(Un(r.app))return Promise.reject(Cs(r));const o="reauthenticate";try{const c=await Nc(i,L1(r,o,e,i),n);Ee(c.idToken,r,"internal-error");const u=lg(c.idToken);Ee(u,r,"internal-error");const{sub:m}=u;return Ee(i.uid===m,r,"user-mismatch"),Aa._forOperation(i,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&xi(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(i,e,n=!1){if(Un(i.app))return Promise.reject(Cs(i));const r="signIn",o=await L1(i,r,e),c=await Aa._fromIdTokenResponse(i,r,o);return n||await i._updateCurrentUser(c.user),c}async function dI(i,e){return z1(Ma(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(i){const e=Ma(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fI(i,e,n){if(Un(i.app))return Promise.reject(Cs(i));const r=Ma(i),u=await Tp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&B1(i),p}),m=await Aa._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(m.user),m}function mI(i,e,n){return Un(i.app)?Promise.reject(Cs(i)):dI(_t(i),Wo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&B1(i),r})}function pI(i,e,n,r){return _t(i).onIdTokenChanged(e,n,r)}function gI(i,e,n){return _t(i).beforeAuthStateChanged(e,n)}function yI(i,e,n,r){return _t(i).onAuthStateChanged(e,n,r)}const rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=1e3,vI=10;class H1 extends q1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,m,p)=>{this.notifyListeners(u,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},c=this.storage.getItem(r);UC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,vI):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}H1.type="LOCAL";const bI=H1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1 extends q1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}F1.type="SESSION";const G1=F1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Ad(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(u).map(async y=>y(n.origin,c)),p=await EI(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((m,p)=>{const y=dg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(x){const w=x;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(w.data.response);break;default:clearTimeout(E),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function TI(i){Ki().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function wI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function AI(){return $1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="firebaseLocalStorageDb",RI=1,ad="firebaseLocalStorage",Q1="fbase_key";class Gc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rd(i,e){return i.transaction([ad],e?"readwrite":"readonly").objectStore(ad)}function NI(){const i=indexedDB.deleteDatabase(K1);return new Gc(i).toPromise()}function wp(){const i=indexedDB.open(K1,RI);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(ad,{keyPath:Q1})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(ad)?e(r):(r.close(),await NI(),e(await wp()))})})}async function hb(i,e,n){const r=Rd(i,!0).put({[Q1]:e,value:n});return new Gc(r).toPromise()}async function CI(i,e){const n=Rd(i,!1).get(e),r=await new Gc(n).toPromise();return r===void 0?null:r.value}function db(i,e){const n=Rd(i,!0).delete(e);return new Gc(n).toPromise()}const II=800,kI=3;class Y1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ad._getInstance(AI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await wI(),!this.activeServiceWorker)return;this.sender=new xI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wp();return await hb(e,rd,"1"),await db(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>CI(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>db(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Rd(o,!1).getAll();return new Gc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),II)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y1.type="LOCAL";const DI=Y1;new qc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(i,e){return e?Rs(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends ug{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MI(i){return z1(i.auth,new fg(i),i.bypassAuthState)}function jI(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),hI(n,new fg(i),i.bypassAuthState)}async function VI(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),uI(n,new fg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:u,type:m}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MI;case"linkViaPopup":case"linkViaRedirect":return VI;case"reauthViaPopup":case"reauthViaRedirect":return jI;default:xi(this.auth,"internal-error")}}resolve(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=new qc(2e3,1e4);class Mo extends X1{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const e=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UI.get())};e()}}Mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="pendingRedirect",Hh=new Map;class LI extends X1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hh.get(this.auth._key());if(!e){try{const r=await zI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hh.set(this.auth._key(),e)}return this.bypassAuthState||Hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zI(i,e){const n=HI(e),r=qI(i);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function BI(i,e){Hh.set(i._key(),e)}function qI(i){return Rs(i._redirectPersistence)}function HI(i){return qh(PI,i.config.apiKey,i.name)}async function FI(i,e,n=!1){if(Un(i.app))return Promise.reject(Cs(i));const r=Ma(i),o=OI(r,e),u=await new LI(r,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=600*1e3;class $I{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!J1(e)){const o=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError($i(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GI&&this.cachedEventUids.clear(),this.cachedEventUids.has(fb(e))}saveEventToCache(e){this.cachedEventUids.add(fb(e)),this.lastProcessedEventTime=Date.now()}}function fb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function J1({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(i,e={}){return Lr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XI=/^https?/;async function JI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await QI(i);for(const n of e)try{if(WI(n))return}catch{}xi(i,"unauthorized-domain")}function WI(i){const e=Ep(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const u=new URL(i);return u.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!XI.test(n))return!1;if(YI.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new qc(3e4,6e4);function mb(){const i=Ki().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function ek(i){return new Promise((e,n)=>{var o,c,u;function r(){mb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mb(),n($i(i,"network-request-failed"))},timeout:ZI.get()})}if((c=(o=Ki().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((u=Ki().gapi)!=null&&u.load)r();else{const m=$C("iframefcb");return Ki()[m]=()=>{gapi.load?r():n($i(i,"network-request-failed"))},j1(`${GC()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Fh=null,e})}let Fh=null;function tk(i){return Fh=Fh||ek(i),Fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=new qc(5e3,15e3),ik="__/auth/iframe",sk="emulator/auth/iframe",rk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ak=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ok(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?og(e,sk):`https://${i.config.authDomain}/${ik}`,r={apiKey:e.apiKey,appName:i.name,v:Oa},o=ak.get(i.config.apiHost);o&&(r.eid=o);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${Bc(r).slice(1)}`}async function lk(i){const e=await tk(i),n=Ki().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:ok(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rk,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const u=$i(i,"network-request-failed"),m=Ki().setTimeout(()=>{c(u)},nk.get());function p(){Ki().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uk=500,hk=600,dk="_blank",fk="http://localhost";class pb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mk(i,e,n,r=uk,o=hk){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...ck,width:r.toString(),height:o.toString(),top:c,left:u},y=on().toLowerCase();n&&(m=N1(y)?dk:n),A1(y)&&(e=e||fk,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[R,L])=>`${w}${R}=${L},`,"");if(VC(y)&&m!=="_self")return pk(e||"",m),new pb(null);const x=window.open(e||"",m,E);Ee(x,i,"popup-blocked");try{x.focus()}catch{}return new pb(x)}function pk(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="__/auth/handler",yk="emulator/auth/handler",_k=encodeURIComponent("fac");async function gb(i,e,n,r,o,c){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const u={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:Oa,eventId:o};if(e instanceof P1){e.setDefaultLanguage(i.languageCode),u.providerId=e.providerId||"",nN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,x]of Object.entries({}))u[E]=x}if(e instanceof Fc){const E=e.getScopes().filter(x=>x!=="");E.length>0&&(u.scopes=E.join(","))}i.tenantId&&(u.tid=i.tenantId);const m=u;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),y=p?`#${_k}=${encodeURIComponent(p)}`:"";return`${vk(i)}?${Bc(m).slice(1)}${y}`}function vk({config:i}){return i.emulator?og(i,yk):`https://${i.authDomain}/${gk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="webStorageSupport";class bk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G1,this._completeRedirectFn=FI,this._overrideRedirectResult=BI}async _openPopup(e,n,r,o){var u;Os((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await gb(e,n,r,Ep(),o);return mk(e,c,dg())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await gb(e,n,r,Ep(),o);return TI(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Os(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lk(e),r=new $I(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sp,{type:sp},o=>{var u;const c=(u=o==null?void 0:o[0])==null?void 0:u[sp];c!==void 0&&n(!!c),xi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return O1()||R1()||cg()}}const Ek=bk;var yb="@firebase/auth",_b="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wk(i){wa(new Ir("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=r.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:u,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M1(i)},y=new qC(r,o,c,p);return WC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wa(new Ir("auth-internal",e=>{const n=Ma(e.getProvider("auth").getImmediate());return(r=>new xk(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(yb,_b,Tk(i)),Gi(yb,_b,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=300,Ak=h1("authIdTokenMaxAge")||Sk;let vb=null;const Rk=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ak)return;const o=n==null?void 0:n.token;vb!==o&&(vb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Nk(i=rg()){const e=wd(i,"auth");if(e.isInitialized())return e.getImmediate();const n=JC(i,{popupRedirectResolver:Ek,persistence:[DI,bI,G1]}),r=h1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const u=Rk(c.toString());gI(n,u,()=>u(n.currentUser)),pI(n,m=>u(m))}}const o=l1("auth");return o&&ZC(n,`http://${o}`),n}function Ck(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}HC({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const c=$i("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",Ck().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wk("Browser");var bb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ar,W1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,A){function N(){}N.prototype=A.prototype,C.F=A.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(O,j,B){for(var I=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)I[nt-2]=arguments[nt];return A.prototype[j].apply(O,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,N){N||(N=0);const O=Array(16);if(typeof A=="string")for(var j=0;j<16;++j)O[j]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(j=0;j<16;++j)O[j]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=C.g[0],N=C.g[1],j=C.g[2];let B=C.g[3],I;I=A+(B^N&(j^B))+O[0]+3614090360&4294967295,A=N+(I<<7&4294967295|I>>>25),I=B+(j^A&(N^j))+O[1]+3905402710&4294967295,B=A+(I<<12&4294967295|I>>>20),I=j+(N^B&(A^N))+O[2]+606105819&4294967295,j=B+(I<<17&4294967295|I>>>15),I=N+(A^j&(B^A))+O[3]+3250441966&4294967295,N=j+(I<<22&4294967295|I>>>10),I=A+(B^N&(j^B))+O[4]+4118548399&4294967295,A=N+(I<<7&4294967295|I>>>25),I=B+(j^A&(N^j))+O[5]+1200080426&4294967295,B=A+(I<<12&4294967295|I>>>20),I=j+(N^B&(A^N))+O[6]+2821735955&4294967295,j=B+(I<<17&4294967295|I>>>15),I=N+(A^j&(B^A))+O[7]+4249261313&4294967295,N=j+(I<<22&4294967295|I>>>10),I=A+(B^N&(j^B))+O[8]+1770035416&4294967295,A=N+(I<<7&4294967295|I>>>25),I=B+(j^A&(N^j))+O[9]+2336552879&4294967295,B=A+(I<<12&4294967295|I>>>20),I=j+(N^B&(A^N))+O[10]+4294925233&4294967295,j=B+(I<<17&4294967295|I>>>15),I=N+(A^j&(B^A))+O[11]+2304563134&4294967295,N=j+(I<<22&4294967295|I>>>10),I=A+(B^N&(j^B))+O[12]+1804603682&4294967295,A=N+(I<<7&4294967295|I>>>25),I=B+(j^A&(N^j))+O[13]+4254626195&4294967295,B=A+(I<<12&4294967295|I>>>20),I=j+(N^B&(A^N))+O[14]+2792965006&4294967295,j=B+(I<<17&4294967295|I>>>15),I=N+(A^j&(B^A))+O[15]+1236535329&4294967295,N=j+(I<<22&4294967295|I>>>10),I=A+(j^B&(N^j))+O[1]+4129170786&4294967295,A=N+(I<<5&4294967295|I>>>27),I=B+(N^j&(A^N))+O[6]+3225465664&4294967295,B=A+(I<<9&4294967295|I>>>23),I=j+(A^N&(B^A))+O[11]+643717713&4294967295,j=B+(I<<14&4294967295|I>>>18),I=N+(B^A&(j^B))+O[0]+3921069994&4294967295,N=j+(I<<20&4294967295|I>>>12),I=A+(j^B&(N^j))+O[5]+3593408605&4294967295,A=N+(I<<5&4294967295|I>>>27),I=B+(N^j&(A^N))+O[10]+38016083&4294967295,B=A+(I<<9&4294967295|I>>>23),I=j+(A^N&(B^A))+O[15]+3634488961&4294967295,j=B+(I<<14&4294967295|I>>>18),I=N+(B^A&(j^B))+O[4]+3889429448&4294967295,N=j+(I<<20&4294967295|I>>>12),I=A+(j^B&(N^j))+O[9]+568446438&4294967295,A=N+(I<<5&4294967295|I>>>27),I=B+(N^j&(A^N))+O[14]+3275163606&4294967295,B=A+(I<<9&4294967295|I>>>23),I=j+(A^N&(B^A))+O[3]+4107603335&4294967295,j=B+(I<<14&4294967295|I>>>18),I=N+(B^A&(j^B))+O[8]+1163531501&4294967295,N=j+(I<<20&4294967295|I>>>12),I=A+(j^B&(N^j))+O[13]+2850285829&4294967295,A=N+(I<<5&4294967295|I>>>27),I=B+(N^j&(A^N))+O[2]+4243563512&4294967295,B=A+(I<<9&4294967295|I>>>23),I=j+(A^N&(B^A))+O[7]+1735328473&4294967295,j=B+(I<<14&4294967295|I>>>18),I=N+(B^A&(j^B))+O[12]+2368359562&4294967295,N=j+(I<<20&4294967295|I>>>12),I=A+(N^j^B)+O[5]+4294588738&4294967295,A=N+(I<<4&4294967295|I>>>28),I=B+(A^N^j)+O[8]+2272392833&4294967295,B=A+(I<<11&4294967295|I>>>21),I=j+(B^A^N)+O[11]+1839030562&4294967295,j=B+(I<<16&4294967295|I>>>16),I=N+(j^B^A)+O[14]+4259657740&4294967295,N=j+(I<<23&4294967295|I>>>9),I=A+(N^j^B)+O[1]+2763975236&4294967295,A=N+(I<<4&4294967295|I>>>28),I=B+(A^N^j)+O[4]+1272893353&4294967295,B=A+(I<<11&4294967295|I>>>21),I=j+(B^A^N)+O[7]+4139469664&4294967295,j=B+(I<<16&4294967295|I>>>16),I=N+(j^B^A)+O[10]+3200236656&4294967295,N=j+(I<<23&4294967295|I>>>9),I=A+(N^j^B)+O[13]+681279174&4294967295,A=N+(I<<4&4294967295|I>>>28),I=B+(A^N^j)+O[0]+3936430074&4294967295,B=A+(I<<11&4294967295|I>>>21),I=j+(B^A^N)+O[3]+3572445317&4294967295,j=B+(I<<16&4294967295|I>>>16),I=N+(j^B^A)+O[6]+76029189&4294967295,N=j+(I<<23&4294967295|I>>>9),I=A+(N^j^B)+O[9]+3654602809&4294967295,A=N+(I<<4&4294967295|I>>>28),I=B+(A^N^j)+O[12]+3873151461&4294967295,B=A+(I<<11&4294967295|I>>>21),I=j+(B^A^N)+O[15]+530742520&4294967295,j=B+(I<<16&4294967295|I>>>16),I=N+(j^B^A)+O[2]+3299628645&4294967295,N=j+(I<<23&4294967295|I>>>9),I=A+(j^(N|~B))+O[0]+4096336452&4294967295,A=N+(I<<6&4294967295|I>>>26),I=B+(N^(A|~j))+O[7]+1126891415&4294967295,B=A+(I<<10&4294967295|I>>>22),I=j+(A^(B|~N))+O[14]+2878612391&4294967295,j=B+(I<<15&4294967295|I>>>17),I=N+(B^(j|~A))+O[5]+4237533241&4294967295,N=j+(I<<21&4294967295|I>>>11),I=A+(j^(N|~B))+O[12]+1700485571&4294967295,A=N+(I<<6&4294967295|I>>>26),I=B+(N^(A|~j))+O[3]+2399980690&4294967295,B=A+(I<<10&4294967295|I>>>22),I=j+(A^(B|~N))+O[10]+4293915773&4294967295,j=B+(I<<15&4294967295|I>>>17),I=N+(B^(j|~A))+O[1]+2240044497&4294967295,N=j+(I<<21&4294967295|I>>>11),I=A+(j^(N|~B))+O[8]+1873313359&4294967295,A=N+(I<<6&4294967295|I>>>26),I=B+(N^(A|~j))+O[15]+4264355552&4294967295,B=A+(I<<10&4294967295|I>>>22),I=j+(A^(B|~N))+O[6]+2734768916&4294967295,j=B+(I<<15&4294967295|I>>>17),I=N+(B^(j|~A))+O[13]+1309151649&4294967295,N=j+(I<<21&4294967295|I>>>11),I=A+(j^(N|~B))+O[4]+4149444226&4294967295,A=N+(I<<6&4294967295|I>>>26),I=B+(N^(A|~j))+O[11]+3174756917&4294967295,B=A+(I<<10&4294967295|I>>>22),I=j+(A^(B|~N))+O[2]+718787259&4294967295,j=B+(I<<15&4294967295|I>>>17),I=N+(B^(j|~A))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(j+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+j&4294967295,C.g[3]=C.g[3]+B&4294967295}r.prototype.v=function(C,A){A===void 0&&(A=C.length);const N=A-this.blockSize,O=this.C;let j=this.h,B=0;for(;B<A;){if(j==0)for(;B<=N;)o(this,C,B),B+=this.blockSize;if(typeof C=="string"){for(;B<A;)if(O[j++]=C.charCodeAt(B++),j==this.blockSize){o(this,O),j=0;break}}else for(;B<A;)if(O[j++]=C[B++],j==this.blockSize){o(this,O),j=0;break}}this.h=j,this.o+=A},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,N=0;N<4;++N)for(let O=0;O<32;O+=8)C[A++]=this.g[N]>>>O&255;return C};function c(C,A){var N=m;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=A(C)}function u(C,A){this.h=A;const N=[];let O=!0;for(let j=C.length-1;j>=0;j--){const B=C[j]|0;O&&B==A||(N[j]=B,O=!1)}this.g=N}var m={};function p(C){return-128<=C&&C<128?c(C,function(A){return new u([A|0],A<0?-1:0)}):new u([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return x;if(C<0)return U(y(-C));const A=[];let N=1;for(let O=0;C>=N;O++)A[O]=C/N|0,N*=4294967296;return new u(A,0)}function E(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return U(E(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(A,8));let O=x;for(let B=0;B<C.length;B+=8){var j=Math.min(8,C.length-B);const I=parseInt(C.substring(B,B+j),A);j<8?(j=y(Math.pow(A,j)),O=O.j(j).add(y(I))):(O=O.j(N),O=O.add(y(I)))}return O}var x=p(0),w=p(1),R=p(16777216);i=u.prototype,i.m=function(){if(P(this))return-U(this).m();let C=0,A=1;for(let N=0;N<this.g.length;N++){const O=this.i(N);C+=(O>=0?O:4294967296+O)*A,A*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(L(this))return"0";if(P(this))return"-"+U(this).toString(C);const A=y(Math.pow(C,6));var N=this;let O="";for(;;){const j=X(N,A).g;N=W(N,j.j(A));let B=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=j,L(N))return B+O;for(;B.length<6;)B="0"+B;O=B+O}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function L(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function P(C){return C.h==-1}i.l=function(C){return C=W(this,C),P(C)?-1:L(C)?0:1};function U(C){const A=C.g.length,N=[];for(let O=0;O<A;O++)N[O]=~C.g[O];return new u(N,~C.h).add(w)}i.abs=function(){return P(this)?U(this):this},i.add=function(C){const A=Math.max(this.g.length,C.g.length),N=[];let O=0;for(let j=0;j<=A;j++){let B=O+(this.i(j)&65535)+(C.i(j)&65535),I=(B>>>16)+(this.i(j)>>>16)+(C.i(j)>>>16);O=I>>>16,B&=65535,I&=65535,N[j]=I<<16|B}return new u(N,N[N.length-1]&-2147483648?-1:0)};function W(C,A){return C.add(U(A))}i.j=function(C){if(L(this)||L(C))return x;if(P(this))return P(C)?U(this).j(U(C)):U(U(this).j(C));if(P(C))return U(this.j(U(C)));if(this.l(R)<0&&C.l(R)<0)return y(this.m()*C.m());const A=this.g.length+C.g.length,N=[];for(var O=0;O<2*A;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(let j=0;j<C.g.length;j++){const B=this.i(O)>>>16,I=this.i(O)&65535,nt=C.i(j)>>>16,vt=C.i(j)&65535;N[2*O+2*j]+=I*vt,se(N,2*O+2*j),N[2*O+2*j+1]+=B*vt,se(N,2*O+2*j+1),N[2*O+2*j+1]+=I*nt,se(N,2*O+2*j+1),N[2*O+2*j+2]+=B*nt,se(N,2*O+2*j+2)}for(C=0;C<A;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=A;C<2*A;C++)N[C]=0;return new u(N,0)};function se(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function Y(C,A){this.g=C,this.h=A}function X(C,A){if(L(A))throw Error("division by zero");if(L(C))return new Y(x,x);if(P(C))return A=X(U(C),A),new Y(U(A.g),U(A.h));if(P(A))return A=X(C,U(A)),new Y(U(A.g),A.h);if(C.g.length>30){if(P(C)||P(A))throw Error("slowDivide_ only works with positive integers.");for(var N=w,O=A;O.l(C)<=0;)N=re(N),O=re(O);var j=de(N,1),B=de(O,1);for(O=de(O,2),N=de(N,2);!L(O);){var I=B.add(O);I.l(C)<=0&&(j=j.add(N),B=I),O=de(O,1),N=de(N,1)}return A=W(C,j.j(A)),new Y(j,A)}for(j=x;C.l(A)>=0;){for(N=Math.max(1,Math.floor(C.m()/A.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),B=y(N),I=B.j(A);P(I)||I.l(C)>0;)N-=O,B=y(N),I=B.j(A);L(B)&&(B=w),j=j.add(B),C=W(C,I)}return new Y(j,C)}i.B=function(C){return X(this,C).h},i.and=function(C){const A=Math.max(this.g.length,C.g.length),N=[];for(let O=0;O<A;O++)N[O]=this.i(O)&C.i(O);return new u(N,this.h&C.h)},i.or=function(C){const A=Math.max(this.g.length,C.g.length),N=[];for(let O=0;O<A;O++)N[O]=this.i(O)|C.i(O);return new u(N,this.h|C.h)},i.xor=function(C){const A=Math.max(this.g.length,C.g.length),N=[];for(let O=0;O<A;O++)N[O]=this.i(O)^C.i(O);return new u(N,this.h^C.h)};function re(C){const A=C.g.length+1,N=[];for(let O=0;O<A;O++)N[O]=C.i(O)<<1|C.i(O-1)>>>31;return new u(N,C.h)}function de(C,A){const N=A>>5;A%=32;const O=C.g.length-N,j=[];for(let B=0;B<O;B++)j[B]=A>0?C.i(B+N)>>>A|C.i(B+N+1)<<32-A:C.i(B+N);return new u(j,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,W1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=E,Ar=u}).apply(typeof bb<"u"?bb:typeof self<"u"?self:typeof window<"u"?window:{});var Dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z1,fc,ex,Gh,Sp,tx,nx,ix;(function(){var i,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dh=="object"&&Dh];for(var _=0;_<h.length;++_){var b=h[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function o(h,_){if(_)e:{var b=r;h=h.split(".");for(var S=0;S<h.length-1;S++){var q=h[S];if(!(q in b))break e;b=b[q]}h=h[h.length-1],S=b[h],_=_(S),_!=S&&_!=null&&e(b,h,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(_){var b=[],S;for(S in _)Object.prototype.hasOwnProperty.call(_,S)&&b.push([S,_[S]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function m(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,b){return h.call.apply(h.bind,arguments)}function y(h,_,b){return y=p,y.apply(null,arguments)}function E(h,_){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function x(h,_){function b(){}b.prototype=_.prototype,h.Z=_.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(S,q,$){for(var le=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)le[Re-2]=arguments[Re];return _.prototype[q].apply(S,le)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const _=h.length;if(_>0){const b=Array(_);for(let S=0;S<_;S++)b[S]=h[S];return b}return[]}function L(h,_){for(let S=1;S<arguments.length;S++){const q=arguments[S];var b=typeof q;if(b=b!="object"?b:q?Array.isArray(q)?"array":b:"null",b=="array"||b=="object"&&typeof q.length=="number"){b=h.length||0;const $=q.length||0;h.length=b+$;for(let le=0;le<$;le++)h[b+le]=q[le]}else h.push(q)}}class P{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function U(h){u.setTimeout(()=>{throw h},0)}function W(){var h=C;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class se{constructor(){this.h=this.g=null}add(_,b){const S=Y.get();S.set(_,b),this.h?this.h.next=S:this.g=S,this.h=S}}var Y=new P(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let re,de=!1,C=new se,A=()=>{const h=Promise.resolve(void 0);re=()=>{h.then(N)}};function N(){for(var h;h=W();){try{h.h.call(h.g)}catch(b){U(b)}var _=Y;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}de=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};u.addEventListener("test",b,_),u.removeEventListener("test",b,_)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function nt(h,_){j.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}x(nt,j),nt.prototype.init=function(h,_){const b=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(b=="mouseover"?_=h.fromElement:b=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var vt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function oe(h,_,b,S,q){this.listener=h,this.proxy=null,this.src=_,this.type=b,this.capture=!!S,this.ha=q,this.key=++Q,this.da=this.fa=!1}function pe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ae(h,_,b){for(const S in h)_.call(b,h[S],S,h)}function Me(h,_){for(const b in h)_.call(void 0,h[b],b,h)}function D(h){const _={};for(const b in h)_[b]=h[b];return _}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,_){let b,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(b in S)h[b]=S[b];for(let $=0;$<ee.length;$++)b=ee[$],Object.prototype.hasOwnProperty.call(S,b)&&(h[b]=S[b])}}function ae(h){this.src=h,this.g={},this.h=0}ae.prototype.add=function(h,_,b,S,q){const $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);const le=ye(h,_,S,q);return le>-1?(_=h[le],b||(_.fa=!1)):(_=new oe(_,this.src,$,!!S,q),_.fa=b,h.push(_)),_};function me(h,_){const b=_.type;if(b in h.g){var S=h.g[b],q=Array.prototype.indexOf.call(S,_,void 0),$;($=q>=0)&&Array.prototype.splice.call(S,q,1),$&&(pe(_),h.g[b].length==0&&(delete h.g[b],h.h--))}}function ye(h,_,b,S){for(let q=0;q<h.length;++q){const $=h[q];if(!$.da&&$.listener==_&&$.capture==!!b&&$.ha==S)return q}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),bt={};function $e(h,_,b,S,q){if(Array.isArray(_)){for(let $=0;$<_.length;$++)$e(h,_[$],b,S,q);return null}return b=Ps(b),h&&h[vt]?h.J(_,b,m(S)?!!S.capture:!1,q):ai(h,_,b,!1,S,q)}function ai(h,_,b,S,q,$){if(!_)throw Error("Invalid event type");const le=m(q)?!!q.capture:!!q;let Re=ss(h);if(Re||(h[ke]=Re=new ae(h)),b=Re.add(_,b,S,le,$),b.proxy)return b;if(S=ns(),b.proxy=S,S.src=h,S.listener=b,h.addEventListener)B||(q=le),q===void 0&&(q=!1),h.addEventListener(_.toString(),S,q);else if(h.attachEvent)h.attachEvent(qn(_.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ns(){function h(b){return _.call(h.src,h.listener,b)}const _=Hr;return h}function is(h,_,b,S,q){if(Array.isArray(_))for(var $=0;$<_.length;$++)is(h,_[$],b,S,q);else S=m(S)?!!S.capture:!!S,b=Ps(b),h&&h[vt]?(h=h.i,$=String(_).toString(),$ in h.g&&(_=h.g[$],b=ye(_,b,S,q),b>-1&&(pe(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete h.g[$],h.h--)))):h&&(h=ss(h))&&(_=h.g[_.toString()],h=-1,_&&(h=ye(_,b,S,q)),(b=h>-1?_[h]:null)&&Vs(b))}function Vs(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[vt])me(_.i,h);else{var b=h.type,S=h.proxy;_.removeEventListener?_.removeEventListener(b,S,h.capture):_.detachEvent?_.detachEvent(qn(b),S):_.addListener&&_.removeListener&&_.removeListener(S),(b=ss(_))?(me(b,h),b.h==0&&(b.src=null,_[ke]=null)):pe(h)}}}function qn(h){return h in bt?bt[h]:bt[h]="on"+h}function Hr(h,_){if(h.da)h=!0;else{_=new nt(_,this);const b=h.listener,S=h.ha||h.src;h.fa&&Vs(h),h=b.call(S,_)}return h}function ss(h){return h=h[ke],h instanceof ae?h:null}var Us="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ps(h){return typeof h=="function"?h:(h[Us]||(h[Us]=function(_){return h.handleEvent(_)}),h[Us])}function dt(){O.call(this),this.i=new ae(this),this.M=this,this.G=null}x(dt,O),dt.prototype[vt]=!0,dt.prototype.removeEventListener=function(h,_,b,S){is(this,h,_,b,S)};function Et(h,_){var b,S=h.G;if(S)for(b=[];S;S=S.G)b.push(S);if(h=h.M,S=_.type||_,typeof _=="string")_=new j(_,h);else if(_ instanceof j)_.target=_.target||h;else{var q=_;_=new j(S,h),ce(_,q)}q=!0;let $,le;if(b)for(le=b.length-1;le>=0;le--)$=_.g=b[le],q=oi($,S,!0,_)&&q;if($=_.g=h,q=oi($,S,!0,_)&&q,q=oi($,S,!1,_)&&q,b)for(le=0;le<b.length;le++)$=_.g=b[le],q=oi($,S,!1,_)&&q}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const b=h.g[_];for(let S=0;S<b.length;S++)pe(b[S]);delete h.g[_],h.h--}}this.G=null},dt.prototype.J=function(h,_,b,S){return this.i.add(String(h),_,!1,b,S)},dt.prototype.K=function(h,_,b,S){return this.i.add(String(h),_,!0,b,S)};function oi(h,_,b,S){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let q=!0;for(let $=0;$<_.length;++$){const le=_[$];if(le&&!le.da&&le.capture==b){const Re=le.listener,Tt=le.ha||le.src;le.fa&&me(h.i,le),q=Re.call(Tt,S)!==!1&&q}}return q&&!S.defaultPrevented}function ru(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function al(h){h.g=ru(()=>{h.g=null,h.i&&(h.i=!1,al(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Bt extends O{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:al(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(h){O.call(this),this.h=h,this.g={}}x(rs,O);var Hn=[];function tn(h){Ae(h.g,function(_,b){this.g.hasOwnProperty(b)&&Vs(_)},h),h.g={}}rs.prototype.N=function(){rs.Z.N.call(this),tn(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xt=u.JSON.stringify,li=u.JSON.parse,Ua=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Pa(){}function La(){}var Sn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){j.call(this,"d")}x(Pt,j);function hn(){j.call(this,"c")}x(hn,j);var ft={},za=null;function Ls(){return za=za||new dt}ft.Ia="serverreachability";function as(h){j.call(this,ft.Ia,h)}x(as,j);function qt(h){const _=Ls();Et(_,new as(_))}ft.STAT_EVENT="statevent";function wi(h,_){j.call(this,ft.STAT_EVENT,h),this.stat=_}x(wi,j);function it(h){const _=Ls();Et(_,new wi(_,h))}ft.Ja="timingevent";function dn(h,_){j.call(this,ft.Ja,h),this.size=_}x(dn,j);function fn(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function $d(h,_,b,S,q,$){h.info(function(){if(h.g)if($){var le="",Re=$.split("&");for(let Fe=0;Fe<Re.length;Fe++){var Tt=Re[Fe].split("=");if(Tt.length>1){const ct=Tt[0];Tt=Tt[1];const Qn=ct.split("_");le=Qn.length>=2&&Qn[1]=="type"?le+(ct+"="+Tt+"&"):le+(ct+"=redacted&")}}}else le=null;else le=$;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+_+`
`+b+`
`+le})}function au(h,_,b,S,q,$,le){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+_+`
`+b+`
`+$+" "+le})}function Si(h,_,b,S){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Kd(h,b)+(S?" "+S:"")})}function Fr(h,_){h.info(function(){return"TIMEOUT: "+_})}Fn.prototype.info=function(){};function Kd(h,_){if(!h.g)return _;if(!_)return null;try{const $=JSON.parse(_);if($){for(h=0;h<$.length;h++)if(Array.isArray($[h])){var b=$[h];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var q=S[0];if(q!="noop"&&q!="stop"&&q!="close")for(let le=1;le<S.length;le++)S[le]=""}}}}return xt($)}catch{return _}}var Gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ol={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ll;function $r(){}x($r,Pa),$r.prototype.g=function(){return new XMLHttpRequest},ll=new $r;function os(h){return encodeURIComponent(String(h))}function ou(h){var _=1;h=h.split(":");const b=[];for(;_>0&&h.length;)b.push(h.shift()),_--;return h.length&&b.push(h.join(":")),b}function ci(h,_,b,S){this.j=h,this.i=_,this.l=b,this.S=S||1,this.V=new rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var Rt={},Ht={};function Ai(h,_,b){h.M=1,h.A=Kr(Ct(_)),h.u=b,h.R=!0,Ba(h,null)}function Ba(h,_){h.F=Date.now(),Ri(h),h.B=Ct(h.A);var b=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),Ga(b.i,"t",S),h.C=0,b=h.j.L,h.h=new ui,h.g=xu(h.j,b?_:null,!h.u),h.P>0&&(h.O=new Bt(y(h.Y,h,h.g),h.P)),_=h.V,b=h.g,S=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(Hn[0]=q.toString()),q=Hn);for(let $=0;$<q.length;$++){const le=$e(b,q[$],S||_.handleEvent,!1,_.h||_);if(!le)break;_.g[le.key]=le}_=h.J?D(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),qt(),$d(h.i,h.v,h.B,h.l,h.S,h.u)}ci.prototype.ba=function(h){h=h.target;const _=this.O;_&&fi(h)==3?_.j():this.Y(h)},ci.prototype.Y=function(h){try{if(h==this.g)e:{const Re=fi(this.g),Tt=this.g.ya(),Fe=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Re!=4||Tt==7||(Tt==8||Fe<=0?qt(3):qt(2)),Ni(this);var _=this.g.ca();this.X=_;var b=Qd(this);if(this.o=_==200,au(this.i,this.v,this.B,this.l,this.S,Re,_),this.o){if(this.U&&!this.L){t:{if(this.g){var S,q=this.g;if((S=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var $=S;break t}}$=null}if(h=$)Si(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,h);else{this.o=!1,this.m=3,it(12),An(this),Gn(this);break e}}if(this.R){h=!0;let ct;for(;!this.K&&this.C<b.length;)if(ct=cu(this,b),ct==Ht){Re==4&&(this.m=4,it(14),h=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Rt){this.m=4,it(15),Si(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else Si(this.i,this.l,ct,null),Ci(this,ct);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||b.length!=0||this.h.h||(this.m=1,it(16),h=!1),this.o=this.o&&h,!h)Si(this.i,this.l,b,"[Invalid Chunked Response]"),An(this),Gn(this);else if(b.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Tl(le),le.P=!0,it(11))}}else Si(this.i,this.l,b,null),Ci(this,b);Re==4&&An(this),this.o&&!this.K&&(Re==4?_u(this.j,this):(this.o=!1,Ri(this)))}else cs(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,it(12)):(this.m=0,it(13)),An(this),Gn(this)}}}catch{}finally{}};function Qd(h){if(!lu(h))return h.g.la();const _=Kt(h.g);if(_==="")return"";let b="";const S=_.length,q=fi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return An(h),Gn(h),"";h.h.i=new u.TextDecoder}for(let $=0;$<S;$++)h.h.h=!0,b+=h.h.i.decode(_[$],{stream:!(q&&$==S-1)});return _.length=0,h.h.g+=b,h.C=0,h.h.g}function lu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function cu(h,_){var b=h.C,S=_.indexOf(`
`,b);return S==-1?Ht:(b=Number(_.substring(b,S)),isNaN(b)?Rt:(S+=1,S+b>_.length?Ht:(_=_.slice(S,S+b),h.C=S+b,_)))}ci.prototype.cancel=function(){this.K=!0,An(this)};function Ri(h){h.T=Date.now()+h.H,qa(h,h.H)}function qa(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=fn(y(h.aa,h),_)}function Ni(h){h.D&&(u.clearTimeout(h.D),h.D=null)}ci.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Fr(this.i,this.B),this.M!=2&&(qt(),it(17)),An(this),this.m=2,Gn(this)):qa(this,this.T-h)};function Gn(h){h.j.I==0||h.K||_u(h.j,h)}function An(h){Ni(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,tn(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Ci(h,_){try{var b=h.j;if(b.I!=0&&(b.g==h||ki(b.h,h))){if(!h.L&&ki(b.h,h)&&b.I==3){try{var S=b.Ba.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)Xa(b),Ks(b);else break e;ea(b),it(18)}}else b.xa=q[1],0<b.xa-b.K&&q[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=fn(y(b.Va,b),6e3));Ii(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ui(b,11)}else if((h.L||b.g==h)&&Xa(b),!I(_))for(q=b.Ba.g.parse(_),_=0;_<q.length;_++){let Fe=q[_];const ct=Fe[0];if(!(ct<=b.K))if(b.K=ct,Fe=Fe[1],b.I==2)if(Fe[0]=="c"){b.M=Fe[1],b.ba=Fe[2];const Qn=Fe[3];Qn!=null&&(b.ka=Qn,b.j.info("VER="+b.ka));const Pi=Fe[4];Pi!=null&&(b.za=Pi,b.j.info("SVER="+b.za));const mi=Fe[5];mi!=null&&typeof mi=="number"&&mi>0&&(S=1.5*mi,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const pi=h.g;if(pi){const ta=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var $=S.h;$.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(hl($,$.h),$.h=null))}if(S.G){const Ja=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(S.wa=Ja,Qe(S.J,S.G,Ja))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var le=h;if(S.na=Eu(S,S.L?S.ba:null,S.W),le.L){dl(S.h,le);var Re=le,Tt=S.O;Tt&&(Re.H=Tt),Re.D&&(Ni(Re),Ri(Re)),S.g=le}else gu(S);b.i.length>0&&Vi(b)}else Fe[0]!="stop"&&Fe[0]!="close"||Ui(b,7);else b.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ui(b,7):El(b):Fe[0]!="noop"&&b.l&&b.l.qa(Fe),b.A=0)}}qt(4)}catch{}}var Nt=class{constructor(h,_){this.g=h,this.map=_}};function cl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ul(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ii(h){return h.h?1:h.g?h.g.size:0}function ki(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function hl(h,_){h.g?h.g.add(_):h.h=_}function dl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}cl.prototype.cancel=function(){if(this.i=fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function fl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const b of h.g.values())_=_.concat(b.G);return _}return R(h.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ha(h,_){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const S=h[b].indexOf("=");let q,$=null;S>=0?(q=h[b].substring(0,S),$=h[b].substring(S+1)):q=h[b],_(q,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Rn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Rn?(this.l=h.l,Ft(this,h.j),this.o=h.o,this.g=h.g,zs(this,h.u),this.h=h.h,ml(this,mu(h.i)),this.m=h.m):h&&(_=String(h).match(uu))?(this.l=!1,Ft(this,_[1]||"",!0),this.o=Di(_[2]||""),this.g=Di(_[3]||"",!0),zs(this,_[4]),this.h=Di(_[5]||"",!0),ml(this,_[6]||"",!0),this.m=Di(_[7]||"")):(this.l=!1,this.i=new qs(null,this.l))}Rn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Qr(_,Fa,!0),":");var b=this.g;return(b||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Qr(_,Fa,!0),"@"),h.push(os(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Qr(b,b.charAt(0)=="/"?pl:hu,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Qr(b,du)),h.join("")},Rn.prototype.resolve=function(h){const _=Ct(this);let b=!!h.j;b?Ft(_,h.j):b=!!h.o,b?_.o=h.o:b=!!h.g,b?_.g=h.g:b=h.u!=null;var S=h.h;if(b)zs(_,h.u);else if(b=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var q=_.h.lastIndexOf("/");q!=-1&&(S=_.h.slice(0,q+1)+S)}if(q=S,q==".."||q==".")S="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){S=q.lastIndexOf("/",0)==0,q=q.split("/");const $=[];for(let le=0;le<q.length;){const Re=q[le++];Re=="."?S&&le==q.length&&$.push(""):Re==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),S&&le==q.length&&$.push("")):($.push(Re),S=!0)}S=$.join("/")}else S=q}return b?_.h=S:b=h.i.toString()!=="",b?ml(_,mu(h.i)):b=!!h.m,b&&(_.m=h.m),_};function Ct(h){return new Rn(h)}function Ft(h,_,b){h.j=b?Di(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function zs(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function ml(h,_,b){_ instanceof qs?(h.i=_,$a(h.i,h.l)):(b||(_=Qr(_,Bs)),h.i=new qs(_,h.l))}function Qe(h,_,b){h.i.set(_,b)}function Kr(h){return Qe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Di(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Qr(h,_,b){return typeof h=="string"?(h=encodeURI(h).replace(_,mn),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function mn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Fa=/[#\/\?@]/g,hu=/[#\?:]/g,pl=/[#\?]/g,Bs=/[#\?@]/g,du=/#/g;function qs(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function pn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ha(h.i,function(_,b){h.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}i=qs.prototype,i.add=function(h,_){pn(this),this.i=null,h=Hs(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(_),this.h+=1,this};function fu(h,_){pn(h),_=Hs(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function gl(h,_){return pn(h),_=Hs(h,_),h.g.has(_)}i.forEach=function(h,_){pn(this),this.g.forEach(function(b,S){b.forEach(function(q){h.call(_,q,S,this)},this)},this)};function yl(h,_){pn(h);let b=[];if(typeof _=="string")gl(h,_)&&(b=b.concat(h.g.get(Hs(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)b=b.concat(h[_]);return b}i.set=function(h,_){return pn(this),this.i=null,h=Hs(this,h),gl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},i.get=function(h,_){return h?(h=yl(this,h),h.length>0?String(h[0]):_):_};function Ga(h,_,b){fu(h,_),b.length>0&&(h.i=null,h.g.set(Hs(h,_),R(b)),h.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let S=0;S<_.length;S++){var b=_[S];const q=os(b);b=yl(this,b);for(let $=0;$<b.length;$++){let le=q;b[$]!==""&&(le+="="+os(b[$])),h.push(le)}}return this.i=h.join("&")};function mu(h){const _=new qs;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Hs(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function $a(h,_){_&&!h.j&&(pn(h),h.i=null,h.g.forEach(function(b,S){const q=S.toLowerCase();S!=q&&(fu(this,S),Ga(this,q,b))},h)),h.j=_}function hi(h,_){const b=new Fn;if(u.Image){const S=new Image;S.onload=E($n,b,"TestLoadImage: loaded",!0,_,S),S.onerror=E($n,b,"TestLoadImage: error",!1,_,S),S.onabort=E($n,b,"TestLoadImage: abort",!1,_,S),S.ontimeout=E($n,b,"TestLoadImage: timeout",!1,_,S),u.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else _(!1)}function _l(h,_){const b=new Fn,S=new AbortController,q=setTimeout(()=>{S.abort(),$n(b,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:S.signal}).then($=>{clearTimeout(q),$.ok?$n(b,"TestPingServer: ok",!0,_):$n(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),$n(b,"TestPingServer: error",!1,_)})}function $n(h,_,b,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(b)}catch{}}function Fs(){this.g=new Ua}function Oi(h){this.i=h.Sb||null,this.h=h.ab||!1}x(Oi,Pa),Oi.prototype.g=function(){return new Yr(this.i,this.h)};function Yr(h,_){dt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Yr,dt),i=Yr.prototype,i.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,di(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gs(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ka(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ka(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Gs(this):di(this),this.readyState==3&&Ka(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Gs(this))},i.Na=function(h){this.g&&(this.response=h,Gs(this))},i.ga=function(){this.g&&Gs(this)};function Gs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,di(h)}i.setRequestHeader=function(h,_){this.A.append(h,_)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=_.next();return h.join(`\r
`)};function di(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Kn(h){let _="";return Ae(h,function(b,S){_+=S,_+=":",_+=b,_+=`\r
`}),_}function Xr(h,_,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=Kn(b),typeof h=="string"?b!=null&&os(b):Qe(h,_,b))}function Je(h){dt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Je,dt);var Mi=/^https?$/i,vl=["POST","PUT"];i=Je.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,_,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ll.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch($){Jr(this,$);return}if(h=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)b.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())b.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find($=>$.toLowerCase()=="content-type"),q=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(vl,_,void 0)>=0)||S||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,le]of b)this.g.setRequestHeader($,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch($){Jr(this,$)}};function Jr(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,bl(h),ls(h)}function bl(h){h.A||(h.A=!0,Et(h,"complete"),Et(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Et(this,"complete"),Et(this,"abort"),ls(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Wr(this):this.Xa())},i.Xa=function(){Wr(this)};function Wr(h){if(h.h&&typeof c<"u"){if(h.v&&fi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Et(h,"readystatechange"),fi(h)==4){h.h=!1;try{const $=h.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var S;if(S=$===0){let le=String(h.D).match(uu)[1]||null;!le&&u.self&&u.self.location&&(le=u.self.location.protocol.slice(0,-1)),S=!Mi.test(le?le.toLowerCase():"")}b=S}if(b)Et(h,"complete"),Et(h,"success");else{h.o=6;try{var q=fi(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",bl(h)}}finally{ls(h)}}}}function ls(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,_||Et(h,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function fi(h){return h.g?h.g.readyState:0}i.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),li(_)}};function Kt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(h){const _={};h=(h.g&&fi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(I(h[S]))continue;var b=ou(h[S]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const $=_[q]||[];_[q]=$,$.push(b)}Me(_,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(h,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||_}function $s(h){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,h),this.Za=ji("retryDelaySeedMs",1e4,h),this.Ta=ji("forwardChannelMaxRetries",2,h),this.va=ji("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new cl(h&&h.concurrentRequestLimit),this.Ba=new Fs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=$s.prototype,i.ka=8,i.I=1,i.connect=function(h,_,b,S){it(0),this.W=h,this.H=_||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=Eu(this,null,this.W),Vi(this)};function El(h){if(Qa(h),h.I==3){var _=h.V++,b=Ct(h.J);if(Qe(b,"SID",h.M),Qe(b,"RID",_),Qe(b,"TYPE","terminate"),Zr(h,b),_=new ci(h,h.j,_),_.M=2,_.A=Kr(Ct(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=_.A,b=!0),b||(_.g=xu(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ri(_)}bu(h)}function Ks(h){h.g&&(Tl(h),h.g.cancel(),h.g=null)}function Qa(h){Ks(h),h.v&&(u.clearTimeout(h.v),h.v=null),Xa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Vi(h){if(!ul(h.h)&&!h.m){h.m=!0;var _=h.Ea;re||A(),de||(re(),de=!0),C.add(_,h),h.D=0}}function Ya(h,_){return Ii(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=fn(y(h.Ea,h,_),vu(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new ci(this,this.j,h);let $=this.o;if(this.U&&($?($=D($),ce($,this.U)):$=this.U),this.u!==null||this.R||(q.J=$,$=null),this.S)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,_>4096){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=pu(this,q,_),b=Ct(this.J),Qe(b,"RID",h),Qe(b,"CVER",22),this.G&&Qe(b,"X-HTTP-Session-Id",this.G),Zr(this,b),$&&(this.R?_="headers="+os(Kn($))+"&"+_:this.u&&Xr(b,this.u,$)),hl(this.h,q),this.Ra&&Qe(b,"TYPE","init"),this.S?(Qe(b,"$req",_),Qe(b,"SID","null"),q.U=!0,Ai(q,b,null)):Ai(q,b,_),this.I=2}}else this.I==3&&(h?xl(this,h):this.i.length==0||ul(this.h)||xl(this))};function xl(h,_){var b;_?b=_.l:b=h.V++;const S=Ct(h.J);Qe(S,"SID",h.M),Qe(S,"RID",b),Qe(S,"AID",h.K),Zr(h,S),h.u&&h.o&&Xr(S,h.u,h.o),b=new ci(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),_&&(h.i=_.G.concat(h.i)),_=pu(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),hl(h.h,b),Ai(b,S,_)}function Zr(h,_){h.H&&Ae(h.H,function(b,S){Qe(_,S,b)}),h.l&&Ae({},function(b,S){Qe(_,S,b)})}function pu(h,_,b){b=Math.min(h.i.length,b);const S=h.l?y(h.l.Ka,h.l,h):null;e:{var q=h.i;let Re=-1;for(;;){const Tt=["count="+b];Re==-1?b>0?(Re=q[0].g,Tt.push("ofs="+Re)):Re=0:Tt.push("ofs="+Re);let Fe=!0;for(let ct=0;ct<b;ct++){var $=q[ct].g;const Qn=q[ct].map;if($-=Re,$<0)Re=Math.max(0,q[ct].g-100),Fe=!1;else try{$="req"+$+"_"||"";try{var le=Qn instanceof Map?Qn:Object.entries(Qn);for(const[Pi,mi]of le){let pi=mi;m(mi)&&(pi=xt(mi)),Tt.push($+Pi+"="+encodeURIComponent(pi))}}catch(Pi){throw Tt.push($+"type="+encodeURIComponent("_badmap")),Pi}}catch{S&&S(Qn)}}if(Fe){le=Tt.join("&");break e}}le=void 0}return h=h.i.splice(0,b),_.G=h,le}function gu(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;re||A(),de||(re(),de=!0),C.add(_,h),h.A=0}}function ea(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=fn(y(h.Da,h),vu(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=fn(y(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,it(10),Ks(this),yu(this))};function Tl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function yu(h){h.g=new ci(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ct(h.na);Qe(_,"RID","rpc"),Qe(_,"SID",h.M),Qe(_,"AID",h.K),Qe(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qe(_,"TO",h.ia),Qe(_,"TYPE","xmlhttp"),Zr(h,_),h.u&&h.o&&Xr(_,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=Kr(Ct(_)),b.u=null,b.R=!0,Ba(b,h)}i.Va=function(){this.C!=null&&(this.C=null,Ks(this),ea(this),it(19))};function Xa(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function _u(h,_){var b=null;if(h.g==_){Xa(h),Tl(h),h.g=null;var S=2}else if(ki(h.h,_))b=_.G,dl(h.h,_),S=1;else return;if(h.I!=0){if(_.o)if(S==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var q=h.D;S=Ls(),Et(S,new dn(S,b)),Vi(h)}else gu(h);else if(q=_.m,q==3||q==0&&_.X>0||!(S==1&&Ya(h,_)||S==2&&ea(h)))switch(b&&b.length>0&&(_=h.h,_.i=_.i.concat(b)),q){case 1:Ui(h,5);break;case 4:Ui(h,10);break;case 3:Ui(h,6);break;default:Ui(h,2)}}}function vu(h,_){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*_}function Ui(h,_){if(h.j.info("Error code "+_),_==2){var b=y(h.bb,h),S=h.Ua;const q=!S;S=new Rn(S||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ft(S,"https"),Kr(S),q?hi(S.toString(),b):_l(S.toString(),b)}else it(2);h.I=0,h.l&&h.l.pa(_),bu(h),Qa(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function bu(h){if(h.I=0,h.ja=[],h.l){const _=fl(h.h);(_.length!=0||h.i.length!=0)&&(L(h.ja,_),L(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function Eu(h,_,b){var S=b instanceof Rn?Ct(b):new Rn(b);if(S.g!="")_&&(S.g=_+"."+S.g),zs(S,S.u);else{var q=u.location;S=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;const $=new Rn(null);S&&Ft($,S),_&&($.g=_),q&&zs($,q),b&&($.h=b),S=$}return b=h.G,_=h.wa,b&&_&&Qe(S,b,_),Qe(S,"VER",h.ka),Zr(h,S),S}function xu(h,_,b){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new Je(new Oi({ab:b})):new Je(h.ma),_.Fa(h.L),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}i=Tu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Qs(){}Qs.prototype.g=function(h,_){return new ln(h,_)};function ln(h,_){dt.call(this),this.g=new $s(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!I(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!I(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new us(this)}x(ln,dt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){El(this.g)},ln.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=xt(h),h=b);_.i.push(new Nt(_.Ya++,h)),_.I==3&&Vi(_)},ln.prototype.N=function(){this.g.l=null,delete this.j,El(this.g),delete this.g,ln.Z.N.call(this)};function wu(h){Pt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const b in _){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}x(wu,Pt);function Su(){hn.call(this),this.status=1}x(Su,hn);function us(h){this.g=h}x(us,Tu),us.prototype.ra=function(){Et(this.g,"a")},us.prototype.qa=function(h){Et(this.g,new wu(h))},us.prototype.pa=function(h){Et(this.g,new Su)},us.prototype.oa=function(){Et(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,ix=function(){return new Qs},nx=function(){return Ls()},tx=ft,Sp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gr.NO_ERROR=0,Gr.TIMEOUT=8,Gr.HTTP_ERROR=6,Gh=Gr,ol.COMPLETE="complete",ex=ol,La.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",dt.prototype.listen=dt.prototype.J,fc=La,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Z1=Je}).apply(typeof Dh<"u"?Dh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="12.9.0";function Ik(i){Zo=i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new ig("@firebase/firestore");function Co(){return Ra.logLevel}function he(i,...e){if(Ra.logLevel<=Ue.DEBUG){const n=e.map(mg);Ra.debug(`Firestore (${Zo}): ${i}`,...n)}}function Ms(i,...e){if(Ra.logLevel<=Ue.ERROR){const n=e.map(mg);Ra.error(`Firestore (${Zo}): ${i}`,...n)}}function Na(i,...e){if(Ra.logLevel<=Ue.WARN){const n=e.map(mg);Ra.warn(`Firestore (${Zo}): ${i}`,...n)}}function mg(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,sx(i,r,n)}function sx(i,e,n){let r=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ms(r),new Error(r)}function Ke(i,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,i||sx(e,o,r)}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends es{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class Dk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Ok{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let c=new ba;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ba,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ba)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new rx(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class Mk{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class jk{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Mk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Eb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const r=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,he("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Eb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Eb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Uk(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function Pe(i,e){return i<e?-1:i>e?1:0}function Ap(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const o=i.charAt(r),c=e.charAt(r);if(o!==c)return rp(o)===rp(c)?Pe(o,c):rp(o)?1:-1}return Pe(i.length,e.length)}const Pk=55296,Lk=57343;function rp(i){const e=i.charCodeAt(0);return e>=Pk&&e<=Lk}function qo(i,e,n){return i.length===e.length&&i.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="__name__";class Hi{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=Hi.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Pe(e.length,n.length)}static compareSegments(e,n){const r=Hi.isNumericId(e),o=Hi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Hi.extractNumericId(e).compare(Hi.extractNumericId(n)):Ap(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ar.fromString(e.substring(4,e.length-2))}}class st extends Hi{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const zk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Hi{construct(e,n,r){return new Zt(e,n,r)}static isValidIdentifier(e){return zk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xb}static keyField(){return new Zt([xb])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new ue(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else m==="`"?(u=!u,o++):m!=="."||u?(r+=m,o++):(c(),o++)}if(c(),u)throw new ue(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(st.fromString(e))}static fromName(e){return new ve(st.fromString(e).popFirst(5))}static empty(){return new ve(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(i,e,n){if(!n)throw new ue(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Bk(i,e,n,r){if(e===!0&&r===!0)throw new ue(ne.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Tb(i){if(!ve.isDocumentKey(i))throw new ue(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function wb(i){if(ve.isDocumentKey(i))throw new ue(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ox(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Nd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":xe(12329,{type:typeof i})}function Rr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nd(i);throw new ue(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(i,e){const n={typeString:i};return e&&(n.value=e),n}function $c(i,e){if(!ox(i))throw new ue(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const u=i[r];if(o&&typeof u!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new ue(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=-62135596800,Ab=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Ab);return new ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Sb)throw new ue(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ab}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($c(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Sb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Vt("string",ot._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new ot(0,0))}static max(){return new Te(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=-1;function qk(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new kr(o,ve.empty(),e)}function Hk(i){return new kr(i.readTime,i.key,Ic)}class kr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kr(Te.min(),ve.empty(),Ic)}static max(){return new kr(Te.max(),ve.empty(),Ic)}}function Fk(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(i.documentKey,e.documentKey),n!==0?n:Pe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $k{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==Gk)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,r)=>{n(e)}))}static reject(e){return new ie(((n,r)=>{r(e)}))}static waitFor(e){return new ie(((n,r)=>{let o=0,c=0,u=!1;e.forEach((m=>{++o,m.next((()=>{++c,u&&c===o&&n()}),(p=>r(p)))})),u=!0,c===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next((o=>o?ie.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new ie(((r,o)=>{const c=e.length,u=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;n(e[y]).next((E=>{u[y]=E,++m,m===c&&r(u)}),(E=>o(E)))}}))}static doWhile(e,n){return new ie(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function Kk(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Cd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=-1;function Id(i){return i==null}function od(i){return i===0&&1/i==-1/0}function Qk(i){return typeof i=="number"&&Number.isInteger(i)&&!od(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="";function Yk(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Rb(e)),e=Xk(i.get(n),e);return Rb(e)}function Xk(i,e){let n=e;const r=i.length;for(let o=0;o<r;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case lx:n+="";break;default:n+=c}}return n}function Rb(i){return i+lx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function zr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function cx(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oh(this.root,e,this.comparator,!0)}}class Oh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=o??Wt.EMPTY,this.right=c??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new Wt(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cb(this.data.getIterator())}getIteratorFrom(e){return new Cb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class Cb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new zt(Zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ux("Invalid base64 string: "+c):c}})(e);return new en(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const Jk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const n=Jk.exec(i);if(Ke(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(i.seconds),nanos:At(i.nanos)}}function At(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Or(i){return typeof i=="string"?en.fromBase64String(i):en.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="server_timestamp",dx="__type__",fx="__previous_value__",mx="__local_write_time__";function yg(i){var n,r;return((r=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[dx])==null?void 0:r.stringValue)===hx}function kd(i){const e=i.mapValue.fields[fx];return yg(e)?kd(e):e}function kc(i){const e=Dr(i.mapValue.fields[mx].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n,r,o,c,u,m,p,y,E,x){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=x}}const ld="(default)";class Dc{constructor(e,n){this.projectId=e,this.database=n||ld}static empty(){return new Dc("","")}get isDefaultDatabase(){return this.database===ld}isEqual(e){return e instanceof Dc&&e.projectId===this.projectId&&e.database===this.database}}function Zk(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new ue(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dc(i.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="__type__",e4="__max__",Mh={mapValue:{}},gx="__vector__",cd="value";function Mr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?yg(i)?4:n4(i)?9007199254740991:t4(i)?10:11:xe(28295,{value:i})}function Ji(i,e){if(i===e)return!0;const n=Mr(i);if(n!==Mr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return kc(i).isEqual(kc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=Dr(o.timestampValue),m=Dr(c.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return Or(o.bytesValue).isEqual(Or(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return At(o.geoPointValue.latitude)===At(c.geoPointValue.latitude)&&At(o.geoPointValue.longitude)===At(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return At(o.integerValue)===At(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=At(o.doubleValue),m=At(c.doubleValue);return u===m?od(u)===od(m):isNaN(u)&&isNaN(m)}return!1})(i,e);case 9:return qo(i.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},m=c.mapValue.fields||{};if(Nb(u)!==Nb(m))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(m[p]===void 0||!Ji(u[p],m[p])))return!1;return!0})(i,e);default:return xe(52216,{left:i})}}function Oc(i,e){return(i.values||[]).find((n=>Ji(n,e)))!==void 0}function Ho(i,e){if(i===e)return 0;const n=Mr(i),r=Mr(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return(function(c,u){const m=At(c.integerValue||c.doubleValue),p=At(u.integerValue||u.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return Ib(i.timestampValue,e.timestampValue);case 4:return Ib(kc(i),kc(e));case 5:return Ap(i.stringValue,e.stringValue);case 6:return(function(c,u){const m=Or(c),p=Or(u);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(c,u){const m=c.split("/"),p=u.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Pe(m[y],p[y]);if(E!==0)return E}return Pe(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,u){const m=Pe(At(c.latitude),At(u.latitude));return m!==0?m:Pe(At(c.longitude),At(u.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return kb(i.arrayValue,e.arrayValue);case 10:return(function(c,u){var w,R,L,P;const m=c.fields||{},p=u.fields||{},y=(w=m[cd])==null?void 0:w.arrayValue,E=(R=p[cd])==null?void 0:R.arrayValue,x=Pe(((L=y==null?void 0:y.values)==null?void 0:L.length)||0,((P=E==null?void 0:E.values)==null?void 0:P.length)||0);return x!==0?x:kb(y,E)})(i.mapValue,e.mapValue);case 11:return(function(c,u){if(c===Mh.mapValue&&u===Mh.mapValue)return 0;if(c===Mh.mapValue)return 1;if(u===Mh.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=u.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let x=0;x<p.length&&x<E.length;++x){const w=Ap(p[x],E[x]);if(w!==0)return w;const R=Ho(m[p[x]],y[E[x]]);if(R!==0)return R}return Pe(p.length,E.length)})(i.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function Ib(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const n=Dr(i),r=Dr(e),o=Pe(n.seconds,r.seconds);return o!==0?o:Pe(n.nanos,r.nanos)}function kb(i,e){const n=i.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=Ho(n[o],r[o]);if(c)return c}return Pe(n.length,r.length)}function Fo(i){return Rp(i)}function Rp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=Dr(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Or(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ve.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=Rp(c);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const u of r)c?c=!1:o+=",",o+=`${u}:${Rp(n.fields[u])}`;return o+"}"})(i.mapValue):xe(61005,{value:i})}function $h(i){switch(Mr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kd(i);return e?16+$h(e):16;case 5:return 2*i.stringValue.length;case 6:return Or(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+$h(c)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return zr(r.fields,((c,u)=>{o+=c.length+$h(u)})),o})(i.mapValue);default:throw xe(13486,{value:i})}}function Db(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Np(i){return!!i&&"integerValue"in i}function _g(i){return!!i&&"arrayValue"in i}function Ob(i){return!!i&&"nullValue"in i}function Mb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Kh(i){return!!i&&"mapValue"in i}function t4(i){var n,r;return((r=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[px])==null?void 0:r.stringValue)===gx}function Ec(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return zr(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ec(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ec(i.arrayValue.values[n]);return e}return{...i}}function n4(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===e4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ec(n)}setAll(e){let n=Zt.emptyPath(),r={},o=[];e.forEach(((u,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=m.popLast()}u?r[m.lastSegment()]=Ec(u):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());Kh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Kh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){zr(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Tn(Ec(this.value))}}function yx(i){const e=[];return zr(i.fields,((n,r)=>{const o=new Zt([n]);if(Kh(r)){const c=yx(r.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,r,o,c,u,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=u,this.documentState=m}static newInvalidDocument(e){return new an(e,0,Te.min(),Te.min(),Te.min(),Tn.empty(),0)}static newFoundDocument(e,n,r,o){return new an(e,1,n,Te.min(),r,o,0)}static newNoDocument(e,n){return new an(e,2,n,Te.min(),Te.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Te.min(),Te.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n){this.position=e,this.inclusive=n}}function jb(i,e,n){let r=0;for(let o=0;o<i.position.length;o++){const c=e[o],u=i.position[o];if(c.field.isKeyField()?r=ve.comparator(ve.fromName(u.referenceValue),n.key):r=Ho(u,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Vb(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ji(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n="asc"){this.field=e,this.dir=n}}function i4(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{}class jt extends _x{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new r4(e,n,r):n==="array-contains"?new l4(e,r):n==="in"?new c4(e,r):n==="not-in"?new u4(e,r):n==="array-contains-any"?new h4(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new a4(e,r):new o4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ho(n,this.value)):n!==null&&Mr(this.value)===Mr(n)&&this.matchesComparison(Ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends _x{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ti(e,n)}matches(e){return vx(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vx(i){return i.op==="and"}function bx(i){return s4(i)&&vx(i)}function s4(i){for(const e of i.filters)if(e instanceof Ti)return!1;return!0}function Cp(i){if(i instanceof jt)return i.field.canonicalString()+i.op.toString()+Fo(i.value);if(bx(i))return i.filters.map((e=>Cp(e))).join(",");{const e=i.filters.map((n=>Cp(n))).join(",");return`${i.op}(${e})`}}function Ex(i,e){return i instanceof jt?(function(r,o){return o instanceof jt&&r.op===o.op&&r.field.isEqual(o.field)&&Ji(r.value,o.value)})(i,e):i instanceof Ti?(function(r,o){return o instanceof Ti&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,u,m)=>c&&Ex(u,o.filters[m])),!0):!1})(i,e):void xe(19439)}function xx(i){return i instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Fo(n.value)}`})(i):i instanceof Ti?(function(n){return n.op.toString()+" {"+n.getFilters().map(xx).join(" ,")+"}"})(i):"Filter"}class r4 extends jt{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class a4 extends jt{constructor(e,n){super(e,"in",n),this.keys=Tx("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class o4 extends jt{constructor(e,n){super(e,"not-in",n),this.keys=Tx("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Tx(i,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>ve.fromName(r.referenceValue)))}class l4 extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _g(n)&&Oc(n.arrayValue,this.value)}}class c4 extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Oc(this.value.arrayValue,n)}}class u4 extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Oc(this.value.arrayValue,n)}}class h4 extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_g(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Oc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n=null,r=[],o=[],c=null,u=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=u,this.endAt=m,this.Te=null}}function Ub(i,e=null,n=[],r=[],o=null,c=null,u=null){return new d4(i,e,n,r,o,c,u)}function vg(i){const e=Se(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Cp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Id(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Fo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Fo(r))).join(",")),e.Te=n}return e.Te}function bg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!i4(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Ex(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Vb(i.startAt,e.startAt)&&Vb(i.endAt,e.endAt)}function Ip(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n=null,r=[],o=[],c=null,u="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=u,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function f4(i,e,n,r,o,c,u,m){return new nl(i,e,n,r,o,c,u,m)}function Eg(i){return new nl(i)}function Pb(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function m4(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function wx(i){return i.collectionGroup!==null}function xc(i){const e=Se(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new zt(Zt.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Mc(c,r))})),n.has(Zt.keyField().canonicalString())||e.Ie.push(new Mc(Zt.keyField(),r))}return e.Ie}function Qi(i){const e=Se(i);return e.Ee||(e.Ee=p4(e,xc(i))),e.Ee}function p4(i,e){if(i.limitType==="F")return Ub(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Mc(o.field,c)}));const n=i.endAt?new ud(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new ud(i.startAt.position,i.startAt.inclusive):null;return Ub(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function kp(i,e){const n=i.filters.concat([e]);return new nl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function g4(i,e){const n=i.explicitOrderBy.concat([e]);return new nl(i.path,i.collectionGroup,n,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function hd(i,e,n){return new nl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Dd(i,e){return bg(Qi(i),Qi(e))&&i.limitType===e.limitType}function Sx(i){return`${vg(Qi(i))}|lt:${i.limitType}`}function Io(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>xx(o))).join(", ")}]`),Id(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Fo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Fo(o))).join(",")),`Target(${r})`})(Qi(i))}; limitType=${i.limitType})`}function Od(i,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ve.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(i,e)&&(function(r,o){for(const c of xc(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(u,m,p){const y=jb(u,m,p);return u.inclusive?y<=0:y<0})(r.startAt,xc(r),o)||r.endAt&&!(function(u,m,p){const y=jb(u,m,p);return u.inclusive?y>=0:y>0})(r.endAt,xc(r),o))})(i,e)}function y4(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ax(i){return(e,n)=>{let r=!1;for(const o of xc(i)){const c=_4(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function _4(i,e,n){const r=i.field.isKeyField()?ve.comparator(e.key,n.key):(function(c,u,m){const p=u.data.field(c),y=m.data.field(c);return p!==null&&y!==null?Ho(p,y):xe(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){zr(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return cx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=new mt(ve.comparator);function js(){return v4}const Rx=new mt(ve.comparator);function mc(...i){let e=Rx;for(const n of i)e=e.insert(n.key,n);return e}function Nx(i){let e=Rx;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function va(){return Tc()}function Cx(){return Tc()}function Tc(){return new ja((i=>i.toString()),((i,e)=>i.isEqual(e)))}const b4=new mt(ve.comparator),E4=new zt(ve.comparator);function Le(...i){let e=E4;for(const n of i)e=e.add(n);return e}const x4=new zt(Pe);function T4(){return x4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(e)?"-0":e}}function Ix(i){return{integerValue:""+i}}function w4(i,e){return Qk(e)?Ix(e):xg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(){this._=void 0}}function S4(i,e,n){return i instanceof dd?(function(o,c){const u={fields:{[dx]:{stringValue:hx},[mx]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&yg(c)&&(c=kd(c)),c&&(u.fields[fx]=c),{mapValue:u}})(n,e):i instanceof jc?Dx(i,e):i instanceof Vc?Ox(i,e):(function(o,c){const u=kx(o,c),m=Lb(u)+Lb(o.Ae);return Np(u)&&Np(o.Ae)?Ix(m):xg(o.serializer,m)})(i,e)}function A4(i,e,n){return i instanceof jc?Dx(i,e):i instanceof Vc?Ox(i,e):n}function kx(i,e){return i instanceof fd?(function(r){return Np(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class dd extends Md{}class jc extends Md{constructor(e){super(),this.elements=e}}function Dx(i,e){const n=Mx(e);for(const r of i.elements)n.some((o=>Ji(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Vc extends Md{constructor(e){super(),this.elements=e}}function Ox(i,e){let n=Mx(e);for(const r of i.elements)n=n.filter((o=>!Ji(o,r)));return{arrayValue:{values:n}}}class fd extends Md{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Lb(i){return At(i.integerValue||i.doubleValue)}function Mx(i){return _g(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function R4(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof jc&&o instanceof jc||r instanceof Vc&&o instanceof Vc?qo(r.elements,o.elements,Ji):r instanceof fd&&o instanceof fd?Ji(r.Ae,o.Ae):r instanceof dd&&o instanceof dd})(i.transform,e.transform)}class N4{constructor(e,n){this.version=e,this.transformResults=n}}class bi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class jd{}function jx(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Tg(i.key,bi.none()):new Kc(i.key,i.data,bi.none());{const n=i.data,r=Tn.empty();let o=new zt(Zt.comparator);for(let c of e.fields)if(!o.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?r.delete(c):r.set(c,u),o=o.add(c)}return new Br(i.key,r,new Pn(o.toArray()),bi.none())}}function C4(i,e,n){i instanceof Kc?(function(o,c,u){const m=o.value.clone(),p=Bb(o.fieldTransforms,c,u.transformResults);m.setAll(p),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Br?(function(o,c,u){if(!Qh(o.precondition,c))return void c.convertToUnknownDocument(u.version);const m=Bb(o.fieldTransforms,c,u.transformResults),p=c.data;p.setAll(Vx(o)),p.setAll(m),c.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(i,e,n):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function wc(i,e,n,r){return i instanceof Kc?(function(c,u,m,p){if(!Qh(c.precondition,u))return m;const y=c.value.clone(),E=qb(c.fieldTransforms,p,u);return y.setAll(E),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(i,e,n,r):i instanceof Br?(function(c,u,m,p){if(!Qh(c.precondition,u))return m;const y=qb(c.fieldTransforms,p,u),E=u.data;return E.setAll(Vx(c)),E.setAll(y),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(i,e,n,r):(function(c,u,m){return Qh(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(i,e,n)}function I4(i,e){let n=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),c=kx(r.transform,o||null);c!=null&&(n===null&&(n=Tn.empty()),n.set(r.field,c))}return n||null}function zb(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&qo(r,o,((c,u)=>R4(c,u)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Kc extends jd{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Br extends jd{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Vx(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function Bb(i,e,n){const r=new Map;Ke(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const c=i[o],u=c.transform,m=e.data.field(c.field);r.set(c.field,A4(u,m,n[o]))}return r}function qb(i,e,n){const r=new Map;for(const o of i){const c=o.transform,u=n.data.field(o.field);r.set(o.field,S4(c,u,e))}return r}class Tg extends jd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k4 extends jd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&C4(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Cx();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let m=this.applyToLocalView(u,c.mutatedFields);m=n.has(o.key)?null:m;const p=jx(u,m);p!==null&&r.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Te.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,((n,r)=>zb(n,r)))&&qo(this.baseMutations,e.baseMutations,((n,r)=>zb(n,r)))}}class wg{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return b4})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,r[u].version);return new wg(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Be;function j4(i){switch(i){case ne.OK:return xe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return xe(15467,{code:i})}}function Ux(i){if(i===void 0)return Ms("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Mt.OK:return ne.OK;case Mt.CANCELLED:return ne.CANCELLED;case Mt.UNKNOWN:return ne.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return ne.INTERNAL;case Mt.UNAVAILABLE:return ne.UNAVAILABLE;case Mt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Mt.NOT_FOUND:return ne.NOT_FOUND;case Mt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Mt.ABORTED:return ne.ABORTED;case Mt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Mt.DATA_LOSS:return ne.DATA_LOSS;default:return xe(39323,{code:i})}}(Be=Mt||(Mt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=new Ar([4294967295,4294967295],0);function Hb(i){const e=V4().encode(i),n=new W1;return n.update(e),new Uint8Array(n.digest())}function Fb(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ar([n,r],0),new Ar([o,c],0)]}class Sg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new pc(`Invalid padding: ${n}`);if(r<0)throw new pc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new pc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ar.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(Ar.fromNumber(r)));return o.compare(U4)===1&&(o=new Ar([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Hb(e),[r,o]=Fb(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(r,o,c);if(!this.we(u))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new Sg(c,o,n);return r.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const n=Hb(e),[r,o]=Fb(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(r,o,c);this.be(u)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Qc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vd(Te.min(),o,new mt(Pe),js(),Le())}}class Qc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qc(r,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class Px{constructor(e,n){this.targetId=e,this.Ce=n}}class Lx{constructor(e,n,r=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Gb{constructor(){this.ve=0,this.Fe=$b(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),r=Le();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:xe(38017,{changeType:c})}})),new Qc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=$b()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class P4{constructor(e){this.Ge=e,this.ze=new Map,this.je=js(),this.He=jh(),this.Je=jh(),this.Ze=new mt(Pe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Ip(c))if(r===0){const u=new ve(c.path);this.et(n,u,an.newNoDocument(u,Te.min()))}else Ke(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const m=this.ut(e),p=m?this.ct(m,e,u):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let u,m;try{u=Or(r).toUint8Array()}catch(p){if(p instanceof ux)return Na("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Sg(u,o,c)}catch(p){return Na(p instanceof pc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,u)=>{const m=this.ot(u);if(m){if(c.current&&Ip(m.target)){const p=new ve(m.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,an.newNoDocument(p,e))}c.Be&&(n.set(u,c.ke()),c.Ke())}}));let r=Le();this.Je.forEach(((c,u)=>{let m=!0;u.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new Vd(e,n,this.Ze,this.je,r);return this.je=js(),this.He=jh(),this.Je=jh(),this.Ze=new mt(Pe),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Gb,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new zt(Pe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new zt(Pe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Gb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function jh(){return new mt(ve.comparator)}function $b(){return new mt(ve.comparator)}const L4={asc:"ASCENDING",desc:"DESCENDING"},z4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B4={and:"AND",or:"OR"};class q4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dp(i,e){return i.useProto3Json||Id(e)?e:{value:e}}function md(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zx(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function H4(i,e){return md(i,e.toTimestamp())}function Yi(i){return Ke(!!i,49232),Te.fromTimestamp((function(n){const r=Dr(n);return new ot(r.seconds,r.nanos)})(i))}function Ag(i,e){return Op(i,e).canonicalString()}function Op(i,e){const n=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Bx(i){const e=st.fromString(i);return Ke($x(e),10190,{key:e.toString()}),e}function Mp(i,e){return Ag(i.databaseId,e.path)}function ap(i,e){const n=Bx(e);if(n.get(1)!==i.databaseId.projectId)throw new ue(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ue(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ve(Hx(n))}function qx(i,e){return Ag(i.databaseId,e)}function F4(i){const e=Bx(i);return e.length===4?st.emptyPath():Hx(e)}function jp(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Hx(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Kb(i,e,n){return{name:Mp(i,e),fields:n.value.mapValue.fields}}function G4(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:xe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Ke(E===void 0||typeof E=="string",58123),en.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),en.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(y){const E=y.code===void 0?ne.UNKNOWN:Ux(y.code);return new ue(E,y.message||"")})(u);n=new Lx(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=ap(i,r.document.name),c=Yi(r.document.updateTime),u=r.document.createTime?Yi(r.document.createTime):Te.min(),m=new Tn({mapValue:{fields:r.document.fields}}),p=an.newFoundDocument(o,c,u,m),y=r.targetIds||[],E=r.removedTargetIds||[];n=new Yh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=ap(i,r.document),c=r.readTime?Yi(r.readTime):Te.min(),u=an.newNoDocument(o,c),m=r.removedTargetIds||[];n=new Yh([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=ap(i,r.document),c=r.removedTargetIds||[];n=new Yh([],c,o,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,u=new M4(o,c),m=r.targetId;n=new Px(m,u)}}return n}function $4(i,e){let n;if(e instanceof Kc)n={update:Kb(i,e.key,e.value)};else if(e instanceof Tg)n={delete:Mp(i,e.key)};else if(e instanceof Br)n={update:Kb(i,e.key,e.data),updateMask:tD(e.fieldMask)};else{if(!(e instanceof k4))return xe(16599,{dt:e.type});n={verify:Mp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,u){const m=u.transform;if(m instanceof dd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof jc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Vc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof fd)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw xe(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:H4(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:xe(27497)})(i,e.precondition)),n}function K4(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map((n=>(function(o,c){let u=o.updateTime?Yi(o.updateTime):Yi(c);return u.isEqual(Te.min())&&(u=Yi(c)),new N4(u,o.transformResults||[])})(n,e)))):[]}function Q4(i,e){return{documents:[qx(i,e.path)]}}function Y4(i,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qx(i,o);const c=(function(y){if(y.length!==0)return Gx(Ti.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const u=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:ko(w.field),direction:W4(w.dir)}})(E)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const m=Dp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function X4(i){let e=F4(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ke(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(x){const w=Fx(x);return w instanceof Ti&&bx(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(x){return x.map((w=>(function(L){return new Mc(Do(L.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(x){let w;return w=typeof x=="object"?x.value:x,Id(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(x){const w=!!x.before,R=x.values||[];return new ud(R,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(x){const w=!x.before,R=x.values||[];return new ud(R,w)})(n.endAt)),f4(e,o,u,c,m,"F",p,y)}function J4(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Fx(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Do(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Do(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Do(n.unaryFilter.field);return jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Do(n.unaryFilter.field);return jt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(i):i.fieldFilter!==void 0?(function(n){return jt.create(Do(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Ti.create(n.compositeFilter.filters.map((r=>Fx(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(i):xe(30097,{filter:i})}function W4(i){return L4[i]}function Z4(i){return z4[i]}function eD(i){return B4[i]}function ko(i){return{fieldPath:i.canonicalString()}}function Do(i){return Zt.fromServerFormat(i.fieldPath)}function Gx(i){return i instanceof jt?(function(n){if(n.op==="=="){if(Mb(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NAN"}};if(Ob(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Mb(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NAN"}};if(Ob(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(n.field),op:Z4(n.op),value:n.value}}})(i):i instanceof Ti?(function(n){const r=n.getFilters().map((o=>Gx(o)));return r.length===1?r[0]:{compositeFilter:{op:eD(n.op),filters:r}}})(i):xe(54877,{filter:i})}function tD(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function $x(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function Kx(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n,r,o,c=Te.min(),u=Te.min(),m=en.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.yt=e}}function iD(i){const e=X4({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?hd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.Sn=new rD}addToCollectionParentIndex(e,n){return this.Sn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(kr.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class rD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new zt(st.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new zt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qx=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(Qx,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Go(0)}static ar(){return new Go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="LruGarbageCollector",aD=1048576;function Xb([i,e],[n,r]){const o=Pe(i,n);return o===0?Pe(e,r):o}class oD{constructor(e){this.Pr=e,this.buffer=new zt(Xb),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Xb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){he(Yb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){tl(n)?he(Yb,"Ignoring IndexedDB error during garbage collection: ",n):await el(n)}await this.Ar(3e5)}))}}class cD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Cd.ce);const r=new oD(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Qb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qb):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,c,u,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,u=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(r=x,m=Date.now(),this.removeTargets(e,r,n)))).next((x=>(c=x,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(y=Date.now(),Co()<=Ue.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-E}ms
	Determined least recently used ${o} in `+(m-u)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${x} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function uD(i,e){return new cD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.changes=new ja((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&wc(r.mutation,o,Pn.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Le()){const o=va();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let u=mc();return c.forEach(((m,p)=>{u=u.insert(m,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=va();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Le())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,m)=>{n.set(u,m)}))}))}computeViews(e,n,r,o){let c=js();const u=Tc(),m=(function(){return Tc()})();return n.forEach(((p,y)=>{const E=r.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Br)?c=c.insert(y.key,y):E!==void 0?(u.set(y.key,E.mutation.getFieldMask()),wc(E.mutation,y,E.mutation.getFieldMask(),ot.now())):u.set(y.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((y,E)=>u.set(y,E))),n.forEach(((y,E)=>m.set(y,new dD(E,u.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=Tc();let o=new mt(((u,m)=>u-m)),c=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const m of u)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=r.get(p)||Pn.empty();E=m.applyToLocalView(y,E),r.set(p,E);const x=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,x)}))})).next((()=>{const u=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,x=Cx();E.forEach((w=>{if(!c.has(w)){const R=jx(n.get(w),r.get(w));R!==null&&x.set(w,R),c=c.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,x))}return ie.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return m4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):ie.resolve(va());let m=Ic,p=c;return u.next((y=>ie.forEach(y,((E,x)=>(m<x.largestBatchId&&(m=x.largestBatchId),c.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,p,y,Le()))).next((E=>({batchId:m,changes:Nx(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((r=>{let o=mc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let u=mc();return this.indexManager.getCollectionParents(e,c).next((m=>ie.forEach(m,(p=>{const y=(function(x,w){return new nl(w,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((E=>{E.forEach(((x,w)=>{u=u.insert(x,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((u=>{c.forEach(((p,y)=>{const E=y.getKey();u.get(E)===null&&(u=u.insert(E,an.newInvalidDocument(E)))}));let m=mc();return u.forEach(((p,y)=>{const E=c.get(p);E!==void 0&&wc(E.mutation,y,Pn.empty(),ot.now()),Od(n,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ie.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Yi(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:iD(o.bundledQuery),readTime:Yi(o.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.overlays=new mt(ve.comparator),this.Lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=va();return ie.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.bt(e,n,c)})),ie.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const o=va(),c=n.length+1,u=new ve(n.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>r&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new mt(((y,E)=>y-E));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let E=c.get(y.largestBatchId);E===null&&(E=va(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=va(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return ie.resolve(m)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new O4(n,r));let c=this.Lr.get(n);c===void 0&&(c=Le(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(){this.kr=new zt($t.Kr),this.qr=new zt($t.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new $t(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new $t(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ve(new st([])),r=new $t(n,e),o=new $t(n,e+1),c=[];return this.qr.forEachInRange([r,o],(u=>{this.Wr(u),c.push(u.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ve(new st([])),r=new $t(n,e),o=new $t(n,e+1);let c=Le();return this.qr.forEachInRange([r,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const n=new $t(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ve.comparator(e.key,n.key)||Pe(e.Hr,n.Hr)}static Ur(e,n){return Pe(e.Hr,n.Hr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new zt($t.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new D4(c,n,r,o);this.mutationQueue.push(u);for(const m of o)this.Jr=this.Jr.add(new $t(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(u)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),c=o<0?0:o;return ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?gg:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $t(n,0),o=new $t(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(u=>{const m=this.Zr(u.Hr);c.push(m)})),ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zt(Pe);return n.forEach((o=>{const c=new $t(o,0),u=new $t(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,u],(m=>{r=r.add(m.Hr)}))})),ie.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;ve.isDocumentKey(c)||(c=c.child(""));const u=new $t(new ve(c),0);let m=new zt(Pe);return this.Jr.forEachWhile((p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Hr)),!0)}),u),ie.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ie.forEach(n.mutations,(o=>{const c=new $t(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new $t(n,0),o=this.Jr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.ti=e,this.docs=(function(){return new mt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,u=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let r=js();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():an.newInvalidDocument(o))})),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=js();const u=n.path,m=new ve(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||Fk(Hk(E),r)<=0||(o.has(E.key)||Od(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return ie.resolve(c)}getAllFromCollectionGroup(e,n,r,o){xe(9500)}ni(e,n){return ie.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new vD(this)}getSize(e){return ie.resolve(this.size)}}class vD extends hD{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),ie.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.persistence=e,this.ri=new ja((n=>vg(n)),bg),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.ii=0,this.si=new Rg,this.targetCount=0,this.oi=Go._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ie.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Go(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.lr(n),ie.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.ri.forEach(((u,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(u),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(c).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),ie.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n){this._i={},this.overlays={},this.ai=new Cd(0),this.ui=!1,this.ui=!0,this.ci=new gD,this.referenceDelegate=e(this),this.li=new bD(this),this.indexManager=new sD,this.remoteDocumentCache=(function(o){return new _D(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new nD(n),this.Pi=new mD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new yD(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const o=new ED(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return ie.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class ED extends $k{constructor(e){super(),this.currentSequenceNumber=e}}class Ng{constructor(e){this.persistence=e,this.Ri=new Rg,this.Ai=null}static Vi(e){return new Ng(e)}get di(){if(this.Ai)return this.Ai;throw xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(r=>{const o=ve.fromPath(r);return this.mi(e,o).next((c=>{c||n.removeEntry(o,Te.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class pd{constructor(e,n){this.persistence=e,this.fi=new ja((r=>Yk(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=uD(this,n)}static Vi(e,n){return new pd(e,n)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ie.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?ie.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(u=>this.wr(e,u,n).next((m=>{m||(r++,c.removeEntry(u,Te.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$h(e.data.value)),n}wr(e,n,r){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ie.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=Le(),o=Le();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Cg(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return XR()?8:Kk(on())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.gs(e,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ps(e,n,o,r).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new xD;return this.ys(e,n,u).next((m=>{if(c.result=m,this.As)return this.ws(e,n,u,m.size)}))})).next((()=>c.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(Co()<=Ue.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(Co()<=Ue.DEBUG&&he("QueryEngine","Query:",Io(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Co()<=Ue.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):ie.resolve())}gs(e,n){if(Pb(n))return ie.resolve(null);let r=Qi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=hd(n,null,"F"),r=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const u=Le(...c);return this.fs.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,r).next((p=>{const y=this.bs(n,m);return this.Ss(n,y,u,p.readTime)?this.gs(e,hd(n,null,"F")):this.Ds(e,y,n,p)}))))})))))}ps(e,n,r,o){return Pb(n)||o.isEqual(Te.min())?ie.resolve(null):this.fs.getDocuments(e,r).next((c=>{const u=this.bs(n,c);return this.Ss(n,u,r,o)?ie.resolve(null):(Co()<=Ue.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Io(n)),this.Ds(e,u,n,qk(o,Ic)).next((m=>m)))}))}bs(e,n){let r=new zt(Ax(e));return n.forEach(((o,c)=>{Od(e,c)&&(r=r.add(c))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,r){return Co()<=Ue.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Io(n)),this.fs.getDocumentsMatchingQuery(e,n,kr.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="LocalStore",wD=3e8;class SD{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new mt(Pe),this.Fs=new ja((c=>vg(c)),bg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function AD(i,e,n,r){return new SD(i,e,n,r)}async function Xx(i,e){const n=Se(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const u=[],m=[];let p=Le();for(const y of o){u.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(r,p).next((y=>({Ns:y,removedBatchIds:u,addedBatchIds:m})))}))}))}function RD(i,e){const n=Se(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const x=y.batch,w=x.keys();let R=ie.resolve();return w.forEach((L=>{R=R.next((()=>E.getEntry(p,L))).next((P=>{const U=y.docVersions.get(L);Ke(U!==null,48541),P.version.compareTo(U)<0&&(x.applyToRemoteDocument(P,y),P.isValidDocument()&&(P.setReadTime(y.commitVersion),E.addEntry(P)))}))})),R.next((()=>m.mutationQueue.removeMutationBatch(p,x)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Le();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function Jx(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function ND(i,e){const n=Se(i),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,x)=>{const w=o.get(x);if(!w)return;m.push(n.li.removeMatchingKeys(c,E.removedDocuments,x).next((()=>n.li.addMatchingKeys(c,E.addedDocuments,x))));let R=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?R=R.withResumeToken(en.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):E.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(E.resumeToken,r)),o=o.insert(x,R),(function(P,U,W){return P.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=wD?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(w,R,E)&&m.push(n.li.updateTargetData(c,R))}));let p=js(),y=Le();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),m.push(CD(c,u,e.documentUpdates).next((E=>{p=E.Bs,y=E.Ls}))),!r.isEqual(Te.min())){const E=n.li.getLastRemoteSnapshotVersion(c).next((x=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));m.push(E)}return ie.waitFor(m).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,y))).next((()=>p))})).then((c=>(n.vs=o,c)))}function CD(i,e,n){let r=Le(),o=Le();return n.forEach((c=>r=r.add(c))),e.getEntries(i,r).next((c=>{let u=js();return n.forEach(((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(m,p.readTime),u=u.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(m,p)):he(Ig,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{Bs:u,Ls:o}}))}function ID(i,e){const n=Se(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=gg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function kD(i,e){const n=Se(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((c=>c?(o=c,ie.resolve(o)):n.li.allocateTargetId(r).next((u=>(o=new Tr(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Vp(i,e,n){const r=Se(i),o=r.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!tl(u))throw u;he(Ig,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function Jb(i,e,n){const r=Se(i);let o=Te.min(),c=Le();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,y,E){const x=Se(p),w=x.Fs.get(E);return w!==void 0?ie.resolve(x.vs.get(w)):x.li.getTargetData(y,E)})(r,u,Qi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,m.targetId).next((p=>{c=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,n?o:Te.min(),n?c:Le()))).next((m=>(DD(r,y4(e),m),{documents:m,ks:c})))))}function DD(i,e,n){let r=i.Ms.get(e)||Te.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),i.Ms.set(e,r)}class Wb{constructor(){this.activeTargetIds=T4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OD{constructor(){this.vo=new Wb,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Wb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="ConnectivityMonitor";class eE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){he(Zb,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){he(Zb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh=null;function Up(){return Vh===null?Vh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vh++,"0x"+Vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="RestConnection",jD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class VD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===ld?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,c){const u=Up(),m=this.Qo(e,n.toUriEncodedString());he(op,`Sending RPC '${e}' ${u}:`,m,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,c);const{host:y}=new URL(m),E=Ur(y);return this.zo(e,m,p,r,E).then((x=>(he(op,`Received RPC '${e}' ${u}: `,x),x)),(x=>{throw Na(op,`RPC '${e}' ${u} failed with error: `,x,"url: ",m,"request:",r),x}))}jo(e,n,r,o,c,u){return this.Wo(e,n,r,o,c)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const r=jD[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection",cc=(i,e,n)=>{i.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Lo extends VD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Lo.c_){const e=nx();cc(e,tx.STAT_EVENT,(n=>{n.stat===Sp.PROXY?he(sn,"STAT_EVENT: detected buffering proxy"):n.stat===Sp.NOPROXY&&he(sn,"STAT_EVENT: detected no buffering proxy")})),Lo.c_=!0}}zo(e,n,r,o,c){const u=Up();return new Promise(((m,p)=>{const y=new Z1;y.setWithCredentials(!0),y.listenOnce(ex.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Gh.NO_ERROR:const x=y.getResponseJson();he(sn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),m(x);break;case Gh.TIMEOUT:he(sn,`RPC '${e}' ${u} timed out`),p(new ue(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Gh.HTTP_ERROR:const w=y.getStatus();if(he(sn,`RPC '${e}' ${u} failed with status:`,w,"response text:",y.getResponseText()),w>0){let R=y.getResponseJson();Array.isArray(R)&&(R=R[0]);const L=R==null?void 0:R.error;if(L&&L.status&&L.message){const P=(function(W){const se=W.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(se)>=0?se:ne.UNKNOWN})(L.status);p(new ue(P,L.message))}else p(new ue(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ue(ne.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{he(sn,`RPC '${e}' ${u} completed.`)}}));const E=JSON.stringify(o);he(sn,`RPC '${e}' ${u} sending request:`,o),y.send(n,"POST",E,r,15)}))}T_(e,n,r){const o=Up(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=c.join("");he(sn,`Creating RPC '${e}' stream ${o}: ${y}`,m);const E=u.createWebChannel(y,m);this.I_(E);let x=!1,w=!1;const R=new UD({Ho:L=>{w?he(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(x||(he(sn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),x=!0),he(sn,`RPC '${e}' stream ${o} sending:`,L),E.send(L))},Jo:()=>E.close()});return cc(E,fc.EventType.OPEN,(()=>{w||(he(sn,`RPC '${e}' stream ${o} transport opened.`),R.i_())})),cc(E,fc.EventType.CLOSE,(()=>{w||(w=!0,he(sn,`RPC '${e}' stream ${o} transport closed`),R.o_(),this.E_(E))})),cc(E,fc.EventType.ERROR,(L=>{w||(w=!0,Na(sn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),R.o_(new ue(ne.UNAVAILABLE,"The operation could not be completed")))})),cc(E,fc.EventType.MESSAGE,(L=>{var P;if(!w){const U=L.data[0];Ke(!!U,16349);const W=U,se=(W==null?void 0:W.error)||((P=W[0])==null?void 0:P.error);if(se){he(sn,`RPC '${e}' stream ${o} received error:`,se);const Y=se.status;let X=(function(C){const A=Mt[C];if(A!==void 0)return Ux(A)})(Y),re=se.message;Y==="NOT_FOUND"&&re.includes("database")&&re.includes("does not exist")&&re.includes(this.databaseId.database)&&Na(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),X===void 0&&(X=ne.INTERNAL,re="Unknown error status: "+Y+" with message "+se.message),w=!0,R.o_(new ue(X,re)),E.close()}else he(sn,`RPC '${e}' stream ${o} received:`,U),R.__(U)}})),Lo.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ix()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(i){return new Lo(i)}function lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(i){return new q4(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lo.c_=!1;class Wx{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="PersistentStream";class Zx{constructor(e,n,r,o,c,u,m,p){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Wx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Ms(n.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new ue(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(tE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(he(tE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LD extends Zx{constructor(e,n,r,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,u),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=G4(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Te.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Te.min():u.readTime?Yi(u.readTime):Te.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=jp(this.serializer),n.addTarget=(function(c,u){let m;const p=u.target;if(m=Ip(p)?{documents:Q4(c,p)}:{query:Y4(c,p).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=zx(c,u.resumeToken);const y=Dp(c,u.expectedCount);y!==null&&(m.expectedCount=y)}else if(u.snapshotVersion.compareTo(Te.min())>0){m.readTime=md(c,u.snapshotVersion.toTimestamp());const y=Dp(c,u.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=J4(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=jp(this.serializer),n.removeTarget=e,this.K_(n)}}class zD extends Zx{constructor(e,n,r,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,u),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=K4(e.writeResults,e.commitTime),r=Yi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=jp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>$4(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{}class qD extends BD{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Wo(e,Op(n,r),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(ne.UNKNOWN,c.toString())}))}jo(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.jo(e,Op(n,r),o,u,m,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function HD(i,e,n,r){return new qD(i,e,n,r)}class FD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ms(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="RemoteStore";class GD{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{Va(this)&&(he(Ca,"Restarting streams for network reachability change."),await(async function(p){const y=Se(p);y.Ea.add(4),await Yc(y),y.Va.set("Unknown"),y.Ea.delete(4),await Pd(y)})(this))}))})),this.Va=new FD(r,o)}}async function Pd(i){if(Va(i))for(const e of i.Ra)await e(!0)}async function Yc(i){for(const e of i.Ra)await e(!1)}function eT(i,e){const n=Se(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Mg(n)?Og(n):il(n).O_()&&Dg(n,e))}function kg(i,e){const n=Se(i),r=il(n);n.Ia.delete(e),r.O_()&&tT(n,e),n.Ia.size===0&&(r.O_()?r.L_():Va(n)&&n.Va.set("Unknown"))}function Dg(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}il(i).Z_(e)}function tT(i,e){i.da.$e(e),il(i).X_(e)}function Og(i){i.da=new P4({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),il(i).start(),i.Va.ua()}function Mg(i){return Va(i)&&!il(i).x_()&&i.Ia.size>0}function Va(i){return Se(i).Ea.size===0}function nT(i){i.da=void 0}async function $D(i){i.Va.set("Online")}async function KD(i){i.Ia.forEach(((e,n)=>{Dg(i,e)}))}async function QD(i,e){nT(i),Mg(i)?(i.Va.ha(e),Og(i)):i.Va.set("Unknown")}async function YD(i,e,n){if(i.Va.set("Online"),e instanceof Lx&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,u),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(r){he(Ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gd(i,r)}else if(e instanceof Yh?i.da.Xe(e):e instanceof Px?i.da.st(e):i.da.tt(e),!n.isEqual(Te.min()))try{const r=await Jx(i.localStore);n.compareTo(r)>=0&&await(function(c,u){const m=c.da.Tt(u);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(p.resumeToken,u))}})),m.targetMismatches.forEach(((p,y)=>{const E=c.Ia.get(p);if(!E)return;c.Ia.set(p,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),tT(c,p);const x=new Tr(E.target,p,y,E.sequenceNumber);Dg(c,x)})),c.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(r){he(Ca,"Failed to raise snapshot:",r),await gd(i,r)}}async function gd(i,e,n){if(!tl(e))throw e;i.Ea.add(1),await Yc(i),i.Va.set("Offline"),n||(n=()=>Jx(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{he(Ca,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Pd(i)}))}function iT(i,e){return e().catch((n=>gd(i,n,e)))}async function Ld(i){const e=Se(i),n=jr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gg;for(;XD(e);)try{const o=await ID(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,JD(e,o)}catch(o){await gd(e,o)}sT(e)&&rT(e)}function XD(i){return Va(i)&&i.Ta.length<10}function JD(i,e){i.Ta.push(e);const n=jr(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function sT(i){return Va(i)&&!jr(i).x_()&&i.Ta.length>0}function rT(i){jr(i).start()}async function WD(i){jr(i).ra()}async function ZD(i){const e=jr(i);for(const n of i.Ta)e.ea(n.mutations)}async function eO(i,e,n){const r=i.Ta.shift(),o=wg.from(r,e,n);await iT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Ld(i)}async function tO(i,e){e&&jr(i).Y_&&await(async function(r,o){if((function(u){return j4(u)&&u!==ne.ABORTED})(o.code)){const c=r.Ta.shift();jr(r).B_(),await iT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ld(r)}})(i,e),sT(i)&&rT(i)}async function nE(i,e){const n=Se(i);n.asyncQueue.verifyOperationInProgress(),he(Ca,"RemoteStore received new credentials");const r=Va(n);n.Ea.add(3),await Yc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Pd(n)}async function nO(i,e){const n=Se(i);e?(n.Ea.delete(2),await Pd(n)):e||(n.Ea.add(2),await Yc(n),n.Va.set("Unknown"))}function il(i){return i.ma||(i.ma=(function(n,r,o){const c=Se(n);return c.sa(),new LD(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Zo:$D.bind(null,i),Yo:KD.bind(null,i),t_:QD.bind(null,i),J_:YD.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),Mg(i)?Og(i):i.Va.set("Unknown")):(await i.ma.stop(),nT(i))}))),i.ma}function jr(i){return i.fa||(i.fa=(function(n,r,o){const c=Se(n);return c.sa(),new zD(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:WD.bind(null,i),t_:tO.bind(null,i),ta:ZD.bind(null,i),na:eO.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await Ld(i)):(await i.fa.stop(),i.Ta.length>0&&(he(Ca,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const u=Date.now()+r,m=new jg(e,n,u,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(i,e){if(Ms("AsyncQueue",`${e}: ${i}`),tl(i))return new ue(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{static emptySet(e){return new zo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=mc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new zo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.ga=new mt(ve.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class $o{constructor(e,n,r,o,c,u,m,p,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,c){const u=[];return n.forEach((m=>{u.push({type:0,doc:m})})),new $o(e,n,zo.emptySet(n),u,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class sO{constructor(){this.queries=sE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Se(n),c=o.queries;o.queries=sE(),c.forEach(((u,m)=>{for(const p of m.ba)p.onError(r)}))})(this,new ue(ne.ABORTED,"Firestore shutting down"))}}function sE(){return new ja((i=>Sx(i)),Dd)}async function rO(i,e){const n=Se(i);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new iO,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const m=Vg(u,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Ug(n)}async function aO(i,e){const n=Se(i),r=e.query;let o=3;const c=n.queries.get(r);if(c){const u=c.ba.indexOf(e);u>=0&&(c.ba.splice(u,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oO(i,e){const n=Se(i);let r=!1;for(const o of e){const c=o.query,u=n.queries.get(c);if(u){for(const m of u.ba)m.Fa(o)&&(r=!0);u.wa=o}}r&&Ug(n)}function lO(i,e,n){const r=Se(i),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(n);r.queries.delete(e)}function Ug(i){i.Ca.forEach((e=>{e.next()}))}var Pp,rE;(rE=Pp||(Pp={})).Ma="default",rE.Cache="cache";class cO{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new $o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this.key=e}}class oT{constructor(e){this.key=e}}class uO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.eu=Ax(e),this.tu=new zo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new iE,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,x)=>{const w=o.get(E),R=Od(this.query,x)?x:null,L=!!w&&this.mutatedKeys.has(w.key),P=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let U=!1;w&&R?w.data.isEqual(R.data)?L!==P&&(r.track({type:3,doc:R}),U=!0):this.su(w,R)||(r.track({type:2,doc:R}),U=!0,(p&&this.eu(R,p)>0||y&&this.eu(R,y)<0)&&(m=!0)):!w&&R?(r.track({type:0,doc:R}),U=!0):w&&!R&&(r.track({type:1,doc:w}),U=!0,(p||y)&&(m=!0)),U&&(R?(u=u.add(R),c=P?c.add(E):c.delete(E)):(u=u.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const E=this.query.limitType==="F"?u.last():u.first();u=u.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:u,iu:r,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((E,x)=>(function(R,L){const P=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:U})}};return P(R)-P(L)})(E.type,x.type)||this.eu(E.doc,x.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Xa;return this.Xa=p,u.length!==0||y?{snapshot:new $o(this.query,e.tu,c,u,e.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new oT(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new aT(r))})),n}cu(e){this.Za=e.ks,this.Ya=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return $o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Pg="SyncEngine";class hO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dO{constructor(e){this.key=e,this.hu=!1}}class fO{constructor(e,n,r,o,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ja((m=>Sx(m)),Dd),this.Iu=new Map,this.Eu=new Set,this.Ru=new mt(ve.comparator),this.Au=new Map,this.Vu=new Rg,this.du={},this.mu=new Map,this.fu=Go.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mO(i,e,n=!0){const r=fT(i);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await lT(r,e,n,!0),o}async function pO(i,e){const n=fT(i);await lT(n,e,!0,!1)}async function lT(i,e,n,r){const o=await kD(i.localStore,Qi(e)),c=o.targetId,u=i.sharedClientState.addLocalQueryTarget(c,n);let m;return r&&(m=await gO(i,e,c,u==="current",o.resumeToken)),i.isPrimaryClient&&n&&eT(i.remoteStore,o),m}async function gO(i,e,n,r,o){i.pu=(x,w,R)=>(async function(P,U,W,se){let Y=U.view.ru(W);Y.Ss&&(Y=await Jb(P.localStore,U.query,!1).then((({documents:C})=>U.view.ru(C,Y))));const X=se&&se.targetChanges.get(U.targetId),re=se&&se.targetMismatches.get(U.targetId)!=null,de=U.view.applyChanges(Y,P.isPrimaryClient,X,re);return oE(P,U.targetId,de.au),de.snapshot})(i,x,w,R);const c=await Jb(i.localStore,e,!0),u=new uO(e,c.ks),m=u.ru(c.documents),p=Qc.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",o),y=u.applyChanges(m,i.isPrimaryClient,p);oE(i,n,y.au);const E=new hO(e,n,u);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function yO(i,e,n){const r=Se(i),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((u=>!Dd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Vp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&kg(r.remoteStore,o.targetId),Lp(r,o.targetId)})).catch(el)):(Lp(r,o.targetId),await Vp(r.localStore,o.targetId,!0))}async function _O(i,e){const n=Se(i),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),kg(n.remoteStore,r.targetId))}async function vO(i,e,n){const r=AO(i);try{const o=await(function(u,m){const p=Se(u),y=ot.now(),E=m.reduce(((R,L)=>R.add(L.key)),Le());let x,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let L=js(),P=Le();return p.xs.getEntries(R,E).next((U=>{L=U,L.forEach(((W,se)=>{se.isValidDocument()||(P=P.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,L))).next((U=>{x=U;const W=[];for(const se of m){const Y=I4(se,x.get(se.key).overlayedDocument);Y!=null&&W.push(new Br(se.key,Y,yx(Y.value.mapValue),bi.exists(!0)))}return p.mutationQueue.addMutationBatch(R,y,W,m)})).next((U=>{w=U;const W=U.applyToLocalDocumentSet(x,P);return p.documentOverlayCache.saveOverlays(R,U.batchId,W)}))})).then((()=>({batchId:w.batchId,changes:Nx(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,m,p){let y=u.du[u.currentUser.toKey()];y||(y=new mt(Pe)),y=y.insert(m,p),u.du[u.currentUser.toKey()]=y})(r,o.batchId,n),await Xc(r,o.changes),await Ld(r.remoteStore)}catch(o){const c=Vg(o,"Failed to persist write");n.reject(c)}}async function cT(i,e){const n=Se(i);try{const r=await ND(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=n.Au.get(c);u&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Ke(u.hu,14607):o.removedDocuments.size>0&&(Ke(u.hu,42227),u.hu=!1))})),await Xc(n,r,e)}catch(r){await el(r)}}function aE(i,e,n){const r=Se(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,u)=>{const m=u.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(u,m){const p=Se(u);p.onlineState=m;let y=!1;p.queries.forEach(((E,x)=>{for(const w of x.ba)w.va(m)&&(y=!0)})),y&&Ug(p)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bO(i,e,n){const r=Se(i);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let u=new mt(ve.comparator);u=u.insert(c,an.newNoDocument(c,Te.min()));const m=Le().add(c),p=new Vd(Te.min(),new Map,new mt(Pe),u,m);await cT(r,p),r.Ru=r.Ru.remove(c),r.Au.delete(e),Lg(r)}else await Vp(r.localStore,e,!1).then((()=>Lp(r,e,n))).catch(el)}async function EO(i,e){const n=Se(i),r=e.batch.batchId;try{const o=await RD(n.localStore,e);hT(n,r,null),uT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xc(n,o)}catch(o){await el(o)}}async function xO(i,e,n){const r=Se(i);try{const o=await(function(u,m){const p=Se(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((x=>(Ke(x!==null,37113),E=x.keys(),p.mutationQueue.removeMutationBatch(y,x)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(r.localStore,e);hT(r,e,n),uT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xc(r,o)}catch(o){await el(o)}}function uT(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function hT(i,e,n){const r=Se(i);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Lp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((r=>{i.Vu.containsKey(r)||dT(i,r)}))}function dT(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(kg(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),Lg(i))}function oE(i,e,n){for(const r of n)r instanceof aT?(i.Vu.addReference(r.key,e),TO(i,r)):r instanceof oT?(he(Pg,"Document no longer in limbo: "+r.key),i.Vu.removeReference(r.key,e),i.Vu.containsKey(r.key)||dT(i,r.key)):xe(19791,{wu:r})}function TO(i,e){const n=e.key,r=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(r)||(he(Pg,"New document in limbo: "+n),i.Eu.add(r),Lg(i))}function Lg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ve(st.fromString(e)),r=i.fu.next();i.Au.set(r,new dO(n)),i.Ru=i.Ru.insert(n,r),eT(i.remoteStore,new Tr(Qi(Eg(n.path)),r,"TargetPurposeLimboResolution",Cd.ce))}}async function Xc(i,e,n){const r=Se(i),o=[],c=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{u.push(r.pu(p,e,n).then((y=>{var E;if((y||n)&&r.isPrimaryClient){const x=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:E.current;r.sharedClientState.updateQueryState(p.targetId,x?"current":"not-current")}if(y){o.push(y);const x=Cg.Es(p.targetId,y);c.push(x)}})))})),await Promise.all(u),r.Pu.J_(o),await(async function(p,y){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ie.forEach(y,(w=>ie.forEach(w.Ts,(R=>E.persistence.referenceDelegate.addReference(x,w.targetId,R))).next((()=>ie.forEach(w.Is,(R=>E.persistence.referenceDelegate.removeReference(x,w.targetId,R)))))))))}catch(x){if(!tl(x))throw x;he(Ig,"Failed to update sequence numbers: "+x)}for(const x of y){const w=x.targetId;if(!x.fromCache){const R=E.vs.get(w),L=R.snapshotVersion,P=R.withLastLimboFreeSnapshotVersion(L);E.vs=E.vs.insert(w,P)}}})(r.localStore,c))}async function wO(i,e){const n=Se(i);if(!n.currentUser.isEqual(e)){he(Pg,"User change. New user:",e.toKey());const r=await Xx(n.localStore,e);n.currentUser=e,(function(c,u){c.mu.forEach((m=>{m.forEach((p=>{p.reject(new ue(ne.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xc(n,r.Ns)}}function SO(i,e){const n=Se(i),r=n.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let o=Le();const c=n.Iu.get(e);if(!c)return o;for(const u of c){const m=n.Tu.get(u);o=o.unionWith(m.view.nu)}return o}}function fT(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=cT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bO.bind(null,e),e.Pu.J_=oO.bind(null,e.eventManager),e.Pu.yu=lO.bind(null,e.eventManager),e}function AO(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xO.bind(null,e),e}class yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ud(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return AD(this.persistence,new TD,e.initialUser,this.serializer)}Cu(e){return new Yx(Ng.Vi,this.serializer)}Du(e){return new OD}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yd.provider={build:()=>new yd};class RO extends yd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof pd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lD(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new Yx((r=>pd.Vi(r,n)),this.serializer)}}class zp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wO.bind(null,this.syncEngine),await nO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sO})()}createDatastore(e){const n=Ud(e.databaseInfo.databaseId),r=PD(e.databaseInfo);return HD(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,u,m){return new GD(r,o,c,u,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>aE(this.syncEngine,n,0)),(function(){return eE.v()?new eE:new MD})())}createSyncEngine(e,n){return(function(o,c,u,m,p,y,E){const x=new fO(o,c,u,m,p,y);return E&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const c=Se(o);he(Ca,"RemoteStore shutting down."),c.Ea.add(5),await Yc(c),c.Aa.shutdown(),c.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}zp.provider={build:()=>new zp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ms("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="FirestoreClient";class CO{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=pg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async u=>{he(Vr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(he(Vr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Vg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function cp(i,e){i.asyncQueue.verifyOperationInProgress(),he(Vr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Xx(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function lE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await IO(i);he(Vr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>nE(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>nE(e.remoteStore,o))),i._onlineComponents=e}async function IO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(Vr,"Using user provided OfflineComponentProvider");try{await cp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Na("Error using user provided cache. Falling back to memory cache: "+n),await cp(i,new yd)}}else he(Vr,"Using default OfflineComponentProvider"),await cp(i,new RO(void 0));return i._offlineComponents}async function mT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(Vr,"Using user provided OnlineComponentProvider"),await lE(i,i._uninitializedComponentsProvider._online)):(he(Vr,"Using default OnlineComponentProvider"),await lE(i,new zp))),i._onlineComponents}function kO(i){return mT(i).then((e=>e.syncEngine))}async function cE(i){const e=await mT(i),n=e.eventManager;return n.onListen=mO.bind(null,e.syncEngine),n.onUnlisten=yO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_O.bind(null,e.syncEngine),n}function DO(i,e,n,r){const o=new NO(r),c=new cO(e,o,n);return i.asyncQueue.enqueueAndForget((async()=>rO(await cE(i),c))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>aO(await cE(i),c)))}}function OO(i,e){const n=new ba;return i.asyncQueue.enqueueAndForget((async()=>vO(await kO(i),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="ComponentProvider",uE=new Map;function jO(i,e,n,r,o){return new Wk(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,pT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="firestore.googleapis.com",hE=!0;class dE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gT,this.ssl=hE}else this.host=e.host,this.ssl=e.ssl??hE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Qx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aD)throw new ue(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zd{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new kk;switch(r.type){case"firstParty":return new jk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=uE.get(n);r&&(he(MO,"Removing Datastore"),uE.delete(n),r.terminate())})(this),Promise.resolve()}}function VO(i,e,n,r={}){var y;i=Rr(i,zd);const o=Ur(e),c=i._getSettings(),u={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(tg(`https://${m}`),ng("Firestore",!0)),c.host!==gT&&c.host!==m&&Na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:m,ssl:o,emulatorOptions:r};if(!Ta(p,u)&&(i._setSettings(p),r.mockUserToken)){let E,x;if(typeof r.mockUserToken=="string")E=r.mockUserToken,x=rn.MOCK_USER;else{E=d1(r.mockUserToken,(y=i._app)==null?void 0:y.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ue(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new rn(w)}i._authCredentials=new Dk(new rx(E,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qr(this.firestore,e,this._query)}}class Ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if($c(n,Ut._jsonSchema))return new Ut(e,r||null,new ve(st.fromString(n.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Vt("string",Ut._jsonSchemaVersion),referencePath:Vt("string")};class Nr extends qr{constructor(e,n,r){super(e,n,Eg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new ve(e))}withConverter(e){return new Nr(this.firestore,e,this._path)}}function ts(i,e,...n){if(i=_t(i),ax("collection","path",e),i instanceof zd){const r=st.fromString(e,...n);return wb(r),new Nr(i,null,r)}{if(!(i instanceof Ut||i instanceof Nr))throw new ue(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(st.fromString(e,...n));return wb(r),new Nr(i.firestore,null,r)}}function Jc(i,e,...n){if(i=_t(i),arguments.length===1&&(e=pg.newId()),ax("doc","path",e),i instanceof zd){const r=st.fromString(e,...n);return Tb(r),new Ut(i,null,new ve(r))}{if(!(i instanceof Ut||i instanceof Nr))throw new ue(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(st.fromString(e,...n));return Tb(r),new Ut(i.firestore,i instanceof Nr?i.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="AsyncQueue";class mE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Wx(this,"async_queue_retry"),this._c=()=>{const r=lp();r&&he(fE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=lp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=lp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ba;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!tl(e))throw e;he(fE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ms("INTERNAL UNHANDLED ERROR: ",pE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=jg.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:pE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function pE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Ko extends zd{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new mE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mE(e),this._firestoreClient=void 0,await e}}}function UO(i,e){const n=typeof i=="object"?i:rg(),r=typeof i=="string"?i:ld,o=wd(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=c1("firestore");c&&VO(o,...c)}return o}function yT(i){if(i._terminated)throw new ue(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||PO(i),i._firestoreClient}function PO(i){var r,o,c,u;const e=i._freezeSettings(),n=jO(i._databaseId,((r=i._app)==null?void 0:r.options.appId)||"",i._persistenceKey,(o=i._app)==null?void 0:o.options.apiKey,e);i._componentsProvider||(c=e.localCache)!=null&&c._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new CO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(p){const y=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(y),_online:y}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(en.fromBase64String(e))}catch(n){throw new ue(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new si(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($c(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Vt("string",si._jsonSchemaVersion),bytes:Vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if($c(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Vt("string",Xi._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($c(e,Ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ei(e.vectorValues);throw new ue(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:Vt("string",Ei._jsonSchemaVersion),vectorValues:Vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=/^__.*__$/;class zO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Br(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kc(e,this.data,n,this.fieldTransforms)}}class _T{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Br(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{dataSource:i})}}class qg{constructor(e,n,r,o,c,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new qg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const n=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var o;const n=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return _d(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(vT(this.dataSource)&&LO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class BO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ud(e)}createContext(e,n,r,o=!1){return new qg({dataSource:e,methodName:n,targetDoc:r,path:Zt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hg(i){const e=i._freezeSettings(),n=Ud(i._databaseId);return new BO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function qO(i,e,n,r,o,c={}){const u=i.createContext(c.merge||c.mergeFields?2:0,e,n,o);Fg("Data must be an object, but it was:",u,r);const m=bT(r,u);let p,y;if(c.merge)p=new Pn(u.fieldMask),y=u.fieldTransforms;else if(c.mergeFields){const E=[];for(const x of c.mergeFields){const w=Ia(e,x,n);if(!u.contains(w))throw new ue(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);TT(E,w)||E.push(w)}p=new Pn(E),y=u.fieldTransforms.filter((x=>p.covers(x.field)))}else p=null,y=u.fieldTransforms;return new zO(new Tn(m),p,y)}class Bd extends Bg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bd}}function HO(i,e,n,r){const o=i.createContext(1,e,n);Fg("Data must be an object, but it was:",o,r);const c=[],u=Tn.empty();zr(r,((p,y)=>{const E=xT(e,p,n);y=_t(y);const x=o.childContextForFieldPath(E);if(y instanceof Bd)c.push(E);else{const w=Wc(y,x);w!=null&&(c.push(E),u.set(E,w))}}));const m=new Pn(c);return new _T(u,m,o.fieldTransforms)}function FO(i,e,n,r,o,c){const u=i.createContext(1,e,n),m=[Ia(e,r,n)],p=[o];if(c.length%2!=0)throw new ue(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)m.push(Ia(e,c[w])),p.push(c[w+1]);const y=[],E=Tn.empty();for(let w=m.length-1;w>=0;--w)if(!TT(y,m[w])){const R=m[w];let L=p[w];L=_t(L);const P=u.childContextForFieldPath(R);if(L instanceof Bd)y.push(R);else{const U=Wc(L,P);U!=null&&(y.push(R),E.set(R,U))}}const x=new Pn(y);return new _T(E,x,u.fieldTransforms)}function GO(i,e,n,r=!1){return Wc(n,i.createContext(r?4:3,e))}function Wc(i,e){if(ET(i=_t(i)))return Fg("Unsupported field value:",e,i),bT(i,e);if(i instanceof Bg)return(function(r,o){if(!vT(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let u=0;for(const m of r){let p=Wc(m,o.childContextForArray(u));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),u++}return{arrayValue:{values:c}}})(i,e)}return(function(r,o){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return w4(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ot.fromDate(r);return{timestampValue:md(o.serializer,c)}}if(r instanceof ot){const c=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:md(o.serializer,c)}}if(r instanceof Xi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof si)return{bytesValue:zx(o.serializer,r._byteString)};if(r instanceof Ut){const c=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(c))throw o.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ag(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ei)return(function(u,m){const p=u instanceof Ei?u.toArray():u;return{mapValue:{fields:{[px]:{stringValue:gx},[cd]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return xg(m.serializer,E)}))}}}}}})(r,o);if(Kx(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Nd(r)}`)})(i,e)}function bT(i,e){const n={};return cx(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zr(i,((r,o)=>{const c=Wc(o,e.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function ET(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ot||i instanceof Xi||i instanceof si||i instanceof Ut||i instanceof Bg||i instanceof Ei||Kx(i))}function Fg(i,e,n){if(!ET(n)||!ox(n)){const r=Nd(n);throw r==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+r)}}function Ia(i,e,n){if((e=_t(e))instanceof zg)return e._internalPath;if(typeof e=="string")return xT(i,e);throw _d("Field path arguments must be of type string or ",i,!1,void 0,n)}const $O=new RegExp("[~\\*/\\[\\]]");function xT(i,e,n){if(e.search($O)>=0)throw _d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new zg(...e.split("."))._internalPath}catch{throw _d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function _d(i,e,n,r,o){const c=r&&!r.isEmpty(),u=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||u)&&(p+=" (found",c&&(p+=` in field ${r}`),u&&(p+=` in document ${o}`),p+=")"),new ue(ne.INVALID_ARGUMENT,m+i+p)}function TT(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{convertValue(e,n="none"){switch(Mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zr(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){var r,o,c;const n=(c=(o=(r=e.fields)==null?void 0:r[cd].arrayValue)==null?void 0:o.values)==null?void 0:c.map((u=>At(u.doubleValue)));return new Ei(n)}convertGeoPoint(e){return new Xi(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=kd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kc(e));default:return null}}convertTimestamp(e){const n=Dr(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Ke($x(r),9688,{name:e});const o=new Dc(r.get(1),r.get(3)),c=new ve(r.popFirst(5));return o.isEqual(n)||Ms(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT extends KO{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}const gE="@firebase/firestore",yE="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(i){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Ia("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QO extends ST{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gg{}class $g extends Gg{}function Zc(i,e,...n){let r=[];e instanceof Gg&&r.push(e),r=r.concat(n),(function(c){const u=c.filter((p=>p instanceof Kg)).length,m=c.filter((p=>p instanceof qd)).length;if(u>1||u>0&&m>0)throw new ue(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class qd extends $g{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qd(e,n,r)}_apply(e){const n=this._parse(e);return AT(e._query,n),new qr(e.firestore,e.converter,kp(e._query,n))}_parse(e){const n=Hg(e.firestore);return(function(c,u,m,p,y,E,x){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){EE(x,E);const L=[];for(const P of x)L.push(bE(p,c,P));w={arrayValue:{values:L}}}else w=bE(p,c,x)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||EE(x,E),w=GO(m,u,x,E==="in"||E==="not-in");return jt.create(y,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function vE(i,e,n){const r=e,o=Ia("where",i);return qd._create(o,r,n)}class Kg extends Gg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Kg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ti.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let u=o;const m=c.getFlattenedFilters();for(const p of m)AT(u,p),u=kp(u,p)})(e._query,n),new qr(e.firestore,e.converter,kp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qg extends $g{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Qg(e,n)}_apply(e){const n=(function(o,c,u){if(o.startAt!==null)throw new ue(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mc(c,u)})(e._query,this._field,this._direction);return new qr(e.firestore,e.converter,g4(e._query,n))}}function XO(i,e="asc"){const n=e,r=Ia("orderBy",i);return Qg._create(r,n)}class Yg extends $g{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Yg(e,n,r)}_apply(e){return new qr(e.firestore,e.converter,hd(e._query,this._limit,this._limitType))}}function JO(i){return Yg._create("limit",i,"F")}function bE(i,e,n){if(typeof(n=_t(n))=="string"){if(n==="")throw new ue(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wx(e)&&n.indexOf("/")!==-1)throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!ve.isDocumentKey(r))throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Db(i,new ve(r))}if(n instanceof Ut)return Db(i,n._key);throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nd(n)}.`)}function EE(i,e){if(!Array.isArray(i)||i.length===0)throw new ue(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AT(i,e){const n=(function(o,c){for(const u of o)for(const m of u.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function WO(i,e,n){let r;return r=i?i.toFirestore(e):e,r}class gc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ea extends ST{constructor(e,n,r,o,c,u){super(e,n,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ia("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ea._jsonSchema={type:Vt("string",Ea._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Xh extends Ea{data(e={}){return super.data(e)}}class Bo{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new gc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Xh(this._firestore,this._userDataWriter,r.key,r,new gc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((m=>{const p=new Xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new gc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const p=new Xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new gc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),E=u.indexOf(m.doc.key)),{type:ZO(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:i})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bo._jsonSchemaVersion="firestore/querySnapshot/1.0",Bo._jsonSchema={type:Vt("string",Bo._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};function RT(i,e,n,...r){i=Rr(i,Ut);const o=Rr(i.firestore,Ko),c=Hg(o);let u;return u=typeof(e=_t(e))=="string"||e instanceof zg?FO(c,"updateDoc",i._key,e,n,r):HO(c,"updateDoc",i._key,e),Xg(o,[u.toMutation(i._key,bi.exists(!0))])}function NT(i){return Xg(Rr(i.firestore,Ko),[new Tg(i._key,bi.none())])}function eu(i,e){const n=Rr(i.firestore,Ko),r=Jc(i),o=WO(i.converter,e),c=Hg(i.firestore);return Xg(n,[qO(c,"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,bi.exists(!1))]).then((()=>r))}function tu(i,...e){var y,E,x;i=_t(i);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||_E(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(_E(e[r])){const w=e[r];e[r]=(y=w.next)==null?void 0:y.bind(w),e[r+1]=(E=w.error)==null?void 0:E.bind(w),e[r+2]=(x=w.complete)==null?void 0:x.bind(w)}let c,u,m;if(i instanceof Ut)u=Rr(i.firestore,Ko),m=Eg(i._key.path),c={next:w=>{e[r]&&e[r](e3(u,i,w))},error:e[r+1],complete:e[r+2]};else{const w=Rr(i,qr);u=Rr(w.firestore,Ko),m=w._query;const R=new wT(u);c={next:L=>{e[r]&&e[r](new Bo(u,R,w,L))},error:e[r+1],complete:e[r+2]},YO(i._query)}const p=yT(u);return DO(p,m,o,c)}function Xg(i,e){const n=yT(i);return OO(n,e)}function e3(i,e,n){const r=n.docs.get(e._key),o=new wT(i);return new Ea(i,o,e._key,r,new gc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){Ik(Oa),wa(new Ir("firestore",((r,{instanceIdentifier:o,options:c})=>{const u=r.getProvider("app").getImmediate(),m=new Ko(new Ok(r.getProvider("auth-internal")),new Vk(u,r.getProvider("app-check-internal")),Zk(u,o),u);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Gi(gE,yE,e),Gi(gE,yE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="firebasestorage.googleapis.com",IT="storageBucket",t3=120*1e3,n3=600*1e3,i3=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt extends es{constructor(e,n,r=0){super(up(e),`Firebase Storage: ${n} (${up(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return up(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var lt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(lt||(lt={}));function up(i){return"storage/"+i}function Jg(){const i="An unknown error occurred, please check the error payload for server response.";return new pt(lt.UNKNOWN,i)}function s3(i){return new pt(lt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function r3(i){return new pt(lt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function a3(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pt(lt.UNAUTHENTICATED,i)}function o3(){return new pt(lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function l3(i){return new pt(lt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function kT(){return new pt(lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DT(){return new pt(lt.CANCELED,"User canceled the upload/download.")}function c3(i){return new pt(lt.INVALID_URL,"Invalid URL '"+i+"'.")}function u3(i){return new pt(lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function h3(){return new pt(lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+IT+"' property when initializing the app?")}function OT(){return new pt(lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function d3(){return new pt(lt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function f3(){return new pt(lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function m3(i){return new pt(lt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Bp(i){return new pt(lt.INVALID_ARGUMENT,i)}function MT(){return new pt(lt.APP_DELETED,"The Firebase app was deleted.")}function p3(i){return new pt(lt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sc(i,e){return new pt(lt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function uc(i){throw new pt(lt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ln.makeFromUrl(e,n)}catch{return new Ln(e,"")}if(r.path==="")return r;throw u3(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function c(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const u="(/(.*))?$",m=new RegExp("^gs://"+o+u,"i"),p={bucket:1,path:3};function y(X){X.path_=decodeURIComponent(X.path)}const E="v[A-Za-z0-9_]+",x=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",R=new RegExp(`^https?://${x}/${E}/b/${o}/o${w}`,"i"),L={bucket:1,path:3},P=n===CT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,U="([^?#]*)",W=new RegExp(`^https?://${P}/${o}/${U}`,"i"),Y=[{regex:m,indices:p,postModify:c},{regex:R,indices:L,postModify:y},{regex:W,indices:{bucket:1,path:2},postModify:y}];for(let X=0;X<Y.length;X++){const re=Y[X],de=re.regex.exec(e);if(de){const C=de[re.indices.bucket];let A=de[re.indices.path];A||(A=""),r=new Ln(C,A),re.postModify(r);break}}if(r==null)throw c3(e);return r}}class g3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(i,e,n){let r=1,o=null,c=null,u=!1,m=0;function p(){return m===2}let y=!1;function E(...U){y||(y=!0,e.apply(null,U))}function x(U){o=setTimeout(()=>{o=null,i(R,p())},U)}function w(){c&&clearTimeout(c)}function R(U,...W){if(y){w();return}if(U){w(),E.call(null,U,...W);return}if(p()||u){w(),E.call(null,U,...W);return}r<64&&(r*=2);let Y;m===1?(m=2,Y=0):Y=(r+Math.random())*1e3,x(Y)}let L=!1;function P(U){L||(L=!0,w(),!y&&(o!==null?(U||(m=2),clearTimeout(o),x(0)):U||(m=1)))}return x(0),c=setTimeout(()=>{u=!0,P(!0)},n),P}function _3(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(i){return i!==void 0}function b3(i){return typeof i=="function"}function E3(i){return typeof i=="object"&&!Array.isArray(i)}function Hd(i){return typeof i=="string"||i instanceof String}function xE(i){return Wg()&&i instanceof Blob}function Wg(){return typeof Blob<"u"}function TE(i,e,n,r){if(r<e)throw Bp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>n)throw Bp(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(i,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${i}`}function jT(i){const e=encodeURIComponent;let n="?";for(const r in i)if(i.hasOwnProperty(r)){const o=e(r)+"="+e(i[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var xa;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(xa||(xa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,c=e.indexOf(i)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n,r,o,c,u,m,p,y,E,x,w=!0,R=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=x,this.retry=w,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,P)=>{this.resolve_=L,this.reject_=P,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Uh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const u=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&c.addUploadProgressListener(u),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(u),this.pendingConnection_=null;const m=c.getErrorCode()===xa.NO_ERROR,p=c.getStatus();if(!m||VT(p,this.additionalRetryCodes_)&&this.retry){const E=c.getErrorCode()===xa.ABORT;r(!1,new Uh(!1,null,E));return}const y=this.successCodes_.indexOf(p)!==-1;r(!0,new Uh(y,c))})},n=(r,o)=>{const c=this.resolve_,u=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());v3(p)?c(p):c()}catch(p){u(p)}else if(m!==null){const p=Jg();p.serverResponse=m.getErrorText(),this.errorCallback_?u(this.errorCallback_(m,p)):u(p)}else if(o.canceled){const p=this.appDelete_?MT():DT();u(p)}else{const p=kT();u(p)}};this.canceled_?n(!1,new Uh(!1,null,!0)):this.backoffId_=y3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Uh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function T3(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function w3(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function S3(i,e){e&&(i["X-Firebase-GMPID"]=e)}function A3(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function R3(i,e,n,r,o,c,u=!0,m=!1){const p=jT(i.urlParams),y=i.url+p,E=Object.assign({},i.headers);return S3(E,e),T3(E,n),w3(E,c),A3(E,r),new x3(y,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,u,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function C3(...i){const e=N3();if(e!==void 0){const n=new e;for(let r=0;r<i.length;r++)n.append(i[r]);return n.getBlob()}else{if(Wg())return new Blob(i);throw new pt(lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function I3(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(i){if(typeof atob>"u")throw m3("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hp{constructor(e,n){this.data=e,this.contentType=n||null}}function D3(i,e){switch(i){case Fi.RAW:return new hp(UT(e));case Fi.BASE64:case Fi.BASE64URL:return new hp(PT(i,e));case Fi.DATA_URL:return new hp(M3(e),j3(e))}throw Jg()}function UT(i){const e=[];for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const c=r,u=i.charCodeAt(++n);r=65536|(c&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function O3(i){let e;try{e=decodeURIComponent(i)}catch{throw Sc(Fi.DATA_URL,"Malformed data URL.")}return UT(e)}function PT(i,e){switch(i){case Fi.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw Sc(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Fi.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw Sc(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=k3(e)}catch(o){throw o.message.includes("polyfill")?o:Sc(i,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class LT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Sc(Fi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=V3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function M3(i){const e=new LT(i);return e.base64?PT(Fi.BASE64,e.rest):O3(e.rest)}function j3(i){return new LT(i).contentType}function V3(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n){let r=0,o="";xE(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(xE(this.data_)){const r=this.data_,o=I3(r,e,n);return o===null?null:new xr(o)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new xr(r,!0)}}static getBlob(...e){if(Wg()){const n=e.map(r=>r instanceof xr?r.data_:r);return new xr(C3.apply(null,n))}else{const n=e.map(u=>Hd(u)?D3(Fi.RAW,u).data:u.data_);let r=0;n.forEach(u=>{r+=u.byteLength});const o=new Uint8Array(r);let c=0;return n.forEach(u=>{for(let m=0;m<u.length;m++)o[c++]=u[m]}),new xr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(i){let e;try{e=JSON.parse(i)}catch{return null}return E3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function P3(i,e){const n=e.split("/").filter(r=>r.length>0).join("/");return i.length===0?n:i+"/"+n}function BT(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(i,e){return e}class un{constructor(e,n,r,o){this.server=e,this.local=n||e,this.writable=!!r,this.xform=o||L3}}let Ph=null;function z3(i){return!Hd(i)||i.length<2?i:BT(i)}function qT(){if(Ph)return Ph;const i=[];i.push(new un("bucket")),i.push(new un("generation")),i.push(new un("metageneration")),i.push(new un("name","fullPath",!0));function e(c,u){return z3(u)}const n=new un("name");n.xform=e,i.push(n);function r(c,u){return u!==void 0?Number(u):u}const o=new un("size");return o.xform=r,i.push(o),i.push(new un("timeCreated")),i.push(new un("updated")),i.push(new un("md5Hash",null,!0)),i.push(new un("cacheControl",null,!0)),i.push(new un("contentDisposition",null,!0)),i.push(new un("contentEncoding",null,!0)),i.push(new un("contentLanguage",null,!0)),i.push(new un("contentType",null,!0)),i.push(new un("metadata","customMetadata",!0)),Ph=i,Ph}function B3(i,e){function n(){const r=i.bucket,o=i.fullPath,c=new Ln(r,o);return e._makeStorageReference(c)}Object.defineProperty(i,"ref",{get:n})}function q3(i,e,n){const r={};r.type="file";const o=n.length;for(let c=0;c<o;c++){const u=n[c];r[u.local]=u.xform(r,e[u.server])}return B3(r,i),r}function HT(i,e,n){const r=zT(e);return r===null?null:q3(i,r,n)}function H3(i,e,n,r){const o=zT(e);if(o===null||!Hd(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const u=encodeURIComponent;return c.split(",").map(y=>{const E=i.bucket,x=i.fullPath,w="/b/"+u(E)+"/o/"+u(x),R=nu(w,n,r),L=jT({alt:"media",token:y});return R+L})[0]}function FT(i,e){const n={},r=e.length;for(let o=0;o<r;o++){const c=e[o];c.writable&&(n[c.server]=i[c.local])}return JSON.stringify(n)}class sl{constructor(e,n,r,o){this.url=e,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(i){if(!i)throw Jg()}function Zg(i,e){function n(r,o){const c=HT(i,o,e);return Is(c!==null),c}return n}function F3(i,e){function n(r,o){const c=HT(i,o,e);return Is(c!==null),H3(c,o,i.host,i._protocol)}return n}function iu(i){function e(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=o3():o=a3():n.getStatus()===402?o=r3(i.bucket):n.getStatus()===403?o=l3(i.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return e}function GT(i){const e=iu(i);function n(r,o){let c=e(r,o);return r.getStatus()===404&&(c=s3(i.path)),c.serverResponse=o.serverResponse,c}return n}function G3(i,e,n){const r=e.fullServerUrl(),o=nu(r,i.host,i._protocol),c="GET",u=i.maxOperationRetryTime,m=new sl(o,c,Zg(i,n),u);return m.errorHandler=GT(e),m}function $3(i,e,n){const r=e.fullServerUrl(),o=nu(r,i.host,i._protocol),c="GET",u=i.maxOperationRetryTime,m=new sl(o,c,F3(i,n),u);return m.errorHandler=GT(e),m}function K3(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function $T(i,e,n){const r=Object.assign({},n);return r.fullPath=i.path,r.size=e.size(),r.contentType||(r.contentType=K3(null,e)),r}function Q3(i,e,n,r,o){const c=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function m(){let Y="";for(let X=0;X<2;X++)Y=Y+Math.random().toString().slice(2);return Y}const p=m();u["Content-Type"]="multipart/related; boundary="+p;const y=$T(e,r,o),E=FT(y,n),x="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,w=`\r
--`+p+"--",R=xr.getBlob(x,r,w);if(R===null)throw OT();const L={name:y.fullPath},P=nu(c,i.host,i._protocol),U="POST",W=i.maxUploadRetryTime,se=new sl(P,U,Zg(i,n),W);return se.urlParams=L,se.headers=u,se.body=R.uploadData(),se.errorHandler=iu(e),se}class vd{constructor(e,n,r,o){this.current=e,this.total=n,this.finalized=!!r,this.metadata=o||null}}function ey(i,e){let n=null;try{n=i.getResponseHeader("X-Goog-Upload-Status")}catch{Is(!1)}return Is(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Y3(i,e,n,r,o){const c=e.bucketOnlyServerUrl(),u=$T(e,r,o),m={name:u.fullPath},p=nu(c,i.host,i._protocol),y="POST",E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},x=FT(u,n),w=i.maxUploadRetryTime;function R(P){ey(P);let U;try{U=P.getResponseHeader("X-Goog-Upload-URL")}catch{Is(!1)}return Is(Hd(U)),U}const L=new sl(p,y,R,w);return L.urlParams=m,L.headers=E,L.body=x,L.errorHandler=iu(e),L}function X3(i,e,n,r){const o={"X-Goog-Upload-Command":"query"};function c(y){const E=ey(y,["active","final"]);let x=null;try{x=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Is(!1)}x||Is(!1);const w=Number(x);return Is(!isNaN(w)),new vd(w,r.size(),E==="final")}const u="POST",m=i.maxUploadRetryTime,p=new sl(n,u,c,m);return p.headers=o,p.errorHandler=iu(e),p}const wE=256*1024;function J3(i,e,n,r,o,c,u,m){const p=new vd(0,0);if(u?(p.current=u.current,p.total=u.total):(p.current=0,p.total=r.size()),r.size()!==p.total)throw d3();const y=p.total-p.current;let E=y;o>0&&(E=Math.min(E,o));const x=p.current,w=x+E;let R="";E===0?R="finalize":y===E?R="upload, finalize":R="upload";const L={"X-Goog-Upload-Command":R,"X-Goog-Upload-Offset":`${p.current}`},P=r.slice(x,w);if(P===null)throw OT();function U(X,re){const de=ey(X,["active","final"]),C=p.current+E,A=r.size();let N;return de==="final"?N=Zg(e,c)(X,re):N=null,new vd(C,A,de==="final",N)}const W="POST",se=e.maxUploadRetryTime,Y=new sl(n,W,U,se);return Y.headers=L,Y.body=P.uploadData(),Y.progressCallback=m||null,Y.errorHandler=iu(i),Y}const xn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function dp(i){switch(i){case"running":case"pausing":case"canceling":return xn.RUNNING;case"paused":return xn.PAUSED;case"success":return xn.SUCCESS;case"canceled":return xn.CANCELED;case"error":return xn.ERROR;default:return xn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n,r){if(b3(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const c=e;this.next=c.next,this.error=c.error,this.complete=c.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(i){return(...e)=>{Promise.resolve().then(()=>i(...e))}}class Z3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,o,c){if(this.sent_)throw uc("cannot .send() more than once");if(Ur(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),c!==void 0)for(const u in c)c.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,c[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw uc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw uc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw uc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw uc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class e5 extends Z3{initXhr(){this.xhr_.responseType="text"}}function Oo(){return new e5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=qT(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(lt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const c=this.isExponentialBackoffExpired();if(VT(o.status,[]))if(c)o=kT();else{this.sleepTime=Math.max(this.sleepTime*2,i3),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(lt.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,c)=>{this._resolve=o,this._reject=c,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Y3(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Oo,e,n);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._uploadUrl=c,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const o=X3(this._ref.storage,this._ref._location,e,this._blob),c=this._ref.storage._makeRequest(o,Oo,n,r);this._request=c,c.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=wE*this._chunkMultiplier,n=new vd(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,c)=>{let u;try{u=J3(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(u,Oo,o,c,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){wE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=G3(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,Oo,e,n);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=Q3(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Oo,e,n);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=DT(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=dp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,o){const c=new W3(n||void 0,r||void 0,o||void 0);return this._addObserver(c),()=>{this._removeObserver(c)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(dp(this._state)){case xn.SUCCESS:No(this._resolve.bind(null,this.snapshot))();break;case xn.CANCELED:case xn.ERROR:const n=this._reject;No(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(dp(this._state)){case xn.RUNNING:case xn.PAUSED:e.next&&No(e.next.bind(e,this.snapshot))();break;case xn.SUCCESS:e.complete&&No(e.complete.bind(e))();break;case xn.CANCELED:case xn.ERROR:e.error&&No(e.error.bind(e,this._error))();break;default:e.error&&No(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n){this._service=e,n instanceof Ln?this._location=n:this._location=Ln.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ka(e,n)}get root(){const e=new Ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BT(this._location.path)}get storage(){return this._service}get parent(){const e=U3(this._location.path);if(e===null)return null;const n=new Ln(this._location.bucket,e);return new ka(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw p3(e)}}function n5(i,e,n){return i._throwIfRoot("uploadBytesResumable"),new t5(i,new xr(e),n)}function i5(i){i._throwIfRoot("getDownloadURL");const e=$3(i.storage,i._location,qT());return i.storage.makeRequestWithTokens(e,Oo).then(n=>{if(n===null)throw f3();return n})}function s5(i,e){const n=P3(i._location.path,e),r=new Ln(i._location.bucket,n);return new ka(i.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(i){return/^[A-Za-z]+:\/\//.test(i)}function a5(i,e){return new ka(i,e)}function KT(i,e){if(i instanceof ty){const n=i;if(n._bucket==null)throw h3();const r=new ka(n,n._bucket);return e!=null?KT(r,e):r}else return e!==void 0?s5(i,e):i}function o5(i,e){if(e&&r5(e)){if(i instanceof ty)return a5(i,e);throw Bp("To use ref(service, url), the first argument must be a Storage instance.")}else return KT(i,e)}function SE(i,e){const n=e==null?void 0:e[IT];return n==null?null:Ln.makeFromBucketSpec(n,i)}function l5(i,e,n,r={}){i.host=`${e}:${n}`;const o=Ur(e);o&&(tg(`https://${i.host}/b`),ng("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:c}=r;c&&(i._overrideAuthToken=typeof c=="string"?c:d1(c,i.app.options.projectId))}class ty{constructor(e,n,r,o,c,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=u,this._bucket=null,this._host=CT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=t3,this._maxUploadRetryTime=n3,this._requests=new Set,o!=null?this._bucket=Ln.makeFromBucketSpec(o,this._host):this._bucket=SE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,e):this._bucket=SE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ka(this,e)}_makeRequest(e,n,r,o,c=!0){if(this._deleted)return new g3(MT());{const u=R3(e,this._appId,r,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const AE="@firebase/storage",RE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="storage";function c5(i,e,n){return i=_t(i),n5(i,e,n)}function u5(i){return i=_t(i),i5(i)}function h5(i,e){return i=_t(i),o5(i,e)}function d5(i=rg(),e){i=_t(i);const r=wd(i,QT).getImmediate({identifier:e}),o=c1("storage");return o&&f5(r,...o),r}function f5(i,e,n,r={}){l5(i,e,n,r)}function m5(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new ty(n,r,o,e,Oa)}function p5(){wa(new Ir(QT,m5,"PUBLIC").setMultipleInstances(!0)),Gi(AE,RE,""),Gi(AE,RE,"esm2020")}p5();const g5={apiKey:"AIzaSyDIYLFaM7IX1pDUkcvSKKig4Pu0jFyrM6Y",authDomain:"app-exercicio-max.firebaseapp.com",projectId:"app-exercicio-max",storageBucket:"app-exercicio-max.firebasestorage.app",messagingSenderId:"421765071196",appId:"1:421765071196:web:787567a356a1ea31954199",measurementId:"G-CVDFKJGE2H"},ny=p1(g5),Fd=Nk(ny),wn=UO(ny),y5=d5(ny);var Vn=(i=>(i.ACTIVE="ativo",i.ELIMINATED="eliminado",i))(Vn||{});const iy="users",Gd="timeSlots",sy="checkIns",YT="distributions",XT="qrCodes",rl=i=>{const e=Zc(ts(wn,iy));return tu(e,n=>{const r=n.docs.map(o=>({id:o.id,...o.data()}));i(r)})},_5=async i=>{const e={...i,balance:i.depositedValue,status:Vn.ACTIVE,createdAt:new Date().toISOString(),photoUrl:i.photoUrl||""};await eu(ts(wn,iy),e)},Uc=async i=>{const e=Jc(wn,iy,i.id),{id:n,...r}=i;await RT(e,r)},ry=i=>{const e=Zc(ts(wn,Gd));return tu(e,n=>{const r=n.docs.map(o=>({id:o.id,...o.data()}));i(r)})},v5=async i=>{await eu(ts(wn,Gd),i)},b5=async i=>{await NT(Jc(wn,Gd,i))},E5=async i=>{const e=Jc(wn,Gd,i.id),{id:n,...r}=i;await RT(e,r)},su=i=>{const e=Zc(ts(wn,sy));return tu(e,n=>{const r=n.docs.map(o=>({id:o.id,...o.data()}));i(r)})},x5=async i=>{await eu(ts(wn,sy),i)},T5=async i=>{await NT(Jc(wn,sy,i))},JT=i=>{const e=Zc(ts(wn,YT),XO("date","asc"));return tu(e,n=>{const r=n.docs.map(o=>({id:o.id,...o.data()}));i(r)})},NE=async i=>{await eu(ts(wn,YT),i)},WT=i=>{new Date().toLocaleDateString("pt-BR");const n=(()=>{const o=new Date;return`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}`})(),r=Zc(ts(wn,XT),vE("date","==",n),vE("active","==",!0),JO(1));return tu(r,o=>{o.empty?i(null):i({id:o.docs[0].id,...o.docs[0].data()})})},w5=async()=>{const n={date:(()=>{const r=new Date;return`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}`})(),token:Math.random().toString(36).substring(2,10).toUpperCase(),active:!0,createdAt:new Date().toISOString()};return await eu(ts(wn,XT),n),n},S5=()=>{const[i,e]=V.useState([]),[n,r]=V.useState(!1),[o,c]=V.useState(""),[u,m]=V.useState(null),[p,y]=V.useState(0),[E,x]=V.useState(!1),[w,R]=V.useState({name:"",cpf:"",uniqueCode:"",phone:"",depositedValue:0,pixKey:"",street:"",neighborhood:"",city:"",photoUrl:""}),L=()=>{const X="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let re="";for(let de=0;de<4;de++)re+=X.charAt(Math.floor(Math.random()*X.length));return re};V.useEffect(()=>{const X=rl(re=>{e(re)});return()=>X()},[]);const P=async X=>{var A;const re=(A=X.target.files)==null?void 0:A[0];if(!re)return;x(!0),y(0);const de=h5(y5,`users/${Date.now()}_${re.name}`),C=c5(de,re);C.on("state_changed",N=>{const O=N.bytesTransferred/N.totalBytes*100;y(O),console.log("Upload is "+O+"% done")},N=>{console.error("Error uploading:",N),x(!1),N.code==="storage/unauthorized"?alert("Permisso negada. Verifique as regras do Storage."):N.code==="storage/canceled"?alert("Upload cancelado."):N.code==="storage/unknown"?alert("Erro desconhecido. Verifique a conexo."):alert(`Erro: ${N.message}`)},()=>{u5(C.snapshot.ref).then(N=>{R(O=>({...O,photoUrl:N})),x(!1),y(100)})})},U=async X=>{X.preventDefault(),console.log("Current User:",Fd.currentUser),console.log("Form Data:",w);try{u?await Uc({...u,...w}):await _5(w),R({name:"",cpf:"",uniqueCode:"",phone:"",depositedValue:0,pixKey:"",street:"",neighborhood:"",city:"",photoUrl:""}),m(null),r(!1)}catch(re){console.error("Error saving user:",re),alert(`Erro ao salvar usurio: ${re.message}`)}},W=X=>{m(X),R({name:X.name,cpf:X.cpf,uniqueCode:X.uniqueCode,phone:X.phone,depositedValue:X.depositedValue,pixKey:X.pixKey||"",street:X.street||"",neighborhood:X.neighborhood||"",city:X.city||"",photoUrl:X.photoUrl||""}),r(!0)},se=async X=>{try{const re=X.status===Vn.ACTIVE?Vn.ELIMINATED:Vn.ACTIVE;await Uc({...X,status:re})}catch(re){console.error("Error updating status:",re)}},Y=i.filter(X=>X.name.toLowerCase().includes(o.toLowerCase())||X.cpf.includes(o)||X.uniqueCode.toLowerCase().includes(o.toLowerCase()));return g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[g.jsxs("div",{className:"relative w-full md:w-[400px] group text-sm",children:[g.jsx(Wp,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-lime-600 transition-colors w-4 h-4"}),g.jsx("input",{type:"text",placeholder:"PESQUISAR ATLETA...",className:"w-full pl-12 pr-6 py-3 bg-white border-2 border-slate-300 rounded-xl text-slate-900 font-bold placeholder:text-slate-400 focus:ring-4 focus:ring-lime-400/10 focus:border-lime-500 outline-none transition-all shadow-md uppercase tracking-widest text-[11px]",value:o,onChange:X=>c(X.target.value)})]}),g.jsxs("button",{onClick:()=>{m(null),R({name:"",cpf:"",uniqueCode:L(),phone:"",depositedValue:0,pixKey:"",street:"",neighborhood:"",city:"",photoUrl:""}),r(!0)},className:"flex items-center px-6 py-3 bg-black text-lime-400 rounded-xl font-black uppercase italic tracking-tighter hover:bg-zinc-900 hover:scale-[1.05] transition-all shadow-2xl active:scale-95 text-xs",children:[g.jsx(e1,{className:"w-5 h-5 mr-2"}),"Cadastrar Atleta"]})]}),g.jsxs("div",{className:"bg-white rounded-[1.5rem] border-2 border-slate-300 overflow-hidden shadow-[0_15px_40px_rgba(0,0,0,0.06)]",children:[g.jsxs("table",{className:"min-w-full divide-y-2 divide-slate-200",children:[g.jsx("thead",{className:"bg-slate-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-slate-500 uppercase tracking-[0.3em]",children:"Perfil do Atleta"}),g.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-slate-500 uppercase tracking-[0.3em]",children:"Identificao"}),g.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-slate-500 uppercase tracking-[0.3em]",children:"Mtricas Financeiras"}),g.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-slate-500 uppercase tracking-[0.3em]",children:"Status"}),g.jsx("th",{className:"px-6 py-4 text-right text-[9px] font-black text-slate-500 uppercase tracking-[0.3em]",children:"Gesto"})]})}),g.jsx("tbody",{className:"divide-y-2 divide-slate-100",children:Y.map(X=>{var re,de;return g.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors group",children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-lg flex items-center justify-center text-lime-600 font-black text-lg border-2 border-slate-200 shadow-sm overflow-hidden",children:X.photoUrl?g.jsx("img",{src:X.photoUrl,alt:X.name,className:"w-full h-full object-cover"}):g.jsx("span",{children:X.name&&X.name[0]?X.name[0].toUpperCase():"?"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-black text-slate-900 uppercase tracking-tight",children:X.name}),g.jsx("div",{className:"text-[9px] text-slate-400 font-bold tracking-widest uppercase",children:X.phone})]})]})}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[g.jsxs("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:["CPF: ",X.cpf]}),g.jsx("div",{className:"text-[10px] text-black font-black font-sport bg-lime-400 inline-block px-2.5 py-0.5 rounded-lg border-2 border-lime-500 uppercase tracking-tighter italic shadow-sm",children:X.uniqueCode})]}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[g.jsxs("div",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest",children:["Aposta: R$ ",(re=X.depositedValue)==null?void 0:re.toFixed(2)]}),g.jsxs("div",{className:"text-base font-black text-slate-900 italic font-sport",children:["R$ ",(de=X.balance)==null?void 0:de.toFixed(2)]})]}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("span",{className:`px-3 py-1 inline-flex text-[8px] font-black rounded-full uppercase tracking-[0.2em] italic border-2 shadow-sm ${X.status===Vn.ACTIVE?"bg-lime-400 text-black border-lime-500":"bg-rose-50 text-rose-600 border-rose-200"}`,children:X.status===Vn.ACTIVE?"Em Competio":"Eliminado"})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx("button",{onClick:()=>W(X),className:"p-2 bg-white text-slate-400 hover:text-black hover:border-black rounded-lg transition-all border-2 border-slate-200 shadow-sm",children:g.jsx(tR,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>se(X),className:`p-2 rounded-lg transition-all border-2 shadow-sm ${X.status===Vn.ACTIVE?"bg-white text-slate-400 hover:text-rose-600 hover:border-rose-400 border-slate-200":"bg-white text-slate-400 hover:text-lime-600 hover:border-lime-400 border-slate-200"}`,children:X.status===Vn.ACTIVE?g.jsx(mR,{className:"w-4 h-4"}):g.jsx(JE,{className:"w-4 h-4"})})]})})]},X.id)})})]}),Y.length===0&&g.jsx("div",{className:"p-20 text-center text-slate-400 font-black uppercase tracking-[0.3em] italic bg-slate-50",children:"Nenhum Atleta Identificado"})]}),n&&g.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:g.jsxs("div",{className:"bg-white rounded-[1.5rem] border-4 border-slate-200 shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in duration-300 flex flex-col max-h-[85vh]",children:[g.jsxs("div",{className:"p-4 bg-slate-50 flex justify-between items-center border-b-4 border-slate-100 shrink-0",children:[g.jsx("h3",{className:"text-xl font-black italic uppercase font-sport text-slate-900 tracking-widest",children:u?"Modificar Perfil":"Novo Recruta"}),g.jsx("button",{onClick:()=>r(!1),className:"text-slate-400 hover:text-slate-900 p-2 bg-white rounded-lg border-2 border-slate-200 transition-all",children:g.jsx(s1,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:U,className:"flex flex-col flex-1 overflow-hidden",children:[g.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-3",children:[g.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 mb-1",children:[g.jsxs("div",{className:"w-20 h-20 bg-slate-100 rounded-full border-4 border-slate-200 flex items-center justify-center overflow-hidden relative group",children:[w.photoUrl?g.jsx("img",{src:w.photoUrl,alt:"Preview",className:"w-full h-full object-cover"}):g.jsx(D2,{className:"w-8 h-8 text-slate-400"}),E&&g.jsxs("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center flex-col",children:[g.jsxs("span",{className:"text-white text-[10px] font-bold",children:[Math.round(p),"%"]}),g.jsx("div",{className:"w-12 h-1 bg-slate-700 rounded-full mt-1 overflow-hidden",children:g.jsx("div",{className:"h-full bg-lime-400 transition-all duration-300",style:{width:`${p}%`}})})]}),g.jsxs("label",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all cursor-pointer",children:[g.jsx(SR,{className:"w-6 h-6 text-white"}),g.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:P,disabled:E})]})]}),E?g.jsx("p",{className:"text-[10px] font-bold text-slate-400 animate-pulse uppercase",children:"Enviando..."}):g.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Alterar Foto"})]}),g.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Nome Completo"}),g.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase placeholder:text-slate-300 text-xs",placeholder:"DIGITE O NOME",value:w.name,onChange:X=>R({...w,name:X.target.value})})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"CPF Registro"}),g.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none text-xs",value:w.cpf,onChange:X=>R({...w,cpf:X.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Tag nica (ID)"}),g.jsx("input",{readOnly:!0,type:"text",className:"w-full px-4 py-3 bg-lime-50/50 border-2 border-lime-200 rounded-xl text-lime-600 font-black font-sport italic transition-all outline-none uppercase cursor-not-allowed opacity-80 text-xs",value:w.uniqueCode})]})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Telefone"}),g.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none text-xs",value:w.phone,onChange:X=>R({...w,phone:X.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Aposta (R$)"}),g.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 bg-white border-2 border-slate-900 rounded-xl text-slate-900 font-black text-lg focus:ring-2 focus:ring-lime-400 transition-all outline-none",value:w.depositedValue,onChange:X=>R({...w,depositedValue:Number(X.target.value)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Pix"}),g.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none text-xs",placeholder:"CHAVE",value:w.pixKey,onChange:X=>R({...w,pixKey:X.target.value})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Endereo (Rua)"}),g.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase text-xs",value:w.street,onChange:X=>R({...w,street:X.target.value})})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Bairro"}),g.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase text-xs",value:w.neighborhood,onChange:X=>R({...w,neighborhood:X.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Cidade"}),g.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase text-xs",value:w.city,onChange:X=>R({...w,city:X.target.value})})]})]})]})]}),g.jsxs("div",{className:"p-4 bg-slate-50 border-t-4 border-slate-100 flex justify-end gap-3 shrink-0",children:[g.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-6 py-3 text-slate-400 font-black uppercase tracking-widest hover:text-slate-900 transition-colors text-[10px]",children:"Cancelar"}),g.jsx("button",{type:"submit",className:"px-8 py-3 bg-black text-lime-400 rounded-xl font-black uppercase italic tracking-tighter shadow-xl hover:scale-[1.05] transition-all text-[10px]",children:"Confirmar"})]})]})]})})]})},A5=()=>{const[i,e]=V.useState(null);V.useEffect(()=>{const m=WT(p=>{e(p)});return()=>m()},[]);const n=async()=>{try{await w5()}catch(m){console.error("Error creating QR Code:",m),alert(`Erro ao gerar QR Code: ${m.message}`)}},r=i?`${window.location.origin}/#/checkin?token=${i.token}`:"",o=()=>{navigator.clipboard.writeText(r),alert("LINK DE ACESSO COPIADO COM SUCESSO!")},c=()=>{const m=encodeURIComponent(` *FitReward - Portal de Check-in*

Atleta, seu portal de acesso para o treino de hoje j est disponvel!

Acesse aqui: ${r}`);window.open(`https://wa.me/?text=${m}`,"_blank")},u=()=>{const m=encodeURIComponent(`FitReward - Portal de Check-in

Atleta, seu portal de acesso para o treino de hoje j est disponvel!`);window.open(`https://t.me/share/url?url=${encodeURIComponent(r)}&text=${m}`,"_blank")};return g.jsxs("div",{className:"max-w-3xl mx-auto space-y-12 animate-in fade-in duration-700",children:[g.jsxs("div",{className:"bg-white p-10 md:p-14 rounded-[2rem] text-center space-y-10 shadow-[0_30px_70px_-15px_rgba(0,0,0,0.1)] border-2 border-slate-100 relative overflow-hidden group",children:[g.jsxs("div",{className:"relative inline-block",children:[g.jsx("div",{className:"absolute inset-0 bg-slate-200/20 blur-2xl rounded-full scale-150"}),g.jsx("div",{className:"relative p-6 bg-white border-2 border-slate-50 text-slate-900 rounded-[1.5rem] shadow-[0_15px_35px_rgba(0,0,0,0.05)]",children:g.jsx(t1,{className:"w-10 h-10 stroke-[1.5px]"})})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-3xl md:text-4xl font-black italic uppercase font-sport text-slate-900 tracking-tighter",children:"Portal de Acesso"}),g.jsxs("p",{className:"text-slate-400 flex items-center justify-center font-black uppercase text-[9px] tracking-[0.4em] gap-2",children:[g.jsx(Wh,{className:"w-2.5 h-2.5 text-lime-500"}),"Data Local: ",new Date().toLocaleDateString("pt-BR")]})]}),i?g.jsxs("div",{className:"space-y-10 animate-in zoom-in duration-500",children:[g.jsx("div",{className:"relative inline-block bg-white p-8 rounded-[2rem] border-2 border-slate-100 shadow-xl",children:g.jsxs("div",{className:"w-48 h-48 bg-white p-3 rounded-2xl flex items-center justify-center border-4 border-slate-50 shadow-inner overflow-hidden",children:[g.jsx("div",{className:"grid grid-cols-8 gap-1.5 w-full h-full opacity-90",children:Array.from({length:64}).map((m,p)=>g.jsx("div",{className:`rounded-[2px] ${Math.random()>.4?"bg-black":"bg-transparent"}`},p))}),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx("div",{className:"bg-white px-4 py-2 border-[5px] border-black rounded-xl font-sport italic font-black text-black text-2xl tracking-widest shadow-2xl",children:i.token.substring(0,4).toUpperCase()})})]})}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 max-w-xl mx-auto pt-2",children:[g.jsxs("button",{onClick:c,className:"flex items-center justify-center gap-2 px-5 py-4 bg-[#25D366] text-white rounded-2xl font-black uppercase text-[9px] tracking-widest shadow-lg hover:scale-105 active:scale-95 transition-all",children:[g.jsx(Z2,{className:"w-4 h-4 fill-current"}),"WhatsApp"]}),g.jsxs("button",{onClick:u,className:"flex items-center justify-center gap-2 px-5 py-4 bg-[#0088cc] text-white rounded-2xl font-black uppercase text-[9px] tracking-widest shadow-lg hover:scale-105 active:scale-95 transition-all",children:[g.jsx(dR,{className:"w-4 h-4 fill-current"}),"Telegram"]}),g.jsxs("button",{onClick:o,className:"flex items-center justify-center gap-2 px-5 py-4 bg-slate-900 text-white rounded-2xl font-black uppercase text-[9px] tracking-widest shadow-lg hover:scale-105 active:scale-95 transition-all",children:[g.jsx(B2,{className:"w-4 h-4"}),"Copiar Link"]})]}),g.jsx("div",{className:"pt-6",children:g.jsxs("button",{onClick:n,className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.4em] hover:text-rose-500 transition-colors flex items-center justify-center mx-auto gap-2",children:[g.jsx(cR,{className:"w-3 h-3"})," Regenerar Acesso de Hoje"]})})]}):g.jsx("div",{className:"py-12 animate-in fade-in duration-500",children:g.jsx("button",{onClick:n,className:"px-12 py-8 bg-black text-lime-400 rounded-[2rem] font-black text-2xl uppercase italic font-sport tracking-tighter shadow-[0_25px_60px_-15px_rgba(0,0,0,0.5)] hover:scale-[1.05] active:scale-95 transition-all border-b-4 border-zinc-800",children:"Ativar Check-in Hoje"})})]}),g.jsxs("div",{className:"bg-white border-2 border-slate-100 p-8 rounded-[2rem] shadow-sm flex items-center gap-6 group",children:[g.jsx("div",{className:"p-4 bg-slate-50 border-2 border-slate-100 rounded-[1.2rem] text-lime-500 shadow-inner group-hover:scale-110 transition-transform",children:g.jsx(n1,{className:"w-7 h-7"})}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("h4",{className:"font-black italic uppercase font-sport text-slate-900 tracking-widest text-lg leading-tight",children:"Protocolo de Segurana Ativo"}),g.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest leading-relaxed",children:["O sistema gera um ",g.jsx("span",{className:"text-slate-900",children:"Token nico Dirio"}),". Links antigos tornam-se invlidos s 00:00, prevenindo check-ins fora do perodo de competio."]})]})]}),g.jsx("div",{className:"text-center",children:g.jsx("p",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.8em] italic",children:"FitReward Management System  Secure Portal V4"})})]})},R5=()=>{const[i,e]=V.useState([]),[n,r]=V.useState([]),[o,c]=V.useState([]),u=()=>{const P=new Date;return`${P.getFullYear()}-${String(P.getMonth()+1).padStart(2,"0")}-${String(P.getDate()).padStart(2,"0")}`},[m,p]=V.useState(u()),[y,E]=V.useState("");V.useEffect(()=>{const P=su(se=>e(se)),U=rl(se=>r(se)),W=ry(se=>c(se));return()=>{P(),U(),W()}},[]);const x=i.filter(P=>{const U=n.find(Y=>Y.id===P.userId),W=(U==null?void 0:U.name.toLowerCase().includes(y.toLowerCase()))||(U==null?void 0:U.cpf.includes(y)),se=P.date===m;return W&&se}),w=P=>{var U;return((U=o.find(W=>W.id===P))==null?void 0:U.name)||"N/A"},R=P=>{var U;return((U=n.find(W=>W.id===P))==null?void 0:U.name)||"Desconhecido"},L=async P=>{if(confirm("TEM CERTEZA QUE DESEJA EXCLUIR ESTE REGISTRO? ISSO PERMITIR QUE O USURIO FAA CHECK-IN NOVAMENTE HOJE."))try{await T5(P)}catch(U){console.error("Error deleting check-in:",U),alert("Erro ao excluir registro.")}};return g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[g.jsxs("div",{className:"bg-white p-6 rounded-[1.5rem] border border-slate-200 flex flex-col md:flex-row gap-5 items-end shadow-sm",children:[g.jsxs("div",{className:"flex-1 w-full group",children:[g.jsx("label",{className:"block text-[8px] font-black text-slate-400 uppercase tracking-[0.4em] mb-2.5 ml-1",children:"Atleta em Campo"}),g.jsxs("div",{className:"relative",children:[g.jsx(Wp,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-lime-500 transition-colors w-4 h-4"}),g.jsx("input",{type:"text",className:"w-full pl-12 pr-5 py-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-900 font-bold placeholder:text-slate-200 focus:ring-4 focus:ring-lime-400/5 focus:border-lime-400 outline-none transition-all uppercase tracking-widest text-[11px]",placeholder:"NOME OU DOCUMENTO...",value:y,onChange:P=>E(P.target.value)})]})]}),g.jsxs("div",{className:"w-full md:w-56 group",children:[g.jsx("label",{className:"block text-[8px] font-black text-slate-400 uppercase tracking-[0.4em] mb-2.5 ml-1",children:"Linha do Tempo"}),g.jsxs("div",{className:"relative",children:[g.jsx(Wh,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-lime-500 transition-colors w-4 h-4"}),g.jsx("input",{type:"date",className:"w-full pl-12 pr-5 py-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-900 font-black focus:ring-4 focus:ring-lime-400/5 focus:border-lime-400 outline-none transition-all text-xs",value:m,onChange:P=>p(P.target.value)})]})]}),g.jsxs("button",{onClick:()=>{E(""),p(u())},className:"px-6 py-3 bg-slate-100 text-slate-500 rounded-xl font-black uppercase tracking-[0.2em] text-[9px] hover:text-slate-900 border border-slate-200 transition-all flex items-center",children:[g.jsx(G2,{className:"w-3.5 h-3.5 mr-2"}),"Resetar"]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:x.map(P=>g.jsxs("div",{className:"bg-white rounded-[1.5rem] border border-slate-200 overflow-hidden hover:border-lime-400 hover:-translate-y-1.5 transition-all shadow-md group",children:[g.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 bg-white border border-slate-200 rounded-xl text-lime-600 shadow-sm group-hover:scale-110 transition-transform",children:g.jsx(eg,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-black text-slate-900 italic uppercase font-sport tracking-widest leading-tight text-sm",children:R(P.userId)}),g.jsxs("p",{className:"text-[8px] text-slate-400 font-black uppercase tracking-[0.3em] mt-0.5",children:["ID: ",P.userId.substring(0,8).toUpperCase()]})]})]}),g.jsxs("div",{className:"bg-black text-lime-400 px-3 py-1.5 rounded-lg flex items-center text-[10px] font-black shadow-lg italic font-sport ml-auto",children:[g.jsx(Zp,{className:"w-3.5 h-3.5 mr-1.5"}),P.score.toFixed(1)," PTS"]}),g.jsx("button",{onClick:()=>L(P.id),className:"ml-3 p-2 text-slate-300 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-all",title:"Excluir Registro",children:g.jsx(i1,{className:"w-4 h-4"})})]}),g.jsxs("div",{className:"p-6 space-y-4 text-slate-900",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"flex items-center text-[9px] font-black uppercase tracking-widest text-slate-500",children:[g.jsx(Wh,{className:"w-3.5 h-3.5 mr-2 text-lime-500/50"}),P.date]}),g.jsxs("div",{className:"flex items-center text-[9px] font-black uppercase tracking-widest text-slate-500",children:[g.jsx(Jo,{className:"w-3.5 h-3.5 mr-2 text-lime-500/50"}),P.time]})]}),g.jsxs("div",{className:"flex items-center text-[9px] font-black uppercase tracking-[0.2em] text-lime-700 bg-lime-50 p-3 rounded-xl border border-lime-100",children:[g.jsx(Cr,{className:"w-3.5 h-3.5 mr-2.5"}),"BLOCO: ",w(P.timeSlotId)]}),g.jsxs("div",{className:"flex items-start p-3 bg-slate-50 rounded-xl border border-slate-100",children:[g.jsx(ZE,{className:"w-4 h-4 mr-3 text-slate-400 mt-0.5"}),g.jsxs("div",{className:"space-y-0.5",children:[g.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Localizao de Registro"}),P.address&&g.jsx("p",{className:"text-[9px] text-slate-600 font-bold uppercase tracking-tight leading-tight mb-1",children:P.address}),g.jsxs("div",{className:"flex gap-3 text-slate-400",children:[g.jsxs("p",{className:"text-[9px] font-mono tracking-tighter",children:["LAT: ",P.latitude.toFixed(6)]}),g.jsxs("p",{className:"text-[9px] font-mono tracking-tighter",children:["LNG: ",P.longitude.toFixed(6)]})]})]})]})]})]},P.id))}),x.length===0&&g.jsxs("div",{className:"text-center py-32 bg-white rounded-[3rem] border-2 border-dashed border-slate-200",children:[g.jsx(Xp,{className:"w-20 h-20 text-slate-100 mx-auto mb-6"}),g.jsx("p",{className:"text-slate-300 font-black uppercase tracking-[0.5em] italic",children:"Zero Atletas Registrados no Perodo"})]})]})},N5=()=>{const[i,e]=V.useState([]),[n,r]=V.useState([]),[o,c]=V.useState([]),[u,m]=V.useState(!1),[p,y]=V.useState(null);V.useEffect(()=>{const R=JT(U=>e(U.reverse())),L=rl(U=>r(U)),P=su(U=>c(U));return()=>{R(),L(),P()}},[]);const E=async()=>{new Date().toLocaleDateString("pt-BR");const L=(()=>{const re=new Date;return`${re.getFullYear()}-${String(re.getMonth()+1).padStart(2,"0")}-${String(re.getDate()).padStart(2,"0")}`})(),P=n.filter(re=>re.status===Vn.ACTIVE);let U=0,W=0,se=0;const Y=o.filter(re=>re.date===L),X=new Set(Y.map(re=>re.userId));for(const re of P)if(X.has(re.id))se++;else{W++;const de=10,C=Math.max(0,re.balance-de);await Uc({...re,balance:C}),await NE({userId:re.id,amount:-de,date:L,reason:"FALTA - Penalidade Diria"}),U+=de}if(se>0&&U>0){let re=0;if(Y.forEach(de=>re+=de.score),re>0)for(const de of Y){const C=de.score/re*U,A=n.find(N=>N.id===de.userId);A&&(await Uc({...A,balance:A.balance+C}),await NE({userId:A.id,amount:C,date:L,reason:"RECOMPENSA - Distribuio Diria"}))}}return{message:"DISTRIBUIO COMPUTADA COM SUCESSO",totalPot:U,absentCount:W,presentCount:se}},x=async()=>{m(!0);try{const R=await E();y(R)}catch(R){console.error("Distribution failed:",R),alert("Erro ao processar distribuio.")}finally{m(!1)}},w=i.reduce((R,L)=>R+(L.amount>0?L.amount:0),0);return g.jsxs("div",{className:"space-y-10 animate-in fade-in duration-700",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"bg-white p-6 rounded-[1.5rem] border-2 border-slate-300 shadow-md relative overflow-hidden group",children:[g.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:g.jsx(H2,{className:"w-20 h-20 text-slate-900"})}),g.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.3em] mb-4",children:"Payout Total"}),g.jsxs("h3",{className:"text-3xl font-black text-slate-900 italic font-sport tracking-tight",children:["R$ ",w.toFixed(2)]}),g.jsx("div",{className:"mt-3 h-1.5 w-12 bg-lime-400 rounded-full border border-lime-500"})]}),g.jsxs("div",{className:"bg-white p-6 rounded-[1.5rem] border-2 border-slate-300 shadow-md relative overflow-hidden group",children:[g.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:g.jsx(jo,{className:"w-20 h-20 text-slate-900"})}),g.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.3em] mb-4",children:"Eventos de Caixa"}),g.jsxs("h3",{className:"text-3xl font-black text-slate-900 italic font-sport tracking-tight",children:[i.length," ",g.jsx("span",{className:"text-[11px] uppercase font-sans text-slate-400 tracking-widest ml-1",children:"Transaes"})]}),g.jsx("div",{className:"mt-3 h-1.5 w-12 bg-zinc-900 rounded-full border border-zinc-800"})]}),g.jsxs("div",{className:"bg-white p-6 rounded-[1.5rem] border-2 border-slate-300 shadow-md relative overflow-hidden group",children:[g.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:g.jsx(_c,{className:"w-20 h-20 text-slate-900"})}),g.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.3em] mb-4",children:"Atletas Ativos"}),g.jsxs("h3",{className:"text-3xl font-black text-slate-900 italic font-sport tracking-tight",children:[n.filter(R=>R.status===Vn.ACTIVE).length," ",g.jsx("span",{className:"text-[11px] uppercase font-sans text-slate-400 tracking-widest ml-1",children:"Competidores"})]}),g.jsx("div",{className:"mt-3 h-1.5 w-12 bg-lime-500 rounded-full border border-lime-600"})]})]}),g.jsxs("div",{className:"bg-black rounded-[2rem] p-8 flex flex-col md:flex-row items-center justify-between gap-6 relative overflow-hidden group shadow-[0_20px_40px_rgba(0,0,0,0.3)]",children:[g.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10 pointer-events-none"}),g.jsxs("div",{className:"space-y-2 relative z-10 text-center md:text-left",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-lime-400 text-black text-[9px] font-black uppercase tracking-widest rounded-full italic shadow-lg",children:[g.jsx(jo,{className:"w-2.5 h-2.5 fill-current"})," Manual Payout Override"]}),g.jsx("h3",{className:"text-3xl font-black text-white italic uppercase font-sport tracking-widest leading-none",children:"Rodar Distribuio"}),g.jsx("p",{className:"text-zinc-400 text-xs font-semibold max-w-lg",children:"Dispara o clculo dirio: penaliza faltantes em R$ 10,00 e redistribui para os presentes com base na performance."})]}),g.jsxs("button",{onClick:x,disabled:u,className:`relative z-10 px-8 py-5 bg-lime-400 text-black rounded-xl font-black text-base uppercase italic tracking-tighter flex items-center shadow-2xl transition-all ${u?"opacity-50":"hover:bg-white hover:scale-[1.05] active:scale-95"}`,children:[u?g.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-black mr-3"}):g.jsx(rR,{className:"w-6 h-6 mr-3 fill-current"}),u?"Calculando...":"Rodar Agora"]})]}),p&&g.jsxs("div",{className:"bg-white border-4 border-lime-400 p-8 rounded-[2rem] flex items-start gap-6 animate-in slide-in-from-top-4 duration-500 shadow-xl",children:[g.jsx("div",{className:"p-3 bg-black rounded-2xl text-lime-400 shadow-lg",children:g.jsx(WE,{className:"w-8 h-8"})}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-xl font-black text-slate-900 uppercase italic font-sport tracking-widest",children:p.message}),g.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 gap-8 text-[11px] font-black uppercase tracking-widest text-slate-500",children:[p.totalPot!==void 0&&g.jsxs("div",{children:["Arrecadao: ",g.jsxs("span",{className:"text-black ml-2 font-bold",children:["R$ ",p.totalPot.toFixed(2)]})]}),p.absentCount!==void 0&&g.jsxs("div",{children:["Faltas: ",g.jsx("span",{className:"text-rose-600 ml-2 font-bold",children:p.absentCount})]}),p.presentCount!==void 0&&g.jsxs("div",{children:["Premiados: ",g.jsx("span",{className:"text-lime-600 ml-2 font-bold",children:p.presentCount})]})]})]})]}),g.jsxs("div",{className:"bg-white rounded-[2rem] border-2 border-slate-300 overflow-hidden shadow-xl",children:[g.jsxs("div",{className:"px-8 py-5 border-b-2 border-slate-200 flex justify-between items-center bg-slate-50",children:[g.jsx("h3",{className:"text-base font-black text-slate-900 uppercase italic tracking-widest font-sport",children:"Log de Transaes"}),g.jsx("div",{className:"p-1.5 bg-white border-2 border-slate-100 rounded-lg text-slate-400",children:g.jsx(yc,{className:"w-4 h-4"})})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y-2 divide-slate-200",children:[g.jsx("thead",{className:"bg-slate-50/50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-8 py-4 text-left text-[9px] font-black text-slate-400 uppercase tracking-[0.3em]",children:"Timeline"}),g.jsx("th",{className:"px-8 py-4 text-left text-[9px] font-black text-slate-400 uppercase tracking-[0.3em]",children:"Atleta"}),g.jsx("th",{className:"px-8 py-4 text-left text-[9px] font-black text-slate-400 uppercase tracking-[0.3em]",children:"Motivo"}),g.jsx("th",{className:"px-8 py-4 text-right text-[9px] font-black text-slate-400 uppercase tracking-[0.3em]",children:"Crdito"})]})}),g.jsx("tbody",{className:"divide-y-2 divide-slate-100",children:i.map(R=>{var L;return g.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors",children:[g.jsx("td",{className:"px-8 py-4 whitespace-nowrap text-xs text-slate-500",children:g.jsxs("div",{className:"flex items-center font-bold tracking-tighter",children:[g.jsx(Wh,{className:"w-3.5 h-3.5 mr-2 text-lime-500"}),R.date]})}),g.jsx("td",{className:"px-8 py-4 whitespace-nowrap",children:g.jsx("div",{className:"text-xs font-black text-slate-900 uppercase tracking-tight",children:((L=n.find(P=>P.id===R.userId))==null?void 0:L.name)||"DESCONHECIDO"})}),g.jsx("td",{className:"px-8 py-4 whitespace-nowrap text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:R.reason}),g.jsx("td",{className:"px-8 py-4 whitespace-nowrap text-right",children:g.jsxs("span",{className:`text-lg font-black font-sport italic tracking-tighter px-3 py-0.5 rounded-lg border-2 shadow-sm ${R.amount>=0?"text-lime-600 bg-lime-50 border-lime-200":"text-rose-600 bg-rose-50 border-rose-200"}`,children:[R.amount>=0?"+":""," R$ ",R.amount.toFixed(2)]})})]},R.id)})})]})})]})]})},ii={lat:-23.55052,lng:-46.633308,radius:500},CE=[{id:0,label:"DOM"},{id:1,label:"SEG"},{id:2,label:"TER"},{id:3,label:"QUA"},{id:4,label:"QUI"},{id:5,label:"SEX"},{id:6,label:"SB"}],C5=()=>{const[i,e]=V.useState([]),[n,r]=V.useState(!1),[o,c]=V.useState(null),[u,m]=V.useState({name:"",startTime:"",endTime:"",weight:1,days:[1,2,3,4,5],locationName:"ACADEMIA SEDE",latitude:ii.lat,longitude:ii.lng,radius:ii.radius});V.useEffect(()=>{const x=ry(w=>{e(w)});return()=>x()},[]);const p=async x=>{if(x.preventDefault(),u.days.length===0){alert("Selecione pelo menos um dia da semana.");return}try{o?await E5({id:o,...u}):await v5(u),m({name:"",startTime:"",endTime:"",weight:1,days:[1,2,3,4,5],locationName:"ACADEMIA SEDE",latitude:ii.lat,longitude:ii.lng,radius:ii.radius}),c(null),r(!1)}catch(w){console.error("Error saving time slot:",w),w.code==="permission-denied"?alert("Erro: Permisso negada. Verifique se voc est logado como administrador."):alert(`Erro ao salvar horrio: ${w.message||"Erro desconhecido"}`)}},y=x=>{c(x.id),m({name:x.name,startTime:x.startTime,endTime:x.endTime,weight:x.weight,days:x.days,locationName:x.locationName,latitude:x.latitude,longitude:x.longitude,radius:x.radius}),r(!0)},E=async x=>{if(confirm("REMOVER ESTE BLOCO DE HORRIO?"))try{await b5(x)}catch(w){console.error("Error deleting time slot:",w),alert("Erro ao remover horrio.")}};return g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-5",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("h3",{className:"text-2xl font-black italic uppercase font-sport text-slate-900 tracking-widest leading-none",children:"Clulas de Treino"}),g.jsx("p",{className:"text-slate-400 font-black uppercase text-[9px] tracking-[0.4em]",children:"Configurao de Janelas de Check-in"})]}),g.jsxs("button",{onClick:()=>{c(null),m({name:"",startTime:"",endTime:"",weight:1,days:[1,2,3,4,5],locationName:"ACADEMIA SEDE",latitude:ii.lat,longitude:ii.lng,radius:ii.radius}),r(!0)},className:"flex items-center px-6 py-3 bg-black text-lime-400 rounded-xl font-black uppercase italic tracking-tighter hover:bg-zinc-900 hover:scale-[1.05] transition-all shadow-2xl active:scale-95 text-xs",children:[g.jsx(e1,{className:"w-5 h-5 mr-2"}),"Novo Horrio"]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:i.map(x=>g.jsxs("div",{className:"bg-white rounded-[1.2rem] border-2 border-slate-300 overflow-hidden shadow-lg group relative transition-all hover:border-lime-500 hover:-translate-y-1",children:[g.jsxs("div",{className:"p-6 space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("div",{className:"p-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-slate-900 shadow-inner group-hover:border-lime-200 transition-colors",children:g.jsx(Jo,{className:"w-6 h-6"})}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>y(x),className:"p-2 bg-white text-slate-300 hover:text-blue-500 border-2 border-slate-100 rounded-lg transition-all hover:border-blue-200",children:g.jsx(iR,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>E(x.id),className:"p-2 bg-white text-slate-300 hover:text-rose-600 border-2 border-slate-100 rounded-lg transition-all hover:border-rose-200",children:g.jsx(i1,{className:"w-4 h-4"})})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-lg font-black text-slate-900 uppercase italic font-sport tracking-widest",children:x.name}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[g.jsxs("span",{className:"px-2.5 py-0.5 bg-black text-white text-[9px] font-black rounded-lg uppercase tracking-widest",children:[x.startTime," - ",x.endTime]}),g.jsx("div",{className:"flex gap-1",children:CE.filter(w=>{var R;return(R=x.days)==null?void 0:R.includes(w.id)}).map(w=>g.jsx("span",{className:"text-[7px] font-black text-lime-600 bg-lime-50 px-1 py-0.5 rounded border border-lime-100 uppercase",children:w.label},w.id))})]}),g.jsxs("div",{className:"mt-3 flex items-center gap-2 text-slate-400 group-hover:text-slate-600 transition-colors",children:[g.jsx(Hv,{className:"w-3.5 h-3.5"}),g.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:x.locationName||"LOCAL PADRO"})]})]}),g.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-xl border-2 border-slate-100",children:[g.jsxs("div",{className:"flex items-center gap-2.5",children:[g.jsx("div",{className:"p-1.5 bg-lime-400 rounded-lg shadow-sm",children:g.jsx(jo,{className:"w-3.5 h-3.5 text-black fill-current"})}),g.jsx("span",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Peso Recompensa"})]}),g.jsxs("span",{className:"text-2xl font-black text-slate-900 font-sport italic tracking-tighter",children:["x",x.weight]})]})]}),g.jsx("div",{className:"h-2 bg-slate-100 group-hover:bg-lime-400 transition-colors"})]},x.id))}),g.jsxs("div",{className:"bg-white border-2 border-slate-300 p-6 rounded-[1.5rem] relative overflow-hidden group shadow-md flex items-center gap-5",children:[g.jsx("div",{className:"absolute top-0 left-0 w-1.5 h-full bg-slate-900"}),g.jsx("div",{className:"p-3 bg-slate-50 border-2 border-slate-100 rounded-xl text-slate-400",children:g.jsx(Hv,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-black italic uppercase font-sport text-slate-900 tracking-[0.2em] text-base",children:"Regras do Sistema"}),g.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mt-1",children:"Check-ins realizados fora destas janelas sero invalidados automaticamente pelo servidor."})]})]}),n&&g.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:g.jsxs("div",{className:"bg-white rounded-[1.5rem] border-4 border-slate-200 shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in duration-300",children:[g.jsxs("div",{className:"p-4 bg-slate-50 flex justify-between items-center border-b-2 border-slate-100",children:[g.jsx("h3",{className:"text-lg font-black italic uppercase font-sport text-slate-900 tracking-widest leading-none",children:o?"Editar Bloco":"Novo Bloco"}),g.jsx("button",{onClick:()=>r(!1),className:"text-slate-400 hover:text-slate-900 p-1.5 bg-white rounded-lg border-2 border-slate-200",children:g.jsx(s1,{className:"w-4 h-4"})})]}),g.jsxs("form",{onSubmit:p,className:"p-5 overflow-hidden flex flex-col",children:[g.jsxs("div",{className:"space-y-3 overflow-y-auto max-h-[65vh] pr-1 custom-scrollbar pb-2",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Identificao do Bloco"}),g.jsx("input",{required:!0,type:"text",placeholder:"EX: MANH ELITE",className:"w-full px-3 py-2.5 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase text-[13px]",value:u.name,onChange:x=>m({...u,name:x.target.value})})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Abertura"}),g.jsx("input",{required:!0,type:"time",className:"w-full px-3 py-2 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold text-xs",value:u.startTime,onChange:x=>m({...u,startTime:x.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Fechamento"}),g.jsx("input",{required:!0,type:"time",className:"w-full px-3 py-2 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold text-xs",value:u.endTime,onChange:x=>m({...u,endTime:x.target.value})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Dias de Ativao"}),g.jsx("div",{className:"flex flex-wrap gap-1",children:CE.map(x=>g.jsx("button",{type:"button",onClick:()=>{const w=u.days.includes(x.id)?u.days.filter(R=>R!==x.id):[...u.days,x.id];m({...u,days:w})},className:`px-2 py-1 rounded-md text-[8px] font-black uppercase tracking-widest transition-all border-2 ${u.days.includes(x.id)?"bg-lime-400 border-lime-400 text-black shadow-lg shadow-lime-400/20":"bg-white border-slate-100 text-slate-300 hover:border-slate-300"}`,children:x.label},x.id))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Identificao do Local"}),g.jsx("input",{required:!0,type:"text",placeholder:"EX: SEDE CENTRAL",className:"w-full px-3 py-2.5 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase text-[13px]",value:u.locationName,onChange:x=>m({...u,locationName:x.target.value})})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Latitude"}),g.jsx("input",{required:!0,type:"number",step:"any",className:"w-full px-3 py-2 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold text-xs",value:u.latitude,onChange:x=>m({...u,latitude:Number(x.target.value)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Longitude"}),g.jsx("input",{required:!0,type:"number",step:"any",className:"w-full px-3 py-2 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold text-xs",value:u.longitude,onChange:x=>m({...u,longitude:Number(x.target.value)})})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Raio Valid. (m)"}),g.jsx("input",{required:!0,type:"number",className:"w-full px-3 py-2 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold text-xs",value:u.radius,onChange:x=>m({...u,radius:Number(x.target.value)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Peso Recompensa"}),g.jsx("input",{required:!0,type:"number",min:"1",max:"10",className:"w-full px-3 py-2 bg-slate-900 text-lime-400 rounded-lg font-black text-[15px] border-none outline-none",value:u.weight,onChange:x=>m({...u,weight:Number(x.target.value)})})]})]})]}),g.jsx("div",{className:"pt-3",children:g.jsx("button",{type:"submit",className:"w-full py-3 bg-black text-lime-400 rounded-lg font-black uppercase italic tracking-tighter shadow-xl hover:scale-[1.02] active:scale-95 transition-all text-[11px]",children:o?"Salvar Alteraes":"Registrar Bloco Sincronizado"})})]})]})})]})},IE=()=>{const[i,e]=V.useState([]),[n,r]=V.useState([]),[o,c]=V.useState([]);V.useEffect(()=>{const p=rl(e),y=su(r);return()=>{p(),y()}},[]),V.useEffect(()=>{if(i.length===0||n.length===0)return;const p=new Date,y=`${p.getFullYear()}-${String(p.getMonth()+1).padStart(2,"0")}-${String(p.getDate()).padStart(2,"0")}`,E=n.filter(w=>w.date===y),x=[];E.forEach(w=>{const R=i.find(L=>L.id===w.userId);if(R){const L=x.find(P=>P.user.id===R.id);L?w.time<L.checkInTime&&(L.checkInTime=w.time,L.checkIn=w):x.push({user:R,checkInTime:w.time,checkIn:w})}}),x.sort((w,R)=>w.checkInTime.localeCompare(R.checkInTime)),c(x)},[i,n]);const u=p=>{switch(p){case 0:return"bg-yellow-400 text-black border-yellow-500 shadow-yellow-400/50";case 1:return"bg-zinc-300 text-black border-zinc-400 shadow-zinc-300/50";case 2:return"bg-orange-400 text-black border-orange-500 shadow-orange-400/50";default:return"bg-zinc-800 text-zinc-400 border-zinc-700"}},m=p=>{switch(p){case 0:return"border-yellow-500 shadow-yellow-400/50";case 1:return"border-zinc-400 shadow-zinc-300/50";case 2:return"border-orange-500 shadow-orange-400/50";default:return"border-slate-200"}};return g.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-8 duration-1000",children:[g.jsxs("div",{className:"text-center space-y-2",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-lime-400/10 text-lime-400 rounded-full text-[9px] font-black uppercase tracking-[0.3em] border border-lime-400/20",children:[g.jsx(Jo,{className:"w-3 h-3"})," Ranking Dirio"]}),g.jsx("h2",{className:"text-3xl font-black italic uppercase font-sport text-slate-900 tracking-tighter",children:"Quem Chegou Primeiro?"}),g.jsx("p",{className:"text-slate-400 font-bold uppercase text-[9px] tracking-[0.4em]",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),g.jsx("div",{className:"max-w-4xl mx-auto",children:g.jsxs("div",{className:"bg-white rounded-[2rem] border-2 border-slate-200 overflow-hidden shadow-xl",children:[g.jsx("div",{className:"grid grid-cols-1 divide-y-2 divide-slate-100",children:o.length>0?o.map((p,y)=>g.jsxs("div",{className:"flex items-center p-6 hover:bg-slate-50 transition-colors group",children:[g.jsx("div",{className:"mr-6 relative",children:p.user.photoUrl?g.jsxs("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center border-4 shadow-lg transition-transform group-hover:scale-110 overflow-hidden relative bg-white ${m(y)}`,children:[g.jsx("img",{src:p.user.photoUrl,alt:p.user.name,className:"w-full h-full object-cover",onError:E=>{E.target.style.display="none";const x=E.target.parentElement;x&&(x.classList.remove("rounded-2xl","border-4","bg-white","w-14","h-14"),x.classList.add("w-12","h-12","rounded-xl","font-black","text-xl","italic","font-sport","border-2"),x.className=`w-12 h-12 rounded-xl flex items-center justify-center font-black text-xl italic font-sport border-2 shadow-lg transition-transform group-hover:scale-110 ${u(y)}`,x.innerHTML=`#${y+1}`)}}),g.jsx("div",{className:"absolute -bottom-1 -right-1 bg-slate-900 text-white text-[10px] font-black w-6 h-6 flex items-center justify-center rounded-full border-2 border-white shadow-sm z-10",children:y+1})]}):g.jsxs("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center font-black text-xl italic font-sport border-2 shadow-lg transition-transform group-hover:scale-110 ${u(y)}`,children:["#",y+1]})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[g.jsx("h3",{className:"text-lg font-black italic uppercase font-sport text-slate-900 truncate",children:p.user.name}),y===0&&g.jsxs("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 text-[8px] font-black uppercase tracking-widest rounded border border-yellow-200 flex items-center gap-1",children:[g.jsx(Zp,{className:"w-3 h-3"})," Lder"]})]}),g.jsxs("div",{className:"flex items-center gap-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[g.jsxs("span",{className:"flex items-center gap-1.5",children:[g.jsx(WE,{className:"w-3.5 h-3.5 text-lime-500"}),"Check-in: ",g.jsx("span",{className:"text-slate-900 font-sport italic text-sm",children:p.checkInTime})]}),p.checkIn.score>0&&g.jsxs("span",{className:"bg-slate-100 px-2 py-0.5 rounded text-slate-500",children:["+",p.checkIn.score.toFixed(0)," pts"]})]})]}),g.jsxs("div",{className:"text-right pl-4",children:[g.jsx("p",{className:"text-[8px] font-black text-slate-300 uppercase tracking-widest mb-0.5",children:"Saldo Total"}),g.jsxs("p",{className:"font-black font-sport italic text-slate-900",children:["R$ ",p.user.balance.toFixed(2)]})]})]},p.user.id)):g.jsxs("div",{className:"py-32 text-center space-y-6",children:[g.jsx("div",{className:"w-24 h-24 bg-slate-50 rounded-full mx-auto flex items-center justify-center text-slate-300 border-4 border-dashed border-slate-200",children:g.jsx(bR,{className:"w-10 h-10"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-slate-400 font-black uppercase tracking-[0.2em]",children:"Sem registros hoje"}),g.jsx("p",{className:"text-slate-300 text-[9px] font-black uppercase tracking-widest max-w-xs mx-auto",children:"O ranking ser formado assim que os atletas comearem a fazer check-in."})]})]})}),g.jsx("div",{className:"bg-slate-50 px-8 py-4 border-t-2 border-slate-100 flex justify-center",children:g.jsxs("p",{className:"text-[8px] text-slate-400 font-black uppercase tracking-widest flex items-center gap-2",children:[g.jsx(xd,{className:"w-3 h-3"}),"Critrio de Desempate: Horrio do Check-in (Mais cedo = Melhor posio)"]})})]})})]})},I5=()=>{const[i,e]=V.useState(""),[n,r]=V.useState(""),[o,c]=V.useState(""),[u,m]=V.useState(!1),p=Xo(),y=async E=>{E.preventDefault(),m(!0),c("");try{await mI(Fd,i,n),p("/admin/usuarios")}catch(x){x.code==="auth/invalid-credential"?c("CREDENCIAIS INVLIDAS."):c("ERRO AO FAZER LOGIN: "+x.message)}finally{m(!1)}};return g.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-6 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-2xl aspect-square bg-lime-500/5 blur-[150px] rounded-full"}),g.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-[2.5rem] shadow-2xl w-full max-w-sm overflow-hidden relative z-10",children:[g.jsxs("div",{className:"p-8 bg-zinc-800/30 text-center space-y-3 border-b border-zinc-800",children:[g.jsx("div",{className:"inline-flex p-4 bg-lime-400 rounded-[1.2rem] mb-1 shadow-[0_0_30px_rgba(163,230,53,0.4)] animate-pulse-lime",children:g.jsx(Cr,{className:"w-8 h-8 text-black"})}),g.jsxs("h1",{className:"text-3xl font-black italic tracking-tighter text-white font-sport uppercase",children:["Fit",g.jsx("span",{className:"text-lime-400",children:"Reward"})]}),g.jsx("p",{className:"text-zinc-500 text-[9px] font-black uppercase tracking-[0.4em]",children:"Controle Central"})]}),g.jsxs("form",{onSubmit:y,className:"p-8 space-y-6",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-[8px] font-black text-zinc-500 uppercase tracking-[0.3em] mb-2 ml-1",children:"Email"}),g.jsxs("div",{className:"relative group",children:[g.jsx(eg,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 group-focus-within:text-lime-400 transition-colors w-4 h-4"}),g.jsx("input",{type:"email",required:!0,className:"w-full pl-12 pr-5 py-4 bg-black border border-zinc-800 rounded-xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase font-sport tracking-widest text-sm",placeholder:"SEU EMAIL",value:i,onChange:E=>e(E.target.value)})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[8px] font-black text-zinc-500 uppercase tracking-[0.3em] mb-2 ml-1",children:"Senha"}),g.jsxs("div",{className:"relative group",children:[g.jsx(Jp,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 group-focus-within:text-lime-400 transition-colors w-4 h-4"}),g.jsx("input",{type:"password",required:!0,className:"w-full pl-12 pr-5 py-4 bg-black border border-zinc-800 rounded-xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase font-sport tracking-widest text-sm",placeholder:"",value:n,onChange:E=>r(E.target.value)})]})]})]}),o&&g.jsxs("div",{className:"flex items-center text-white text-[10px] bg-red-600 p-4 rounded-xl font-black uppercase tracking-widest",children:[g.jsx(xd,{className:"w-4 h-4 mr-3 shrink-0"}),o]}),g.jsx("button",{type:"submit",disabled:u,className:"w-full py-4 bg-lime-400 text-black rounded-[1.2rem] font-black text-lg shadow-[0_10px_25px_rgba(163,230,53,0.3)] hover:scale-[1.03] active:scale-95 transition-all flex items-center justify-center gap-3 uppercase tracking-tighter italic font-sport",children:u?g.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-black"}):g.jsxs(g.Fragment,{children:[g.jsx(Q2,{className:"w-5 h-5"}),"Acessar Portal"]})})]}),g.jsx("div",{className:"p-5 bg-black text-center",children:g.jsx(ri,{to:"/signup",className:"text-[10px] text-zinc-500 hover:text-lime-400 uppercase tracking-[0.2em] font-black transition-colors",children:"CRIAR NOVA CONTA"})})]})]})},k5=()=>{const[i]=p2(),e=i.get("token"),[n,r]=V.useState(1),[o,c]=V.useState(""),[u,m]=V.useState(null),[p,y]=V.useState([]),[E,x]=V.useState([]),[w,R]=V.useState(null),[L,P]=V.useState([]),[U,W]=V.useState(!1),[se,Y]=V.useState(null),[X,re]=V.useState(null),[de,C]=V.useState(!1),[A,N]=V.useState(new Date),[O,j]=V.useState(null);V.useEffect(()=>{const Q=setInterval(()=>N(new Date),1e3),oe=rl(y),pe=ry(x),Ae=su(P),Me=WT(R);return()=>{clearInterval(Q),oe(),pe(),Ae(),Me()}},[]),A.getDay();const B=()=>{const Q=A.getHours().toString().padStart(2,"0"),oe=A.getMinutes().toString().padStart(2,"0");return`${Q}:${oe}`},I=()=>{const Q=new Date;return`${Q.getFullYear()}-${String(Q.getMonth()+1).padStart(2,"0")}-${String(Q.getDate()).padStart(2,"0")}`},nt=Q=>{Q.preventDefault(),W(!0),Y(null);const oe=o.trim(),pe=p.find(Ae=>Ae.cpf===oe||Ae.uniqueCode.toUpperCase()===oe.toUpperCase());setTimeout(()=>{pe?pe.status===Vn.ELIMINATED?Y("CONTA BLOQUEADA. PROCURE O ADMINISTRADOR."):(m(pe),r(2)):Y("ATLETA NO IDENTIFICADO."),W(!1)},600)},vt=async()=>{W(!0),Y(null);const Q=I(),oe=B(),pe=A.getDay(),Ae=ae=>{const[me,ye]=ae.split(":").map(Number);return me*60+ye},Me=Ae(oe),D=E.find(ae=>{if(ae.days&&!ae.days.includes(pe))return!1;const me=Ae(ae.startTime);let ye=Ae(ae.endTime);return ye===0&&(ye=1440),ye<me?Me>=me||Me<ye:Me>=me&&Me<ye});if(!D){Y(`JANELA FECHADA AGORA (${oe}).`),W(!1);return}const ee=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";if(!w&&!ee){Y("SISTEMA INDISPONVEL: QR CODE NO FOI ATIVADO HOJE."),W(!1);return}if(e&&w&&w.token!==e&&!ee){Y("QR CODE INVLIDO OU EXPIRADO PARA ESTE ACESSO."),W(!1);return}if(L.some(ae=>ae.userId===(u==null?void 0:u.id)&&ae.date===Q)){Y("CHECK-IN J REALIZADO HOJE."),W(!1);return}try{const ae=Hn=>new Promise((tn,xt)=>{if(!navigator.geolocation){xt(new Error("Geolocalizao no suportada pelo navegador."));return}navigator.geolocation.getCurrentPosition(tn,xt,Hn)});let me;try{me=await ae({enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}catch(Hn){console.warn("GPS Alta preciso falhou, tentando fallback...",Hn),me=await ae({enableHighAccuracy:!1,timeout:1e4,maximumAge:3e4})}const{latitude:ye,longitude:ke,accuracy:bt}=me.coords;let $e="";try{const tn=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${ye}&lon=${ke}&zoom=18&addressdetails=1`)).json();if(tn&&tn.address){const{road:xt,pedestrian:li,path:Ua,footway:Pa,suburb:La,neighbourhood:Sn,city_district:Pt,city:hn,town:ft,village:za,municipality:Ls,state:as}=tn.address,qt=[],wi=xt||li||Ua||Pa;wi&&qt.push(wi);const it=hn||ft||za||Ls,dn=La||Sn||Pt;let fn=null;dn&&(!it||!dn.includes(it))&&(fn=dn),fn&&qt.push(fn),it?as?qt.push(`${it} - ${as}`):qt.push(it):as&&qt.push(as),qt.length>0?$e=qt.join(", "):tn.display_name&&($e=tn.display_name.split(",").slice(0,3).join(","))}}catch(Hn){console.error("Erro Nominatim, tentando fallback...",Hn);try{const xt=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${ye}&longitude=${ke}&localityLanguage=pt`)).json();if(xt){const li=[];xt.locality&&li.push(xt.locality),xt.principalSubdivision&&li.push(xt.principalSubdivision),xt.countryName&&li.push(xt.countryName),li.length>0&&($e=li.join(", "))}}catch(tn){console.error("Erro BigDataCloud",tn)}}re($e);const ai=D.latitude||ii.lat,ns=D.longitude||ii.lng,is=D.radius||ii.radius,Vs=D.locationName||"ACADEMIA",qn=6371e3,Hr=ye*Math.PI/180,ss=ai*Math.PI/180,Us=(ai-ye)*Math.PI/180,Ps=(ns-ke)*Math.PI/180,dt=Math.sin(Us/2)*Math.sin(Us/2)+Math.cos(Hr)*Math.cos(ss)*Math.sin(Ps/2)*Math.sin(Ps/2),Et=2*Math.atan2(Math.sqrt(dt),Math.sqrt(1-dt)),oi=qn*Et;if(oi>is&&!ee){j({userLat:ye,userLng:ke,targetLat:ai,targetLng:ns,distance:oi,radius:is,accuracy:bt}),Y(`VOC EST FORA DO RAIO PERMITIDO PARA: ${Vs.toUpperCase()}.`),W(!1);return}const Bt=10*(D.weight||1);await x5({userId:u.id,date:Q,time:oe,latitude:ye,longitude:ke,timeSlotId:D.id,score:Bt,address:$e});const rs={...u,balance:u.balance+Bt};await Uc(rs),C(!0)}catch(ae){console.error("Erro no Check-in:",ae);let me="GPS OBRIGATRIO. ATIVE A LOCALIZAO E TENTE NOVAMENTE.";ae.code===1?me="PERMISSO DE LOCALIZAO NEGADA. HABILITE NAS CONFIGURAES DO NAVEGADOR.":ae.code===2?me="SINAL DE GPS NO ENCONTRADO. TENTE EM REA ABERTA.":ae.code===3?me="TIMEOUT: DEMORA AO OBTER LOCALIZAO. TENTE NOVAMENTE.":ae.message&&typeof ae.message=="string"&&!ae.code&&(me=ae.message),Y(me)}finally{W(!1)}};return de?g.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-6 font-sans",children:g.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-8 rounded-[2rem] text-center space-y-6 max-w-sm w-full shadow-[0_0_80px_rgba(163,230,53,0.1)]",children:[g.jsx("div",{className:"inline-flex p-5 bg-lime-400 rounded-full shadow-[0_0_30px_rgba(163,230,53,0.3)] animate-bounce",children:g.jsx(JE,{className:"w-10 h-10 text-black"})}),g.jsxs("div",{className:"space-y-1.5",children:[g.jsx("h2",{className:"text-3xl font-black italic font-sport text-white uppercase tracking-tighter",children:"Misso Cumprida!"}),g.jsx("p",{className:"text-zinc-500 font-black uppercase text-[9px] tracking-[0.4em]",children:"Check-in Validado com Sucesso"}),X&&g.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2 text-zinc-600",children:[g.jsx("div",{className:"w-1 h-1 bg-lime-500 rounded-full"}),g.jsx("p",{className:"text-[9px] font-bold uppercase tracking-wider max-w-[200px] truncate",children:X})]})]}),g.jsxs("div",{className:"bg-black p-5 rounded-xl border border-zinc-800 space-y-1",children:[g.jsxs("p",{className:"text-zinc-500 text-[9px] font-black uppercase tracking-widest",children:["Atleta: ",u==null?void 0:u.name]}),g.jsx("p",{className:"text-lime-400 text-xl font-black font-sport italic tracking-tighter",children:"RECOMPENSA CREDITADA"})]}),g.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-4 bg-white text-black rounded-xl font-black uppercase italic tracking-tighter hover:bg-lime-400 transition-all text-lg",children:"Novo Registro"}),g.jsx(ri,{to:"/ranking",className:"block w-full py-4 bg-transparent border-2 border-zinc-700 text-zinc-400 rounded-xl font-black uppercase italic tracking-tighter hover:border-lime-400 hover:text-lime-400 transition-all text-lg pt-3",children:"Ver Ranking do Dia"})]})}):g.jsxs("div",{className:"min-h-screen bg-black text-white p-6 flex flex-col items-center justify-center relative overflow-hidden font-sans",children:[g.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-lime-500/50 to-transparent"}),g.jsxs("div",{className:"w-full max-w-md space-y-10 relative z-10",children:[g.jsxs("div",{className:"text-center space-y-3",children:[g.jsx("div",{className:"inline-flex p-3 bg-lime-400 rounded-xl shadow-lg mb-1",children:g.jsx(Cr,{className:"w-6 h-6 text-black"})}),g.jsxs("h1",{className:"text-4xl font-black italic font-sport uppercase tracking-tighter leading-none",children:["Fit",g.jsx("span",{className:"text-lime-400",children:"Reward"})]}),g.jsxs("div",{className:"flex items-center justify-center gap-3 text-zinc-500 font-black uppercase text-[9px] tracking-[0.4em]",children:[g.jsx(Jo,{className:"w-2.5 h-2.5 text-lime-500"}),A.toLocaleTimeString("pt-BR")]})]}),se&&g.jsxs("div",{className:"bg-rose-500/10 border border-rose-500/20 p-5 rounded-2xl flex items-start gap-4 animate-in slide-in-from-top-2",children:[g.jsx(xd,{className:"w-5 h-5 text-rose-500 shrink-0 mt-1"}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-rose-500 font-black text-[10px] uppercase tracking-widest text-left",children:"Aviso de Bloqueio"}),g.jsx("p",{className:"text-white text-xs font-bold uppercase tracking-tight leading-snug text-left",children:se}),O&&g.jsxs("div",{className:"mt-2 p-2 bg-black/40 rounded border border-rose-500/30 text-[9px] font-mono text-left space-y-1",children:[g.jsxs("p",{className:"text-rose-200",children:["DISTNCIA: ",g.jsxs("span",{className:"text-white font-bold",children:[Math.round(O.distance),"m"]})," / ",O.radius,"m"]}),g.jsxs("p",{className:"text-rose-200",children:["SUA: ",g.jsxs("span",{className:"text-white",children:[O.userLat.toFixed(5),", ",O.userLng.toFixed(5)]})]}),g.jsxs("p",{className:"text-rose-200",children:["ALVO: ",g.jsxs("span",{className:"text-white",children:[O.targetLat.toFixed(5),", ",O.targetLng.toFixed(5)]})]}),g.jsxs("p",{className:"text-rose-200",children:["PRECISO GPS: ",g.jsxs("span",{className:"text-white",children:[Math.round(O.accuracy),"m"]})]})]})]})]}),n===1?g.jsxs("form",{onSubmit:nt,className:"space-y-8",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"block text-[8px] font-black text-zinc-500 uppercase tracking-[0.3em] ml-1",children:"Identificao do Atleta"}),g.jsxs("div",{className:"relative group",children:[g.jsx(Wp,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-600 group-focus-within:text-lime-400 transition-colors w-4 h-4"}),g.jsx("input",{required:!0,type:"text",placeholder:"CPF OU TAG NICA",className:"w-full pl-12 pr-5 py-5 bg-zinc-900/50 border border-zinc-800 rounded-2xl text-white font-bold placeholder:text-zinc-700 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase font-sport tracking-widest text-lg",value:o,onChange:Q=>c(Q.target.value)})]})]}),g.jsx("button",{type:"submit",disabled:U,className:"w-full py-5 bg-white text-black rounded-2xl font-black text-xl uppercase italic tracking-tighter hover:bg-lime-400 transition-all flex items-center justify-center gap-2 font-sport shadow-2xl active:scale-95",children:U?g.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-black"}):g.jsxs(g.Fragment,{children:["PRXIMO ",g.jsx(M2,{className:"w-6 h-6"})]})})]}):g.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[g.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-800 p-6 rounded-[1.5rem] space-y-5",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-16 h-16 bg-lime-400 rounded-2xl flex items-center justify-center text-black font-black text-2xl font-sport italic shadow-lg",children:(u==null?void 0:u.name[0].toUpperCase())||"?"}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-black text-white uppercase italic font-sport tracking-tight leading-none mb-1.5",children:u==null?void 0:u.name}),g.jsxs("div",{className:"inline-flex items-center px-2 py-0.5 bg-black rounded-lg border border-zinc-800",children:[g.jsx("span",{className:"text-[9px] text-zinc-500 font-black uppercase tracking-widest mr-2",children:"ID:"}),g.jsx("span",{className:"text-[9px] text-lime-400 font-black font-sport italic",children:u==null?void 0:u.uniqueCode})]})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-1",children:[g.jsxs("div",{className:"bg-black/40 p-4 rounded-xl border border-zinc-800/50",children:[g.jsx("p",{className:"text-[7.5px] font-black text-zinc-600 uppercase tracking-widest mb-1",children:"Saldo Atual"}),g.jsxs("p",{className:"text-base font-black text-white font-sport italic",children:["R$ ",u==null?void 0:u.balance.toFixed(2)]})]}),g.jsxs("div",{className:"bg-black/40 p-4 rounded-xl border border-zinc-800/50",children:[g.jsx("p",{className:"text-[7.5px] font-black text-zinc-600 uppercase tracking-widest mb-1",children:"Aposta Diria"}),g.jsxs("p",{className:"text-base font-black text-white font-sport italic",children:["R$ ",u==null?void 0:u.depositedValue.toFixed(2)]})]})]})]}),g.jsx("div",{className:"space-y-4",children:g.jsxs("div",{className:"grid grid-cols-[70px_1fr] gap-3",children:[g.jsx("button",{onClick:()=>r(1),className:"py-5 bg-zinc-900 border border-zinc-800 text-zinc-500 rounded-2xl flex items-center justify-center hover:text-white transition-all active:scale-90",children:g.jsx(N2,{className:"w-6 h-6"})}),g.jsx("button",{onClick:vt,disabled:U,className:"py-5 bg-lime-400 text-black rounded-2xl font-black text-xl uppercase italic tracking-tighter hover:bg-white transition-all flex items-center justify-center gap-3 font-sport shadow-[0_20px_40px_rgba(163,230,53,0.15)] active:scale-95",children:U?g.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-black"}):g.jsx(g.Fragment,{children:"CHECK-IN"})})]})})]}),g.jsxs("div",{className:"pt-12 flex flex-col items-center gap-4",children:[g.jsxs(ri,{to:"/admin/login",className:"group flex items-center gap-3 px-6 py-3 bg-zinc-900/30 border border-zinc-800/50 rounded-full transition-all hover:bg-lime-400/10 hover:border-lime-400/30",children:[g.jsx(Jp,{className:"w-3 h-3 text-zinc-600 group-hover:text-lime-400 transition-colors"}),g.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.4em] text-zinc-500 group-hover:text-white transition-colors",children:"ACESSO RESTRITO AO COMANDO"})]}),g.jsx("p",{className:"text-[8px] text-zinc-800 font-black uppercase tracking-[0.6em]",children:"FitReward Performance V4"})]})]})]})},D5=()=>{const[i,e]=V.useState(""),[n,r]=V.useState(""),[o,c]=V.useState(""),[u,m]=V.useState(!1),p=Xo(),y=async E=>{E.preventDefault(),m(!0),c("");try{await fI(Fd,i,n),p("/admin/usuarios")}catch(x){x.code==="auth/email-already-in-use"?c("ESTE EMAIL J EST EM USO."):x.code==="auth/weak-password"?c("A SENHA DEVE TER PELO MENOS 6 CARACTERES."):c("ERRO AO CRIAR CONTA: "+x.message)}finally{m(!1)}};return g.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-6 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-2xl aspect-square bg-lime-500/5 blur-[150px] rounded-full"}),g.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-[3rem] shadow-2xl w-full max-w-md overflow-hidden relative z-10",children:[g.jsxs("div",{className:"p-12 bg-zinc-800/30 text-center space-y-4 border-b border-zinc-800",children:[g.jsx("div",{className:"inline-flex p-5 bg-lime-400 rounded-[1.5rem] mb-2 shadow-[0_0_40px_rgba(163,230,53,0.4)] animate-pulse-lime",children:g.jsx(Cr,{className:"w-10 h-10 text-black"})}),g.jsxs("h1",{className:"text-4xl font-black italic tracking-tighter text-white font-sport uppercase",children:["Fit",g.jsx("span",{className:"text-lime-400",children:"Reward"})]}),g.jsx("p",{className:"text-zinc-500 text-[10px] font-black uppercase tracking-[0.4em]",children:"Novo Acesso"})]}),g.jsxs("form",{onSubmit:y,className:"p-12 space-y-8",children:[g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-[9px] font-black text-zinc-500 uppercase tracking-[0.3em] mb-3 ml-1",children:"Email"}),g.jsxs("div",{className:"relative group",children:[g.jsx(eg,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 group-focus-within:text-lime-400 transition-colors w-5 h-5"}),g.jsx("input",{type:"email",required:!0,className:"w-full pl-14 pr-6 py-5 bg-black border border-zinc-800 rounded-2xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase font-sport tracking-widest",placeholder:"SEU EMAIL",value:i,onChange:E=>e(E.target.value)})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[9px] font-black text-zinc-500 uppercase tracking-[0.3em] mb-3 ml-1",children:"Senha"}),g.jsxs("div",{className:"relative group",children:[g.jsx(Jp,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 group-focus-within:text-lime-400 transition-colors w-5 h-5"}),g.jsx("input",{type:"password",required:!0,className:"w-full pl-14 pr-6 py-5 bg-black border border-zinc-800 rounded-2xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase font-sport tracking-widest",placeholder:"",value:n,onChange:E=>r(E.target.value)})]})]})]}),o&&g.jsxs("div",{className:"flex items-center text-white text-[10px] bg-red-600 p-4 rounded-xl font-black uppercase tracking-widest",children:[g.jsx(xd,{className:"w-4 h-4 mr-3 shrink-0"}),o]}),g.jsx("button",{type:"submit",disabled:u,className:"w-full py-6 bg-lime-400 text-black rounded-[1.5rem] font-black text-xl shadow-[0_15px_35px_rgba(163,230,53,0.3)] hover:scale-[1.03] active:scale-95 transition-all flex items-center justify-center gap-3 uppercase tracking-tighter italic font-sport",children:u?g.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-black"}):g.jsxs(g.Fragment,{children:[g.jsx(RR,{className:"w-6 h-6"}),"Criar Conta"]})})]}),g.jsx("div",{className:"p-5 bg-black text-center",children:g.jsx(ri,{to:"/admin/login",className:"text-[10px] text-zinc-500 hover:text-lime-400 uppercase tracking-[0.2em] font-black transition-colors",children:"J TEM UMA CONTA? LOGIN"})})]})]})},O5=()=>{const[i,e]=V.useState([]),[n,r]=V.useState([]),[o,c]=V.useState([]);V.useEffect(()=>{const R=rl(e),L=su(r),P=JT(c);return()=>{R(),L(),P()}},[]);const u=i.filter(R=>R.status===Vn.ACTIVE).length,m=i.reduce((R,L)=>R+L.balance,0),p=o.reduce((R,L)=>R+(L.amount>0?L.amount:0),0),E=(()=>{const R=new Date;return`${R.getFullYear()}-${String(R.getMonth()+1).padStart(2,"0")}-${String(R.getDate()).padStart(2,"0")}`})(),x=n.filter(R=>R.date===E).length,w=[...n].sort((R,L)=>L.time.localeCompare(R.time)).slice(0,5);return g.jsxs("div",{className:"space-y-12 animate-in fade-in duration-700",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-6 border-b-2 border-slate-200 pb-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-black text-lime-400 rounded-full text-[9px] font-black uppercase tracking-[0.2em] shadow-lg",children:[g.jsx(Cr,{className:"w-3 h-3"})," Live Dashboard"]}),g.jsx("h1",{className:"text-4xl font-black italic uppercase font-sport text-slate-900 tracking-tighter loading-none",children:"Viso Geral"}),g.jsx("p",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-[0.3em]",children:"Monitoramento em Tempo Real  Atletas e Performance"})]}),g.jsxs("div",{className:"text-right hidden md:block",children:[g.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Status do Sistema"}),g.jsxs("div",{className:"flex items-center gap-2 text-lime-600 font-black uppercase tracking-widest text-[10px] bg-lime-50 px-3 py-1.5 rounded-lg border border-lime-200",children:[g.jsx("span",{className:"w-1.5 h-1.5 bg-lime-500 rounded-full animate-pulse"})," Operacional"]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[g.jsxs("div",{className:"bg-black text-white p-6 rounded-[2rem] relative overflow-hidden group shadow-2xl",children:[g.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:scale-110 transition-transform",children:g.jsx(_c,{className:"w-20 h-20"})}),g.jsxs("div",{className:"relative z-10 space-y-3",children:[g.jsx("div",{className:"p-2.5 bg-zinc-800 w-fit rounded-xl text-lime-400",children:g.jsx(_c,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-4xl font-black font-sport italic tracking-tighter",children:u}),g.jsx("p",{className:"text-[9px] font-black text-zinc-500 uppercase tracking-[0.2em] mt-1",children:"Atletas Ativos"})]}),g.jsx("div",{className:"w-full bg-zinc-800 h-1.5 rounded-full overflow-hidden",children:g.jsx("div",{className:"bg-lime-400 h-full",style:{width:`${u/(i.length||1)*100}%`}})})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border-2 border-slate-200 relative overflow-hidden group hover:border-lime-400 transition-colors shadow-sm",children:[g.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:g.jsx(Xp,{className:"w-20 h-20 text-slate-900"})}),g.jsxs("div",{className:"relative z-10 space-y-3",children:[g.jsx("div",{className:"p-2.5 bg-slate-50 border border-slate-100 w-fit rounded-xl text-slate-900",children:g.jsx(n1,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-4xl font-black font-sport italic tracking-tighter text-slate-900",children:x}),g.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.2em] mt-1",children:"Check-ins Hoje"})]})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border-2 border-slate-200 relative overflow-hidden group hover:border-lime-400 transition-colors shadow-sm",children:[g.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:g.jsx(yc,{className:"w-20 h-20 text-slate-900"})}),g.jsxs("div",{className:"relative z-10 space-y-3",children:[g.jsx("div",{className:"p-2.5 bg-slate-50 border border-slate-100 w-fit rounded-xl text-slate-900",children:g.jsx(yc,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsxs("h3",{className:"text-3xl font-black font-sport italic tracking-tighter text-slate-900 truncate",children:["R$ ",m.toFixed(0)]}),g.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.2em] mt-1",children:"Saldo dos Atletas"})]})]})]}),g.jsxs("div",{className:"bg-lime-400 text-black p-6 rounded-[2rem] relative overflow-hidden group shadow-lg",children:[g.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10 pointer-events-none"}),g.jsxs("div",{className:"relative z-10 space-y-3",children:[g.jsx("div",{className:"p-2.5 bg-black/10 w-fit rounded-xl text-black",children:g.jsx(jo,{className:"w-5 h-5 fill-current"})}),g.jsxs("div",{children:[g.jsxs("h3",{className:"text-3xl font-black font-sport italic tracking-tighter truncate",children:["R$ ",p.toFixed(0)]}),g.jsx("p",{className:"text-[9px] font-black text-black/60 uppercase tracking-[0.2em] mt-1",children:"Total Pago em Prmios"})]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"xl:col-span-2 bg-white rounded-[2rem] border-2 border-slate-200 shadow-sm overflow-hidden text-sm",children:[g.jsxs("div",{className:"p-6 border-b-2 border-slate-100 flex justify-between items-center bg-slate-50/50",children:[g.jsx("h3",{className:"text-lg font-black italic uppercase font-sport text-slate-900 tracking-widest",children:"Atividade Recente"}),g.jsxs(ri,{to:"/admin/checkins",className:"text-[9px] font-black uppercase tracking-widest text-slate-400 hover:text-lime-600 flex items-center gap-1 transition-colors",children:["Ver Tudo ",g.jsx(Ih,{className:"w-3 h-3"})]})]}),g.jsx("div",{children:w.length>0?g.jsx("div",{className:"divide-y-2 divide-slate-100",children:w.map(R=>{const L=i.find(P=>P.id===R.userId);return g.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors group",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400 border border-slate-200 group-hover:bg-lime-400 group-hover:text-black group-hover:border-lime-500 transition-all",children:g.jsx(Cr,{className:"w-4 h-4"})}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-black text-slate-900 uppercase tracking-tight text-xs",children:(L==null?void 0:L.name)||"Desconhecido"}),g.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(Jo,{className:"w-2.5 h-2.5"})," ",R.time,"  ",R.date===E?"Hoje":R.date,R.address&&g.jsxs(g.Fragment,{children:["  ",g.jsx(ZE,{className:"w-2.5 h-2.5"})," ",g.jsx("span",{className:"max-w-[120px] truncate",children:R.address})]})]})]})]}),g.jsxs("div",{className:"px-3 py-0.5 bg-slate-100 rounded-lg text-slate-600 text-[9px] font-black uppercase tracking-widest border border-slate-200",children:["+",R.score," PTS"]})]},R.id)})}):g.jsx("div",{className:"p-12 text-center text-slate-400 font-bold uppercase tracking-widest text-xs",children:"Nenhuma atividade recente registrada hoje."})})]}),g.jsxs("div",{className:"bg-black rounded-[2rem] p-6 text-white space-y-4 relative overflow-hidden shadow-2xl",children:[g.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-lime-500/10 blur-[60px] rounded-full pointing-events-none"}),g.jsxs("div",{className:"relative z-10",children:[g.jsxs("h3",{className:"text-lg font-black italic uppercase font-sport text-white tracking-widest mb-4 flex items-center gap-3",children:[g.jsx(jo,{className:"w-4 h-4 text-lime-400 fill-current"})," Aes Rpidas"]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs(ri,{to:"/admin/qrcode",className:"flex items-center p-3 bg-zinc-900 border border-zinc-800 rounded-xl hover:bg-lime-400 hover:text-black hover:border-lime-400 transition-all group",children:[g.jsx("div",{className:"w-9 h-9 bg-black rounded-lg flex items-center justify-center mr-3 group-hover:bg-white/20 group-hover:text-black",children:g.jsx(jo,{className:"w-3.5 h-3.5"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h4",{className:"font-black uppercase tracking-wider text-xs",children:"Gerar Acesso"}),g.jsx("p",{className:"text-[8px] text-zinc-500 font-bold uppercase tracking-widest group-hover:text-black/60",children:"Criar Token Dirio"})]}),g.jsx(Ih,{className:"w-3.5 h-3.5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),g.jsxs(ri,{to:"/admin/usuarios",className:"flex items-center p-3 bg-zinc-900 border border-zinc-800 rounded-xl hover:bg-white hover:text-black hover:border-white transition-all group",children:[g.jsx("div",{className:"w-9 h-9 bg-black rounded-lg flex items-center justify-center mr-3 group-hover:bg-slate-200",children:g.jsx(_c,{className:"w-3.5 h-3.5"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h4",{className:"font-black uppercase tracking-wider text-xs",children:"Novo Atleta"}),g.jsx("p",{className:"text-[8px] text-zinc-500 font-bold uppercase tracking-widest group-hover:text-black/60",children:"Cadastrar Competidor"})]}),g.jsx(Ih,{className:"w-3.5 h-3.5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),g.jsxs(ri,{to:"/admin/distribuicoes",className:"flex items-center p-3 bg-zinc-900 border border-zinc-800 rounded-xl hover:bg-rose-500 hover:text-white hover:border-rose-500 transition-all group",children:[g.jsx("div",{className:"w-9 h-9 bg-black rounded-lg flex items-center justify-center mr-3 group-hover:bg-white/20",children:g.jsx(yc,{className:"w-3.5 h-3.5"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h4",{className:"font-black uppercase tracking-wider text-xs",children:"Processar Payout"}),g.jsx("p",{className:"text-[8px] text-zinc-500 font-bold uppercase tracking-widest group-hover:text-white/80",children:"Rodar Distribuio Diria"})]}),g.jsx(Ih,{className:"w-3.5 h-3.5 opacity-0 group-hover:opacity-100 transition-opacity"})]})]})]})]})]})]})},ZT=V.createContext({currentUser:null,loading:!0}),M5=()=>V.useContext(ZT),j5=({children:i})=>{const[e,n]=V.useState(null),[r,o]=V.useState(!0);V.useEffect(()=>yI(Fd,m=>{n(m),o(!1)}),[]);const c={currentUser:e,loading:r};return g.jsx(ZT.Provider,{value:c,children:!r&&i})},ya=({children:i})=>{const{currentUser:e,loading:n}=M5();return n?g.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-lime-400 font-black tracking-widest uppercase",children:"Carregando Sistema..."}):e?g.jsx(g.Fragment,{children:i}):g.jsx(GE,{to:"/admin/login",replace:!0})},V5=()=>g.jsx(u2,{children:g.jsx(j5,{children:g.jsx(DR,{children:g.jsxs(LA,{children:[g.jsx(jn,{path:"/admin/login",element:g.jsx(I5,{})}),g.jsx(jn,{path:"/signup",element:g.jsx(D5,{})}),g.jsx(jn,{path:"/admin",element:g.jsx(ya,{children:g.jsx(O5,{})})}),g.jsx(jn,{path:"/admin/usuarios",element:g.jsx(ya,{children:g.jsx(S5,{})})}),g.jsx(jn,{path:"/admin/qrcode",element:g.jsx(ya,{children:g.jsx(A5,{})})}),g.jsx(jn,{path:"/admin/horarios",element:g.jsx(ya,{children:g.jsx(C5,{})})}),g.jsx(jn,{path:"/admin/checkins",element:g.jsx(ya,{children:g.jsx(R5,{})})}),g.jsx(jn,{path:"/admin/ranking",element:g.jsx(ya,{children:g.jsx(IE,{})})}),g.jsx(jn,{path:"/admin/distribuicoes",element:g.jsx(ya,{children:g.jsx(N5,{})})}),g.jsx(jn,{path:"/checkin",element:g.jsx(k5,{})}),g.jsx(jn,{path:"/ranking",element:g.jsx(IE,{})}),g.jsx(jn,{path:"/",element:g.jsx(GE,{to:"/checkin",replace:!0})})]})})})}),ew=document.getElementById("root");if(!ew)throw new Error("Could not find root element to mount to");const U5=qS.createRoot(ew);U5.render(g.jsx(MS.StrictMode,{children:g.jsx(V5,{})}));
