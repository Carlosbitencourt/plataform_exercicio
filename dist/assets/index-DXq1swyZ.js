(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function Lb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Gm={exports:{}},ac={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function U2(){if(O_)return ac;O_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,c){var u=null;if(c!==void 0&&(u=""+c),l.key!==void 0&&(u=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:u,ref:l!==void 0?l:null,props:c}}return ac.Fragment=e,ac.jsx=n,ac.jsxs=n,ac}var M_;function L2(){return M_||(M_=1,Gm.exports=U2()),Gm.exports}var d=L2(),$m={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function z2(){if(V_)return Ne;V_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function N(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,O={};function W(U,Q,le){this.props=U,this.context=Q,this.refs=O,this.updater=le||L}W.prototype.isReactComponent={},W.prototype.setState=function(U,Q){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Q,"setState")},W.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function K(){}K.prototype=W.prototype;function q(U,Q,le){this.props=U,this.context=Q,this.refs=O,this.updater=le||L}var ae=q.prototype=new K;ae.constructor=q,P(ae,W.prototype),ae.isPureReactComponent=!0;var Z=Array.isArray;function he(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function S(U,Q,le){var ce=le.ref;return{$$typeof:s,type:U,key:Q,ref:ce!==void 0?ce:null,props:le}}function j(U,Q){return S(U.type,Q,U.props)}function M(U){return typeof U=="object"&&U!==null&&U.$$typeof===s}function z(U){var Q={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(le){return Q[le]})}var C=/\/+/g;function te(U,Q){return typeof U=="object"&&U!==null&&U.key!=null?z(""+U.key):Q.toString(36)}function be(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(he,he):(U.status="pending",U.then(function(Q){U.status==="pending"&&(U.status="fulfilled",U.value=Q)},function(Q){U.status==="pending"&&(U.status="rejected",U.reason=Q)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Y(U,Q,le,ce,de){var ve=typeof U;(ve==="undefined"||ve==="boolean")&&(U=null);var De=!1;if(U===null)De=!0;else switch(ve){case"bigint":case"string":case"number":De=!0;break;case"object":switch(U.$$typeof){case s:case e:De=!0;break;case b:return De=U._init,Y(De(U._payload),Q,le,ce,de)}}if(De)return de=de(U),De=ce===""?"."+te(U,0):ce,Z(de)?(le="",De!=null&&(le=De.replace(C,"$&/")+"/"),Y(de,Q,le,"",function(Bt){return Bt})):de!=null&&(M(de)&&(de=j(de,le+(de.key==null||U&&U.key===de.key?"":(""+de.key).replace(C,"$&/")+"/")+De)),Q.push(de)),1;De=0;var mt=ce===""?".":ce+":";if(Z(U))for(var Oe=0;Oe<U.length;Oe++)ce=U[Oe],ve=mt+te(ce,Oe),De+=Y(ce,Q,le,ve,de);else if(Oe=N(U),typeof Oe=="function")for(U=Oe.call(U),Oe=0;!(ce=U.next()).done;)ce=ce.value,ve=mt+te(ce,Oe++),De+=Y(ce,Q,le,ve,de);else if(ve==="object"){if(typeof U.then=="function")return Y(be(U),Q,le,ce,de);throw Q=String(U),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return De}function oe(U,Q,le){if(U==null)return U;var ce=[],de=0;return Y(U,ce,"","",function(ve){return Q.call(le,ve,de++)}),ce}function ge(U){if(U._status===-1){var Q=U._result;Q=Q(),Q.then(function(le){(U._status===0||U._status===-1)&&(U._status=1,U._result=le)},function(le){(U._status===0||U._status===-1)&&(U._status=2,U._result=le)}),U._status===-1&&(U._status=0,U._result=Q)}if(U._status===1)return U._result.default;throw U._result}var Ce=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},$e={map:oe,forEach:function(U,Q,le){oe(U,function(){Q.apply(this,arguments)},le)},count:function(U){var Q=0;return oe(U,function(){Q++}),Q},toArray:function(U){return oe(U,function(Q){return Q})||[]},only:function(U){if(!M(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ne.Activity=E,Ne.Children=$e,Ne.Component=W,Ne.Fragment=n,Ne.Profiler=l,Ne.PureComponent=q,Ne.StrictMode=r,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(U){return I.H.useMemoCache(U)}},Ne.cache=function(U){return function(){return U.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(U,Q,le){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ce=P({},U.props),de=U.key;if(Q!=null)for(ve in Q.key!==void 0&&(de=""+Q.key),Q)!R.call(Q,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&Q.ref===void 0||(ce[ve]=Q[ve]);var ve=arguments.length-2;if(ve===1)ce.children=le;else if(1<ve){for(var De=Array(ve),mt=0;mt<ve;mt++)De[mt]=arguments[mt+2];ce.children=De}return S(U.type,de,ce)},Ne.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:c,_context:U},U},Ne.createElement=function(U,Q,le){var ce,de={},ve=null;if(Q!=null)for(ce in Q.key!==void 0&&(ve=""+Q.key),Q)R.call(Q,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(de[ce]=Q[ce]);var De=arguments.length-2;if(De===1)de.children=le;else if(1<De){for(var mt=Array(De),Oe=0;Oe<De;Oe++)mt[Oe]=arguments[Oe+2];de.children=mt}if(U&&U.defaultProps)for(ce in De=U.defaultProps,De)de[ce]===void 0&&(de[ce]=De[ce]);return S(U,ve,de)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(U){return{$$typeof:p,render:U}},Ne.isValidElement=M,Ne.lazy=function(U){return{$$typeof:b,_payload:{_status:-1,_result:U},_init:ge}},Ne.memo=function(U,Q){return{$$typeof:y,type:U,compare:Q===void 0?null:Q}},Ne.startTransition=function(U){var Q=I.T,le={};I.T=le;try{var ce=U(),de=I.S;de!==null&&de(le,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(he,Ce)}catch(ve){Ce(ve)}finally{Q!==null&&le.types!==null&&(Q.types=le.types),I.T=Q}},Ne.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ne.use=function(U){return I.H.use(U)},Ne.useActionState=function(U,Q,le){return I.H.useActionState(U,Q,le)},Ne.useCallback=function(U,Q){return I.H.useCallback(U,Q)},Ne.useContext=function(U){return I.H.useContext(U)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(U,Q){return I.H.useDeferredValue(U,Q)},Ne.useEffect=function(U,Q){return I.H.useEffect(U,Q)},Ne.useEffectEvent=function(U){return I.H.useEffectEvent(U)},Ne.useId=function(){return I.H.useId()},Ne.useImperativeHandle=function(U,Q,le){return I.H.useImperativeHandle(U,Q,le)},Ne.useInsertionEffect=function(U,Q){return I.H.useInsertionEffect(U,Q)},Ne.useLayoutEffect=function(U,Q){return I.H.useLayoutEffect(U,Q)},Ne.useMemo=function(U,Q){return I.H.useMemo(U,Q)},Ne.useOptimistic=function(U,Q){return I.H.useOptimistic(U,Q)},Ne.useReducer=function(U,Q,le){return I.H.useReducer(U,Q,le)},Ne.useRef=function(U){return I.H.useRef(U)},Ne.useState=function(U){return I.H.useState(U)},Ne.useSyncExternalStore=function(U,Q,le){return I.H.useSyncExternalStore(U,Q,le)},Ne.useTransition=function(){return I.H.useTransition()},Ne.version="19.2.4",Ne}var P_;function Xp(){return P_||(P_=1,$m.exports=z2()),$m.exports}var D=Xp();const B2=Lb(D);var Km={exports:{}},lc={},Ym={exports:{}},Qm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function q2(){return U_||(U_=1,(function(s){function e(Y,oe){var ge=Y.length;Y.push(oe);e:for(;0<ge;){var Ce=ge-1>>>1,$e=Y[Ce];if(0<l($e,oe))Y[Ce]=oe,Y[ge]=$e,ge=Ce;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var oe=Y[0],ge=Y.pop();if(ge!==oe){Y[0]=ge;e:for(var Ce=0,$e=Y.length,U=$e>>>1;Ce<U;){var Q=2*(Ce+1)-1,le=Y[Q],ce=Q+1,de=Y[ce];if(0>l(le,ge))ce<$e&&0>l(de,le)?(Y[Ce]=de,Y[ce]=ge,Ce=ce):(Y[Ce]=le,Y[Q]=ge,Ce=Q);else if(ce<$e&&0>l(de,ge))Y[Ce]=de,Y[ce]=ge,Ce=ce;else break e}}return oe}function l(Y,oe){var ge=Y.sortIndex-oe.sortIndex;return ge!==0?ge:Y.id-oe.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var u=Date,p=u.now();s.unstable_now=function(){return u.now()-p}}var g=[],y=[],b=1,E=null,T=3,N=!1,L=!1,P=!1,O=!1,W=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function ae(Y){for(var oe=n(y);oe!==null;){if(oe.callback===null)r(y);else if(oe.startTime<=Y)r(y),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=n(y)}}function Z(Y){if(P=!1,ae(Y),!L)if(n(g)!==null)L=!0,he||(he=!0,z());else{var oe=n(y);oe!==null&&be(Z,oe.startTime-Y)}}var he=!1,I=-1,R=5,S=-1;function j(){return O?!0:!(s.unstable_now()-S<R)}function M(){if(O=!1,he){var Y=s.unstable_now();S=Y;var oe=!0;try{e:{L=!1,P&&(P=!1,K(I),I=-1),N=!0;var ge=T;try{t:{for(ae(Y),E=n(g);E!==null&&!(E.expirationTime>Y&&j());){var Ce=E.callback;if(typeof Ce=="function"){E.callback=null,T=E.priorityLevel;var $e=Ce(E.expirationTime<=Y);if(Y=s.unstable_now(),typeof $e=="function"){E.callback=$e,ae(Y),oe=!0;break t}E===n(g)&&r(g),ae(Y)}else r(g);E=n(g)}if(E!==null)oe=!0;else{var U=n(y);U!==null&&be(Z,U.startTime-Y),oe=!1}}break e}finally{E=null,T=ge,N=!1}oe=void 0}}finally{oe?z():he=!1}}}var z;if(typeof q=="function")z=function(){q(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,te=C.port2;C.port1.onmessage=M,z=function(){te.postMessage(null)}}else z=function(){W(M,0)};function be(Y,oe){I=W(function(){Y(s.unstable_now())},oe)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Y){Y.callback=null},s.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},s.unstable_getCurrentPriorityLevel=function(){return T},s.unstable_next=function(Y){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var ge=T;T=oe;try{return Y()}finally{T=ge}},s.unstable_requestPaint=function(){O=!0},s.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ge=T;T=Y;try{return oe()}finally{T=ge}},s.unstable_scheduleCallback=function(Y,oe,ge){var Ce=s.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ce+ge:Ce):ge=Ce,Y){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=ge+$e,Y={id:b++,callback:oe,priorityLevel:Y,startTime:ge,expirationTime:$e,sortIndex:-1},ge>Ce?(Y.sortIndex=ge,e(y,Y),n(g)===null&&Y===n(y)&&(P?(K(I),I=-1):P=!0,be(Z,ge-Ce))):(Y.sortIndex=$e,e(g,Y),L||N||(L=!0,he||(he=!0,z()))),Y},s.unstable_shouldYield=j,s.unstable_wrapCallback=function(Y){var oe=T;return function(){var ge=T;T=oe;try{return Y.apply(this,arguments)}finally{T=ge}}}})(Qm)),Qm}var L_;function H2(){return L_||(L_=1,Ym.exports=q2()),Ym.exports}var Xm={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function F2(){if(z_)return nn;z_=1;var s=Xp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,y,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:g,containerInfo:y,implementation:b}}var u=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nn.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,b)},nn.flushSync=function(g){var y=u.T,b=r.p;try{if(u.T=null,r.p=2,g)return g()}finally{u.T=y,r.p=b,r.d.f()}},nn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},nn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},nn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,E=p(b,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,N=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:N}):b==="script"&&r.d.X(g,{crossOrigin:E,integrity:T,fetchPriority:N,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},nn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,E=p(b,y.crossOrigin);r.d.L(g,b,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},nn.requestFormReset=function(g){r.d.r(g)},nn.unstable_batchedUpdates=function(g,y){return g(y)},nn.useFormState=function(g,y,b){return u.H.useFormState(g,y,b)},nn.useFormStatus=function(){return u.H.useHostTransitionStatus()},nn.version="19.2.4",nn}var B_;function G2(){if(B_)return Xm.exports;B_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Xm.exports=F2(),Xm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function $2(){if(q_)return lc;q_=1;var s=H2(),e=Xp(),n=G2();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function u(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===o)return g(f),i;m=m.sibling}throw Error(r(188))}if(a.return!==o.return)a=f,o=m;else{for(var _=!1,w=f.child;w;){if(w===a){_=!0,a=f,o=m;break}if(w===o){_=!0,o=f,a=m;break}w=w.sibling}if(!_){for(w=m.child;w;){if(w===a){_=!0,a=m,o=f;break}if(w===o){_=!0,o=m,a=f;break}w=w.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),q=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function te(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case W:return"Profiler";case O:return"StrictMode";case Z:return"Suspense";case he:return"SuspenseList";case S:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case q:return t.displayName||"Context";case K:return(t._context.displayName||"Context")+".Consumer";case ae:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:te(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return te(t(i))}catch{}}return null}var be=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ce=[],$e=-1;function U(t){return{current:t}}function Q(t){0>$e||(t.current=Ce[$e],Ce[$e]=null,$e--)}function le(t,i){$e++,Ce[$e]=t.current,t.current=i}var ce=U(null),de=U(null),ve=U(null),De=U(null);function mt(t,i){switch(le(ve,i),le(de,t),le(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?s_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=s_(i),t=i_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(ce),le(ce,t)}function Oe(){Q(ce),Q(de),Q(ve)}function Bt(t){t.memoizedState!==null&&le(De,t);var i=ce.current,a=i_(i,t.type);i!==a&&(le(de,t),le(ce,a))}function bt(t){de.current===t&&(Q(ce),Q(de)),De.current===t&&(Q(De),nc._currentValue=ge)}var ni,Di;function wn(t){if(ni===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ni=i&&i[1]||"",Di=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ni+t+Di}var zr=!1;function si(t,i){if(!t||zr)return"";zr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var $=J}Reflect.construct(t,[],se)}else{try{se.call()}catch(J){$=J}t.call(se.prototype)}}else{try{throw Error()}catch(J){$=J}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&$&&typeof J.stack=="string")return[J.stack,$.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),_=m[0],w=m[1];if(_&&w){var k=_.split(`
`),G=w.split(`
`);for(f=o=0;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(o===k.length||f===G.length)for(o=k.length-1,f=G.length-1;1<=o&&0<=f&&k[o]!==G[f];)f--;for(;1<=o&&0<=f;o--,f--)if(k[o]!==G[f]){if(o!==1||f!==1)do if(o--,f--,0>f||k[o]!==G[f]){var ee=`
`+k[o].replace(" at new "," at ");return t.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",t.displayName)),ee}while(1<=o&&0<=f);break}}}finally{zr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?wn(a):""}function Br(t,i){switch(t.tag){case 26:case 27:case 5:return wn(t.type);case 16:return wn("Lazy");case 13:return t.child!==i&&i!==null?wn("Suspense Fallback"):wn("Suspense");case 19:return wn("SuspenseList");case 0:case 15:return si(t.type,!1);case 11:return si(t.type.render,!1);case 1:return si(t.type,!0);case 31:return wn("Activity");default:return""}}function Oi(t){try{var i="",a=null;do i+=Br(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var dt=Object.prototype.hasOwnProperty,pt=s.unstable_scheduleCallback,_s=s.unstable_cancelCallback,La=s.unstable_shouldYield,za=s.unstable_requestPaint,tn=s.unstable_now,Mi=s.unstable_getCurrentPriorityLevel,Vi=s.unstable_ImmediatePriority,qr=s.unstable_UserBlockingPriority,xs=s.unstable_NormalPriority,Tn=s.unstable_LowPriority,on=s.unstable_IdlePriority,Un=s.log,tu=s.unstable_setDisableYieldValue,ns=null,$t=null;function Ln(t){if(typeof Un=="function"&&tu(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(ns,t)}catch{}}var Et=Math.clz32?Math.clz32:su,nu=Math.log,Ba=Math.LN2;function su(t){return t>>>=0,t===0?32:31-(nu(t)/Ba|0)|0}var bs=256,Hr=262144,Nt=4194304;function Es(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ws(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var f=0,m=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var w=o&134217727;return w!==0?(o=w&~m,o!==0?f=Es(o):(_&=w,_!==0?f=Es(_):a||(a=w&~t,a!==0&&(f=Es(a))))):(w=o&~m,w!==0?f=Es(w):_!==0?f=Es(_):a||(a=o&~t,a!==0&&(f=Es(a)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:f}function ss(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Yd(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var t=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),t}function Ts(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Fr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qd(t,i,a,o,f,m){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,k=t.expirationTimes,G=t.hiddenUpdates;for(a=_&~a;0<a;){var ee=31-Et(a),se=1<<ee;w[ee]=0,k[ee]=-1;var $=G[ee];if($!==null)for(G[ee]=null,ee=0;ee<$.length;ee++){var J=$[ee];J!==null&&(J.lane&=-536870913)}a&=~se}o!==0&&Gr(t,o,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~i))}function Gr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-Et(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function ao(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-Et(a),f=1<<o;f&i|t[o]&i&&(t[o]|=i),a&=~f}}function lo(t,i){var a=i&-i;return a=(a&42)!==0?1:$r(a),(a&(t.suspendedLanes|i))!==0?0:a}function $r(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ii(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ru(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:N_(t.type))}function is(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var rs=Math.random().toString(36).slice(2),Rt="__reactFiber$"+rs,qt="__reactProps$"+rs,Ss="__reactContainer$"+rs,qa="__reactEvents$"+rs,Xd="__reactListeners$"+rs,au="__reactHandles$"+rs,lu="__reactResources$"+rs,As="__reactMarker$"+rs;function Ha(t){delete t[Rt],delete t[qt],delete t[qa],delete t[Xd],delete t[au]}function Ns(t){var i=t[Rt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ss]||a[Rt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=h_(t);t!==null;){if(a=t[Rt])return a;t=h_(t)}return i}t=a,a=t.parentNode}return null}function zn(t){if(t=t[Rt]||t[Ss]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Sn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Rs(t){var i=t[lu];return i||(i=t[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ct(t){t[As]=!0}var oo=new Set,co={};function Cs(t,i){Is(t,i),Is(t+"Capture",i)}function Is(t,i){for(co[t]=i,t=0;t<i.length;t++)oo.add(i[t])}var uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ho={},fo={};function ou(t){return dt.call(fo,t)?!0:dt.call(ho,t)?!1:uo.test(t)?fo[t]=!0:(ho[t]=!0,!1)}function Fa(t,i,a){if(ou(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function An(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function It(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pi(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function mo(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,m.call(this,_)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=Pi(t)?"checked":"value";t._valueTracker=mo(t,i,""+t[i])}}function Kr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=Pi(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function ks(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Yr=/[\n"\\]/g;function dn(t){return t.replace(Yr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ga(t,i,a,o,f,m,_,w){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ht(i)):t.value!==""+Ht(i)&&(t.value=""+Ht(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?po(t,_,Ht(i)):a!=null?po(t,_,Ht(a)):o!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Ht(w):t.removeAttribute("name")}function cu(t,i,a,o,f,m,_,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+Ht(a):"",i=i!=null?""+Ht(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=w?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function po(t,i,a){i==="number"&&ks(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ui(t,i,a,o){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function uu(t,i,a){if(i!=null&&(i=""+Ht(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ht(a):""}function Li(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(be(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Ht(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Xe(t)}function fn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function go(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||hu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function yo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&a[f]!==o&&go(t,f,o)}else for(var m in i)i.hasOwnProperty(m)&&go(t,m,i[m])}function $a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(t){return zi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function as(){}var vo=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bi=null,js=null;function Qr(t){var i=zn(t);if(i&&(t=i.stateNode)){var a=t[qt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ga(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var f=o[qt]||null;if(!f)throw Error(r(90));Ga(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Kr(o)}break e;case"textarea":uu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ui(t,!!a.multiple,i,!1)}}}var Ya=!1;function qi(t,i,a){if(Ya)return t(i,a);Ya=!0;try{var o=t(i);return o}finally{if(Ya=!1,(Bi!==null||js!==null)&&(rh(),Bi&&(i=Bi,t=js,js=Bi=null,Qr(i),t)))for(i=0;i<t.length;i++)Qr(t[i])}}function ls(t,i){var a=t.stateNode;if(a===null)return null;var o=a[qt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=!1;if(qn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Xr=!1}var Ds=null,_o=null,Jr=null;function xo(){if(Jr)return Jr;var t,i=_o,a=i.length,o,f="value"in Ds?Ds.value:Ds.textContent,m=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(o=1;o<=_&&i[a-o]===f[m-o];o++);return Jr=f.slice(t,1<o?1-o:void 0)}function Wr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ri(){return!0}function os(){return!1}function Kt(t){function i(a,o,f,m,_){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ri:os,this.isPropagationStopped=os,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),i}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Os=Kt(ai),Hi=E({},ai,{view:0,detail:0}),bo=Kt(Hi),Fi,Qa,Ms,Xa=E({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ms&&(Ms&&t.type==="mousemove"?(Fi=t.screenX-Ms.screenX,Qa=t.screenY-Ms.screenY):Qa=Fi=0,Ms=t),Fi)},movementY:function(t){return"movementY"in t?t.movementY:Qa}}),Eo=Kt(Xa),Zr=E({},Xa,{dataTransfer:0}),fu=Kt(Zr),mu=E({},Hi,{relatedTarget:0}),ea=Kt(mu),wo=E({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=Kt(wo),Ja=E({},ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gu=Kt(Ja),yu=E({},ai,{data:0}),Vs=Kt(yu),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=xu[t])?!!i[t]:!1}function Gi(){return bu}var cn=E({},Hi,{key:function(t){if(t.key){var i=vu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Wr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gi,charCode:function(t){return t.type==="keypress"?Wr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Eu=Kt(cn),wu=E({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),li=Kt(wu),h=E({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gi}),v=Kt(h),x=E({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Kt(x),H=E({},Xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Kt(H),ue=E({},ai,{newState:0,oldState:0}),Ie=Kt(ue),wt=[9,13,27,32],Ke=qn&&"CompositionEvent"in window,ot=null;qn&&"documentMode"in document&&(ot=document.documentMode);var Hn=qn&&"TextEvent"in window&&!ot,Ps=qn&&(!Ke||ot&&8<ot&&11>=ot),cs=" ",us=!1;function ta(t,i){switch(t){case"keyup":return wt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Za=!1;function oT(t,i){switch(t){case"compositionend":return Wa(i);case"keypress":return i.which!==32?null:(us=!0,cs);case"textInput":return t=i.data,t===cs&&us?null:t;default:return null}}function cT(t,i){if(Za)return t==="compositionend"||!Ke&&ta(t,i)?(t=xo(),Jr=_o=Ds=null,Za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ps&&i.locale!=="ko"?null:i.data;default:return null}}var uT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m0(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!uT[t.type]:i==="textarea"}function p0(t,i,a,o){Bi?js?js.push(o):js=[o]:Bi=o,i=dh(i,"onChange"),0<i.length&&(a=new Os("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var To=null,So=null;function hT(t){Jv(t,0)}function Tu(t){var i=Sn(t);if(Kr(i))return t}function g0(t,i){if(t==="change")return i}var y0=!1;if(qn){var Jd;if(qn){var Wd="oninput"in document;if(!Wd){var v0=document.createElement("div");v0.setAttribute("oninput","return;"),Wd=typeof v0.oninput=="function"}Jd=Wd}else Jd=!1;y0=Jd&&(!document.documentMode||9<document.documentMode)}function _0(){To&&(To.detachEvent("onpropertychange",x0),So=To=null)}function x0(t){if(t.propertyName==="value"&&Tu(So)){var i=[];p0(i,So,t,Bn(t)),qi(hT,i)}}function dT(t,i,a){t==="focusin"?(_0(),To=i,So=a,To.attachEvent("onpropertychange",x0)):t==="focusout"&&_0()}function fT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tu(So)}function mT(t,i){if(t==="click")return Tu(i)}function pT(t,i){if(t==="input"||t==="change")return Tu(i)}function gT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Nn=typeof Object.is=="function"?Object.is:gT;function Ao(t,i){if(Nn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!dt.call(i,f)||!Nn(t[f],i[f]))return!1}return!0}function b0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function E0(t,i){var a=b0(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=b0(a)}}function w0(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?w0(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function T0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ks(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ks(t.document)}return i}function Zd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var yT=qn&&"documentMode"in document&&11>=document.documentMode,el=null,ef=null,No=null,tf=!1;function S0(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;tf||el==null||el!==ks(o)||(o=el,"selectionStart"in o&&Zd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),No&&Ao(No,o)||(No=o,o=dh(ef,"onSelect"),0<o.length&&(i=new Os("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=el)))}function na(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var tl={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},nf={},A0={};qn&&(A0=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function sa(t){if(nf[t])return nf[t];if(!tl[t])return t;var i=tl[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in A0)return nf[t]=i[a];return t}var N0=sa("animationend"),R0=sa("animationiteration"),C0=sa("animationstart"),vT=sa("transitionrun"),_T=sa("transitionstart"),xT=sa("transitioncancel"),I0=sa("transitionend"),k0=new Map,sf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sf.push("scrollEnd");function hs(t,i){k0.set(t,i),Cs(i,[t])}var Su=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fn=[],nl=0,rf=0;function Au(){for(var t=nl,i=rf=nl=0;i<t;){var a=Fn[i];Fn[i++]=null;var o=Fn[i];Fn[i++]=null;var f=Fn[i];Fn[i++]=null;var m=Fn[i];if(Fn[i++]=null,o!==null&&f!==null){var _=o.pending;_===null?f.next=f:(f.next=_.next,_.next=f),o.pending=f}m!==0&&j0(a,f,m)}}function Nu(t,i,a,o){Fn[nl++]=t,Fn[nl++]=i,Fn[nl++]=a,Fn[nl++]=o,rf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function af(t,i,a,o){return Nu(t,i,a,o),Ru(t)}function ia(t,i){return Nu(t,null,null,i),Ru(t)}function j0(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&i!==null&&(f=31-Et(a),t=m.hiddenUpdates,o=t[f],o===null?t[f]=[i]:o.push(i),i.lane=a|536870912),m):null}function Ru(t){if(50<Qo)throw Qo=0,pm=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var sl={};function bT(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,i,a,o){return new bT(t,i,a,o)}function lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oi(t,i){var a=t.alternate;return a===null?(a=Rn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function D0(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Cu(t,i,a,o,f,m){var _=0;if(o=t,typeof t=="function")lf(t)&&(_=1);else if(typeof t=="string")_=A2(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case S:return t=Rn(31,a,i,f),t.elementType=S,t.lanes=m,t;case P:return ra(a.children,f,m,i);case O:_=8,f|=24;break;case W:return t=Rn(12,a,i,f|2),t.elementType=W,t.lanes=m,t;case Z:return t=Rn(13,a,i,f),t.elementType=Z,t.lanes=m,t;case he:return t=Rn(19,a,i,f),t.elementType=he,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q:_=10;break e;case K:_=9;break e;case ae:_=11;break e;case I:_=14;break e;case R:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=Rn(_,a,i,f),i.elementType=t,i.type=o,i.lanes=m,i}function ra(t,i,a,o){return t=Rn(7,t,o,i),t.lanes=a,t}function of(t,i,a){return t=Rn(6,t,null,i),t.lanes=a,t}function O0(t){var i=Rn(18,null,null,0);return i.stateNode=t,i}function cf(t,i,a){return i=Rn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var M0=new WeakMap;function Gn(t,i){if(typeof t=="object"&&t!==null){var a=M0.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Oi(i)},M0.set(t,i),i)}return{value:t,source:i,stack:Oi(i)}}var il=[],rl=0,Iu=null,Ro=0,$n=[],Kn=0,$i=null,Us=1,Ls="";function ci(t,i){il[rl++]=Ro,il[rl++]=Iu,Iu=t,Ro=i}function V0(t,i,a){$n[Kn++]=Us,$n[Kn++]=Ls,$n[Kn++]=$i,$i=t;var o=Us;t=Ls;var f=32-Et(o)-1;o&=~(1<<f),a+=1;var m=32-Et(i)+f;if(30<m){var _=f-f%5;m=(o&(1<<_)-1).toString(32),o>>=_,f-=_,Us=1<<32-Et(i)+f|a<<f|o,Ls=m+t}else Us=1<<m|a<<f|o,Ls=t}function uf(t){t.return!==null&&(ci(t,1),V0(t,1,0))}function hf(t){for(;t===Iu;)Iu=il[--rl],il[rl]=null,Ro=il[--rl],il[rl]=null;for(;t===$i;)$i=$n[--Kn],$n[Kn]=null,Ls=$n[--Kn],$n[Kn]=null,Us=$n[--Kn],$n[Kn]=null}function P0(t,i){$n[Kn++]=Us,$n[Kn++]=Ls,$n[Kn++]=$i,Us=i.id,Ls=i.overflow,$i=t}var Yt=null,rt=null,qe=!1,Ki=null,Yn=!1,df=Error(r(519));function Yi(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Co(Gn(i,t)),df}function U0(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[Rt]=t,i[qt]=o,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<Jo.length;a++)Ve(Jo[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),cu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),Li(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||t_(i.textContent,a)?(o.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),o.onScroll!=null&&Ve("scroll",i),o.onScrollEnd!=null&&Ve("scrollend",i),o.onClick!=null&&(i.onclick=as),i=!0):i=!1,i||Yi(t,!0)}function L0(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Yt=Yt.return}}function al(t){if(t!==Yt)return!1;if(!qe)return L0(t),qe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Im(t.type,t.memoizedProps)),a=!a),a&&rt&&Yi(t),L0(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=u_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=u_(t)}else i===27?(i=rt,or(t.type)?(t=Mm,Mm=null,rt=t):rt=i):rt=Yt?Xn(t.stateNode.nextSibling):null;return!0}function aa(){rt=Yt=null,qe=!1}function ff(){var t=Ki;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),Ki=null),t}function Co(t){Ki===null?Ki=[t]:Ki.push(t)}var mf=U(null),la=null,ui=null;function Qi(t,i,a){le(mf,i._currentValue),i._currentValue=a}function hi(t){t._currentValue=mf.current,Q(mf)}function pf(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function gf(t,i,a,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var k=0;k<i.length;k++)if(w.context===i[k]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),pf(m.return,a,t),o||(_=null);break e}m=w.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),pf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function ll(t,i,a,o){t=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var w=f.type;Nn(f.pendingProps.value,_.value)||(t!==null?t.push(w):t=[w])}}else if(f===De.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(nc):t=[nc])}f=f.return}t!==null&&gf(i,t,a,o),i.flags|=262144}function ku(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function oa(t){la=t,ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return z0(la,t)}function ju(t,i){return la===null&&oa(t),z0(t,i)}function z0(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ui===null){if(t===null)throw Error(r(308));ui=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ui=ui.next=i;return a}var ET=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},wT=s.unstable_scheduleCallback,TT=s.unstable_NormalPriority,kt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yf(){return{controller:new ET,data:new Map,refCount:0}}function Io(t){t.refCount--,t.refCount===0&&wT(TT,function(){t.controller.abort()})}var ko=null,vf=0,ol=0,cl=null;function ST(t,i){if(ko===null){var a=ko=[];vf=0,ol=bm(),cl={status:"pending",value:void 0,then:function(o){a.push(o)}}}return vf++,i.then(B0,B0),i}function B0(){if(--vf===0&&ko!==null){cl!==null&&(cl.status="fulfilled");var t=ko;ko=null,ol=0,cl=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function AT(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var q0=Y.S;Y.S=function(t,i){Sv=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ST(t,i),q0!==null&&q0(t,i)};var ca=U(null);function _f(){var t=ca.current;return t!==null?t:st.pooledCache}function Du(t,i){i===null?le(ca,ca.current):le(ca,i.pool)}function H0(){var t=_f();return t===null?null:{parent:kt._currentValue,pool:t}}var ul=Error(r(460)),xf=Error(r(474)),Ou=Error(r(542)),Mu={then:function(){}};function F0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function G0(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(as,as),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,K0(t),t;default:if(typeof i.status=="string")i.then(as,as);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,K0(t),t}throw ha=i,ul}}function ua(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ha=a,ul):a}}var ha=null;function $0(){if(ha===null)throw Error(r(459));var t=ha;return ha=null,t}function K0(t){if(t===ul||t===Ou)throw Error(r(483))}var hl=null,jo=0;function Vu(t){var i=jo;return jo+=1,hl===null&&(hl=[]),G0(hl,t,i)}function Do(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Pu(t,i){throw i.$$typeof===T?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Y0(t){function i(B,V){if(t){var F=B.deletions;F===null?(B.deletions=[V],B.flags|=16):F.push(V)}}function a(B,V){if(!t)return null;for(;V!==null;)i(B,V),V=V.sibling;return null}function o(B){for(var V=new Map;B!==null;)B.key!==null?V.set(B.key,B):V.set(B.index,B),B=B.sibling;return V}function f(B,V){return B=oi(B,V),B.index=0,B.sibling=null,B}function m(B,V,F){return B.index=F,t?(F=B.alternate,F!==null?(F=F.index,F<V?(B.flags|=67108866,V):F):(B.flags|=67108866,V)):(B.flags|=1048576,V)}function _(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function w(B,V,F,ne){return V===null||V.tag!==6?(V=of(F,B.mode,ne),V.return=B,V):(V=f(V,F),V.return=B,V)}function k(B,V,F,ne){var _e=F.type;return _e===P?ee(B,V,F.props.children,ne,F.key):V!==null&&(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===R&&ua(_e)===V.type)?(V=f(V,F.props),Do(V,F),V.return=B,V):(V=Cu(F.type,F.key,F.props,null,B.mode,ne),Do(V,F),V.return=B,V)}function G(B,V,F,ne){return V===null||V.tag!==4||V.stateNode.containerInfo!==F.containerInfo||V.stateNode.implementation!==F.implementation?(V=cf(F,B.mode,ne),V.return=B,V):(V=f(V,F.children||[]),V.return=B,V)}function ee(B,V,F,ne,_e){return V===null||V.tag!==7?(V=ra(F,B.mode,ne,_e),V.return=B,V):(V=f(V,F),V.return=B,V)}function se(B,V,F){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=of(""+V,B.mode,F),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case N:return F=Cu(V.type,V.key,V.props,null,B.mode,F),Do(F,V),F.return=B,F;case L:return V=cf(V,B.mode,F),V.return=B,V;case R:return V=ua(V),se(B,V,F)}if(be(V)||z(V))return V=ra(V,B.mode,F,null),V.return=B,V;if(typeof V.then=="function")return se(B,Vu(V),F);if(V.$$typeof===q)return se(B,ju(B,V),F);Pu(B,V)}return null}function $(B,V,F,ne){var _e=V!==null?V.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return _e!==null?null:w(B,V,""+F,ne);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case N:return F.key===_e?k(B,V,F,ne):null;case L:return F.key===_e?G(B,V,F,ne):null;case R:return F=ua(F),$(B,V,F,ne)}if(be(F)||z(F))return _e!==null?null:ee(B,V,F,ne,null);if(typeof F.then=="function")return $(B,V,Vu(F),ne);if(F.$$typeof===q)return $(B,V,ju(B,F),ne);Pu(B,F)}return null}function J(B,V,F,ne,_e){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return B=B.get(F)||null,w(V,B,""+ne,_e);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case N:return B=B.get(ne.key===null?F:ne.key)||null,k(V,B,ne,_e);case L:return B=B.get(ne.key===null?F:ne.key)||null,G(V,B,ne,_e);case R:return ne=ua(ne),J(B,V,F,ne,_e)}if(be(ne)||z(ne))return B=B.get(F)||null,ee(V,B,ne,_e,null);if(typeof ne.then=="function")return J(B,V,F,Vu(ne),_e);if(ne.$$typeof===q)return J(B,V,F,ju(V,ne),_e);Pu(V,ne)}return null}function pe(B,V,F,ne){for(var _e=null,Fe=null,ye=V,je=V=0,Ue=null;ye!==null&&je<F.length;je++){ye.index>je?(Ue=ye,ye=null):Ue=ye.sibling;var Ge=$(B,ye,F[je],ne);if(Ge===null){ye===null&&(ye=Ue);break}t&&ye&&Ge.alternate===null&&i(B,ye),V=m(Ge,V,je),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge,ye=Ue}if(je===F.length)return a(B,ye),qe&&ci(B,je),_e;if(ye===null){for(;je<F.length;je++)ye=se(B,F[je],ne),ye!==null&&(V=m(ye,V,je),Fe===null?_e=ye:Fe.sibling=ye,Fe=ye);return qe&&ci(B,je),_e}for(ye=o(ye);je<F.length;je++)Ue=J(ye,B,je,F[je],ne),Ue!==null&&(t&&Ue.alternate!==null&&ye.delete(Ue.key===null?je:Ue.key),V=m(Ue,V,je),Fe===null?_e=Ue:Fe.sibling=Ue,Fe=Ue);return t&&ye.forEach(function(fr){return i(B,fr)}),qe&&ci(B,je),_e}function Ee(B,V,F,ne){if(F==null)throw Error(r(151));for(var _e=null,Fe=null,ye=V,je=V=0,Ue=null,Ge=F.next();ye!==null&&!Ge.done;je++,Ge=F.next()){ye.index>je?(Ue=ye,ye=null):Ue=ye.sibling;var fr=$(B,ye,Ge.value,ne);if(fr===null){ye===null&&(ye=Ue);break}t&&ye&&fr.alternate===null&&i(B,ye),V=m(fr,V,je),Fe===null?_e=fr:Fe.sibling=fr,Fe=fr,ye=Ue}if(Ge.done)return a(B,ye),qe&&ci(B,je),_e;if(ye===null){for(;!Ge.done;je++,Ge=F.next())Ge=se(B,Ge.value,ne),Ge!==null&&(V=m(Ge,V,je),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge);return qe&&ci(B,je),_e}for(ye=o(ye);!Ge.done;je++,Ge=F.next())Ge=J(ye,B,je,Ge.value,ne),Ge!==null&&(t&&Ge.alternate!==null&&ye.delete(Ge.key===null?je:Ge.key),V=m(Ge,V,je),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge);return t&&ye.forEach(function(P2){return i(B,P2)}),qe&&ci(B,je),_e}function nt(B,V,F,ne){if(typeof F=="object"&&F!==null&&F.type===P&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case N:e:{for(var _e=F.key;V!==null;){if(V.key===_e){if(_e=F.type,_e===P){if(V.tag===7){a(B,V.sibling),ne=f(V,F.props.children),ne.return=B,B=ne;break e}}else if(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===R&&ua(_e)===V.type){a(B,V.sibling),ne=f(V,F.props),Do(ne,F),ne.return=B,B=ne;break e}a(B,V);break}else i(B,V);V=V.sibling}F.type===P?(ne=ra(F.props.children,B.mode,ne,F.key),ne.return=B,B=ne):(ne=Cu(F.type,F.key,F.props,null,B.mode,ne),Do(ne,F),ne.return=B,B=ne)}return _(B);case L:e:{for(_e=F.key;V!==null;){if(V.key===_e)if(V.tag===4&&V.stateNode.containerInfo===F.containerInfo&&V.stateNode.implementation===F.implementation){a(B,V.sibling),ne=f(V,F.children||[]),ne.return=B,B=ne;break e}else{a(B,V);break}else i(B,V);V=V.sibling}ne=cf(F,B.mode,ne),ne.return=B,B=ne}return _(B);case R:return F=ua(F),nt(B,V,F,ne)}if(be(F))return pe(B,V,F,ne);if(z(F)){if(_e=z(F),typeof _e!="function")throw Error(r(150));return F=_e.call(F),Ee(B,V,F,ne)}if(typeof F.then=="function")return nt(B,V,Vu(F),ne);if(F.$$typeof===q)return nt(B,V,ju(B,F),ne);Pu(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,V!==null&&V.tag===6?(a(B,V.sibling),ne=f(V,F),ne.return=B,B=ne):(a(B,V),ne=of(F,B.mode,ne),ne.return=B,B=ne),_(B)):a(B,V)}return function(B,V,F,ne){try{jo=0;var _e=nt(B,V,F,ne);return hl=null,_e}catch(ye){if(ye===ul||ye===Ou)throw ye;var Fe=Rn(29,ye,null,B.mode);return Fe.lanes=ne,Fe.return=B,Fe}finally{}}}var da=Y0(!0),Q0=Y0(!1),Xi=!1;function bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ji(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wi(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ye&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=Ru(t),j0(t,null,a),i}return Nu(t,o,i,a),Ru(t)}function Oo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,ao(t,a)}}function wf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Tf=!1;function Mo(){if(Tf){var t=cl;if(t!==null)throw t}}function Vo(t,i,a,o){Tf=!1;var f=t.updateQueue;Xi=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var k=w,G=k.next;k.next=null,_===null?m=G:_.next=G,_=k;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,w=ee.lastBaseUpdate,w!==_&&(w===null?ee.firstBaseUpdate=G:w.next=G,ee.lastBaseUpdate=k))}if(m!==null){var se=f.baseState;_=0,ee=G=k=null,w=m;do{var $=w.lane&-536870913,J=$!==w.lane;if(J?(Pe&$)===$:(o&$)===$){$!==0&&$===ol&&(Tf=!0),ee!==null&&(ee=ee.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var pe=t,Ee=w;$=i;var nt=a;switch(Ee.tag){case 1:if(pe=Ee.payload,typeof pe=="function"){se=pe.call(nt,se,$);break e}se=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ee.payload,$=typeof pe=="function"?pe.call(nt,se,$):pe,$==null)break e;se=E({},se,$);break e;case 2:Xi=!0}}$=w.callback,$!==null&&(t.flags|=64,J&&(t.flags|=8192),J=f.callbacks,J===null?f.callbacks=[$]:J.push($))}else J={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ee===null?(G=ee=J,k=se):ee=ee.next=J,_|=$;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;J=w,w=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);ee===null&&(k=se),f.baseState=k,f.firstBaseUpdate=G,f.lastBaseUpdate=ee,m===null&&(f.shared.lanes=0),sr|=_,t.lanes=_,t.memoizedState=se}}function X0(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function J0(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)X0(a[t],i)}var dl=U(null),Uu=U(0);function W0(t,i){t=xi,le(Uu,t),le(dl,i),xi=t|i.baseLanes}function Sf(){le(Uu,xi),le(dl,dl.current)}function Af(){xi=Uu.current,Q(dl),Q(Uu)}var Cn=U(null),Qn=null;function Zi(t){var i=t.alternate;le(Tt,Tt.current&1),le(Cn,t),Qn===null&&(i===null||dl.current!==null||i.memoizedState!==null)&&(Qn=t)}function Nf(t){le(Tt,Tt.current),le(Cn,t),Qn===null&&(Qn=t)}function Z0(t){t.tag===22?(le(Tt,Tt.current),le(Cn,t),Qn===null&&(Qn=t)):er()}function er(){le(Tt,Tt.current),le(Cn,Cn.current)}function In(t){Q(Cn),Qn===t&&(Qn=null),Q(Tt)}var Tt=U(0);function Lu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Dm(a)||Om(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var di=0,ke=null,et=null,jt=null,zu=!1,fl=!1,fa=!1,Bu=0,Po=0,ml=null,NT=0;function gt(){throw Error(r(321))}function Rf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Nn(t[a],i[a]))return!1;return!0}function Cf(t,i,a,o,f,m){return di=m,ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?Vy:Ff,fa=!1,m=a(o,f),fa=!1,fl&&(m=ty(i,a,o,f)),ey(t),m}function ey(t){Y.H=zo;var i=et!==null&&et.next!==null;if(di=0,jt=et=ke=null,zu=!1,Po=0,ml=null,i)throw Error(r(300));t===null||Dt||(t=t.dependencies,t!==null&&ku(t)&&(Dt=!0))}function ty(t,i,a,o){ke=t;var f=0;do{if(fl&&(ml=null),Po=0,fl=!1,25<=f)throw Error(r(301));if(f+=1,jt=et=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Y.H=Py,m=i(a,o)}while(fl);return m}function RT(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?Uo(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(ke.flags|=1024),i}function If(){var t=Bu!==0;return Bu=0,t}function kf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function jf(t){if(zu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}zu=!1}di=0,jt=et=ke=null,fl=!1,Po=Bu=0,ml=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?ke.memoizedState=jt=t:jt=jt.next=t,jt}function St(){if(et===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=jt===null?ke.memoizedState:jt.next;if(i!==null)jt=i,et=t;else{if(t===null)throw ke.alternate===null?Error(r(467)):Error(r(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},jt===null?ke.memoizedState=jt=t:jt=jt.next=t}return jt}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uo(t){var i=Po;return Po+=1,ml===null&&(ml=[]),t=G0(ml,t,i),i=ke,(jt===null?i.memoizedState:jt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Vy:Ff),t}function Hu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Uo(t);if(t.$$typeof===q)return Qt(t)}throw Error(r(438,String(t)))}function Df(t){var i=null,a=ke.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=ke.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=qu(),ke.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=j;return i.index++,a}function fi(t,i){return typeof i=="function"?i(t):i}function Fu(t){var i=St();return Of(i,et,t)}function Of(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var f=t.baseQueue,m=o.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}i.baseQueue=f=m,o.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{i=f.next;var w=_=null,k=null,G=i,ee=!1;do{var se=G.lane&-536870913;if(se!==G.lane?(Pe&se)===se:(di&se)===se){var $=G.revertLane;if($===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),se===ol&&(ee=!0);else if((di&$)===$){G=G.next,$===ol&&(ee=!0);continue}else se={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},k===null?(w=k=se,_=m):k=k.next=se,ke.lanes|=$,sr|=$;se=G.action,fa&&a(m,se),m=G.hasEagerState?G.eagerState:a(m,se)}else $={lane:se,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},k===null?(w=k=$,_=m):k=k.next=$,ke.lanes|=se,sr|=se;G=G.next}while(G!==null&&G!==i);if(k===null?_=m:k.next=w,!Nn(m,t.memoizedState)&&(Dt=!0,ee&&(a=cl,a!==null)))throw a;t.memoizedState=m,t.baseState=_,t.baseQueue=k,o.lastRenderedState=m}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Mf(t){var i=St(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=t(m,_.action),_=_.next;while(_!==f);Nn(m,i.memoizedState)||(Dt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,o]}function ny(t,i,a){var o=ke,f=St(),m=qe;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!Nn((et||f).memoizedState,a);if(_&&(f.memoizedState=a,Dt=!0),f=f.queue,Uf(ry.bind(null,o,f,t),[t]),f.getSnapshot!==i||_||jt!==null&&jt.memoizedState.tag&1){if(o.flags|=2048,pl(9,{destroy:void 0},iy.bind(null,o,f,a,i),null),st===null)throw Error(r(349));m||(di&127)!==0||sy(o,i,a)}return a}function sy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=ke.updateQueue,i===null?(i=qu(),ke.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function iy(t,i,a,o){i.value=a,i.getSnapshot=o,ay(i)&&ly(t)}function ry(t,i,a){return a(function(){ay(i)&&ly(t)})}function ay(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Nn(t,a)}catch{return!0}}function ly(t){var i=ia(t,2);i!==null&&vn(i,t,2)}function Vf(t){var i=un();if(typeof t=="function"){var a=t;if(t=a(),fa){Ln(!0);try{a()}finally{Ln(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:t},i}function oy(t,i,a,o){return t.baseState=a,Of(t,et,typeof o=="function"?o:fi)}function CT(t,i,a,o,f){if(Ku(t))throw Error(r(485));if(t=i.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};Y.T!==null?a(!0):m.isTransition=!1,o(m),a=i.pending,a===null?(m.next=i.pending=m,cy(i,m)):(m.next=a.next,i.pending=a.next=m)}}function cy(t,i){var a=i.action,o=i.payload,f=t.state;if(i.isTransition){var m=Y.T,_={};Y.T=_;try{var w=a(f,o),k=Y.S;k!==null&&k(_,w),uy(t,i,w)}catch(G){Pf(t,i,G)}finally{m!==null&&_.types!==null&&(m.types=_.types),Y.T=m}}else try{m=a(f,o),uy(t,i,m)}catch(G){Pf(t,i,G)}}function uy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){hy(t,i,o)},function(o){return Pf(t,i,o)}):hy(t,i,a)}function hy(t,i,a){i.status="fulfilled",i.value=a,dy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,cy(t,a)))}function Pf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,dy(i),i=i.next;while(i!==o)}t.action=null}function dy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function fy(t,i){return i}function my(t,i){if(qe){var a=st.formState;if(a!==null){e:{var o=ke;if(qe){if(rt){t:{for(var f=rt,m=Yn;f.nodeType!==8;){if(!m){f=null;break t}if(f=Xn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){rt=Xn(f.nextSibling),o=f.data==="F!";break e}}Yi(o)}o=!1}o&&(i=a[0])}}return a=un(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fy,lastRenderedState:i},a.queue=o,a=Dy.bind(null,ke,o),o.dispatch=a,o=Vf(!1),m=Hf.bind(null,ke,!1,o.queue),o=un(),f={state:i,dispatch:null,action:t,pending:null},o.queue=f,a=CT.bind(null,ke,f,m,a),f.dispatch=a,o.memoizedState=t,[i,a,!1]}function py(t){var i=St();return gy(i,et,t)}function gy(t,i,a){if(i=Of(t,i,fy)[0],t=Fu(fi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Uo(i)}catch(_){throw _===ul?Ou:_}else o=i;i=St();var f=i.queue,m=f.dispatch;return a!==i.memoizedState&&(ke.flags|=2048,pl(9,{destroy:void 0},IT.bind(null,f,a),null)),[o,m,t]}function IT(t,i){t.action=i}function yy(t){var i=St(),a=et;if(a!==null)return gy(i,a,t);St(),i=i.memoizedState,a=St();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function pl(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=ke.updateQueue,i===null&&(i=qu(),ke.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function vy(){return St().memoizedState}function Gu(t,i,a,o){var f=un();ke.flags|=t,f.memoizedState=pl(1|i,{destroy:void 0},a,o===void 0?null:o)}function $u(t,i,a,o){var f=St();o=o===void 0?null:o;var m=f.memoizedState.inst;et!==null&&o!==null&&Rf(o,et.memoizedState.deps)?f.memoizedState=pl(i,m,a,o):(ke.flags|=t,f.memoizedState=pl(1|i,m,a,o))}function _y(t,i){Gu(8390656,8,t,i)}function Uf(t,i){$u(2048,8,t,i)}function kT(t){ke.flags|=4;var i=ke.updateQueue;if(i===null)i=qu(),ke.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function xy(t){var i=St().memoizedState;return kT({ref:i,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function by(t,i){return $u(4,2,t,i)}function Ey(t,i){return $u(4,4,t,i)}function wy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ty(t,i,a){a=a!=null?a.concat([t]):null,$u(4,4,wy.bind(null,i,t),a)}function Lf(){}function Sy(t,i){var a=St();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Rf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Ay(t,i){var a=St();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Rf(i,o[1]))return o[0];if(o=t(),fa){Ln(!0);try{t()}finally{Ln(!1)}}return a.memoizedState=[o,i],o}function zf(t,i,a){return a===void 0||(di&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Nv(),ke.lanes|=t,sr|=t,a)}function Ny(t,i,a,o){return Nn(a,i)?a:dl.current!==null?(t=zf(t,a,o),Nn(t,i)||(Dt=!0),t):(di&42)===0||(di&1073741824)!==0&&(Pe&261930)===0?(Dt=!0,t.memoizedState=a):(t=Nv(),ke.lanes|=t,sr|=t,i)}function Ry(t,i,a,o,f){var m=oe.p;oe.p=m!==0&&8>m?m:8;var _=Y.T,w={};Y.T=w,Hf(t,!1,i,a);try{var k=f(),G=Y.S;if(G!==null&&G(w,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ee=AT(k,o);Lo(t,i,ee,Dn(t))}else Lo(t,i,o,Dn(t))}catch(se){Lo(t,i,{then:function(){},status:"rejected",reason:se},Dn())}finally{oe.p=m,_!==null&&w.types!==null&&(_.types=w.types),Y.T=_}}function jT(){}function Bf(t,i,a,o){if(t.tag!==5)throw Error(r(476));var f=Cy(t).queue;Ry(t,f,i,ge,a===null?jT:function(){return Iy(t),a(o)})}function Cy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Iy(t){var i=Cy(t);i.next===null&&(i=t.alternate.memoizedState),Lo(t,i.next.queue,{},Dn())}function qf(){return Qt(nc)}function ky(){return St().memoizedState}function jy(){return St().memoizedState}function DT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Dn();t=Ji(a);var o=Wi(i,t,a);o!==null&&(vn(o,i,a),Oo(o,i,a)),i={cache:yf()},t.payload=i;return}i=i.return}}function OT(t,i,a){var o=Dn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ku(t)?Oy(i,a):(a=af(t,i,a,o),a!==null&&(vn(a,t,o),My(a,i,o)))}function Dy(t,i,a){var o=Dn();Lo(t,i,a,o)}function Lo(t,i,a,o){var f={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ku(t))Oy(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,w=m(_,a);if(f.hasEagerState=!0,f.eagerState=w,Nn(w,_))return Nu(t,i,f,0),st===null&&Au(),!1}catch{}finally{}if(a=af(t,i,f,o),a!==null)return vn(a,t,o),My(a,i,o),!0}return!1}function Hf(t,i,a,o){if(o={lane:2,revertLane:bm(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(t)){if(i)throw Error(r(479))}else i=af(t,a,o,2),i!==null&&vn(i,t,2)}function Ku(t){var i=t.alternate;return t===ke||i!==null&&i===ke}function Oy(t,i){fl=zu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function My(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,ao(t,a)}}var zo={readContext:Qt,use:Hu,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};zo.useEffectEvent=gt;var Vy={readContext:Qt,use:Hu,useCallback:function(t,i){return un().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:_y,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Gu(4194308,4,wy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Gu(4194308,4,t,i)},useInsertionEffect:function(t,i){Gu(4,2,t,i)},useMemo:function(t,i){var a=un();i=i===void 0?null:i;var o=t();if(fa){Ln(!0);try{t()}finally{Ln(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=un();if(a!==void 0){var f=a(i);if(fa){Ln(!0);try{a(i)}finally{Ln(!1)}}}else f=i;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=OT.bind(null,ke,t),[o.memoizedState,t]},useRef:function(t){var i=un();return t={current:t},i.memoizedState=t},useState:function(t){t=Vf(t);var i=t.queue,a=Dy.bind(null,ke,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Lf,useDeferredValue:function(t,i){var a=un();return zf(a,t,i)},useTransition:function(){var t=Vf(!1);return t=Ry.bind(null,ke,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=ke,f=un();if(qe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),st===null)throw Error(r(349));(Pe&127)!==0||sy(o,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,_y(ry.bind(null,o,m,t),[t]),o.flags|=2048,pl(9,{destroy:void 0},iy.bind(null,o,m,a,i),null),a},useId:function(){var t=un(),i=st.identifierPrefix;if(qe){var a=Ls,o=Us;a=(o&~(1<<32-Et(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Bu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=NT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:qf,useFormState:my,useActionState:my,useOptimistic:function(t){var i=un();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Hf.bind(null,ke,!0,a),a.dispatch=i,[t,i]},useMemoCache:Df,useCacheRefresh:function(){return un().memoizedState=DT.bind(null,ke)},useEffectEvent:function(t){var i=un(),a={impl:t};return i.memoizedState=a,function(){if((Ye&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Ff={readContext:Qt,use:Hu,useCallback:Sy,useContext:Qt,useEffect:Uf,useImperativeHandle:Ty,useInsertionEffect:by,useLayoutEffect:Ey,useMemo:Ay,useReducer:Fu,useRef:vy,useState:function(){return Fu(fi)},useDebugValue:Lf,useDeferredValue:function(t,i){var a=St();return Ny(a,et.memoizedState,t,i)},useTransition:function(){var t=Fu(fi)[0],i=St().memoizedState;return[typeof t=="boolean"?t:Uo(t),i]},useSyncExternalStore:ny,useId:ky,useHostTransitionStatus:qf,useFormState:py,useActionState:py,useOptimistic:function(t,i){var a=St();return oy(a,et,t,i)},useMemoCache:Df,useCacheRefresh:jy};Ff.useEffectEvent=xy;var Py={readContext:Qt,use:Hu,useCallback:Sy,useContext:Qt,useEffect:Uf,useImperativeHandle:Ty,useInsertionEffect:by,useLayoutEffect:Ey,useMemo:Ay,useReducer:Mf,useRef:vy,useState:function(){return Mf(fi)},useDebugValue:Lf,useDeferredValue:function(t,i){var a=St();return et===null?zf(a,t,i):Ny(a,et.memoizedState,t,i)},useTransition:function(){var t=Mf(fi)[0],i=St().memoizedState;return[typeof t=="boolean"?t:Uo(t),i]},useSyncExternalStore:ny,useId:ky,useHostTransitionStatus:qf,useFormState:yy,useActionState:yy,useOptimistic:function(t,i){var a=St();return et!==null?oy(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Df,useCacheRefresh:jy};Py.useEffectEvent=xy;function Gf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var $f={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=Dn(),f=Ji(o);f.payload=i,a!=null&&(f.callback=a),i=Wi(t,f,o),i!==null&&(vn(i,t,o),Oo(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=Dn(),f=Ji(o);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Wi(t,f,o),i!==null&&(vn(i,t,o),Oo(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Dn(),o=Ji(a);o.tag=2,i!=null&&(o.callback=i),i=Wi(t,o,a),i!==null&&(vn(i,t,a),Oo(i,t,a))}};function Uy(t,i,a,o,f,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,_):i.prototype&&i.prototype.isPureReactComponent?!Ao(a,o)||!Ao(f,m):!0}function Ly(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&$f.enqueueReplaceState(i,i.state,null)}function ma(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function zy(t){Su(t)}function By(t){console.error(t)}function qy(t){Su(t)}function Yu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Hy(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Kf(t,i,a){return a=Ji(a),a.tag=3,a.payload={element:null},a.callback=function(){Yu(t,i)},a}function Fy(t){return t=Ji(t),t.tag=3,t}function Gy(t,i,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;t.payload=function(){return f(m)},t.callback=function(){Hy(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Hy(i,a,o),typeof f!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function MT(t,i,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&ll(i,a,f,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return Qn===null?ah():a.alternate===null&&yt===0&&(yt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===Mu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),vm(t,o,f)),!1;case 22:return a.flags|=65536,o===Mu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),vm(t,o,f)),!1}throw Error(r(435,a.tag))}return vm(t,o,f),ah(),!1}if(qe)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==df&&(t=Error(r(422),{cause:o}),Co(Gn(t,a)))):(o!==df&&(i=Error(r(423),{cause:o}),Co(Gn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=Gn(o,a),f=Kf(t.stateNode,o,f),wf(t,f),yt!==4&&(yt=2)),!1;var m=Error(r(520),{cause:o});if(m=Gn(m,a),Yo===null?Yo=[m]:Yo.push(m),yt!==4&&(yt=2),i===null)return!0;o=Gn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Kf(a.stateNode,o,t),wf(a,t),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ir===null||!ir.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Fy(f),Gy(f,t,a,o),wf(a,f),!1}a=a.return}while(a!==null);return!1}var Yf=Error(r(461)),Dt=!1;function Xt(t,i,a,o){i.child=t===null?Q0(i,null,a,o):da(i,t.child,a,o)}function $y(t,i,a,o,f){a=a.render;var m=i.ref;if("ref"in o){var _={};for(var w in o)w!=="ref"&&(_[w]=o[w])}else _=o;return oa(i),o=Cf(t,i,a,_,m,f),w=If(),t!==null&&!Dt?(kf(t,i,f),mi(t,i,f)):(qe&&w&&uf(i),i.flags|=1,Xt(t,i,o,f),i.child)}function Ky(t,i,a,o,f){if(t===null){var m=a.type;return typeof m=="function"&&!lf(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,Yy(t,i,m,o,f)):(t=Cu(a.type,null,o,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!nm(t,f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ao,a(_,o)&&t.ref===i.ref)return mi(t,i,f)}return i.flags|=1,t=oi(m,o),t.ref=i.ref,t.return=i,i.child=t}function Yy(t,i,a,o,f){if(t!==null){var m=t.memoizedProps;if(Ao(m,o)&&t.ref===i.ref)if(Dt=!1,i.pendingProps=o=m,nm(t,f))(t.flags&131072)!==0&&(Dt=!0);else return i.lanes=t.lanes,mi(t,i,f)}return Qf(t,i,a,o,f)}function Qy(t,i,a,o){var f=o.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=i.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~m}else o=0,i.child=null;return Xy(t,i,m,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Du(i,m!==null?m.cachePool:null),m!==null?W0(i,m):Sf(),Z0(i);else return o=i.lanes=536870912,Xy(t,i,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(Du(i,m.cachePool),W0(i,m),er(),i.memoizedState=null):(t!==null&&Du(i,null),Sf(),er());return Xt(t,i,f,a),i.child}function Bo(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Xy(t,i,a,o,f){var m=_f();return m=m===null?null:{parent:kt._currentValue,pool:m},i.memoizedState={baseLanes:a,cachePool:m},t!==null&&Du(i,null),Sf(),Z0(i),t!==null&&ll(t,i,o,!0),i.childLanes=f,null}function Qu(t,i){return i=Ju({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Jy(t,i,a){return da(i,t.child,null,a),t=Qu(i,i.pendingProps),t.flags|=2,In(i),i.memoizedState=null,t}function VT(t,i,a){var o=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(qe){if(o.mode==="hidden")return t=Qu(i,o),i.lanes=536870912,Bo(null,t);if(Nf(i),(t=rt)?(t=c_(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:$i!==null?{id:Us,overflow:Ls}:null,retryLane:536870912,hydrationErrors:null},a=O0(t),a.return=i,i.child=a,Yt=i,rt=null)):t=null,t===null)throw Yi(i);return i.lanes=536870912,null}return Qu(i,o)}var m=t.memoizedState;if(m!==null){var _=m.dehydrated;if(Nf(i),f)if(i.flags&256)i.flags&=-257,i=Jy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Dt||ll(t,i,a,!1),f=(a&t.childLanes)!==0,Dt||f){if(o=st,o!==null&&(_=lo(o,a),_!==0&&_!==m.retryLane))throw m.retryLane=_,ia(t,_),vn(o,t,_),Yf;ah(),i=Jy(t,i,a)}else t=m.treeContext,rt=Xn(_.nextSibling),Yt=i,qe=!0,Ki=null,Yn=!1,t!==null&&P0(i,t),i=Qu(i,o),i.flags|=4096;return i}return t=oi(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Xu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Qf(t,i,a,o,f){return oa(i),a=Cf(t,i,a,o,void 0,f),o=If(),t!==null&&!Dt?(kf(t,i,f),mi(t,i,f)):(qe&&o&&uf(i),i.flags|=1,Xt(t,i,a,f),i.child)}function Wy(t,i,a,o,f,m){return oa(i),i.updateQueue=null,a=ty(i,o,a,f),ey(t),o=If(),t!==null&&!Dt?(kf(t,i,m),mi(t,i,m)):(qe&&o&&uf(i),i.flags|=1,Xt(t,i,a,m),i.child)}function Zy(t,i,a,o,f){if(oa(i),i.stateNode===null){var m=sl,_=a.contextType;typeof _=="object"&&_!==null&&(m=Qt(_)),m=new a(o,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=$f,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=o,m.state=i.memoizedState,m.refs={},bf(i),_=a.contextType,m.context=typeof _=="object"&&_!==null?Qt(_):sl,m.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Gf(i,a,_,o),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&$f.enqueueReplaceState(m,m.state,null),Vo(i,o,m,f),Mo(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){m=i.stateNode;var w=i.memoizedProps,k=ma(a,w);m.props=k;var G=m.context,ee=a.contextType;_=sl,typeof ee=="object"&&ee!==null&&(_=Qt(ee));var se=a.getDerivedStateFromProps;ee=typeof se=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,ee||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||G!==_)&&Ly(i,m,o,_),Xi=!1;var $=i.memoizedState;m.state=$,Vo(i,o,m,f),Mo(),G=i.memoizedState,w||$!==G||Xi?(typeof se=="function"&&(Gf(i,a,se,o),G=i.memoizedState),(k=Xi||Uy(i,a,k,o,$,G,_))?(ee||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=G),m.props=o,m.state=G,m.context=_,o=k):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{m=i.stateNode,Ef(t,i),_=i.memoizedProps,ee=ma(a,_),m.props=ee,se=i.pendingProps,$=m.context,G=a.contextType,k=sl,typeof G=="object"&&G!==null&&(k=Qt(G)),w=a.getDerivedStateFromProps,(G=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==se||$!==k)&&Ly(i,m,o,k),Xi=!1,$=i.memoizedState,m.state=$,Vo(i,o,m,f),Mo();var J=i.memoizedState;_!==se||$!==J||Xi||t!==null&&t.dependencies!==null&&ku(t.dependencies)?(typeof w=="function"&&(Gf(i,a,w,o),J=i.memoizedState),(ee=Xi||Uy(i,a,ee,o,$,J,k)||t!==null&&t.dependencies!==null&&ku(t.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,J,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,J,k)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=J),m.props=o,m.state=J,m.context=k,o=ee):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),o=!1)}return m=o,Xu(t,i),o=(i.flags&128)!==0,m||o?(m=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&o?(i.child=da(i,t.child,null,f),i.child=da(i,null,a,f)):Xt(t,i,a,f),i.memoizedState=m.state,t=i.child):t=mi(t,i,f),t}function ev(t,i,a,o){return aa(),i.flags|=256,Xt(t,i,a,o),i.child}var Xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jf(t){return{baseLanes:t,cachePool:H0()}}function Wf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=jn),t}function tv(t,i,a){var o=i.pendingProps,f=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(Tt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(f?Zi(i):er(),(t=rt)?(t=c_(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:$i!==null?{id:Us,overflow:Ls}:null,retryLane:536870912,hydrationErrors:null},a=O0(t),a.return=i,i.child=a,Yt=i,rt=null)):t=null,t===null)throw Yi(i);return Om(t)?i.lanes=32:i.lanes=536870912,null}var w=o.children;return o=o.fallback,f?(er(),f=i.mode,w=Ju({mode:"hidden",children:w},f),o=ra(o,f,a,null),w.return=i,o.return=i,w.sibling=o,i.child=w,o=i.child,o.memoizedState=Jf(a),o.childLanes=Wf(t,_,a),i.memoizedState=Xf,Bo(null,o)):(Zi(i),Zf(i,w))}var k=t.memoizedState;if(k!==null&&(w=k.dehydrated,w!==null)){if(m)i.flags&256?(Zi(i),i.flags&=-257,i=em(t,i,a)):i.memoizedState!==null?(er(),i.child=t.child,i.flags|=128,i=null):(er(),w=o.fallback,f=i.mode,o=Ju({mode:"visible",children:o.children},f),w=ra(w,f,a,null),w.flags|=2,o.return=i,w.return=i,o.sibling=w,i.child=o,da(i,t.child,null,a),o=i.child,o.memoizedState=Jf(a),o.childLanes=Wf(t,_,a),i.memoizedState=Xf,i=Bo(null,o));else if(Zi(i),Om(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var G=_.dgst;_=G,o=Error(r(419)),o.stack="",o.digest=_,Co({value:o,source:null,stack:null}),i=em(t,i,a)}else if(Dt||ll(t,i,a,!1),_=(a&t.childLanes)!==0,Dt||_){if(_=st,_!==null&&(o=lo(_,a),o!==0&&o!==k.retryLane))throw k.retryLane=o,ia(t,o),vn(_,t,o),Yf;Dm(w)||ah(),i=em(t,i,a)}else Dm(w)?(i.flags|=192,i.child=t.child,i=null):(t=k.treeContext,rt=Xn(w.nextSibling),Yt=i,qe=!0,Ki=null,Yn=!1,t!==null&&P0(i,t),i=Zf(i,o.children),i.flags|=4096);return i}return f?(er(),w=o.fallback,f=i.mode,k=t.child,G=k.sibling,o=oi(k,{mode:"hidden",children:o.children}),o.subtreeFlags=k.subtreeFlags&65011712,G!==null?w=oi(G,w):(w=ra(w,f,a,null),w.flags|=2),w.return=i,o.return=i,o.sibling=w,i.child=o,Bo(null,o),o=i.child,w=t.child.memoizedState,w===null?w=Jf(a):(f=w.cachePool,f!==null?(k=kt._currentValue,f=f.parent!==k?{parent:k,pool:k}:f):f=H0(),w={baseLanes:w.baseLanes|a,cachePool:f}),o.memoizedState=w,o.childLanes=Wf(t,_,a),i.memoizedState=Xf,Bo(t.child,o)):(Zi(i),a=t.child,t=a.sibling,a=oi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Zf(t,i){return i=Ju({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ju(t,i){return t=Rn(22,t,null,i),t.lanes=0,t}function em(t,i,a){return da(i,t.child,null,a),t=Zf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function nv(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),pf(t.return,i,a)}function tm(t,i,a,o,f,m){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f,treeForkCount:m}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=f,_.treeForkCount=m)}function sv(t,i,a){var o=i.pendingProps,f=o.revealOrder,m=o.tail;o=o.children;var _=Tt.current,w=(_&2)!==0;if(w?(_=_&1|2,i.flags|=128):_&=1,le(Tt,_),Xt(t,i,o,a),o=qe?Ro:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nv(t,a,i);else if(t.tag===19)nv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&Lu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),tm(i,!1,f,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Lu(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}tm(i,!0,a,null,m,o);break;case"together":tm(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function mi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),sr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ll(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=oi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=oi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function nm(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ku(t)))}function PT(t,i,a){switch(i.tag){case 3:mt(i,i.stateNode.containerInfo),Qi(i,kt,t.memoizedState.cache),aa();break;case 27:case 5:Bt(i);break;case 4:mt(i,i.stateNode.containerInfo);break;case 10:Qi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Nf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Zi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?tv(t,i,a):(Zi(i),t=mi(t,i,a),t!==null?t.sibling:null);Zi(i);break;case 19:var f=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(ll(t,i,a,!1),o=(a&i.childLanes)!==0),f){if(o)return sv(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(Tt,Tt.current),o)break;return null;case 22:return i.lanes=0,Qy(t,i,a,i.pendingProps);case 24:Qi(i,kt,t.memoizedState.cache)}return mi(t,i,a)}function iv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Dt=!0;else{if(!nm(t,a)&&(i.flags&128)===0)return Dt=!1,PT(t,i,a);Dt=(t.flags&131072)!==0}else Dt=!1,qe&&(i.flags&1048576)!==0&&V0(i,Ro,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=ua(i.elementType),i.type=t,typeof t=="function")lf(t)?(o=ma(t,o),i.tag=1,i=Zy(null,i,t,o,a)):(i.tag=0,i=Qf(null,i,t,o,a));else{if(t!=null){var f=t.$$typeof;if(f===ae){i.tag=11,i=$y(null,i,t,o,a);break e}else if(f===I){i.tag=14,i=Ky(null,i,t,o,a);break e}}throw i=te(t)||t,Error(r(306,i,""))}}return i;case 0:return Qf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,f=ma(o,i.pendingProps),Zy(t,i,o,f,a);case 3:e:{if(mt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var m=i.memoizedState;f=m.element,Ef(t,i),Vo(i,o,null,a);var _=i.memoizedState;if(o=_.cache,Qi(i,kt,o),o!==m.cache&&gf(i,[kt],a,!0),Mo(),o=_.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=ev(t,i,o,a);break e}else if(o!==f){f=Gn(Error(r(424)),i),Co(f),i=ev(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=Xn(t.firstChild),Yt=i,qe=!0,Ki=null,Yn=!0,a=Q0(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(aa(),o===f){i=mi(t,i,a);break e}Xt(t,i,o,a)}i=i.child}return i;case 26:return Xu(t,i),t===null?(a=p_(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,o=fh(ve.current).createElement(a),o[Rt]=i,o[qt]=t,Jt(o,a,t),Ct(o),i.stateNode=o):i.memoizedState=p_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Bt(i),t===null&&qe&&(o=i.stateNode=d_(i.type,i.pendingProps,ve.current),Yt=i,Yn=!0,f=rt,or(i.type)?(Mm=f,rt=Xn(o.firstChild)):rt=f),Xt(t,i,i.pendingProps.children,a),Xu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&qe&&((f=o=rt)&&(o=f2(o,i.type,i.pendingProps,Yn),o!==null?(i.stateNode=o,Yt=i,rt=Xn(o.firstChild),Yn=!1,f=!0):f=!1),f||Yi(i)),Bt(i),f=i.type,m=i.pendingProps,_=t!==null?t.memoizedProps:null,o=m.children,Im(f,m)?o=null:_!==null&&Im(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Cf(t,i,RT,null,null,a),nc._currentValue=f),Xu(t,i),Xt(t,i,o,a),i.child;case 6:return t===null&&qe&&((t=a=rt)&&(a=m2(a,i.pendingProps,Yn),a!==null?(i.stateNode=a,Yt=i,rt=null,t=!0):t=!1),t||Yi(i)),null;case 13:return tv(t,i,a);case 4:return mt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=da(i,null,o,a):Xt(t,i,o,a),i.child;case 11:return $y(t,i,i.type,i.pendingProps,a);case 7:return Xt(t,i,i.pendingProps,a),i.child;case 8:return Xt(t,i,i.pendingProps.children,a),i.child;case 12:return Xt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Qi(i,i.type,o.value),Xt(t,i,o.children,a),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,oa(i),f=Qt(f),o=o(f),i.flags|=1,Xt(t,i,o,a),i.child;case 14:return Ky(t,i,i.type,i.pendingProps,a);case 15:return Yy(t,i,i.type,i.pendingProps,a);case 19:return sv(t,i,a);case 31:return VT(t,i,a);case 22:return Qy(t,i,a,i.pendingProps);case 24:return oa(i),o=Qt(kt),t===null?(f=_f(),f===null&&(f=st,m=yf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),i.memoizedState={parent:o,cache:f},bf(i),Qi(i,kt,f)):((t.lanes&a)!==0&&(Ef(t,i),Vo(i,null,null,a),Mo()),f=t.memoizedState,m=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Qi(i,kt,o)):(o=m.cache,Qi(i,kt,o),o!==f.cache&&gf(i,[kt],a,!0))),Xt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function pi(t){t.flags|=4}function sm(t,i,a,o,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(kv())t.flags|=8192;else throw ha=Mu,xf}else t.flags&=-16777217}function rv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!x_(i))if(kv())t.flags|=8192;else throw ha=Mu,xf}function Wu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?iu():536870912,t.lanes|=i,_l|=i)}function qo(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function UT(t,i,a){var o=i.pendingProps;switch(hf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),hi(kt),Oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(al(i)?pi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ff())),at(i),null;case 26:var f=i.type,m=i.memoizedState;return t===null?(pi(i),m!==null?(at(i),rv(i,m)):(at(i),sm(i,f,null,o,a))):m?m!==t.memoizedState?(pi(i),at(i),rv(i,m)):(at(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&pi(i),at(i),sm(i,f,t,o,a)),null;case 27:if(bt(i),a=ve.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&pi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return at(i),null}t=ce.current,al(i)?U0(i):(t=d_(f,o,a),i.stateNode=t,pi(i))}return at(i),null;case 5:if(bt(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&pi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return at(i),null}if(m=ce.current,al(i))U0(i);else{var _=fh(ve.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?_.createElement(f,{is:o.is}):_.createElement(f)}}m[Rt]=i,m[qt]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=m;e:switch(Jt(m,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&pi(i)}}return at(i),sm(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&pi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=ve.current,al(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,f=Yt,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[Rt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||t_(t.nodeValue,a)),t||Yi(i,!0)}else t=fh(t).createTextNode(o),t[Rt]=i,i.stateNode=t}return at(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=al(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Rt]=i}else aa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),t=!1}else a=ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(In(i),i):(In(i),null);if((i.flags&128)!==0)throw Error(r(558))}return at(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=al(i),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Rt]=i}else aa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),f=!1}else f=ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(In(i),i):(In(i),null)}return In(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Wu(i,i.updateQueue),at(i),null);case 4:return Oe(),t===null&&Sm(i.stateNode.containerInfo),at(i),null;case 10:return hi(i.type),at(i),null;case 19:if(Q(Tt),o=i.memoizedState,o===null)return at(i),null;if(f=(i.flags&128)!==0,m=o.rendering,m===null)if(f)qo(o,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=Lu(t),m!==null){for(i.flags|=128,qo(o,!1),t=m.updateQueue,i.updateQueue=t,Wu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)D0(a,t),a=a.sibling;return le(Tt,Tt.current&1|2),qe&&ci(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&tn()>sh&&(i.flags|=128,f=!0,qo(o,!1),i.lanes=4194304)}else{if(!f)if(t=Lu(m),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Wu(i,t),qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!qe)return at(i),null}else 2*tn()-o.renderingStartTime>sh&&a!==536870912&&(i.flags|=128,f=!0,qo(o,!1),i.lanes=4194304);o.isBackwards?(m.sibling=i.child,i.child=m):(t=o.last,t!==null?t.sibling=m:i.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=tn(),t.sibling=null,a=Tt.current,le(Tt,f?a&1|2:a&1),qe&&ci(i,o.treeForkCount),t):(at(i),null);case 22:case 23:return In(i),Af(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&Wu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&Q(ca),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),hi(kt),at(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function LT(t,i){switch(hf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return hi(kt),Oe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return bt(i),null;case 31:if(i.memoizedState!==null){if(In(i),i.alternate===null)throw Error(r(340));aa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(In(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));aa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Q(Tt),null;case 4:return Oe(),null;case 10:return hi(i.type),null;case 22:case 23:return In(i),Af(),t!==null&&Q(ca),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return hi(kt),null;case 25:return null;default:return null}}function av(t,i){switch(hf(i),i.tag){case 3:hi(kt),Oe();break;case 26:case 27:case 5:bt(i);break;case 4:Oe();break;case 31:i.memoizedState!==null&&In(i);break;case 13:In(i);break;case 19:Q(Tt);break;case 10:hi(i.type);break;case 22:case 23:In(i),Af(),t!==null&&Q(ca);break;case 24:hi(kt)}}function Ho(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&t)===t){o=void 0;var m=a.create,_=a.inst;o=m(),_.destroy=o}a=a.next}while(a!==f)}}catch(w){We(i,i.return,w)}}function tr(t,i,a){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&t)===t){var _=o.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,f=i;var k=a,G=w;try{G()}catch(ee){We(f,k,ee)}}}o=o.next}while(o!==m)}}catch(ee){We(i,i.return,ee)}}function lv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{J0(i,a)}catch(o){We(t,t.return,o)}}}function ov(t,i,a){a.props=ma(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){We(t,i,o)}}function Fo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(f){We(t,i,f)}}function zs(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){We(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(t,i,f)}else a.current=null}function cv(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){We(t,t.return,f)}}function im(t,i,a){try{var o=t.stateNode;l2(o,t.type,a,i),o[qt]=i}catch(f){We(t,t.return,f)}}function uv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&or(t.type)||t.tag===4}function rm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&or(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function am(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=as));else if(o!==4&&(o===27&&or(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(am(t,i,a),t=t.sibling;t!==null;)am(t,i,a),t=t.sibling}function Zu(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&or(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Zu(t,i,a),t=t.sibling;t!==null;)Zu(t,i,a),t=t.sibling}function hv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Jt(i,o,a),i[Rt]=t,i[qt]=a}catch(m){We(t,t.return,m)}}var gi=!1,Ot=!1,lm=!1,dv=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function zT(t,i){if(t=t.containerInfo,Rm=xh,t=T0(t),Zd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,w=-1,k=-1,G=0,ee=0,se=t,$=null;t:for(;;){for(var J;se!==a||f!==0&&se.nodeType!==3||(w=_+f),se!==m||o!==0&&se.nodeType!==3||(k=_+o),se.nodeType===3&&(_+=se.nodeValue.length),(J=se.firstChild)!==null;)$=se,se=J;for(;;){if(se===t)break t;if($===a&&++G===f&&(w=_),$===m&&++ee===o&&(k=_),(J=se.nextSibling)!==null)break;se=$,$=se.parentNode}se=J}a=w===-1||k===-1?null:{start:w,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cm={focusedElem:t,selectionRange:a},xh=!1,Ft=i;Ft!==null;)if(i=Ft,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ft=t;else for(;Ft!==null;){switch(i=Ft,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=i,f=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var pe=ma(a.type,f);t=o.getSnapshotBeforeUpdate(pe,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){We(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)jm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":jm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Ft=t;break}Ft=i.return}}function fv(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:vi(t,a),o&4&&Ho(5,a);break;case 1:if(vi(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){We(a,a.return,_)}else{var f=ma(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){We(a,a.return,_)}}o&64&&lv(a),o&512&&Fo(a,a.return);break;case 3:if(vi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{J0(t,i)}catch(_){We(a,a.return,_)}}break;case 27:i===null&&o&4&&hv(a);case 26:case 5:vi(t,a),i===null&&o&4&&cv(a),o&512&&Fo(a,a.return);break;case 12:vi(t,a);break;case 31:vi(t,a),o&4&&gv(t,a);break;case 13:vi(t,a),o&4&&yv(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=QT.bind(null,a),p2(t,a))));break;case 22:if(o=a.memoizedState!==null||gi,!o){i=i!==null&&i.memoizedState!==null||Ot,f=gi;var m=Ot;gi=o,(Ot=i)&&!m?_i(t,a,(a.subtreeFlags&8772)!==0):vi(t,a),gi=f,Ot=m}break;case 30:break;default:vi(t,a)}}function mv(t){var i=t.alternate;i!==null&&(t.alternate=null,mv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ha(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,mn=!1;function yi(t,i,a){for(a=a.child;a!==null;)pv(t,i,a),a=a.sibling}function pv(t,i,a){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(ns,a)}catch{}switch(a.tag){case 26:Ot||zs(a,i),yi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ot||zs(a,i);var o=ct,f=mn;or(a.type)&&(ct=a.stateNode,mn=!1),yi(t,i,a),Zo(a.stateNode),ct=o,mn=f;break;case 5:Ot||zs(a,i);case 6:if(o=ct,f=mn,ct=null,yi(t,i,a),ct=o,mn=f,ct!==null)if(mn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(m){We(a,i,m)}else try{ct.removeChild(a.stateNode)}catch(m){We(a,i,m)}break;case 18:ct!==null&&(mn?(t=ct,l_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Nl(t)):l_(ct,a.stateNode));break;case 4:o=ct,f=mn,ct=a.stateNode.containerInfo,mn=!0,yi(t,i,a),ct=o,mn=f;break;case 0:case 11:case 14:case 15:tr(2,a,i),Ot||tr(4,a,i),yi(t,i,a);break;case 1:Ot||(zs(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&ov(a,i,o)),yi(t,i,a);break;case 21:yi(t,i,a);break;case 22:Ot=(o=Ot)||a.memoizedState!==null,yi(t,i,a),Ot=o;break;default:yi(t,i,a)}}function gv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Nl(t)}catch(a){We(i,i.return,a)}}}function yv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Nl(t)}catch(a){We(i,i.return,a)}}function BT(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new dv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new dv),i;default:throw Error(r(435,t.tag))}}function eh(t,i){var a=BT(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var f=XT.bind(null,t,o);o.then(f,f)}})}function pn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],m=t,_=i,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(or(w.type)){ct=w.stateNode,mn=!1;break e}break;case 5:ct=w.stateNode,mn=!1;break e;case 3:case 4:ct=w.stateNode.containerInfo,mn=!0;break e}w=w.return}if(ct===null)throw Error(r(160));pv(m,_,f),ct=null,mn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)vv(i,t),i=i.sibling}var ds=null;function vv(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(i,t),gn(t),o&4&&(tr(3,t,t.return),Ho(3,t),tr(5,t,t.return));break;case 1:pn(i,t),gn(t),o&512&&(Ot||a===null||zs(a,a.return)),o&64&&gi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=ds;if(pn(i,t),gn(t),o&512&&(Ot||a===null||zs(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[As]||m[Rt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),Jt(m,o,a),m[Rt]=t,Ct(m),o=m;break e;case"link":var _=v_("link","href",f).get(o+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(m=_[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break t}}m=f.createElement(o),Jt(m,o,a),f.head.appendChild(m);break;case"meta":if(_=v_("meta","content",f).get(o+(a.content||""))){for(w=0;w<_.length;w++)if(m=_[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break t}}m=f.createElement(o),Jt(m,o,a),f.head.appendChild(m);break;default:throw Error(r(468,o))}m[Rt]=t,Ct(m),o=m}t.stateNode=o}else __(f,t.type,t.stateNode);else t.stateNode=y_(f,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?__(f,t.type,t.stateNode):y_(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&im(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(i,t),gn(t),o&512&&(Ot||a===null||zs(a,a.return)),a!==null&&o&4&&im(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(i,t),gn(t),o&512&&(Ot||a===null||zs(a,a.return)),t.flags&32){f=t.stateNode;try{fn(f,"")}catch(pe){We(t,t.return,pe)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,im(t,f,a!==null?a.memoizedProps:f)),o&1024&&(lm=!0);break;case 6:if(pn(i,t),gn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(pe){We(t,t.return,pe)}}break;case 3:if(gh=null,f=ds,ds=mh(i.containerInfo),pn(i,t),ds=f,gn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Nl(i.containerInfo)}catch(pe){We(t,t.return,pe)}lm&&(lm=!1,_v(t));break;case 4:o=ds,ds=mh(t.stateNode.containerInfo),pn(i,t),gn(t),ds=o;break;case 12:pn(i,t),gn(t);break;case 31:pn(i,t),gn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,eh(t,o)));break;case 13:pn(i,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(nh=tn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,eh(t,o)));break;case 22:f=t.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,G=gi,ee=Ot;if(gi=G||f,Ot=ee||k,pn(i,t),Ot=ee,gi=G,gn(t),o&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||k||gi||Ot||pa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){k=a=i;try{if(m=k.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=k.stateNode;var se=k.memoizedProps.style,$=se!=null&&se.hasOwnProperty("display")?se.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(pe){We(k,k.return,pe)}}}else if(i.tag===6){if(a===null){k=i;try{k.stateNode.nodeValue=f?"":k.memoizedProps}catch(pe){We(k,k.return,pe)}}}else if(i.tag===18){if(a===null){k=i;try{var J=k.stateNode;f?o_(J,!0):o_(k.stateNode,!1)}catch(pe){We(k,k.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,eh(t,a))));break;case 19:pn(i,t),gn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,eh(t,o)));break;case 30:break;case 21:break;default:pn(i,t),gn(t)}}function gn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(uv(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=rm(t);Zu(t,m,f);break;case 5:var _=a.stateNode;a.flags&32&&(fn(_,""),a.flags&=-33);var w=rm(t);Zu(t,w,_);break;case 3:case 4:var k=a.stateNode.containerInfo,G=rm(t);am(t,G,k);break;default:throw Error(r(161))}}catch(ee){We(t,t.return,ee)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function _v(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;_v(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function vi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)fv(t,i.alternate,i),i=i.sibling}function pa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:tr(4,i,i.return),pa(i);break;case 1:zs(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ov(i,i.return,a),pa(i);break;case 27:Zo(i.stateNode);case 26:case 5:zs(i,i.return),pa(i);break;case 22:i.memoizedState===null&&pa(i);break;case 30:pa(i);break;default:pa(i)}t=t.sibling}}function _i(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=t,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:_i(f,m,a),Ho(4,m);break;case 1:if(_i(f,m,a),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){We(o,o.return,G)}if(o=m,f=o.updateQueue,f!==null){var w=o.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)X0(k[f],w)}catch(G){We(o,o.return,G)}}a&&_&64&&lv(m),Fo(m,m.return);break;case 27:hv(m);case 26:case 5:_i(f,m,a),a&&o===null&&_&4&&cv(m),Fo(m,m.return);break;case 12:_i(f,m,a);break;case 31:_i(f,m,a),a&&_&4&&gv(f,m);break;case 13:_i(f,m,a),a&&_&4&&yv(f,m);break;case 22:m.memoizedState===null&&_i(f,m,a),Fo(m,m.return);break;case 30:break;default:_i(f,m,a)}i=i.sibling}}function om(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Io(a))}function cm(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Io(t))}function fs(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xv(t,i,a,o),i=i.sibling}function xv(t,i,a,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:fs(t,i,a,o),f&2048&&Ho(9,i);break;case 1:fs(t,i,a,o);break;case 3:fs(t,i,a,o),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Io(t)));break;case 12:if(f&2048){fs(t,i,a,o),t=i.stateNode;try{var m=i.memoizedProps,_=m.id,w=m.onPostCommit;typeof w=="function"&&w(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){We(i,i.return,k)}}else fs(t,i,a,o);break;case 31:fs(t,i,a,o);break;case 13:fs(t,i,a,o);break;case 23:break;case 22:m=i.stateNode,_=i.alternate,i.memoizedState!==null?m._visibility&2?fs(t,i,a,o):Go(t,i):m._visibility&2?fs(t,i,a,o):(m._visibility|=2,gl(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),f&2048&&om(_,i);break;case 24:fs(t,i,a,o),f&2048&&cm(i.alternate,i);break;default:fs(t,i,a,o)}}function gl(t,i,a,o,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,_=i,w=a,k=o,G=_.flags;switch(_.tag){case 0:case 11:case 15:gl(m,_,w,k,f),Ho(8,_);break;case 23:break;case 22:var ee=_.stateNode;_.memoizedState!==null?ee._visibility&2?gl(m,_,w,k,f):Go(m,_):(ee._visibility|=2,gl(m,_,w,k,f)),f&&G&2048&&om(_.alternate,_);break;case 24:gl(m,_,w,k,f),f&&G&2048&&cm(_.alternate,_);break;default:gl(m,_,w,k,f)}i=i.sibling}}function Go(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,f=o.flags;switch(o.tag){case 22:Go(a,o),f&2048&&om(o.alternate,o);break;case 24:Go(a,o),f&2048&&cm(o.alternate,o);break;default:Go(a,o)}i=i.sibling}}var $o=8192;function yl(t,i,a){if(t.subtreeFlags&$o)for(t=t.child;t!==null;)bv(t,i,a),t=t.sibling}function bv(t,i,a){switch(t.tag){case 26:yl(t,i,a),t.flags&$o&&t.memoizedState!==null&&N2(a,ds,t.memoizedState,t.memoizedProps);break;case 5:yl(t,i,a);break;case 3:case 4:var o=ds;ds=mh(t.stateNode.containerInfo),yl(t,i,a),ds=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=$o,$o=16777216,yl(t,i,a),$o=o):yl(t,i,a));break;default:yl(t,i,a)}}function Ev(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ko(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ft=o,Tv(o,t)}Ev(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wv(t),t=t.sibling}function wv(t){switch(t.tag){case 0:case 11:case 15:Ko(t),t.flags&2048&&tr(9,t,t.return);break;case 3:Ko(t);break;case 12:Ko(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,th(t)):Ko(t);break;default:Ko(t)}}function th(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ft=o,Tv(o,t)}Ev(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:tr(8,i,i.return),th(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,th(i));break;default:th(i)}t=t.sibling}}function Tv(t,i){for(;Ft!==null;){var a=Ft;switch(a.tag){case 0:case 11:case 15:tr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Io(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ft=o;else e:for(a=t;Ft!==null;){o=Ft;var f=o.sibling,m=o.return;if(mv(o),o===a){Ft=null;break e}if(f!==null){f.return=m,Ft=f;break e}Ft=m}}}var qT={getCacheForType:function(t){var i=Qt(kt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Qt(kt).controller.signal}},HT=typeof WeakMap=="function"?WeakMap:Map,Ye=0,st=null,Me=null,Pe=0,Je=0,kn=null,nr=!1,vl=!1,um=!1,xi=0,yt=0,sr=0,ga=0,hm=0,jn=0,_l=0,Yo=null,yn=null,dm=!1,nh=0,Sv=0,sh=1/0,ih=null,ir=null,Lt=0,rr=null,xl=null,bi=0,fm=0,mm=null,Av=null,Qo=0,pm=null;function Dn(){return(Ye&2)!==0&&Pe!==0?Pe&-Pe:Y.T!==null?bm():ru()}function Nv(){if(jn===0)if((Pe&536870912)===0||qe){var t=Hr;Hr<<=1,(Hr&3932160)===0&&(Hr=262144),jn=t}else jn=536870912;return t=Cn.current,t!==null&&(t.flags|=32),jn}function vn(t,i,a){(t===st&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(bl(t,0),ar(t,Pe,jn,!1)),Fr(t,a),((Ye&2)===0||t!==st)&&(t===st&&((Ye&2)===0&&(ga|=a),yt===4&&ar(t,Pe,jn,!1)),Bs(t))}function Rv(t,i,a){if((Ye&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||ss(t,i),f=o?$T(t,i):ym(t,i,!0),m=o;do{if(f===0){vl&&!o&&ar(t,i,0,!1);break}else{if(a=t.current.alternate,m&&!FT(a)){f=ym(t,i,!1),m=!1;continue}if(f===2){if(m=i,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var w=t;f=Yo;var k=w.current.memoizedState.isDehydrated;if(k&&(bl(w,_).flags|=256),_=ym(w,_,!1),_!==2){if(um&&!k){w.errorRecoveryDisabledLanes|=m,ga|=m,f=4;break e}m=yn,yn=f,m!==null&&(yn===null?yn=m:yn.push.apply(yn,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){bl(t,0),ar(t,i,0,!0);break}e:{switch(o=t,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:ar(o,i,jn,!nr);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=nh+300-tn(),10<f)){if(ar(o,i,jn,!nr),ws(o,0,!0)!==0)break e;bi=i,o.timeoutHandle=r_(Cv.bind(null,o,a,yn,ih,dm,i,jn,ga,_l,nr,m,"Throttled",-0,0),f);break e}Cv(o,a,yn,ih,dm,i,jn,ga,_l,nr,m,null,-0,0)}}break}while(!0);Bs(t)}function Cv(t,i,a,o,f,m,_,w,k,G,ee,se,$,J){if(t.timeoutHandle=-1,se=i.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:as},bv(i,m,se);var pe=(m&62914560)===m?nh-tn():(m&4194048)===m?Sv-tn():0;if(pe=R2(se,pe),pe!==null){bi=m,t.cancelPendingCommit=pe(Pv.bind(null,t,i,m,a,o,f,_,w,k,ee,se,null,$,J)),ar(t,m,_,!G);return}}Pv(t,i,m,a,o,f,_,w,k)}function FT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],m=f.getSnapshot;f=f.value;try{if(!Nn(m(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ar(t,i,a,o){i&=~hm,i&=~ga,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var f=i;0<f;){var m=31-Et(f),_=1<<m;o[m]=-1,f&=~_}a!==0&&Gr(t,a,i)}function rh(){return(Ye&6)===0?(Xo(0),!1):!0}function gm(){if(Me!==null){if(Je===0)var t=Me.return;else t=Me,ui=la=null,jf(t),hl=null,jo=0,t=Me;for(;t!==null;)av(t.alternate,t),t=t.return;Me=null}}function bl(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,u2(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),bi=0,gm(),st=t,Me=a=oi(t.current,null),Pe=i,Je=0,kn=null,nr=!1,vl=ss(t,i),um=!1,_l=jn=hm=ga=sr=yt=0,yn=Yo=null,dm=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var f=31-Et(o),m=1<<f;i|=t[f],o&=~m}return xi=i,Au(),a}function Iv(t,i){ke=null,Y.H=zo,i===ul||i===Ou?(i=$0(),Je=3):i===xf?(i=$0(),Je=4):Je=i===Yf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,kn=i,Me===null&&(yt=1,Yu(t,Gn(i,t.current)))}function kv(){var t=Cn.current;return t===null?!0:(Pe&4194048)===Pe?Qn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===Qn:!1}function jv(){var t=Y.H;return Y.H=zo,t===null?zo:t}function Dv(){var t=Y.A;return Y.A=qT,t}function ah(){yt=4,nr||(Pe&4194048)!==Pe&&Cn.current!==null||(vl=!0),(sr&134217727)===0&&(ga&134217727)===0||st===null||ar(st,Pe,jn,!1)}function ym(t,i,a){var o=Ye;Ye|=2;var f=jv(),m=Dv();(st!==t||Pe!==i)&&(ih=null,bl(t,i)),i=!1;var _=yt;e:do try{if(Je!==0&&Me!==null){var w=Me,k=kn;switch(Je){case 8:gm(),_=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var G=Je;if(Je=0,kn=null,El(t,w,k,G),a&&vl){_=0;break e}break;default:G=Je,Je=0,kn=null,El(t,w,k,G)}}GT(),_=yt;break}catch(ee){Iv(t,ee)}while(!0);return i&&t.shellSuspendCounter++,ui=la=null,Ye=o,Y.H=f,Y.A=m,Me===null&&(st=null,Pe=0,Au()),_}function GT(){for(;Me!==null;)Ov(Me)}function $T(t,i){var a=Ye;Ye|=2;var o=jv(),f=Dv();st!==t||Pe!==i?(ih=null,sh=tn()+500,bl(t,i)):vl=ss(t,i);e:do try{if(Je!==0&&Me!==null){i=Me;var m=kn;t:switch(Je){case 1:Je=0,kn=null,El(t,i,m,1);break;case 2:case 9:if(F0(m)){Je=0,kn=null,Mv(i);break}i=function(){Je!==2&&Je!==9||st!==t||(Je=7),Bs(t)},m.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:F0(m)?(Je=0,kn=null,Mv(i)):(Je=0,kn=null,El(t,i,m,7));break;case 5:var _=null;switch(Me.tag){case 26:_=Me.memoizedState;case 5:case 27:var w=Me;if(_?x_(_):w.stateNode.complete){Je=0,kn=null;var k=w.sibling;if(k!==null)Me=k;else{var G=w.return;G!==null?(Me=G,lh(G)):Me=null}break t}}Je=0,kn=null,El(t,i,m,5);break;case 6:Je=0,kn=null,El(t,i,m,6);break;case 8:gm(),yt=6;break e;default:throw Error(r(462))}}KT();break}catch(ee){Iv(t,ee)}while(!0);return ui=la=null,Y.H=o,Y.A=f,Ye=a,Me!==null?0:(st=null,Pe=0,Au(),yt)}function KT(){for(;Me!==null&&!La();)Ov(Me)}function Ov(t){var i=iv(t.alternate,t,xi);t.memoizedProps=t.pendingProps,i===null?lh(t):Me=i}function Mv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Wy(a,i,i.pendingProps,i.type,void 0,Pe);break;case 11:i=Wy(a,i,i.pendingProps,i.type.render,i.ref,Pe);break;case 5:jf(i);default:av(a,i),i=Me=D0(i,xi),i=iv(a,i,xi)}t.memoizedProps=t.pendingProps,i===null?lh(t):Me=i}function El(t,i,a,o){ui=la=null,jf(i),hl=null,jo=0;var f=i.return;try{if(MT(t,f,i,a,Pe)){yt=1,Yu(t,Gn(a,t.current)),Me=null;return}}catch(m){if(f!==null)throw Me=f,m;yt=1,Yu(t,Gn(a,t.current)),Me=null;return}i.flags&32768?(qe||o===1?t=!0:vl||(Pe&536870912)!==0?t=!1:(nr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Vv(i,t)):lh(i)}function lh(t){var i=t;do{if((i.flags&32768)!==0){Vv(i,nr);return}t=i.return;var a=UT(i.alternate,i,xi);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);yt===0&&(yt=5)}function Vv(t,i){do{var a=LT(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);yt=6,Me=null}function Pv(t,i,a,o,f,m,_,w,k){t.cancelPendingCommit=null;do oh();while(Lt!==0);if((Ye&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(m=i.lanes|i.childLanes,m|=rf,Qd(t,a,m,_,w,k),t===st&&(Me=st=null,Pe=0),xl=i,rr=t,bi=a,fm=m,mm=f,Av=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,JT(xs,function(){return qv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null,f=oe.p,oe.p=2,_=Ye,Ye|=4;try{zT(t,i,a)}finally{Ye=_,oe.p=f,Y.T=o}}Lt=1,Uv(),Lv(),zv()}}function Uv(){if(Lt===1){Lt=0;var t=rr,i=xl,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var o=oe.p;oe.p=2;var f=Ye;Ye|=4;try{vv(i,t);var m=Cm,_=T0(t.containerInfo),w=m.focusedElem,k=m.selectionRange;if(_!==w&&w&&w.ownerDocument&&w0(w.ownerDocument.documentElement,w)){if(k!==null&&Zd(w)){var G=k.start,ee=k.end;if(ee===void 0&&(ee=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(ee,w.value.length);else{var se=w.ownerDocument||document,$=se&&se.defaultView||window;if($.getSelection){var J=$.getSelection(),pe=w.textContent.length,Ee=Math.min(k.start,pe),nt=k.end===void 0?Ee:Math.min(k.end,pe);!J.extend&&Ee>nt&&(_=nt,nt=Ee,Ee=_);var B=E0(w,Ee),V=E0(w,nt);if(B&&V&&(J.rangeCount!==1||J.anchorNode!==B.node||J.anchorOffset!==B.offset||J.focusNode!==V.node||J.focusOffset!==V.offset)){var F=se.createRange();F.setStart(B.node,B.offset),J.removeAllRanges(),Ee>nt?(J.addRange(F),J.extend(V.node,V.offset)):(F.setEnd(V.node,V.offset),J.addRange(F))}}}}for(se=[],J=w;J=J.parentNode;)J.nodeType===1&&se.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<se.length;w++){var ne=se[w];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}xh=!!Rm,Cm=Rm=null}finally{Ye=f,oe.p=o,Y.T=a}}t.current=i,Lt=2}}function Lv(){if(Lt===2){Lt=0;var t=rr,i=xl,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var o=oe.p;oe.p=2;var f=Ye;Ye|=4;try{fv(t,i.alternate,i)}finally{Ye=f,oe.p=o,Y.T=a}}Lt=3}}function zv(){if(Lt===4||Lt===3){Lt=0,za();var t=rr,i=xl,a=bi,o=Av;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,xl=rr=null,Bv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ir=null),ii(a),i=i.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(ns,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=Y.T,f=oe.p,oe.p=2,Y.T=null;try{for(var m=t.onRecoverableError,_=0;_<o.length;_++){var w=o[_];m(w.value,{componentStack:w.stack})}}finally{Y.T=i,oe.p=f}}(bi&3)!==0&&oh(),Bs(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===pm?Qo++:(Qo=0,pm=t):Qo=0,Xo(0)}}function Bv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Io(i)))}function oh(){return Uv(),Lv(),zv(),qv()}function qv(){if(Lt!==5)return!1;var t=rr,i=fm;fm=0;var a=ii(bi),o=Y.T,f=oe.p;try{oe.p=32>a?32:a,Y.T=null,a=mm,mm=null;var m=rr,_=bi;if(Lt=0,xl=rr=null,bi=0,(Ye&6)!==0)throw Error(r(331));var w=Ye;if(Ye|=4,wv(m.current),xv(m,m.current,_,a),Ye=w,Xo(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(ns,m)}catch{}return!0}finally{oe.p=f,Y.T=o,Bv(t,i)}}function Hv(t,i,a){i=Gn(a,i),i=Kf(t.stateNode,i,2),t=Wi(t,i,2),t!==null&&(Fr(t,2),Bs(t))}function We(t,i,a){if(t.tag===3)Hv(t,t,a);else for(;i!==null;){if(i.tag===3){Hv(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ir===null||!ir.has(o))){t=Gn(a,t),a=Fy(2),o=Wi(i,a,2),o!==null&&(Gy(a,o,i,t),Fr(o,2),Bs(o));break}}i=i.return}}function vm(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new HT;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(a)||(um=!0,f.add(a),t=YT.bind(null,t,i,a),i.then(t,t))}function YT(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(Pe&a)===a&&(yt===4||yt===3&&(Pe&62914560)===Pe&&300>tn()-nh?(Ye&2)===0&&bl(t,0):hm|=a,_l===Pe&&(_l=0)),Bs(t)}function Fv(t,i){i===0&&(i=iu()),t=ia(t,i),t!==null&&(Fr(t,i),Bs(t))}function QT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Fv(t,a)}function XT(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),Fv(t,a)}function JT(t,i){return pt(t,i)}var ch=null,wl=null,_m=!1,uh=!1,xm=!1,lr=0;function Bs(t){t!==wl&&t.next===null&&(wl===null?ch=wl=t:wl=wl.next=t),uh=!0,_m||(_m=!0,ZT())}function Xo(t,i){if(!xm&&uh){xm=!0;do for(var a=!1,o=ch;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var _=o.suspendedLanes,w=o.pingedLanes;m=(1<<31-Et(42|t)+1)-1,m&=f&~(_&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Yv(o,m))}else m=Pe,m=ws(o,o===st?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||ss(o,m)||(a=!0,Yv(o,m));o=o.next}while(a);xm=!1}}function WT(){Gv()}function Gv(){uh=_m=!1;var t=0;lr!==0&&c2()&&(t=lr);for(var i=tn(),a=null,o=ch;o!==null;){var f=o.next,m=$v(o,i);m===0?(o.next=null,a===null?ch=f:a.next=f,f===null&&(wl=a)):(a=o,(t!==0||(m&3)!==0)&&(uh=!0)),o=f}Lt!==0&&Lt!==5||Xo(t),lr!==0&&(lr=0)}function $v(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-Et(m),w=1<<_,k=f[_];k===-1?((w&a)===0||(w&o)!==0)&&(f[_]=Yd(w,i)):k<=i&&(t.expiredLanes|=w),m&=~w}if(i=st,a=Pe,a=ws(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&_s(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ss(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&_s(o),ii(a)){case 2:case 8:a=qr;break;case 32:a=xs;break;case 268435456:a=on;break;default:a=xs}return o=Kv.bind(null,t),a=pt(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&_s(o),t.callbackPriority=2,t.callbackNode=null,2}function Kv(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(oh()&&t.callbackNode!==a)return null;var o=Pe;return o=ws(t,t===st?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Rv(t,o,i),$v(t,tn()),t.callbackNode!=null&&t.callbackNode===a?Kv.bind(null,t):null)}function Yv(t,i){if(oh())return null;Rv(t,i,!0)}function ZT(){h2(function(){(Ye&6)!==0?pt(Vi,WT):Gv()})}function bm(){if(lr===0){var t=ol;t===0&&(t=bs,bs<<=1,(bs&261888)===0&&(bs=256)),lr=t}return lr}function Qv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ka(""+t)}function Xv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function e2(t,i,a,o,f){if(i==="submit"&&a&&a.stateNode===f){var m=Qv((f[qt]||null).action),_=o.submitter;_&&(i=(i=_[qt]||null)?Qv(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var w=new Os("action","action",null,o,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(lr!==0){var k=_?Xv(f,_):new FormData(f);Bf(a,{pending:!0,data:k,method:f.method,action:m},null,k)}}else typeof m=="function"&&(w.preventDefault(),k=_?Xv(f,_):new FormData(f),Bf(a,{pending:!0,data:k,method:f.method,action:m},m,k))},currentTarget:f}]})}}for(var Em=0;Em<sf.length;Em++){var wm=sf[Em],t2=wm.toLowerCase(),n2=wm[0].toUpperCase()+wm.slice(1);hs(t2,"on"+n2)}hs(N0,"onAnimationEnd"),hs(R0,"onAnimationIteration"),hs(C0,"onAnimationStart"),hs("dblclick","onDoubleClick"),hs("focusin","onFocus"),hs("focusout","onBlur"),hs(vT,"onTransitionRun"),hs(_T,"onTransitionStart"),hs(xT,"onTransitionCancel"),hs(I0,"onTransitionEnd"),Is("onMouseEnter",["mouseout","mouseover"]),Is("onMouseLeave",["mouseout","mouseover"]),Is("onPointerEnter",["pointerout","pointerover"]),Is("onPointerLeave",["pointerout","pointerover"]),Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function Jv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],f=o.event;o=o.listeners;e:{var m=void 0;if(i)for(var _=o.length-1;0<=_;_--){var w=o[_],k=w.instance,G=w.currentTarget;if(w=w.listener,k!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=G;try{m(f)}catch(ee){Su(ee)}f.currentTarget=null,m=k}else for(_=0;_<o.length;_++){if(w=o[_],k=w.instance,G=w.currentTarget,w=w.listener,k!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=G;try{m(f)}catch(ee){Su(ee)}f.currentTarget=null,m=k}}}}function Ve(t,i){var a=i[qa];a===void 0&&(a=i[qa]=new Set);var o=t+"__bubble";a.has(o)||(Wv(i,t,2,!1),a.add(o))}function Tm(t,i,a){var o=0;i&&(o|=4),Wv(a,t,o,i)}var hh="_reactListening"+Math.random().toString(36).slice(2);function Sm(t){if(!t[hh]){t[hh]=!0,oo.forEach(function(a){a!=="selectionchange"&&(s2.has(a)||Tm(a,!1,t),Tm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[hh]||(i[hh]=!0,Tm("selectionchange",!1,i))}}function Wv(t,i,a,o){switch(N_(i)){case 2:var f=k2;break;case 8:f=j2;break;default:f=zm}a=f.bind(null,i,a,t),f=void 0,!Xr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Am(t,i,a,o,f){var m=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var w=o.stateNode.containerInfo;if(w===f)break;if(_===4)for(_=o.return;_!==null;){var k=_.tag;if((k===3||k===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;w!==null;){if(_=Ns(w),_===null)return;if(k=_.tag,k===5||k===6||k===26||k===27){o=m=_;continue e}w=w.parentNode}}o=o.return}qi(function(){var G=m,ee=Bn(a),se=[];e:{var $=k0.get(t);if($!==void 0){var J=Os,pe=t;switch(t){case"keypress":if(Wr(a)===0)break e;case"keydown":case"keyup":J=Eu;break;case"focusin":pe="focus",J=ea;break;case"focusout":pe="blur",J=ea;break;case"beforeblur":case"afterblur":J=ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=v;break;case N0:case R0:case C0:J=pu;break;case I0:J=A;break;case"scroll":case"scrollend":J=bo;break;case"wheel":J=X;break;case"copy":case"cut":case"paste":J=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=li;break;case"toggle":case"beforetoggle":J=Ie}var Ee=(i&4)!==0,nt=!Ee&&(t==="scroll"||t==="scrollend"),B=Ee?$!==null?$+"Capture":null:$;Ee=[];for(var V=G,F;V!==null;){var ne=V;if(F=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||F===null||B===null||(ne=ls(V,B),ne!=null&&Ee.push(Wo(V,ne,F))),nt)break;V=V.return}0<Ee.length&&($=new J($,pe,null,a,ee),se.push({event:$,listeners:Ee}))}}if((i&7)===0){e:{if($=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",$&&a!==vo&&(pe=a.relatedTarget||a.fromElement)&&(Ns(pe)||pe[Ss]))break e;if((J||$)&&($=ee.window===ee?ee:($=ee.ownerDocument)?$.defaultView||$.parentWindow:window,J?(pe=a.relatedTarget||a.toElement,J=G,pe=pe?Ns(pe):null,pe!==null&&(nt=c(pe),Ee=pe.tag,pe!==nt||Ee!==5&&Ee!==27&&Ee!==6)&&(pe=null)):(J=null,pe=G),J!==pe)){if(Ee=Eo,ne="onMouseLeave",B="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=li,ne="onPointerLeave",B="onPointerEnter",V="pointer"),nt=J==null?$:Sn(J),F=pe==null?$:Sn(pe),$=new Ee(ne,V+"leave",J,a,ee),$.target=nt,$.relatedTarget=F,ne=null,Ns(ee)===G&&(Ee=new Ee(B,V+"enter",pe,a,ee),Ee.target=F,Ee.relatedTarget=nt,ne=Ee),nt=ne,J&&pe)t:{for(Ee=i2,B=J,V=pe,F=0,ne=B;ne;ne=Ee(ne))F++;ne=0;for(var _e=V;_e;_e=Ee(_e))ne++;for(;0<F-ne;)B=Ee(B),F--;for(;0<ne-F;)V=Ee(V),ne--;for(;F--;){if(B===V||V!==null&&B===V.alternate){Ee=B;break t}B=Ee(B),V=Ee(V)}Ee=null}else Ee=null;J!==null&&Zv(se,$,J,Ee,!1),pe!==null&&nt!==null&&Zv(se,nt,pe,Ee,!0)}}e:{if($=G?Sn(G):window,J=$.nodeName&&$.nodeName.toLowerCase(),J==="select"||J==="input"&&$.type==="file")var Fe=g0;else if(m0($))if(y0)Fe=pT;else{Fe=fT;var ye=dT}else J=$.nodeName,!J||J.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&$a(G.elementType)&&(Fe=g0):Fe=mT;if(Fe&&(Fe=Fe(t,G))){p0(se,Fe,a,ee);break e}ye&&ye(t,$,G),t==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&po($,"number",$.value)}switch(ye=G?Sn(G):window,t){case"focusin":(m0(ye)||ye.contentEditable==="true")&&(el=ye,ef=G,No=null);break;case"focusout":No=ef=el=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,S0(se,a,ee);break;case"selectionchange":if(yT)break;case"keydown":case"keyup":S0(se,a,ee)}var je;if(Ke)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Za?ta(t,a)&&(Ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(Ps&&a.locale!=="ko"&&(Za||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Za&&(je=xo()):(Ds=ee,_o="value"in Ds?Ds.value:Ds.textContent,Za=!0)),ye=dh(G,Ue),0<ye.length&&(Ue=new Vs(Ue,t,null,a,ee),se.push({event:Ue,listeners:ye}),je?Ue.data=je:(je=Wa(a),je!==null&&(Ue.data=je)))),(je=Hn?oT(t,a):cT(t,a))&&(Ue=dh(G,"onBeforeInput"),0<Ue.length&&(ye=new Vs("onBeforeInput","beforeinput",null,a,ee),se.push({event:ye,listeners:Ue}),ye.data=je)),e2(se,t,G,a,ee)}Jv(se,i)})}function Wo(t,i,a){return{instance:t,listener:i,currentTarget:a}}function dh(t,i){for(var a=i+"Capture",o=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ls(t,a),f!=null&&o.unshift(Wo(t,f,m)),f=ls(t,i),f!=null&&o.push(Wo(t,f,m))),t.tag===3)return o;t=t.return}return[]}function i2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zv(t,i,a,o,f){for(var m=i._reactName,_=[];a!==null&&a!==o;){var w=a,k=w.alternate,G=w.stateNode;if(w=w.tag,k!==null&&k===o)break;w!==5&&w!==26&&w!==27||G===null||(k=G,f?(G=ls(a,m),G!=null&&_.unshift(Wo(a,G,k))):f||(G=ls(a,m),G!=null&&_.push(Wo(a,G,k)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var r2=/\r\n?/g,a2=/\u0000|\uFFFD/g;function e_(t){return(typeof t=="string"?t:""+t).replace(r2,`
`).replace(a2,"")}function t_(t,i){return i=e_(i),e_(t)===i}function tt(t,i,a,o,f,m){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||fn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&fn(t,""+o);break;case"className":An(t,"class",o);break;case"tabIndex":An(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":An(t,a,o);break;case"style":yo(t,o,m);break;case"data":if(i!=="object"){An(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ka(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",f.name,f,null),tt(t,i,"formEncType",f.formEncType,f,null),tt(t,i,"formMethod",f.formMethod,f,null),tt(t,i,"formTarget",f.formTarget,f,null)):(tt(t,i,"encType",f.encType,f,null),tt(t,i,"method",f.method,f,null),tt(t,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ka(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=as);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ka(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),Fa(t,"popover",o);break;case"xlinkActuate":It(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":It(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":It(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":It(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":It(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":It(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":It(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":It(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":It(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Fa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=du.get(a)||a,Fa(t,a,o))}}function Nm(t,i,a,o,f,m){switch(a){case"style":yo(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?fn(t,o):(typeof o=="number"||typeof o=="bigint")&&fn(t,""+o);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"onClick":o!=null&&(t.onclick=as);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!co.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),m=t[qt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(i,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,f);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Fa(t,a,o)}}}function Jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var o=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,m,_,a,null)}}f&&tt(t,i,"srcSet",a.srcSet,a,null),o&&tt(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var w=m=_=f=null,k=null,G=null;for(o in a)if(a.hasOwnProperty(o)){var ee=a[o];if(ee!=null)switch(o){case"name":f=ee;break;case"type":_=ee;break;case"checked":k=ee;break;case"defaultChecked":G=ee;break;case"value":m=ee;break;case"defaultValue":w=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,i));break;default:tt(t,i,o,ee,a,null)}}cu(t,m,w,k,G,_,f,!1);return;case"select":Ve("invalid",t),o=_=m=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":_=w;break;case"multiple":o=w;default:tt(t,i,f,w,a,null)}i=m,a=_,t.multiple=!!o,i!=null?Ui(t,!!o,i,!1):a!=null&&Ui(t,!!o,a,!0);return;case"textarea":Ve("invalid",t),m=f=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":o=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:tt(t,i,_,w,a,null)}Li(t,o,f,m);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(o=a[k],o!=null))switch(k){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:tt(t,i,k,o,a,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(o=0;o<Jo.length;o++)Ve(Jo[o],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(o=a[G],o!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,G,o,a,null)}return;default:if($a(i)){for(ee in a)a.hasOwnProperty(ee)&&(o=a[ee],o!==void 0&&Nm(t,i,ee,o,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(o=a[w],o!=null&&tt(t,i,w,o,a,null))}function l2(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,w=null,k=null,G=null,ee=null;for(J in a){var se=a[J];if(a.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":k=se;default:o.hasOwnProperty(J)||tt(t,i,J,null,o,se)}}for(var $ in o){var J=o[$];if(se=a[$],o.hasOwnProperty($)&&(J!=null||se!=null))switch($){case"type":m=J;break;case"name":f=J;break;case"checked":G=J;break;case"defaultChecked":ee=J;break;case"value":_=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,i));break;default:J!==se&&tt(t,i,$,J,o,se)}}Ga(t,_,w,k,G,ee,m,f);return;case"select":J=_=w=$=null;for(m in a)if(k=a[m],a.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":J=k;default:o.hasOwnProperty(m)||tt(t,i,m,null,o,k)}for(f in o)if(m=o[f],k=a[f],o.hasOwnProperty(f)&&(m!=null||k!=null))switch(f){case"value":$=m;break;case"defaultValue":w=m;break;case"multiple":_=m;default:m!==k&&tt(t,i,f,m,o,k)}i=w,a=_,o=J,$!=null?Ui(t,!!a,$,!1):!!o!=!!a&&(i!=null?Ui(t,!!a,i,!0):Ui(t,!!a,a?[]:"",!1));return;case"textarea":J=$=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:tt(t,i,w,null,o,f)}for(_ in o)if(f=o[_],m=a[_],o.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":$=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&tt(t,i,_,f,o,m)}uu(t,$,J);return;case"option":for(var pe in a)if($=a[pe],a.hasOwnProperty(pe)&&$!=null&&!o.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:tt(t,i,pe,null,o,$)}for(k in o)if($=o[k],J=a[k],o.hasOwnProperty(k)&&$!==J&&($!=null||J!=null))switch(k){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:tt(t,i,k,$,o,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)$=a[Ee],a.hasOwnProperty(Ee)&&$!=null&&!o.hasOwnProperty(Ee)&&tt(t,i,Ee,null,o,$);for(G in o)if($=o[G],J=a[G],o.hasOwnProperty(G)&&$!==J&&($!=null||J!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,i));break;default:tt(t,i,G,$,o,J)}return;default:if($a(i)){for(var nt in a)$=a[nt],a.hasOwnProperty(nt)&&$!==void 0&&!o.hasOwnProperty(nt)&&Nm(t,i,nt,void 0,o,$);for(ee in o)$=o[ee],J=a[ee],!o.hasOwnProperty(ee)||$===J||$===void 0&&J===void 0||Nm(t,i,ee,$,o,J);return}}for(var B in a)$=a[B],a.hasOwnProperty(B)&&$!=null&&!o.hasOwnProperty(B)&&tt(t,i,B,null,o,$);for(se in o)$=o[se],J=a[se],!o.hasOwnProperty(se)||$===J||$==null&&J==null||tt(t,i,se,$,o,J)}function n_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function o2(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var f=a[o],m=f.transferSize,_=f.initiatorType,w=f.duration;if(m&&w&&n_(_)){for(_=0,w=f.responseEnd,o+=1;o<a.length;o++){var k=a[o],G=k.startTime;if(G>w)break;var ee=k.transferSize,se=k.initiatorType;ee&&n_(se)&&(k=k.responseEnd,_+=ee*(k<w?1:(w-G)/(k-G)))}if(--o,i+=8*(m+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Rm=null,Cm=null;function fh(t){return t.nodeType===9?t:t.ownerDocument}function s_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Im(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var km=null;function c2(){var t=window.event;return t&&t.type==="popstate"?t===km?!1:(km=t,!0):(km=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,u2=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,h2=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(t){return a_.resolve(null).then(t).catch(d2)}:r_;function d2(t){setTimeout(function(){throw t})}function or(t){return t==="head"}function l_(t,i){var a=i,o=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(f),Nl(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Zo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Zo(a);for(var m=a.firstChild;m;){var _=m.nextSibling,w=m.nodeName;m[As]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=_}}else a==="body"&&Zo(t.ownerDocument.body);a=f}while(a);Nl(i)}function o_(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function jm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jm(a),Ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function f2(t,i,a,o){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[As])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function m2(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function c_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Xn(t.nextSibling),t===null))return null;return t}function Dm(t){return t.data==="$?"||t.data==="$~"}function Om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function p2(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Xn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Mm=null;function u_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Xn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function h_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function d_(t,i,a){switch(i=fh(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Zo(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ha(t)}var Jn=new Map,f_=new Set;function mh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ei=oe.d;oe.d={f:g2,r:y2,D:v2,C:_2,L:x2,m:b2,X:w2,S:E2,M:T2};function g2(){var t=Ei.f(),i=rh();return t||i}function y2(t){var i=zn(t);i!==null&&i.tag===5&&i.type==="form"?Iy(i):Ei.r(t)}var Tl=typeof document>"u"?null:document;function m_(t,i,a){var o=Tl;if(o&&typeof i=="string"&&i){var f=dn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),f_.has(f)||(f_.add(f),t={rel:t,crossOrigin:a,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),Jt(i,"link",t),Ct(i),o.head.appendChild(i)))}}function v2(t){Ei.D(t),m_("dns-prefetch",t,null)}function _2(t,i){Ei.C(t,i),m_("preconnect",t,i)}function x2(t,i,a){Ei.L(t,i,a);var o=Tl;if(o&&t&&i){var f='link[rel="preload"][as="'+dn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+dn(a.imageSizes)+'"]')):f+='[href="'+dn(t)+'"]';var m=f;switch(i){case"style":m=Sl(t);break;case"script":m=Al(t)}Jn.has(m)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Jn.set(m,t),o.querySelector(f)!==null||i==="style"&&o.querySelector(ec(m))||i==="script"&&o.querySelector(tc(m))||(i=o.createElement("link"),Jt(i,"link",t),Ct(i),o.head.appendChild(i)))}}function b2(t,i){Ei.m(t,i);var a=Tl;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+dn(o)+'"][href="'+dn(t)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Al(t)}if(!Jn.has(m)&&(t=E({rel:"modulepreload",href:t},i),Jn.set(m,t),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(tc(m)))return}o=a.createElement("link"),Jt(o,"link",t),Ct(o),a.head.appendChild(o)}}}function E2(t,i,a){Ei.S(t,i,a);var o=Tl;if(o&&t){var f=Rs(o).hoistableStyles,m=Sl(t);i=i||"default";var _=f.get(m);if(!_){var w={loading:0,preload:null};if(_=o.querySelector(ec(m)))w.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Jn.get(m))&&Vm(t,a);var k=_=o.createElement("link");Ct(k),Jt(k,"link",t),k._p=new Promise(function(G,ee){k.onload=G,k.onerror=ee}),k.addEventListener("load",function(){w.loading|=1}),k.addEventListener("error",function(){w.loading|=2}),w.loading|=4,ph(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:w},f.set(m,_)}}}function w2(t,i){Ei.X(t,i);var a=Tl;if(a&&t){var o=Rs(a).hoistableScripts,f=Al(t),m=o.get(f);m||(m=a.querySelector(tc(f)),m||(t=E({src:t,async:!0},i),(i=Jn.get(f))&&Pm(t,i),m=a.createElement("script"),Ct(m),Jt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function T2(t,i){Ei.M(t,i);var a=Tl;if(a&&t){var o=Rs(a).hoistableScripts,f=Al(t),m=o.get(f);m||(m=a.querySelector(tc(f)),m||(t=E({src:t,async:!0,type:"module"},i),(i=Jn.get(f))&&Pm(t,i),m=a.createElement("script"),Ct(m),Jt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function p_(t,i,a,o){var f=(f=ve.current)?mh(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Sl(a.href),a=Rs(f).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Sl(a.href);var m=Rs(f).hoistableStyles,_=m.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=f.querySelector(ec(t)))&&!m._p&&(_.instance=m,_.state.loading=5),Jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jn.set(t,a),m||S2(f,t,a,_.state))),i&&o===null)throw Error(r(528,""));return _}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Al(a),a=Rs(f).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Sl(t){return'href="'+dn(t)+'"'}function ec(t){return'link[rel="stylesheet"]['+t+"]"}function g_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function S2(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Jt(i,"link",a),Ct(i),t.head.appendChild(i))}function Al(t){return'[src="'+dn(t)+'"]'}function tc(t){return"script[async]"+t}function y_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+dn(a.href)+'"]');if(o)return i.instance=o,Ct(o),o;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ct(o),Jt(o,"style",f),ph(o,a.precedence,t),i.instance=o;case"stylesheet":f=Sl(a.href);var m=t.querySelector(ec(f));if(m)return i.state.loading|=4,i.instance=m,Ct(m),m;o=g_(a),(f=Jn.get(f))&&Vm(o,f),m=(t.ownerDocument||t).createElement("link"),Ct(m);var _=m;return _._p=new Promise(function(w,k){_.onload=w,_.onerror=k}),Jt(m,"link",o),i.state.loading|=4,ph(m,a.precedence,t),i.instance=m;case"script":return m=Al(a.src),(f=t.querySelector(tc(m)))?(i.instance=f,Ct(f),f):(o=a,(f=Jn.get(m))&&(o=E({},a),Pm(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ct(f),Jt(f,"link",o),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,ph(o,a.precedence,t));return i.instance}function ph(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,_=0;_<o.length;_++){var w=o[_];if(w.dataset.precedence===i)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Vm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Pm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var gh=null;function v_(t,i,a){if(gh===null){var o=new Map,f=gh=new Map;f.set(a,o)}else f=gh,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[As]||m[Rt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=t+_;var w=o.get(_);w?w.push(m):o.set(_,[m])}}return o}function __(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function A2(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function x_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function N2(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Sl(o.href),m=i.querySelector(ec(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=yh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=m,Ct(m);return}m=i.ownerDocument||i,o=g_(o),(f=Jn.get(f))&&Vm(o,f),m=m.createElement("link"),Ct(m);var _=m;_._p=new Promise(function(w,k){_.onload=w,_.onerror=k}),Jt(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=yh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Um=0;function R2(t,i){return t.stylesheets&&t.count===0&&_h(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&_h(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&Um===0&&(Um=62500*o2());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&_h(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Um?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function yh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_h(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vh=null;function _h(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vh=new Map,i.forEach(C2,t),vh=null,yh.call(t))}function C2(t,i){if(!(i.state.loading&4)){var a=vh.get(t);if(a)var o=a.get(null);else{a=new Map,vh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}f=i.instance,_=f.getAttribute("data-precedence"),m=a.get(_)||o,m===o&&a.set(null,f),a.set(_,f),this.count++,o=yh.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var nc={$$typeof:q,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function I2(t,i,a,o,f,m,_,w,k){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ts(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.hiddenUpdates=Ts(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function b_(t,i,a,o,f,m,_,w,k,G,ee,se){return t=new I2(t,i,a,_,k,G,ee,se,w),i=1,m===!0&&(i|=24),m=Rn(3,null,null,i),t.current=m,m.stateNode=t,i=yf(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:i},bf(m),t}function E_(t){return t?(t=sl,t):sl}function w_(t,i,a,o,f,m){f=E_(f),o.context===null?o.context=f:o.pendingContext=f,o=Ji(i),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=Wi(t,o,i),a!==null&&(vn(a,t,i),Oo(a,t,i))}function T_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Lm(t,i){T_(t,i),(t=t.alternate)&&T_(t,i)}function S_(t){if(t.tag===13||t.tag===31){var i=ia(t,67108864);i!==null&&vn(i,t,67108864),Lm(t,67108864)}}function A_(t){if(t.tag===13||t.tag===31){var i=Dn();i=$r(i);var a=ia(t,i);a!==null&&vn(a,t,i),Lm(t,i)}}var xh=!0;function k2(t,i,a,o){var f=Y.T;Y.T=null;var m=oe.p;try{oe.p=2,zm(t,i,a,o)}finally{oe.p=m,Y.T=f}}function j2(t,i,a,o){var f=Y.T;Y.T=null;var m=oe.p;try{oe.p=8,zm(t,i,a,o)}finally{oe.p=m,Y.T=f}}function zm(t,i,a,o){if(xh){var f=Bm(o);if(f===null)Am(t,i,o,bh,a),R_(t,o);else if(O2(f,t,i,a,o))o.stopPropagation();else if(R_(t,o),i&4&&-1<D2.indexOf(t)){for(;f!==null;){var m=zn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Es(m.pendingLanes);if(_!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var k=1<<31-Et(_);w.entanglements[1]|=k,_&=~k}Bs(m),(Ye&6)===0&&(sh=tn()+500,Xo(0))}}break;case 31:case 13:w=ia(m,2),w!==null&&vn(w,m,2),rh(),Lm(m,2)}if(m=Bm(o),m===null&&Am(t,i,o,bh,a),m===f)break;f=m}f!==null&&o.stopPropagation()}else Am(t,i,o,null,a)}}function Bm(t){return t=Bn(t),qm(t)}var bh=null;function qm(t){if(bh=null,t=Ns(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=u(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return bh=t,null}function N_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mi()){case Vi:return 2;case qr:return 8;case xs:case Tn:return 32;case on:return 268435456;default:return 32}default:return 32}}var Hm=!1,cr=null,ur=null,hr=null,sc=new Map,ic=new Map,dr=[],D2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R_(t,i){switch(t){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":sc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(i.pointerId)}}function rc(t,i,a,o,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},i!==null&&(i=zn(i),i!==null&&S_(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function O2(t,i,a,o,f){switch(i){case"focusin":return cr=rc(cr,t,i,a,o,f),!0;case"dragenter":return ur=rc(ur,t,i,a,o,f),!0;case"mouseover":return hr=rc(hr,t,i,a,o,f),!0;case"pointerover":var m=f.pointerId;return sc.set(m,rc(sc.get(m)||null,t,i,a,o,f)),!0;case"gotpointercapture":return m=f.pointerId,ic.set(m,rc(ic.get(m)||null,t,i,a,o,f)),!0}return!1}function C_(t){var i=Ns(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){t.blockedOn=i,is(t.priority,function(){A_(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,is(t.priority,function(){A_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Bm(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);vo=o,a.target.dispatchEvent(o),vo=null}else return i=zn(a),i!==null&&S_(i),t.blockedOn=a,!1;i.shift()}return!0}function I_(t,i,a){Eh(t)&&a.delete(i)}function M2(){Hm=!1,cr!==null&&Eh(cr)&&(cr=null),ur!==null&&Eh(ur)&&(ur=null),hr!==null&&Eh(hr)&&(hr=null),sc.forEach(I_),ic.forEach(I_)}function wh(t,i){t.blockedOn===i&&(t.blockedOn=null,Hm||(Hm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,M2)))}var Th=null;function k_(t){Th!==t&&(Th=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Th===t&&(Th=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],f=t[i+2];if(typeof o!="function"){if(qm(o||a)===null)continue;break}var m=zn(a);m!==null&&(t.splice(i,3),i-=3,Bf(m,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function Nl(t){function i(k){return wh(k,t)}cr!==null&&wh(cr,t),ur!==null&&wh(ur,t),hr!==null&&wh(hr,t),sc.forEach(i),ic.forEach(i);for(var a=0;a<dr.length;a++){var o=dr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<dr.length&&(a=dr[0],a.blockedOn===null);)C_(a),a.blockedOn===null&&dr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],m=a[o+1],_=f[qt]||null;if(typeof m=="function")_||k_(a);else if(_){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[qt]||null)w=_.formAction;else if(qm(f)!==null)continue}else w=_.action;typeof w=="function"?a[o+1]=w:(a.splice(o,3),o-=3),k_(a)}}}function j_(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Fm(t){this._internalRoot=t}Sh.prototype.render=Fm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Dn();w_(a,o,t,i,null,null)},Sh.prototype.unmount=Fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;w_(t.current,2,null,t,null,null),rh(),i[Ss]=null}};function Sh(t){this._internalRoot=t}Sh.prototype.unstable_scheduleHydration=function(t){if(t){var i=ru();t={blockedOn:null,target:t,priority:i};for(var a=0;a<dr.length&&i!==0&&i<dr[a].priority;a++);dr.splice(a,0,t),a===0&&C_(t)}};var D_=e.version;if(D_!=="19.2.4")throw Error(r(527,D_,"19.2.4"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var V2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{ns=Ah.inject(V2),$t=Ah}catch{}}return lc.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",f=zy,m=By,_=qy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=b_(t,1,!1,null,null,a,o,null,f,m,_,j_),t[Ss]=i.current,Sm(t),new Fm(i)},lc.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,f="",m=zy,_=By,w=qy,k=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(k=a.formState)),i=b_(t,1,!0,i,a??null,o,f,k,m,_,w,j_),i.context=E_(null),a=i.current,o=Dn(),o=$r(o),f=Ji(o),f.callback=null,Wi(a,f,o),a=o,i.current.lanes=a,Fr(i,a),Bs(i),t[Ss]=i.current,Sm(t),new Sh(i)},lc.version="19.2.4",lc}var H_;function K2(){if(H_)return Km.exports;H_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Km.exports=$2(),Km.exports}var Y2=K2();const Q2=Lb(Y2);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var F_="popstate";function X2(s={}){function e(l,c){let{pathname:u="/",search:p="",hash:g=""}=Da(l.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),vp("",{pathname:u,search:p,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(l,c){let u=l.document.querySelector("base"),p="";if(u&&u.getAttribute("href")){let g=l.location.href,y=g.indexOf("#");p=y===-1?g:g.slice(0,y)}return p+"#"+(typeof c=="string"?c:Cc(c))}function r(l,c){Vn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return W2(e,n,r,s)}function ut(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Vn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function J2(){return Math.random().toString(36).substring(2,10)}function G_(s,e){return{usr:s.state,key:s.key,idx:e}}function vp(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Da(e):e,state:n,key:e&&e.key||r||J2()}}function Cc({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Da(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function W2(s,e,n,r={}){let{window:l=document.defaultView,v5Compat:c=!1}=r,u=l.history,p="POP",g=null,y=b();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function b(){return(u.state||{idx:null}).idx}function E(){p="POP";let O=b(),W=O==null?null:O-y;y=O,g&&g({action:p,location:P.location,delta:W})}function T(O,W){p="PUSH";let K=vp(P.location,O,W);n&&n(K,O),y=b()+1;let q=G_(K,y),ae=P.createHref(K);try{u.pushState(q,"",ae)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;l.location.assign(ae)}c&&g&&g({action:p,location:P.location,delta:1})}function N(O,W){p="REPLACE";let K=vp(P.location,O,W);n&&n(K,O),y=b();let q=G_(K,y),ae=P.createHref(K);u.replaceState(q,"",ae),c&&g&&g({action:p,location:P.location,delta:0})}function L(O){return Z2(O)}let P={get action(){return p},get location(){return s(l,u)},listen(O){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(F_,E),g=O,()=>{l.removeEventListener(F_,E),g=null}},createHref(O){return e(l,O)},createURL:L,encodeLocation(O){let W=L(O);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:T,replace:N,go(O){return u.go(O)}};return P}function Z2(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Cc(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function zb(s,e,n="/"){return eS(s,e,n,!1)}function eS(s,e,n,r){let l=typeof e=="string"?Da(e):e,c=Ai(l.pathname||"/",n);if(c==null)return null;let u=Bb(s);tS(u);let p=null;for(let g=0;p==null&&g<u.length;++g){let y=dS(c);p=uS(u[g],y,r)}return p}function Bb(s,e=[],n=[],r="",l=!1){let c=(u,p,g=l,y)=>{let b={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:p,route:u};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(r)&&g)return;ut(b.relativePath.startsWith(r),`Absolute route path "${b.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(r.length)}let E=Si([r,b.relativePath]),T=n.concat(b);u.children&&u.children.length>0&&(ut(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Bb(u.children,e,T,E,g)),!(u.path==null&&!u.index)&&e.push({path:E,score:oS(E,u.index),routesMeta:T})};return s.forEach((u,p)=>{var g;if(u.path===""||!((g=u.path)!=null&&g.includes("?")))c(u,p);else for(let y of qb(u.path))c(u,p,!0,y)}),e}function qb(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return l?[c,""]:[c];let u=qb(r.join("/")),p=[];return p.push(...u.map(g=>g===""?c:[c,g].join("/"))),l&&p.push(...u),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function tS(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:cS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var nS=/^:[\w-]+$/,sS=3,iS=2,rS=1,aS=10,lS=-2,$_=s=>s==="*";function oS(s,e){let n=s.split("/"),r=n.length;return n.some($_)&&(r+=lS),e&&(r+=iS),n.filter(l=>!$_(l)).reduce((l,c)=>l+(nS.test(c)?sS:c===""?rS:aS),r)}function cS(s,e){return s.length===e.length&&s.slice(0,-1).every((r,l)=>r===e[l])?s[s.length-1]-e[e.length-1]:0}function uS(s,e,n=!1){let{routesMeta:r}=s,l={},c="/",u=[];for(let p=0;p<r.length;++p){let g=r[p],y=p===r.length-1,b=c==="/"?e:e.slice(c.length)||"/",E=Qh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},b),T=g.route;if(!E&&y&&n&&!r[r.length-1].route.index&&(E=Qh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!E)return null;Object.assign(l,E.params),u.push({params:l,pathname:Si([c,E.pathname]),pathnameBase:gS(Si([c,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(c=Si([c,E.pathnameBase]))}return u}function Qh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=hS(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let c=l[0],u=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:r.reduce((y,{paramName:b,isOptional:E},T)=>{if(b==="*"){let L=p[T]||"";u=c.slice(0,c.length-L.length).replace(/(.)\/+$/,"$1")}const N=p[T];return E&&!N?y[b]=void 0:y[b]=(N||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:u,pattern:s}}function hS(s,e=!1,n=!0){Vn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function dS(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Ai(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}var fS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function mS(s,e="/"){let{pathname:n,search:r="",hash:l=""}=typeof s=="string"?Da(s):s,c;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?c=K_(n.substring(1),"/"):c=K_(n,e)):c=e,{pathname:c,search:yS(r),hash:vS(l)}}function K_(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Jm(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pS(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jp(s){let e=pS(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Wp(s,e,n,r=!1){let l;typeof s=="string"?l=Da(s):(l={...s},ut(!l.pathname||!l.pathname.includes("?"),Jm("?","pathname","search",l)),ut(!l.pathname||!l.pathname.includes("#"),Jm("#","pathname","hash",l)),ut(!l.search||!l.search.includes("#"),Jm("#","search","hash",l)));let c=s===""||l.pathname==="",u=c?"/":l.pathname,p;if(u==null)p=n;else{let E=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),E-=1;l.pathname=T.join("/")}p=E>=0?e[E]:"/"}let g=mS(l,p),y=u&&u!=="/"&&u.endsWith("/"),b=(c||u===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||b)&&(g.pathname+="/"),g}var Si=s=>s.join("/").replace(/\/\/+/g,"/"),gS=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),yS=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,vS=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,_S=class{constructor(s,e,n,r=!1){this.status=s,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function xS(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function bS(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Hb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Fb(s,e){let n=s;if(typeof n!="string"||!fS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,l=!1;if(Hb)try{let c=new URL(window.location.href),u=n.startsWith("//")?new URL(c.protocol+n):new URL(n),p=Ai(u.pathname,e);u.origin===c.origin&&p!=null?n=p+u.search+u.hash:l=!0}catch{Vn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Gb=["POST","PUT","PATCH","DELETE"];new Set(Gb);var ES=["GET",...Gb];new Set(ES);var Ql=D.createContext(null);Ql.displayName="DataRouter";var vd=D.createContext(null);vd.displayName="DataRouterState";var wS=D.createContext(!1),$b=D.createContext({isTransitioning:!1});$b.displayName="ViewTransition";var TS=D.createContext(new Map);TS.displayName="Fetchers";var SS=D.createContext(null);SS.displayName="Await";var Pn=D.createContext(null);Pn.displayName="Navigation";var Lc=D.createContext(null);Lc.displayName="Location";var Zs=D.createContext({outlet:null,matches:[],isDataRoute:!1});Zs.displayName="Route";var Zp=D.createContext(null);Zp.displayName="RouteError";var Kb="REACT_ROUTER_ERROR",AS="REDIRECT",NS="ROUTE_ERROR_RESPONSE";function RS(s){if(s.startsWith(`${Kb}:${AS}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function CS(s){if(s.startsWith(`${Kb}:${NS}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new _S(e.status,e.statusText,e.data)}catch{}}function IS(s,{relative:e}={}){ut(Xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=D.useContext(Pn),{hash:l,pathname:c,search:u}=zc(s,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:Si([n,c])),r.createHref({pathname:p,search:u,hash:l})}function Xl(){return D.useContext(Lc)!=null}function ei(){return ut(Xl(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Lc).location}var Yb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qb(s){D.useContext(Pn).static||D.useLayoutEffect(s)}function Jl(){let{isDataRoute:s}=D.useContext(Zs);return s?HS():kS()}function kS(){ut(Xl(),"useNavigate() may be used only in the context of a <Router> component.");let s=D.useContext(Ql),{basename:e,navigator:n}=D.useContext(Pn),{matches:r}=D.useContext(Zs),{pathname:l}=ei(),c=JSON.stringify(Jp(r)),u=D.useRef(!1);return Qb(()=>{u.current=!0}),D.useCallback((g,y={})=>{if(Vn(u.current,Yb),!u.current)return;if(typeof g=="number"){n.go(g);return}let b=Wp(g,JSON.parse(c),l,y.relative==="path");s==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Si([e,b.pathname])),(y.replace?n.replace:n.push)(b,y.state,y)},[e,n,c,l,s])}D.createContext(null);function zc(s,{relative:e}={}){let{matches:n}=D.useContext(Zs),{pathname:r}=ei(),l=JSON.stringify(Jp(n));return D.useMemo(()=>Wp(s,JSON.parse(l),r,e==="path"),[s,l,r,e])}function jS(s,e){return Xb(s,e)}function Xb(s,e,n,r,l){var K;ut(Xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=D.useContext(Pn),{matches:u}=D.useContext(Zs),p=u[u.length-1],g=p?p.params:{},y=p?p.pathname:"/",b=p?p.pathnameBase:"/",E=p&&p.route;{let q=E&&E.path||"";Wb(y,!E||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let T=ei(),N;if(e){let q=typeof e=="string"?Da(e):e;ut(b==="/"||((K=q.pathname)==null?void 0:K.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${q.pathname}" was given in the \`location\` prop.`),N=q}else N=T;let L=N.pathname||"/",P=L;if(b!=="/"){let q=b.replace(/^\//,"").split("/");P="/"+L.replace(/^\//,"").split("/").slice(q.length).join("/")}let O=zb(s,{pathname:P});Vn(E||O!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Vn(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=PS(O&&O.map(q=>Object.assign({},q,{params:Object.assign({},g,q.params),pathname:Si([b,c.encodeLocation?c.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?b:Si([b,c.encodeLocation?c.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),u,n,r,l);return e&&W?D.createElement(Lc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},W):W}function DS(){let s=qS(),e=xS(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",s),u=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:c},"ErrorBoundary")," or"," ",D.createElement("code",{style:c},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:l},n):null,u)}var OS=D.createElement(DS,null),Jb=class extends D.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=CS(s.digest);n&&(s=n)}let e=s!==void 0?D.createElement(Zs.Provider,{value:this.props.routeContext},D.createElement(Zp.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?D.createElement(MS,{error:s},e):e}};Jb.contextType=wS;var Wm=new WeakMap;function MS({children:s,error:e}){let{basename:n}=D.useContext(Pn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=RS(e.digest);if(r){let l=Wm.get(e);if(l)throw l;let c=Fb(r.location,n);if(Hb&&!Wm.get(e))if(c.isExternal||r.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:r.replace}));throw Wm.set(e,u),u}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return s}function VS({routeContext:s,match:e,children:n}){let r=D.useContext(Ql);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Zs.Provider,{value:s},n)}function PS(s,e=[],n=null,r=null,l=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let c=s,u=n==null?void 0:n.errors;if(u!=null){let b=c.findIndex(E=>E.route.id&&(u==null?void 0:u[E.route.id])!==void 0);ut(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,b+1))}let p=!1,g=-1;if(n)for(let b=0;b<c.length;b++){let E=c[b];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=b),E.route.id){let{loaderData:T,errors:N}=n,L=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!N||N[E.route.id]===void 0);if(E.route.lazy||L){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&r?(b,E)=>{var T,N;r(b,{location:n.location,params:((N=(T=n.matches)==null?void 0:T[0])==null?void 0:N.params)??{},unstable_pattern:bS(n.matches),errorInfo:E})}:void 0;return c.reduceRight((b,E,T)=>{let N,L=!1,P=null,O=null;n&&(N=u&&E.route.id?u[E.route.id]:void 0,P=E.route.errorElement||OS,p&&(g<0&&T===0?(Wb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,O=null):g===T&&(L=!0,O=E.route.hydrateFallbackElement||null)));let W=e.concat(c.slice(0,T+1)),K=()=>{let q;return N?q=P:L?q=O:E.route.Component?q=D.createElement(E.route.Component,null):E.route.element?q=E.route.element:q=b,D.createElement(VS,{match:E,routeContext:{outlet:b,matches:W,isDataRoute:n!=null},children:q})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?D.createElement(Jb,{location:n.location,revalidation:n.revalidation,component:P,error:N,children:K(),routeContext:{outlet:null,matches:W,isDataRoute:!0},onError:y}):K()},null)}function eg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function US(s){let e=D.useContext(Ql);return ut(e,eg(s)),e}function LS(s){let e=D.useContext(vd);return ut(e,eg(s)),e}function zS(s){let e=D.useContext(Zs);return ut(e,eg(s)),e}function tg(s){let e=zS(s),n=e.matches[e.matches.length-1];return ut(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function BS(){return tg("useRouteId")}function qS(){var r;let s=D.useContext(Zp),e=LS("useRouteError"),n=tg("useRouteError");return s!==void 0?s:(r=e.errors)==null?void 0:r[n]}function HS(){let{router:s}=US("useNavigate"),e=tg("useNavigate"),n=D.useRef(!1);return Qb(()=>{n.current=!0}),D.useCallback(async(l,c={})=>{Vn(n.current,Yb),n.current&&(typeof l=="number"?await s.navigate(l):await s.navigate(l,{fromRouteId:e,...c}))},[s,e])}var Y_={};function Wb(s,e,n){!e&&!Y_[s]&&(Y_[s]=!0,Vn(!1,n))}D.memo(FS);function FS({routes:s,future:e,state:n,onError:r}){return Xb(s,void 0,n,r,e)}function Zb({to:s,replace:e,state:n,relative:r}){ut(Xl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=D.useContext(Pn);Vn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=D.useContext(Zs),{pathname:u}=ei(),p=Jl(),g=Wp(s,Jp(c),u,r==="path"),y=JSON.stringify(g);return D.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:r})},[p,y,r,e,n]),null}function _n(s){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GS({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:l,static:c=!1,unstable_useTransitions:u}){ut(!Xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=s.replace(/^\/*/,"/"),g=D.useMemo(()=>({basename:p,navigator:l,static:c,unstable_useTransitions:u,future:{}}),[p,l,c,u]);typeof n=="string"&&(n=Da(n));let{pathname:y="/",search:b="",hash:E="",state:T=null,key:N="default"}=n,L=D.useMemo(()=>{let P=Ai(y,p);return P==null?null:{location:{pathname:P,search:b,hash:E,state:T,key:N},navigationType:r}},[p,y,b,E,T,N,r]);return Vn(L!=null,`<Router basename="${p}"> is not able to match the URL "${y}${b}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:D.createElement(Pn.Provider,{value:g},D.createElement(Lc.Provider,{children:e,value:L}))}function $S({children:s,location:e}){return jS(_p(s),e)}function _p(s,e=[]){let n=[];return D.Children.forEach(s,(r,l)=>{if(!D.isValidElement(r))return;let c=[...e,l];if(r.type===D.Fragment){n.push.apply(n,_p(r.props.children,c));return}ut(r.type===_n,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=_p(r.props.children,c)),n.push(u)}),n}var Ph="get",Uh="application/x-www-form-urlencoded";function _d(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function KS(s){return _d(s)&&s.tagName.toLowerCase()==="button"}function YS(s){return _d(s)&&s.tagName.toLowerCase()==="form"}function QS(s){return _d(s)&&s.tagName.toLowerCase()==="input"}function XS(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function JS(s,e){return s.button===0&&(!e||e==="_self")&&!XS(s)}function xp(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((e,n)=>{let r=s[n];return e.concat(Array.isArray(r)?r.map(l=>[n,l]):[[n,r]])},[]))}function WS(s,e){let n=xp(s);return e&&e.forEach((r,l)=>{n.has(l)||e.getAll(l).forEach(c=>{n.append(l,c)})}),n}var Nh=null;function ZS(){if(Nh===null)try{new FormData(document.createElement("form"),0),Nh=!1}catch{Nh=!0}return Nh}var eA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zm(s){return s!=null&&!eA.has(s)?(Vn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uh}"`),null):s}function tA(s,e){let n,r,l,c,u;if(YS(s)){let p=s.getAttribute("action");r=p?Ai(p,e):null,n=s.getAttribute("method")||Ph,l=Zm(s.getAttribute("enctype"))||Uh,c=new FormData(s)}else if(KS(s)||QS(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(r=g?Ai(g,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||Ph,l=Zm(s.getAttribute("formenctype"))||Zm(p.getAttribute("enctype"))||Uh,c=new FormData(p,s),!ZS()){let{name:y,type:b,value:E}=s;if(b==="image"){let T=y?`${y}.`:"";c.append(`${T}x`,"0"),c.append(`${T}y`,"0")}else y&&c.append(y,E)}}else{if(_d(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ph,r=null,l=Uh,u=s}return c&&l==="text/plain"&&(u=c,c=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ng(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function nA(s,e,n,r){let l=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${r}`:l.pathname=`${l.pathname}.${r}`:l.pathname==="/"?l.pathname=`_root.${r}`:e&&Ai(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function sA(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iA(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function rA(s,e,n){let r=await Promise.all(s.map(async l=>{let c=e.routes[l.route.id];if(c){let u=await sA(c,n);return u.links?u.links():[]}return[]}));return cA(r.flat(1).filter(iA).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Q_(s,e,n,r,l,c){let u=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>{var b;return n[y].pathname!==g.pathname||((b=n[y].route.path)==null?void 0:b.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return c==="assets"?e.filter((g,y)=>u(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{var E;let b=r.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(u(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((E=n[0])==null?void 0:E.params)||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function aA(s,e,{includeHydrateFallback:n}={}){return lA(s.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function lA(s){return[...new Set(s)]}function oA(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function cA(s,e){let n=new Set;return new Set(e),s.reduce((r,l)=>{let c=JSON.stringify(oA(l));return n.has(c)||(n.add(c),r.push({key:c,link:l})),r},[])}function e1(){let s=D.useContext(Ql);return ng(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function uA(){let s=D.useContext(vd);return ng(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var sg=D.createContext(void 0);sg.displayName="FrameworkContext";function t1(){let s=D.useContext(sg);return ng(s,"You must render this element inside a <HydratedRouter> element"),s}function hA(s,e){let n=D.useContext(sg),[r,l]=D.useState(!1),[c,u]=D.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:b,onTouchStart:E}=e,T=D.useRef(null);D.useEffect(()=>{if(s==="render"&&u(!0),s==="viewport"){let P=W=>{W.forEach(K=>{u(K.isIntersecting)})},O=new IntersectionObserver(P,{threshold:.5});return T.current&&O.observe(T.current),()=>{O.disconnect()}}},[s]),D.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let N=()=>{l(!0)},L=()=>{l(!1),u(!1)};return n?s!=="intent"?[c,T,{}]:[c,T,{onFocus:oc(p,N),onBlur:oc(g,L),onMouseEnter:oc(y,N),onMouseLeave:oc(b,L),onTouchStart:oc(E,N)}]:[!1,T,{}]}function oc(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function dA({page:s,...e}){let{router:n}=e1(),r=D.useMemo(()=>zb(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?D.createElement(mA,{page:s,matches:r,...e}):null}function fA(s){let{manifest:e,routeModules:n}=t1(),[r,l]=D.useState([]);return D.useEffect(()=>{let c=!1;return rA(s,e,n).then(u=>{c||l(u)}),()=>{c=!0}},[s,e,n]),r}function mA({page:s,matches:e,...n}){let r=ei(),{future:l,manifest:c,routeModules:u}=t1(),{basename:p}=e1(),{loaderData:g,matches:y}=uA(),b=D.useMemo(()=>Q_(s,e,y,c,r,"data"),[s,e,y,c,r]),E=D.useMemo(()=>Q_(s,e,y,c,r,"assets"),[s,e,y,c,r]),T=D.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let P=new Set,O=!1;if(e.forEach(K=>{var ae;let q=c.routes[K.route.id];!q||!q.hasLoader||(!b.some(Z=>Z.route.id===K.route.id)&&K.route.id in g&&((ae=u[K.route.id])!=null&&ae.shouldRevalidate)||q.hasClientLoader?O=!0:P.add(K.route.id))}),P.size===0)return[];let W=nA(s,p,l.unstable_trailingSlashAwareDataRequests,"data");return O&&P.size>0&&W.searchParams.set("_routes",e.filter(K=>P.has(K.route.id)).map(K=>K.route.id).join(",")),[W.pathname+W.search]},[p,l.unstable_trailingSlashAwareDataRequests,g,r,c,b,e,s,u]),N=D.useMemo(()=>aA(E,c),[E,c]),L=fA(E);return D.createElement(D.Fragment,null,T.map(P=>D.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),N.map(P=>D.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),L.map(({key:P,link:O})=>D.createElement("link",{key:P,nonce:n.nonce,...O,crossOrigin:O.crossOrigin??n.crossOrigin})))}function pA(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var gA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gA&&(window.__reactRouterVersion="7.13.0")}catch{}function yA({basename:s,children:e,unstable_useTransitions:n,window:r}){let l=D.useRef();l.current==null&&(l.current=X2({window:r,v5Compat:!0}));let c=l.current,[u,p]=D.useState({action:c.action,location:c.location}),g=D.useCallback(y=>{n===!1?p(y):D.startTransition(()=>p(y))},[n]);return D.useLayoutEffect(()=>c.listen(g),[c,g]),D.createElement(GS,{basename:s,children:e,location:u.location,navigationType:u.action,navigator:c,unstable_useTransitions:n})}var n1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,es=D.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:l,reloadDocument:c,replace:u,state:p,target:g,to:y,preventScrollReset:b,viewTransition:E,unstable_defaultShouldRevalidate:T,...N},L){let{basename:P,unstable_useTransitions:O}=D.useContext(Pn),W=typeof y=="string"&&n1.test(y),K=Fb(y,P);y=K.to;let q=IS(y,{relative:l}),[ae,Z,he]=hA(r,N),I=bA(y,{replace:u,state:p,target:g,preventScrollReset:b,relative:l,viewTransition:E,unstable_defaultShouldRevalidate:T,unstable_useTransitions:O});function R(j){e&&e(j),j.defaultPrevented||I(j)}let S=D.createElement("a",{...N,...he,href:K.absoluteURL||q,onClick:K.isExternal||c?e:R,ref:pA(L,Z),target:g,"data-discover":!W&&n==="render"?"true":void 0});return ae&&!W?D.createElement(D.Fragment,null,S,D.createElement(dA,{page:q})):S});es.displayName="Link";var vA=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:l=!1,style:c,to:u,viewTransition:p,children:g,...y},b){let E=zc(u,{relative:y.relative}),T=ei(),N=D.useContext(vd),{navigator:L,basename:P}=D.useContext(Pn),O=N!=null&&NA(E)&&p===!0,W=L.encodeLocation?L.encodeLocation(E).pathname:E.pathname,K=T.pathname,q=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(K=K.toLowerCase(),q=q?q.toLowerCase():null,W=W.toLowerCase()),q&&P&&(q=Ai(q,P)||q);const ae=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let Z=K===W||!l&&K.startsWith(W)&&K.charAt(ae)==="/",he=q!=null&&(q===W||!l&&q.startsWith(W)&&q.charAt(W.length)==="/"),I={isActive:Z,isPending:he,isTransitioning:O},R=Z?e:void 0,S;typeof r=="function"?S=r(I):S=[r,Z?"active":null,he?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let j=typeof c=="function"?c(I):c;return D.createElement(es,{...y,"aria-current":R,className:S,ref:b,style:j,to:u,viewTransition:p},typeof g=="function"?g(I):g)});vA.displayName="NavLink";var _A=D.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:l,state:c,method:u=Ph,action:p,onSubmit:g,relative:y,preventScrollReset:b,viewTransition:E,unstable_defaultShouldRevalidate:T,...N},L)=>{let{unstable_useTransitions:P}=D.useContext(Pn),O=SA(),W=AA(p,{relative:y}),K=u.toLowerCase()==="get"?"get":"post",q=typeof p=="string"&&n1.test(p),ae=Z=>{if(g&&g(Z),Z.defaultPrevented)return;Z.preventDefault();let he=Z.nativeEvent.submitter,I=(he==null?void 0:he.getAttribute("formmethod"))||u,R=()=>O(he||Z.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:l,state:c,relative:y,preventScrollReset:b,viewTransition:E,unstable_defaultShouldRevalidate:T});P&&n!==!1?D.startTransition(()=>R()):R()};return D.createElement("form",{ref:L,method:K,action:W,onSubmit:r?g:ae,...N,"data-discover":!q&&s==="render"?"true":void 0})});_A.displayName="Form";function xA(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s1(s){let e=D.useContext(Ql);return ut(e,xA(s)),e}function bA(s,{target:e,replace:n,state:r,preventScrollReset:l,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=Jl(),b=ei(),E=zc(s,{relative:c});return D.useCallback(T=>{if(JS(T,e)){T.preventDefault();let N=n!==void 0?n:Cc(b)===Cc(E),L=()=>y(s,{replace:N,state:r,preventScrollReset:l,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:p});g?D.startTransition(()=>L()):L()}},[b,y,E,n,r,e,s,l,c,u,p,g])}function EA(s){Vn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(xp(s)),n=D.useRef(!1),r=ei(),l=D.useMemo(()=>WS(r.search,n.current?null:e.current),[r.search]),c=Jl(),u=D.useCallback((p,g)=>{const y=xp(typeof p=="function"?p(new URLSearchParams(l)):p);n.current=!0,c("?"+y,g)},[c,l]);return[l,u]}var wA=0,TA=()=>`__${String(++wA)}__`;function SA(){let{router:s}=s1("useSubmit"),{basename:e}=D.useContext(Pn),n=BS(),r=s.fetch,l=s.navigate;return D.useCallback(async(c,u={})=>{let{action:p,method:g,encType:y,formData:b,body:E}=tA(c,e);if(u.navigate===!1){let T=u.fetcherKey||TA();await r(T,n,u.action||p,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:b,body:E,formMethod:u.method||g,formEncType:u.encType||y,flushSync:u.flushSync})}else await l(u.action||p,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:b,body:E,formMethod:u.method||g,formEncType:u.encType||y,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,l,e,n])}function AA(s,{relative:e}={}){let{basename:n}=D.useContext(Pn),r=D.useContext(Zs);ut(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),c={...zc(s||".",{relative:e})},u=ei();if(s==null){c.search=u.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(b=>b==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let b=p.toString();c.search=b?`?${b}`:""}}return(!s||s===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Si([n,c.pathname])),Cc(c)}function NA(s,{relative:e}={}){let n=D.useContext($b);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=s1("useViewTransitionState"),l=zc(s,{relative:e});if(!n.isTransitioning)return!1;let c=Ai(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Ai(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Qh(l.pathname,u)!=null||Qh(l.pathname,c)!=null}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=s=>{const e=CA(s);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=D.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:u,...p},g)=>D.createElement("svg",{ref:g,...IA,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:i1("lucide",l),...!c&&!kA(p)&&{"aria-hidden":"true"},...p},[...u.map(([y,b])=>D.createElement(y,b)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(s,e)=>{const n=D.forwardRef(({className:r,...l},c)=>D.createElement(jA,{ref:c,iconNode:e,className:i1(`lucide-${RA(X_(s))}`,`lucide-${s}`,r),...l}));return n.displayName=X_(s),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ta=Se("activity",DA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bp=Se("arrow-left",OA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],J_=Se("arrow-right",MA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Rh=Se("arrow-up-right",VA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],yc=Se("calendar",PA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],xd=Se("camera",UA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zA=Se("chevron-right",LA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ll=Se("circle-alert",BA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xh=Se("circle-check-big",qA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vc=Se("circle-check",HA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ig=Se("clipboard-list",FA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Er=Se("clock",GA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],KA=Se("copy",$A);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],QA=Se("credit-card",YA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],JA=Se("dollar-sign",XA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],r1=Se("external-link",WA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],eN=Se("funnel",ZA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],nN=Se("link",tN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],W_=Se("loader-circle",sN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],rg=Se("lock",iN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],aN=Se("log-in",rN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],oN=Se("log-out",lN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],a1=Se("mail",cN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],xr=Se("map-pin",uN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Z_=Se("map",hN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],fN=Se("navigation",dN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],pN=Se("pen",mN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ep=Se("pencil",gN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],vN=Se("phone",yN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],xN=Se("play",_N);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ep=Se("plus",bN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wN=Se("save",EN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ag=Se("search",TN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],AN=Se("shield-alert",SN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],RN=Se("shield-check",NN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],tp=Se("shield",CN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kN=Se("square-check-big",IN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],DN=Se("star",jN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],MN=Se("timer",ON);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_c=Se("trash-2",VN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],xc=Se("trending-up",PN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],np=Se("triangle-alert",UN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Jh=Se("trophy",LN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],lg=Se("upload",zN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],l1=Se("user-plus",BN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Sa=Se("user",qN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bc=Se("users",HN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zl=Se("x",FN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],xa=Se("zap",GN),$N=({children:s})=>{var u;const e=ei(),n=Jl(),r=e.pathname.startsWith("/admin")&&e.pathname!=="/admin/login",l=()=>{sessionStorage.removeItem("isAdminAuthenticated"),n("/admin/login")};if(!r)return d.jsx("div",{className:"min-h-screen bg-slate-100 text-slate-900",children:s});const c=[{path:"/admin",icon:Ta,label:"Viso Geral"},{path:"/admin/usuarios",icon:bc,label:"Atletas"},{path:"/admin/horarios",icon:Er,label:"Horrios"},{path:"/admin/checkins",icon:ig,label:"Registros"},{path:"/admin/ranking",icon:Jh,label:"Ranking"},{path:"/admin/distribuicoes",icon:xc,label:"Recompensas"},{path:"/admin/perfil",icon:Sa,label:"Meu Perfil"}];return d.jsxs("div",{className:"flex min-h-screen bg-slate-100 text-slate-900 font-sans text-sm",children:[d.jsxs("aside",{className:"w-56 bg-black flex-shrink-0 flex flex-col z-20 shadow-[10px_0_30px_rgba(0,0,0,0.2)]",children:[d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"flex items-center gap-2 group cursor-pointer justify-center w-full",children:d.jsx("img",{src:"/logo.png",alt:"Impulso Club",className:"h-12 w-auto object-contain"})})}),d.jsx("nav",{className:"mt-2 flex-1 px-3 space-y-1",children:c.map(p=>{const g=p.icon,y=e.pathname===p.path;return d.jsxs(es,{to:p.path,className:`flex items-center px-3 py-2 text-[10px] font-black uppercase tracking-wider rounded-xl transition-all ${y?"bg-lime-400 text-black shadow-[0_8px_16px_rgba(163,230,53,0.2)]":"text-zinc-500 hover:bg-zinc-900 hover:text-white border border-transparent hover:border-zinc-800"}`,children:[d.jsx(g,{className:`w-3.5 h-3.5 mr-3 ${y?"text-black":"text-zinc-700"}`}),p.label]},p.path)})}),d.jsx("div",{className:"p-5 border-t border-zinc-900",children:d.jsxs("button",{onClick:l,className:"w-full flex items-center px-4 py-2 text-xs font-black uppercase tracking-wider text-zinc-600 hover:text-red-500 transition-all",children:[d.jsx(oN,{className:"w-4 h-4 mr-3"}),"Logout"]})})]}),d.jsxs("main",{className:"flex-1 overflow-y-auto flex flex-col",children:[d.jsxs("header",{className:"bg-white border-b-2 border-slate-300 py-3 px-6 flex justify-between items-center sticky top-0 z-10 shadow-sm",children:[d.jsx("h2",{className:"text-sm font-black italic text-slate-900 font-sport uppercase tracking-[0.2em]",children:((u=c.find(p=>p.path===e.pathname))==null?void 0:u.label)||"Performance Area"}),d.jsxs(es,{to:"/checkin",className:"group flex items-center px-4 py-2 bg-black rounded-lg text-lime-400 text-[10px] font-black uppercase tracking-wider hover:bg-lime-400 hover:text-black transition-all shadow-xl active:scale-95",children:[d.jsx(kN,{className:"w-3.5 h-3.5 mr-2"}),"Terminal de Check-in"]})]}),d.jsx("div",{className:"p-6 max-w-[1600px] mx-auto w-full",children:s})]})]})},KN=()=>{};var ex={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},YN=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],u=s[n++],p=s[n++],g=((l&7)<<18|(c&63)<<12|(u&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],u=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|u&63)}}return e.join("")},c1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],u=l+1<s.length,p=u?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,b=c>>2,E=(c&3)<<4|p>>4;let T=(p&15)<<2|y>>6,N=y&63;g||(N=64,u||(T=64)),r.push(n[b],n[E],n[T],n[N])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(o1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):YN(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const E=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||E==null)throw new QN;const T=c<<2|p>>4;if(r.push(T),y!==64){const N=p<<4&240|y>>2;if(r.push(N),E!==64){const L=y<<6&192|E;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class QN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XN=function(s){const e=o1(s);return c1.encodeByteArray(e,!0)},Wh=function(s){return XN(s).replace(/\./g,"")},u1=function(s){try{return c1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=()=>JN().__FIREBASE_DEFAULTS__,ZN=()=>{if(typeof process>"u"||typeof ex>"u")return;const s=ex.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},eR=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&u1(s[1]);return e&&JSON.parse(e)},bd=()=>{try{return KN()||WN()||ZN()||eR()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},h1=s=>{var e,n;return(n=(e=bd())==null?void 0:e.emulatorHosts)==null?void 0:n[s]},d1=s=>{const e=h1(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},f1=()=>{var s;return(s=bd())==null?void 0:s.config},m1=s=>{var e;return(e=bd())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function og(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Wh(JSON.stringify(n)),Wh(JSON.stringify(u)),""].join(".")}const Ec={};function nR(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ec))Ec[e]?s.emulator.push(e):s.prod.push(e);return s}function sR(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let tx=!1;function cg(s,e){if(typeof window>"u"||typeof document>"u"||!Mr(window.location.host)||Ec[s]===e||Ec[s]||tx)return;Ec[s]=e;function n(T){return`__firebase__banner__${T}`}const r="__firebase__banner",c=nR().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function p(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,N){T.setAttribute("width","24"),T.setAttribute("id",N),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{tx=!0,u()},T}function b(T,N){T.setAttribute("id",N),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=sR(r),N=n("text"),L=document.getElementById(N)||document.createElement("span"),P=n("learnmore"),O=document.getElementById(P)||document.createElement("a"),W=n("preprendIcon"),K=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const q=T.element;p(q),b(O,P);const ae=y();g(K,W),q.append(K,L,O,ae),document.body.appendChild(q)}c?(L.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function rR(){var e;const s=(e=bd())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lR(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function oR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cR(){const s=ln();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function uR(){return!rR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hR(){try{return typeof indexedDB=="object"}catch{return!1}}function dR(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;e(((c=l.error)==null?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="FirebaseError";class ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fR,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bc.prototype.create)}}class Bc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],u=c?mR(c,r):"Error",p=`${this.serviceName}: ${u} (${l}).`;return new ti(l,p,r)}}function mR(s,e){return s.replace(pR,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const pR=/\{\$([^}]+)}/g;function gR(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Aa(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const c=s[l],u=e[l];if(nx(c)&&nx(u)){if(!Aa(c,u))return!1}else if(c!==u)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function nx(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hc(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function dc(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function yR(s,e){const n=new vR(s,e);return n.subscribe.bind(n)}class vR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_R(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=sp),l.error===void 0&&(l.error=sp),l.complete===void 0&&(l.complete=sp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _R(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function sp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(s){return s&&s._delegate?s._delegate:s}class Rr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ER(e))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=va){return this.instances.has(e)}getOptions(e=va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,u]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&u.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=va){return this.component?this.component.multipleInstances?e:va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bR(s){return s===va?void 0:s}function ER(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const TR={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},SR=Le.INFO,AR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},NR=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=AR[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ug{constructor(e){this.name=e,this._logLevel=SR,this._logHandler=NR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const RR=(s,e)=>e.some(n=>s instanceof n);let sx,ix;function CR(){return sx||(sx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IR(){return ix||(ix=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g1=new WeakMap,wp=new WeakMap,y1=new WeakMap,ip=new WeakMap,hg=new WeakMap;function kR(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",u)},c=()=>{n(wr(s.result)),l()},u=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&g1.set(n,s)}).catch(()=>{}),hg.set(e,s),e}function jR(s){if(wp.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",u),s.removeEventListener("abort",u)},c=()=>{n(),l()},u=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",u),s.addEventListener("abort",u)});wp.set(s,e)}let Tp={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return wp.get(s);if(e==="objectStoreNames")return s.objectStoreNames||y1.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function DR(s){Tp=s(Tp)}function OR(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(rp(this),e,...n);return y1.set(r,e.sort?e.sort():[e]),wr(r)}:IR().includes(s)?function(...e){return s.apply(rp(this),e),wr(g1.get(this))}:function(...e){return wr(s.apply(rp(this),e))}}function MR(s){return typeof s=="function"?OR(s):(s instanceof IDBTransaction&&jR(s),RR(s,CR())?new Proxy(s,Tp):s)}function wr(s){if(s instanceof IDBRequest)return kR(s);if(ip.has(s))return ip.get(s);const e=MR(s);return e!==s&&(ip.set(s,e),hg.set(e,s)),e}const rp=s=>hg.get(s);function VR(s,e,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const u=indexedDB.open(s,e),p=wr(u);return r&&u.addEventListener("upgradeneeded",g=>{r(wr(u.result),g.oldVersion,g.newVersion,wr(u.transaction),g)}),n&&u.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const PR=["get","getKey","getAll","getAllKeys","count"],UR=["put","add","delete","clear"],ap=new Map;function rx(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(ap.get(e))return ap.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=UR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||PR.includes(n)))return;const c=async function(u,...p){const g=this.transaction(u,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return ap.set(e,c),c}DR(s=>({...s,get:(e,n,r)=>rx(e,n)||s.get(e,n,r),has:(e,n)=>!!rx(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zR(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sp="@firebase/app",ax="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new ug("@firebase/app"),BR="@firebase/app-compat",qR="@firebase/analytics-compat",HR="@firebase/analytics",FR="@firebase/app-check-compat",GR="@firebase/app-check",$R="@firebase/auth",KR="@firebase/auth-compat",YR="@firebase/database",QR="@firebase/data-connect",XR="@firebase/database-compat",JR="@firebase/functions",WR="@firebase/functions-compat",ZR="@firebase/installations",eC="@firebase/installations-compat",tC="@firebase/messaging",nC="@firebase/messaging-compat",sC="@firebase/performance",iC="@firebase/performance-compat",rC="@firebase/remote-config",aC="@firebase/remote-config-compat",lC="@firebase/storage",oC="@firebase/storage-compat",cC="@firebase/firestore",uC="@firebase/ai",hC="@firebase/firestore-compat",dC="firebase",fC="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="[DEFAULT]",mC={[Sp]:"fire-core",[BR]:"fire-core-compat",[HR]:"fire-analytics",[qR]:"fire-analytics-compat",[GR]:"fire-app-check",[FR]:"fire-app-check-compat",[$R]:"fire-auth",[KR]:"fire-auth-compat",[YR]:"fire-rtdb",[QR]:"fire-data-connect",[XR]:"fire-rtdb-compat",[JR]:"fire-fn",[WR]:"fire-fn-compat",[ZR]:"fire-iid",[eC]:"fire-iid-compat",[tC]:"fire-fcm",[nC]:"fire-fcm-compat",[sC]:"fire-perf",[iC]:"fire-perf-compat",[rC]:"fire-rc",[aC]:"fire-rc-compat",[lC]:"fire-gcs",[oC]:"fire-gcs-compat",[cC]:"fire-fst",[hC]:"fire-fst-compat",[uC]:"fire-vertex","fire-js":"fire-js",[dC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=new Map,pC=new Map,Np=new Map;function lx(s,e){try{s.container.addComponent(e)}catch(n){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Na(s){const e=s.name;if(Np.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;Np.set(e,s);for(const n of Zh.values())lx(n,s);for(const n of pC.values())lx(n,s);return!0}function Ed(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function bn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new Bc("app","Firebase",gC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=fC;function v1(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Ap,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Tr.create("bad-app-name",{appName:String(l)});if(n||(n=f1()),!n)throw Tr.create("no-options");const c=Zh.get(l);if(c){if(Aa(n,c.options)&&Aa(r,c.config))return c;throw Tr.create("duplicate-app",{appName:l})}const u=new wR(l);for(const g of Np.values())u.addComponent(g);const p=new yC(n,r,u);return Zh.set(l,p),p}function dg(s=Ap){const e=Zh.get(s);if(!e&&s===Ap&&f1())return v1();if(!e)throw Tr.create("no-app",{appName:s});return e}function Gs(s,e,n){let r=mC[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const u=[`Unable to register library "${r}" with version "${e}":`];l&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(u.join(" "));return}Na(new Rr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="firebase-heartbeat-database",_C=1,Ic="firebase-heartbeat-store";let lp=null;function _1(){return lp||(lp=VR(vC,_C,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ic)}catch(n){console.warn(n)}}}}).catch(s=>{throw Tr.create("idb-open",{originalErrorMessage:s.message})})),lp}async function xC(s){try{const n=(await _1()).transaction(Ic),r=await n.objectStore(Ic).get(x1(s));return await n.done,r}catch(e){if(e instanceof ti)Ni.warn(e.message);else{const n=Tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(n.message)}}}async function ox(s,e){try{const r=(await _1()).transaction(Ic,"readwrite");await r.objectStore(Ic).put(e,x1(s)),await r.done}catch(n){if(n instanceof ti)Ni.warn(n.message);else{const r=Tr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ni.warn(r.message)}}}function x1(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=1024,EC=30;class wC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=cx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(u=>u.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>EC){const u=AC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ni.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cx(),{heartbeatsToSend:r,unsentEntries:l}=TC(this._heartbeatsCache.heartbeats),c=Wh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Ni.warn(n),""}}}function cx(){return new Date().toISOString().substring(0,10)}function TC(s,e=bC){const n=[];let r=s.slice();for(const l of s){const c=n.find(u=>u.agent===l.agent);if(c){if(c.dates.push(l.date),ux(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),ux(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class SC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hR()?dR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ox(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ox(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ux(s){return Wh(JSON.stringify({version:2,heartbeats:s})).length}function AC(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(s){Na(new Rr("platform-logger",e=>new LR(e),"PRIVATE")),Na(new Rr("heartbeat",e=>new wC(e),"PRIVATE")),Gs(Sp,ax,s),Gs(Sp,ax,"esm2020"),Gs("fire-js","")}NC("");var RC="firebase",CC="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gs(RC,CC,"app");function b1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IC=b1,E1=new Bc("auth","Firebase",b1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new ug("@firebase/auth");function kC(s,...e){ed.logLevel<=Le.WARN&&ed.warn(`Auth (${Oa}): ${s}`,...e)}function Lh(s,...e){ed.logLevel<=Le.ERROR&&ed.error(`Auth (${Oa}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(s,...e){throw fg(s,...e)}function $s(s,...e){return fg(s,...e)}function w1(s,e,n){const r={...IC(),[e]:n};return new Bc("auth","Firebase",r).create(e,{appName:s.name})}function Ks(s){return w1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fg(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return E1.create(s,...e)}function we(s,e,...n){if(!s)throw fg(e,...n)}function wi(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Lh(e),new Error(e)}function Ri(s,e){s||wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function jC(){return hx()==="http:"||hx()==="https:"}function hx(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jC()||lR()||"connection"in navigator)?navigator.onLine:!0}function OC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=iR()||oR()}get(){return DC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(s,e){Ri(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PC=new Hc(3e4,6e4);function Vr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ji(s,e,n,r,l={}){return S1(s,l,async()=>{let c={},u={};r&&(e==="GET"?u=r:c={body:JSON.stringify(r)});const p=qc({key:s.config.apiKey,...u}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return aR()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Mr(s.emulatorConfig.host)&&(y.credentials="include"),T1.fetch()(await A1(s,s.config.apiHost,n,p),y)})}async function S1(s,e,n){s._canInitEmulator=!1;const r={...MC,...e};try{const l=new LC(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw Ch(s,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const p=c.ok?u.errorMessage:u.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ch(s,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw Ch(s,"email-already-in-use",u);if(g==="USER_DISABLED")throw Ch(s,"user-disabled",u);const b=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw w1(s,b,y);ys(s,b)}}catch(l){if(l instanceof ti)throw l;ys(s,"network-request-failed",{message:String(l)})}}async function Fc(s,e,n,r,l={}){const c=await ji(s,e,n,r,l);return"mfaPendingCredential"in c&&ys(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function A1(s,e,n,r){const l=`${e}${n}?${r}`,c=s,u=c.config.emulator?mg(s.config,l):`${s.config.apiScheme}://${l}`;return VC.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function UC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($s(this.auth,"network-request-failed")),PC.get())})}}function Ch(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=$s(s,e,r);return l.customData._tokenResponse=n,l}function dx(s){return s!==void 0&&s.enterprise!==void 0}class zC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return UC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function BC(s,e){return ji(s,"GET","/v2/recaptchaConfig",Vr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(s,e){return ji(s,"POST","/v1/accounts:delete",e)}async function td(s,e){return ji(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HC(s,e=!1){const n=ht(s),r=await n.getIdToken(e),l=pg(r);we(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,u=c==null?void 0:c.sign_in_provider;return{claims:l,token:r,authTime:wc(op(l.auth_time)),issuedAtTime:wc(op(l.iat)),expirationTime:wc(op(l.exp)),signInProvider:u||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function op(s){return Number(s)*1e3}function pg(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Lh("JWT malformed, contained fewer than 3 sections"),null;try{const l=u1(n);return l?JSON.parse(l):(Lh("Failed to decode base64 JWT payload"),null)}catch(l){return Lh("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function fx(s){const e=pg(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ti&&FC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function FC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wc(this.lastLoginAt),this.creationTime=wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(s){var E;const e=s.auth,n=await s.getIdToken(),r=await Bl(s,td(e,{idToken:n}));we(r==null?void 0:r.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=(E=l.providerUserInfo)!=null&&E.length?N1(l.providerUserInfo):[],u=KC(s.providerData,c),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!(u!=null&&u.length),y=p?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Cp(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function $C(s){const e=ht(s);await nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KC(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function N1(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(s,e){const n=await S1(s,{},async()=>{const r=qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,u=await A1(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&Mr(s.emulatorConfig.host)&&(g.credentials="include"),T1.fetch()(u,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QC(s,e){return ji(s,"POST","/v2/accounts:revokeToken",Vr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=fx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:c}=await YC(e,n);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:c}=n,u=new Dl;return r&&(we(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),l&&(we(typeof l=="string","internal-error",{appName:e}),u.accessToken=l),c&&(we(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dl,this.toJSON())}_performRefresh(){return wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ms{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new GC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Cp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Bl(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HC(this,e)}reload(){return $C(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ms({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(Ks(this.auth));const e=await this.getIdToken();return await Bl(this,qC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,u=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:N,providerData:L,stsTokenManager:P}=n;we(E&&P,e,"internal-error");const O=Dl.fromJSON(this.name,P);we(typeof E=="string",e,"internal-error"),mr(r,e.name),mr(l,e.name),we(typeof T=="boolean",e,"internal-error"),we(typeof N=="boolean",e,"internal-error"),mr(c,e.name),mr(u,e.name),mr(p,e.name),mr(g,e.name),mr(y,e.name),mr(b,e.name);const W=new ms({uid:E,auth:e,email:l,emailVerified:T,displayName:r,isAnonymous:N,photoURL:u,phoneNumber:c,tenantId:p,stsTokenManager:O,createdAt:y,lastLoginAt:b});return L&&Array.isArray(L)&&(W.providerData=L.map(K=>({...K}))),g&&(W._redirectEventId=g),W}static async _fromIdTokenResponse(e,n,r=!1){const l=new Dl;l.updateFromServerResponse(n);const c=new ms({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await nd(c),c}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];we(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?N1(l.providerUserInfo):[],u=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),p=new Dl;p.updateFromIdToken(r);const g=new ms({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:u}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Cp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=new Map;function Ti(s){Ri(s instanceof Function,"Expected a class definition");let e=mx.get(s);return e?(Ri(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,mx.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}R1.type="NONE";const px=R1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(s,e,n){return`firebase:${s}:${e}:${n}`}class Ol{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=zh(this.userKey,l.apiKey,c),this.fullPersistenceKey=zh("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await td(this.auth,{idToken:e}).catch(()=>{});return n?ms._fromGetAccountInfoResponse(this.auth,n,e):null}return ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ol(Ti(px),e,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Ti(px);const u=zh(r,e.config.apiKey,e.name);let p=null;for(const y of n)try{const b=await y._get(u);if(b){let E;if(typeof b=="string"){const T=await td(e,{idToken:b}).catch(()=>{});if(!T)break;E=await ms._fromGetAccountInfoResponse(e,T,b)}else E=ms._fromJSON(e,b);y!==c&&(p=E),c=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Ol(c,e,r):(c=g[0],p&&await c._set(u,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(u)}catch{}})),new Ol(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O1(e))return"Blackberry";if(M1(e))return"Webos";if(I1(e))return"Safari";if((e.includes("chrome/")||k1(e))&&!e.includes("edge/"))return"Chrome";if(D1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function C1(s=ln()){return/firefox\//i.test(s)}function I1(s=ln()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k1(s=ln()){return/crios\//i.test(s)}function j1(s=ln()){return/iemobile/i.test(s)}function D1(s=ln()){return/android/i.test(s)}function O1(s=ln()){return/blackberry/i.test(s)}function M1(s=ln()){return/webos/i.test(s)}function gg(s=ln()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function XC(s=ln()){var e;return gg(s)&&!!((e=window.navigator)!=null&&e.standalone)}function JC(){return cR()&&document.documentMode===10}function V1(s=ln()){return gg(s)||D1(s)||M1(s)||O1(s)||/windows phone/i.test(s)||j1(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(s,e=[]){let n;switch(s){case"Browser":n=gx(ln());break;case"Worker":n=`${gx(ln())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((u,p)=>{try{const g=e(c);u(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(s,e={}){return ji(s,"GET","/v2/passwordPolicy",Vr(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=6;class tI{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??eI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yx(this),this.idTokenSubscription=new yx(this),this.beforeStateQueue=new WC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ti(n)),this._initializationPromise=this.queue(async()=>{var r,l,c;if(!this._deleted&&(this.persistenceManager=await Ol.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await td(this,{idToken:e}),r=await ms._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(c=this.redirectUser)==null?void 0:c._redirectEventId,p=r==null?void 0:r._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===p)&&(g!=null&&g.user)&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(Ks(this));const n=e?ht(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(Ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(Ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZC(this),n=new tI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await QC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ti(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await Ol.create(this,[Ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let u=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(p,this,"internal-error"),p.then(()=>{u||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,l);return()=>{u=!0,g()}}else{const g=e.addObserver(n);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=P1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&kC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Pr(s){return ht(s)}class yx{constructor(e){this.auth=e,this.observer=null,this.addObserver=yR(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sI(s){wd=s}function U1(s){return wd.loadJS(s)}function iI(){return wd.recaptchaEnterpriseScript}function rI(){return wd.gapiScript}function aI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class lI{constructor(){this.enterprise=new oI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class oI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const cI="recaptcha-enterprise",L1="NO_RECAPTCHA";class uI{constructor(e){this.type=cI,this.auth=Pr(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,p)=>{BC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new zC(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,u(y.siteKey)}}).catch(g=>{p(g)})})}function l(c,u,p){const g=window.grecaptcha;dx(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{u(y)}).catch(()=>{u(L1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lI().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{r(this.auth).then(p=>{if(!n&&dx(window.grecaptcha))l(p,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let g=iI();g.length!==0&&(g+=p),U1(g).then(()=>{l(p,c,u)}).catch(y=>{u(y)})}}).catch(p=>{u(p)})})}}async function vx(s,e,n,r=!1,l=!1){const c=new uI(s);let u;if(l)u=L1;else try{u=await c.verify(n)}catch{u=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:u}):Object.assign(p,{captchaResponse:u}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Ip(s,e,n,r,l){var c;if((c=s._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await vx(s,e,n,n==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await vx(s,e,n,n==="getOobCode");return r(s,p)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(s,e){const n=Ed(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Aa(c,e??{}))return l;ys(l,"already-initialized")}return n.initialize({options:e})}function dI(s,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ti);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fI(s,e,n){const r=Pr(s);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=z1(e),{host:u,port:p}=mI(e),g=p===null?"":`:${p}`,y={url:`${c}//${u}${g}/`},b=Object.freeze({host:u,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(Aa(y,r.config.emulator)&&Aa(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,Mr(u)?(og(`${c}//${u}${g}`),cg("Auth",!0)):pI()}function z1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function mI(s){const e=z1(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:_x(r.substr(c.length+1))}}else{const[c,u]=r.split(":");return{host:c,port:_x(u)}}}function _x(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function pI(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wi("not implemented")}_getIdTokenResponse(e){return wi("not implemented")}_linkToIdToken(e,n){return wi("not implemented")}_getReauthenticationResolver(e){return wi("not implemented")}}async function gI(s,e){return ji(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(s,e){return Fc(s,"POST","/v1/accounts:signInWithPassword",Vr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(s,e){return Fc(s,"POST","/v1/accounts:signInWithEmailLink",Vr(s,e))}async function _I(s,e){return Fc(s,"POST","/v1/accounts:signInWithEmailLink",Vr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends yg{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new kc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new kc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ip(e,n,"signInWithPassword",yI);case"emailLink":return vI(e,{email:this._email,oobCode:this._password});default:ys(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ip(e,r,"signUpPassword",gI);case"emailLink":return _I(e,{idToken:n,email:this._email,oobCode:this._password});default:ys(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(s,e){return Fc(s,"POST","/v1/accounts:signInWithIdp",Vr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="http://localhost";class Ra extends yg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ys("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=n;if(!r||!l)return null;const u=new Ra(r,l);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ml(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ml(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ml(e,n)}buildRequest(){const e={requestUri:xI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EI(s){const e=hc(dc(s)).link,n=e?hc(dc(e)).deep_link_id:null,r=hc(dc(s)).deep_link_id;return(r?hc(dc(r)).link:null)||r||n||e||s}class vg{constructor(e){const n=hc(dc(e)),r=n.apiKey??null,l=n.oobCode??null,c=bI(n.mode??null);we(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=EI(e);try{return new vg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.providerId=Wl.PROVIDER_ID}static credential(e,n){return kc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vg.parseLink(n);return we(r,"argument-error"),kc._fromEmailAndCode(e,r.code,r.tenantId)}}Wl.PROVIDER_ID="password";Wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends B1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Gc{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ra._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return gr.credential(n,r)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Gc{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.GITHUB_SIGN_IN_METHOD="github.com";yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Gc{constructor(){super("twitter.com")}static credential(e,n){return Ra._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vr.credential(n,r)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q1(s,e){return Fc(s,"POST","/v1/accounts:signUp",Vr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const c=await ms._fromIdTokenResponse(e,r,l),u=xx(r);return new Ci({user:c,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=xx(r);return new Ci({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function xx(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(s){var l;if(bn(s.app))return Promise.reject(Ks(s));const e=Pr(s);if(await e._initializationPromise,(l=e.currentUser)!=null&&l.isAnonymous)return new Ci({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await q1(e,{returnSecureToken:!0}),r=await Ci._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends ti{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,sd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new sd(e,n,r,l)}}function H1(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sd._fromErrorAndOperation(s,c,e,r):c})}async function TI(s,e,n=!1){const r=await Bl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Ci._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(s,e,n=!1){const{auth:r}=s;if(bn(r.app))return Promise.reject(Ks(r));const l="reauthenticate";try{const c=await Bl(s,H1(r,l,e,s),n);we(c.idToken,r,"internal-error");const u=pg(c.idToken);we(u,r,"internal-error");const{sub:p}=u;return we(s.uid===p,r,"user-mismatch"),Ci._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ys(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(s,e,n=!1){if(bn(s.app))return Promise.reject(Ks(s));const r="signIn",l=await H1(s,r,e),c=await Ci._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(c.user),c}async function AI(s,e){return F1(Pr(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(s){const e=Pr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NI(s,e,n){if(bn(s.app))return Promise.reject(Ks(s));const r=Pr(s),u=await Ip(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",q1).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&G1(s),g}),p=await Ci._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(p.user),p}function RI(s,e,n){return bn(s.app)?Promise.reject(Ks(s)):AI(ht(s),Wl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&G1(s),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(s,e){return ji(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bx(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ht(s),c={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await Bl(r,CI(r.auth,c));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const p=r.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(s,e){return ht(s).setPersistence(e)}function kI(s,e,n,r){return ht(s).onIdTokenChanged(e,n,r)}function jI(s,e,n){return ht(s).beforeAuthStateChanged(e,n)}function DI(s,e,n,r){return ht(s).onAuthStateChanged(e,n,r)}const id="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(id,"1"),this.storage.removeItem(id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=1e3,MI=10;class K1 extends $1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,p,g)=>{this.notifyListeners(u,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},c=this.storage.getItem(r);JC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,MI):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},OI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}K1.type="LOCAL";const Y1=K1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1 extends $1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Q1.type="SESSION";const X1=Q1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new Td(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:c}=n.data,u=this.handlersMap[l];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(u).map(async y=>y(n.origin,c)),g=await VI(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Td.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,u;return new Promise((p,g)=>{const y=_g("",20);l.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},r);u={messageChannel:l,onMessage(E){const T=E;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(T.data.response);break;default:clearTimeout(b),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(u),l.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(){return window}function UI(s){Ys().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(){return typeof Ys().WorkerGlobalScope<"u"&&typeof Ys().importScripts=="function"}async function LI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zI(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function BI(){return J1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="firebaseLocalStorageDb",qI=1,rd="firebaseLocalStorage",Z1="fbase_key";class $c{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sd(s,e){return s.transaction([rd],e?"readwrite":"readonly").objectStore(rd)}function HI(){const s=indexedDB.deleteDatabase(W1);return new $c(s).toPromise()}function kp(){const s=indexedDB.open(W1,qI);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(rd,{keyPath:Z1})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(rd)?e(r):(r.close(),await HI(),e(await kp()))})})}async function Ex(s,e,n){const r=Sd(s,!0).put({[Z1]:e,value:n});return new $c(r).toPromise()}async function FI(s,e){const n=Sd(s,!1).get(e),r=await new $c(n).toPromise();return r===void 0?null:r.value}function wx(s,e){const n=Sd(s,!0).delete(e);return new $c(n).toPromise()}const GI=800,$I=3;class eE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$I)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return J1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Td._getInstance(BI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await LI(),!this.activeServiceWorker)return;this.sender=new PI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kp();return await Ex(e,id,"1"),await wx(e,id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ex(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>FI(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Sd(l,!1).getAll();return new $c(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eE.type="LOCAL";const KI=eE;new Hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(s,e){return e?Ti(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg extends yg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QI(s){return F1(s.auth,new xg(s),s.bypassAuthState)}function XI(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),SI(n,new xg(s),s.bypassAuthState)}async function JI(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),TI(n,new xg(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,n,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:c,error:u,type:p}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QI;case"linkViaPopup":case"linkViaRedirect":return JI;case"reauthViaPopup":case"reauthViaRedirect":return XI;default:ys(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new Hc(2e3,1e4);class jl extends tE{constructor(e,n,r,l,c){super(e,n,l,c),this.provider=r,this.authWindow=null,this.pollId=null,jl.currentPopupAction&&jl.currentPopupAction.cancel(),jl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=_g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($s(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($s(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($s(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WI.get())};e()}}jl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="pendingRedirect",Bh=new Map;class ek extends tE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bh.get(this.auth._key());if(!e){try{const r=await tk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bh.set(this.auth._key(),e)}return this.bypassAuthState||Bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tk(s,e){const n=ik(e),r=sk(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function nk(s,e){Bh.set(s._key(),e)}function sk(s){return Ti(s._redirectPersistence)}function ik(s){return zh(ZI,s.config.apiKey,s.name)}async function rk(s,e,n=!1){if(bn(s.app))return Promise.reject(Ks(s));const r=Pr(s),l=YI(r,e),u=await new ek(r,l,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=600*1e3;class lk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ok(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nE(e)){const l=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError($s(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ak&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tx(e))}saveEventToCache(e){this.cachedEventUids.add(Tx(e)),this.lastProcessedEventTime=Date.now()}}function Tx(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function nE({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ok(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(s,e={}){return ji(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hk=/^https?/;async function dk(s){if(s.config.emulator)return;const{authorizedDomains:e}=await ck(s);for(const n of e)try{if(fk(n))return}catch{}ys(s,"unauthorized-domain")}function fk(s){const e=Rp(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const u=new URL(s);return u.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!hk.test(n))return!1;if(uk.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=new Hc(3e4,6e4);function Sx(){const s=Ys().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function pk(s){return new Promise((e,n)=>{var l,c,u;function r(){Sx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sx(),n($s(s,"network-request-failed"))},timeout:mk.get()})}if((c=(l=Ys().gapi)==null?void 0:l.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((u=Ys().gapi)!=null&&u.load)r();else{const p=aI("iframefcb");return Ys()[p]=()=>{gapi.load?r():n($s(s,"network-request-failed"))},U1(`${rI()}?onload=${p}`).catch(g=>n(g))}}).catch(e=>{throw qh=null,e})}let qh=null;function gk(s){return qh=qh||pk(s),qh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=new Hc(5e3,15e3),vk="__/auth/iframe",_k="emulator/auth/iframe",xk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ek(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?mg(e,_k):`https://${s.config.authDomain}/${vk}`,r={apiKey:e.apiKey,appName:s.name,v:Oa},l=bk.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${qc(r).slice(1)}`}async function wk(s){const e=await gk(s),n=Ys().gapi;return we(n,s,"internal-error"),e.open({where:document.body,url:Ek(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xk,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const u=$s(s,"network-request-failed"),p=Ys().setTimeout(()=>{c(u)},yk.get());function g(){Ys().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sk=500,Ak=600,Nk="_blank",Rk="http://localhost";class Ax{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ck(s,e,n,r=Sk,l=Ak){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...Tk,width:r.toString(),height:l.toString(),top:c,left:u},y=ln().toLowerCase();n&&(p=k1(y)?Nk:n),C1(y)&&(e=e||Rk,g.scrollbars="yes");const b=Object.entries(g).reduce((T,[N,L])=>`${T}${N}=${L},`,"");if(XC(y)&&p!=="_self")return Ik(e||"",p),new Ax(null);const E=window.open(e||"",p,b);we(E,s,"popup-blocked");try{E.focus()}catch{}return new Ax(E)}function Ik(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk="__/auth/handler",jk="emulator/auth/handler",Dk=encodeURIComponent("fac");async function Nx(s,e,n,r,l,c){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const u={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Oa,eventId:l};if(e instanceof B1){e.setDefaultLanguage(s.languageCode),u.providerId=e.providerId||"",gR(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,E]of Object.entries({}))u[b]=E}if(e instanceof Gc){const b=e.getScopes().filter(E=>E!=="");b.length>0&&(u.scopes=b.join(","))}s.tenantId&&(u.tid=s.tenantId);const p=u;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const g=await s._getAppCheckToken(),y=g?`#${Dk}=${encodeURIComponent(g)}`:"";return`${Ok(s)}?${qc(p).slice(1)}${y}`}function Ok({config:s}){return s.emulator?mg(s,jk):`https://${s.authDomain}/${kk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="webStorageSupport";class Mk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X1,this._completeRedirectFn=rk,this._overrideRedirectResult=nk}async _openPopup(e,n,r,l){var u;Ri((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await Nx(e,n,r,Rp(),l);return Ck(e,c,_g())}async _openRedirect(e,n,r,l){await this._originValidation(e);const c=await Nx(e,n,r,Rp(),l);return UI(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Ri(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await wk(e),r=new lk(e);return n.register("authEvent",l=>(we(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cp,{type:cp},l=>{var u;const c=(u=l==null?void 0:l[0])==null?void 0:u[cp];c!==void 0&&n(!!c),ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return V1()||I1()||gg()}}const Vk=Mk;var Rx="@firebase/auth",Cx="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Lk(s){Na(new Rr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:p}=r.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:u,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P1(s)},y=new nI(r,l,c,g);return dI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Na(new Rr("auth-internal",e=>{const n=Pr(e.getProvider("auth").getImmediate());return(r=>new Pk(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(Rx,Cx,Uk(s)),Gs(Rx,Cx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=300,Bk=m1("authIdTokenMaxAge")||zk;let Ix=null;const qk=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Bk)return;const l=n==null?void 0:n.token;Ix!==l&&(Ix=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Hk(s=dg()){const e=Ed(s,"auth");if(e.isInitialized())return e.getImmediate();const n=hI(s,{popupRedirectResolver:Vk,persistence:[KI,Y1,X1]}),r=m1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const u=qk(c.toString());jI(n,u,()=>u(n.currentUser)),kI(n,p=>u(p))}}const l=h1("auth");return l&&fI(n,`http://${l}`),n}function Fk(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}sI({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=$s("internal-error");c.customData=l,n(c)},r.type="text/javascript",r.charset="UTF-8",Fk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Lk("Browser");var kx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sr,sE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function S(){}S.prototype=R.prototype,I.F=R.prototype,I.prototype=new S,I.prototype.constructor=I,I.D=function(j,M,z){for(var C=Array(arguments.length-2),te=2;te<arguments.length;te++)C[te-2]=arguments[te];return R.prototype[M].apply(j,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,R,S){S||(S=0);const j=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)j[M]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(M=0;M<16;++M)j[M]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=I.g[0],S=I.g[1],M=I.g[2];let z=I.g[3],C;C=R+(z^S&(M^z))+j[0]+3614090360&4294967295,R=S+(C<<7&4294967295|C>>>25),C=z+(M^R&(S^M))+j[1]+3905402710&4294967295,z=R+(C<<12&4294967295|C>>>20),C=M+(S^z&(R^S))+j[2]+606105819&4294967295,M=z+(C<<17&4294967295|C>>>15),C=S+(R^M&(z^R))+j[3]+3250441966&4294967295,S=M+(C<<22&4294967295|C>>>10),C=R+(z^S&(M^z))+j[4]+4118548399&4294967295,R=S+(C<<7&4294967295|C>>>25),C=z+(M^R&(S^M))+j[5]+1200080426&4294967295,z=R+(C<<12&4294967295|C>>>20),C=M+(S^z&(R^S))+j[6]+2821735955&4294967295,M=z+(C<<17&4294967295|C>>>15),C=S+(R^M&(z^R))+j[7]+4249261313&4294967295,S=M+(C<<22&4294967295|C>>>10),C=R+(z^S&(M^z))+j[8]+1770035416&4294967295,R=S+(C<<7&4294967295|C>>>25),C=z+(M^R&(S^M))+j[9]+2336552879&4294967295,z=R+(C<<12&4294967295|C>>>20),C=M+(S^z&(R^S))+j[10]+4294925233&4294967295,M=z+(C<<17&4294967295|C>>>15),C=S+(R^M&(z^R))+j[11]+2304563134&4294967295,S=M+(C<<22&4294967295|C>>>10),C=R+(z^S&(M^z))+j[12]+1804603682&4294967295,R=S+(C<<7&4294967295|C>>>25),C=z+(M^R&(S^M))+j[13]+4254626195&4294967295,z=R+(C<<12&4294967295|C>>>20),C=M+(S^z&(R^S))+j[14]+2792965006&4294967295,M=z+(C<<17&4294967295|C>>>15),C=S+(R^M&(z^R))+j[15]+1236535329&4294967295,S=M+(C<<22&4294967295|C>>>10),C=R+(M^z&(S^M))+j[1]+4129170786&4294967295,R=S+(C<<5&4294967295|C>>>27),C=z+(S^M&(R^S))+j[6]+3225465664&4294967295,z=R+(C<<9&4294967295|C>>>23),C=M+(R^S&(z^R))+j[11]+643717713&4294967295,M=z+(C<<14&4294967295|C>>>18),C=S+(z^R&(M^z))+j[0]+3921069994&4294967295,S=M+(C<<20&4294967295|C>>>12),C=R+(M^z&(S^M))+j[5]+3593408605&4294967295,R=S+(C<<5&4294967295|C>>>27),C=z+(S^M&(R^S))+j[10]+38016083&4294967295,z=R+(C<<9&4294967295|C>>>23),C=M+(R^S&(z^R))+j[15]+3634488961&4294967295,M=z+(C<<14&4294967295|C>>>18),C=S+(z^R&(M^z))+j[4]+3889429448&4294967295,S=M+(C<<20&4294967295|C>>>12),C=R+(M^z&(S^M))+j[9]+568446438&4294967295,R=S+(C<<5&4294967295|C>>>27),C=z+(S^M&(R^S))+j[14]+3275163606&4294967295,z=R+(C<<9&4294967295|C>>>23),C=M+(R^S&(z^R))+j[3]+4107603335&4294967295,M=z+(C<<14&4294967295|C>>>18),C=S+(z^R&(M^z))+j[8]+1163531501&4294967295,S=M+(C<<20&4294967295|C>>>12),C=R+(M^z&(S^M))+j[13]+2850285829&4294967295,R=S+(C<<5&4294967295|C>>>27),C=z+(S^M&(R^S))+j[2]+4243563512&4294967295,z=R+(C<<9&4294967295|C>>>23),C=M+(R^S&(z^R))+j[7]+1735328473&4294967295,M=z+(C<<14&4294967295|C>>>18),C=S+(z^R&(M^z))+j[12]+2368359562&4294967295,S=M+(C<<20&4294967295|C>>>12),C=R+(S^M^z)+j[5]+4294588738&4294967295,R=S+(C<<4&4294967295|C>>>28),C=z+(R^S^M)+j[8]+2272392833&4294967295,z=R+(C<<11&4294967295|C>>>21),C=M+(z^R^S)+j[11]+1839030562&4294967295,M=z+(C<<16&4294967295|C>>>16),C=S+(M^z^R)+j[14]+4259657740&4294967295,S=M+(C<<23&4294967295|C>>>9),C=R+(S^M^z)+j[1]+2763975236&4294967295,R=S+(C<<4&4294967295|C>>>28),C=z+(R^S^M)+j[4]+1272893353&4294967295,z=R+(C<<11&4294967295|C>>>21),C=M+(z^R^S)+j[7]+4139469664&4294967295,M=z+(C<<16&4294967295|C>>>16),C=S+(M^z^R)+j[10]+3200236656&4294967295,S=M+(C<<23&4294967295|C>>>9),C=R+(S^M^z)+j[13]+681279174&4294967295,R=S+(C<<4&4294967295|C>>>28),C=z+(R^S^M)+j[0]+3936430074&4294967295,z=R+(C<<11&4294967295|C>>>21),C=M+(z^R^S)+j[3]+3572445317&4294967295,M=z+(C<<16&4294967295|C>>>16),C=S+(M^z^R)+j[6]+76029189&4294967295,S=M+(C<<23&4294967295|C>>>9),C=R+(S^M^z)+j[9]+3654602809&4294967295,R=S+(C<<4&4294967295|C>>>28),C=z+(R^S^M)+j[12]+3873151461&4294967295,z=R+(C<<11&4294967295|C>>>21),C=M+(z^R^S)+j[15]+530742520&4294967295,M=z+(C<<16&4294967295|C>>>16),C=S+(M^z^R)+j[2]+3299628645&4294967295,S=M+(C<<23&4294967295|C>>>9),C=R+(M^(S|~z))+j[0]+4096336452&4294967295,R=S+(C<<6&4294967295|C>>>26),C=z+(S^(R|~M))+j[7]+1126891415&4294967295,z=R+(C<<10&4294967295|C>>>22),C=M+(R^(z|~S))+j[14]+2878612391&4294967295,M=z+(C<<15&4294967295|C>>>17),C=S+(z^(M|~R))+j[5]+4237533241&4294967295,S=M+(C<<21&4294967295|C>>>11),C=R+(M^(S|~z))+j[12]+1700485571&4294967295,R=S+(C<<6&4294967295|C>>>26),C=z+(S^(R|~M))+j[3]+2399980690&4294967295,z=R+(C<<10&4294967295|C>>>22),C=M+(R^(z|~S))+j[10]+4293915773&4294967295,M=z+(C<<15&4294967295|C>>>17),C=S+(z^(M|~R))+j[1]+2240044497&4294967295,S=M+(C<<21&4294967295|C>>>11),C=R+(M^(S|~z))+j[8]+1873313359&4294967295,R=S+(C<<6&4294967295|C>>>26),C=z+(S^(R|~M))+j[15]+4264355552&4294967295,z=R+(C<<10&4294967295|C>>>22),C=M+(R^(z|~S))+j[6]+2734768916&4294967295,M=z+(C<<15&4294967295|C>>>17),C=S+(z^(M|~R))+j[13]+1309151649&4294967295,S=M+(C<<21&4294967295|C>>>11),C=R+(M^(S|~z))+j[4]+4149444226&4294967295,R=S+(C<<6&4294967295|C>>>26),C=z+(S^(R|~M))+j[11]+3174756917&4294967295,z=R+(C<<10&4294967295|C>>>22),C=M+(R^(z|~S))+j[2]+718787259&4294967295,M=z+(C<<15&4294967295|C>>>17),C=S+(z^(M|~R))+j[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+z&4294967295}r.prototype.v=function(I,R){R===void 0&&(R=I.length);const S=R-this.blockSize,j=this.C;let M=this.h,z=0;for(;z<R;){if(M==0)for(;z<=S;)l(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<R;)if(j[M++]=I.charCodeAt(z++),M==this.blockSize){l(this,j),M=0;break}}else for(;z<R;)if(j[M++]=I[z++],M==this.blockSize){l(this,j),M=0;break}}this.h=M,this.o+=R},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var S=I.length-8;S<I.length;++S)I[S]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,S=0;S<4;++S)for(let j=0;j<32;j+=8)I[R++]=this.g[S]>>>j&255;return I};function c(I,R){var S=p;return Object.prototype.hasOwnProperty.call(S,I)?S[I]:S[I]=R(I)}function u(I,R){this.h=R;const S=[];let j=!0;for(let M=I.length-1;M>=0;M--){const z=I[M]|0;j&&z==R||(S[M]=z,j=!1)}this.g=S}var p={};function g(I){return-128<=I&&I<128?c(I,function(R){return new u([R|0],R<0?-1:0)}):new u([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return E;if(I<0)return O(y(-I));const R=[];let S=1;for(let j=0;I>=S;j++)R[j]=I/S|0,S*=4294967296;return new u(R,0)}function b(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return O(b(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=y(Math.pow(R,8));let j=E;for(let z=0;z<I.length;z+=8){var M=Math.min(8,I.length-z);const C=parseInt(I.substring(z,z+M),R);M<8?(M=y(Math.pow(R,M)),j=j.j(M).add(y(C))):(j=j.j(S),j=j.add(y(C)))}return j}var E=g(0),T=g(1),N=g(16777216);s=u.prototype,s.m=function(){if(P(this))return-O(this).m();let I=0,R=1;for(let S=0;S<this.g.length;S++){const j=this.i(S);I+=(j>=0?j:4294967296+j)*R,R*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(L(this))return"0";if(P(this))return"-"+O(this).toString(I);const R=y(Math.pow(I,6));var S=this;let j="";for(;;){const M=ae(S,R).g;S=W(S,M.j(R));let z=((S.g.length>0?S.g[0]:S.h)>>>0).toString(I);if(S=M,L(S))return z+j;for(;z.length<6;)z="0"+z;j=z+j}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function L(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function P(I){return I.h==-1}s.l=function(I){return I=W(this,I),P(I)?-1:L(I)?0:1};function O(I){const R=I.g.length,S=[];for(let j=0;j<R;j++)S[j]=~I.g[j];return new u(S,~I.h).add(T)}s.abs=function(){return P(this)?O(this):this},s.add=function(I){const R=Math.max(this.g.length,I.g.length),S=[];let j=0;for(let M=0;M<=R;M++){let z=j+(this.i(M)&65535)+(I.i(M)&65535),C=(z>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);j=C>>>16,z&=65535,C&=65535,S[M]=C<<16|z}return new u(S,S[S.length-1]&-2147483648?-1:0)};function W(I,R){return I.add(O(R))}s.j=function(I){if(L(this)||L(I))return E;if(P(this))return P(I)?O(this).j(O(I)):O(O(this).j(I));if(P(I))return O(this.j(O(I)));if(this.l(N)<0&&I.l(N)<0)return y(this.m()*I.m());const R=this.g.length+I.g.length,S=[];for(var j=0;j<2*R;j++)S[j]=0;for(j=0;j<this.g.length;j++)for(let M=0;M<I.g.length;M++){const z=this.i(j)>>>16,C=this.i(j)&65535,te=I.i(M)>>>16,be=I.i(M)&65535;S[2*j+2*M]+=C*be,K(S,2*j+2*M),S[2*j+2*M+1]+=z*be,K(S,2*j+2*M+1),S[2*j+2*M+1]+=C*te,K(S,2*j+2*M+1),S[2*j+2*M+2]+=z*te,K(S,2*j+2*M+2)}for(I=0;I<R;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=R;I<2*R;I++)S[I]=0;return new u(S,0)};function K(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function q(I,R){this.g=I,this.h=R}function ae(I,R){if(L(R))throw Error("division by zero");if(L(I))return new q(E,E);if(P(I))return R=ae(O(I),R),new q(O(R.g),O(R.h));if(P(R))return R=ae(I,O(R)),new q(O(R.g),R.h);if(I.g.length>30){if(P(I)||P(R))throw Error("slowDivide_ only works with positive integers.");for(var S=T,j=R;j.l(I)<=0;)S=Z(S),j=Z(j);var M=he(S,1),z=he(j,1);for(j=he(j,2),S=he(S,2);!L(j);){var C=z.add(j);C.l(I)<=0&&(M=M.add(S),z=C),j=he(j,1),S=he(S,1)}return R=W(I,M.j(R)),new q(M,R)}for(M=E;I.l(R)>=0;){for(S=Math.max(1,Math.floor(I.m()/R.m())),j=Math.ceil(Math.log(S)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),z=y(S),C=z.j(R);P(C)||C.l(I)>0;)S-=j,z=y(S),C=z.j(R);L(z)&&(z=T),M=M.add(z),I=W(I,C)}return new q(M,I)}s.B=function(I){return ae(this,I).h},s.and=function(I){const R=Math.max(this.g.length,I.g.length),S=[];for(let j=0;j<R;j++)S[j]=this.i(j)&I.i(j);return new u(S,this.h&I.h)},s.or=function(I){const R=Math.max(this.g.length,I.g.length),S=[];for(let j=0;j<R;j++)S[j]=this.i(j)|I.i(j);return new u(S,this.h|I.h)},s.xor=function(I){const R=Math.max(this.g.length,I.g.length),S=[];for(let j=0;j<R;j++)S[j]=this.i(j)^I.i(j);return new u(S,this.h^I.h)};function Z(I){const R=I.g.length+1,S=[];for(let j=0;j<R;j++)S[j]=I.i(j)<<1|I.i(j-1)>>>31;return new u(S,I.h)}function he(I,R){const S=R>>5;R%=32;const j=I.g.length-S,M=[];for(let z=0;z<j;z++)M[z]=R>0?I.i(z+S)>>>R|I.i(z+S+1)<<32-R:I.i(z+S);return new u(M,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,sE=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=b,Sr=u}).apply(typeof kx<"u"?kx:typeof self<"u"?self:typeof window<"u"?window:{});var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iE,fc,rE,Hh,jp,aE,lE,oE;(function(){var s,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ih=="object"&&Ih];for(var v=0;v<h.length;++v){var x=h[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function l(h,v){if(v)e:{var x=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var H=h[A];if(!(H in x))break e;x=x[H]}h=h[h.length-1],A=x[h],v=v(A),v!=A&&v!=null&&e(x,h,{configurable:!0,writable:!0,value:v})}}l("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(h){return h||function(v){var x=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&x.push([A,v[A]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,x){return h.call.apply(h.bind,arguments)}function y(h,v,x){return y=g,y.apply(null,arguments)}function b(h,v){var x=Array.prototype.slice.call(arguments,1);return function(){var A=x.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function E(h,v){function x(){}x.prototype=v.prototype,h.Z=v.prototype,h.prototype=new x,h.prototype.constructor=h,h.Ob=function(A,H,X){for(var ue=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ue[Ie-2]=arguments[Ie];return v.prototype[H].apply(A,ue)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function N(h){const v=h.length;if(v>0){const x=Array(v);for(let A=0;A<v;A++)x[A]=h[A];return x}return[]}function L(h,v){for(let A=1;A<arguments.length;A++){const H=arguments[A];var x=typeof H;if(x=x!="object"?x:H?Array.isArray(H)?"array":x:"null",x=="array"||x=="object"&&typeof H.length=="number"){x=h.length||0;const X=H.length||0;h.length=x+X;for(let ue=0;ue<X;ue++)h[x+ue]=H[ue]}else h.push(H)}}class P{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function O(h){u.setTimeout(()=>{throw h},0)}function W(){var h=I;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class K{constructor(){this.h=this.g=null}add(v,x){const A=q.get();A.set(v,x),this.h?this.h.next=A:this.g=A,this.h=A}}var q=new P(()=>new ae,h=>h.reset());class ae{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,he=!1,I=new K,R=()=>{const h=Promise.resolve(void 0);Z=()=>{h.then(S)}};function S(){for(var h;h=W();){try{h.h.call(h.g)}catch(x){O(x)}var v=q;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}he=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const x=()=>{};u.addEventListener("test",x,v),u.removeEventListener("test",x,v)}catch{}return h})();function C(h){return/^[\s\xa0]*$/.test(h)}function te(h,v){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}E(te,M),te.prototype.init=function(h,v){const x=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(x=="mouseover"?v=h.fromElement:x=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),Y=0;function oe(h,v,x,A,H){this.listener=h,this.proxy=null,this.src=v,this.type=x,this.capture=!!A,this.ha=H,this.key=++Y,this.da=this.fa=!1}function ge(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ce(h,v,x){for(const A in h)v.call(x,h[A],A,h)}function $e(h,v){for(const x in h)v.call(void 0,h[x],x,h)}function U(h){const v={};for(const x in h)v[x]=h[x];return v}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(h,v){let x,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(x in A)h[x]=A[x];for(let X=0;X<Q.length;X++)x=Q[X],Object.prototype.hasOwnProperty.call(A,x)&&(h[x]=A[x])}}function ce(h){this.src=h,this.g={},this.h=0}ce.prototype.add=function(h,v,x,A,H){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ue=ve(h,v,A,H);return ue>-1?(v=h[ue],x||(v.fa=!1)):(v=new oe(v,this.src,X,!!A,H),v.fa=x,h.push(v)),v};function de(h,v){const x=v.type;if(x in h.g){var A=h.g[x],H=Array.prototype.indexOf.call(A,v,void 0),X;(X=H>=0)&&Array.prototype.splice.call(A,H,1),X&&(ge(v),h.g[x].length==0&&(delete h.g[x],h.h--))}}function ve(h,v,x,A){for(let H=0;H<h.length;++H){const X=h[H];if(!X.da&&X.listener==v&&X.capture==!!x&&X.ha==A)return H}return-1}var De="closure_lm_"+(Math.random()*1e6|0),mt={};function Oe(h,v,x,A,H){if(Array.isArray(v)){for(let X=0;X<v.length;X++)Oe(h,v[X],x,A,H);return null}return x=Oi(x),h&&h[be]?h.J(v,x,p(A)?!!A.capture:!1,H):Bt(h,v,x,!1,A,H)}function Bt(h,v,x,A,H,X){if(!v)throw Error("Invalid event type");const ue=p(H)?!!H.capture:!!H;let Ie=si(h);if(Ie||(h[De]=Ie=new ce(h)),x=Ie.add(v,x,A,ue,X),x.proxy)return x;if(A=bt(),x.proxy=A,A.src=h,A.listener=x,h.addEventListener)z||(H=ue),H===void 0&&(H=!1),h.addEventListener(v.toString(),A,H);else if(h.attachEvent)h.attachEvent(wn(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return x}function bt(){function h(x){return v.call(h.src,h.listener,x)}const v=zr;return h}function ni(h,v,x,A,H){if(Array.isArray(v))for(var X=0;X<v.length;X++)ni(h,v[X],x,A,H);else A=p(A)?!!A.capture:!!A,x=Oi(x),h&&h[be]?(h=h.i,X=String(v).toString(),X in h.g&&(v=h.g[X],x=ve(v,x,A,H),x>-1&&(ge(v[x]),Array.prototype.splice.call(v,x,1),v.length==0&&(delete h.g[X],h.h--)))):h&&(h=si(h))&&(v=h.g[v.toString()],h=-1,v&&(h=ve(v,x,A,H)),(x=h>-1?v[h]:null)&&Di(x))}function Di(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[be])de(v.i,h);else{var x=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(x,A,h.capture):v.detachEvent?v.detachEvent(wn(x),A):v.addListener&&v.removeListener&&v.removeListener(A),(x=si(v))?(de(x,h),x.h==0&&(x.src=null,v[De]=null)):ge(h)}}}function wn(h){return h in mt?mt[h]:mt[h]="on"+h}function zr(h,v){if(h.da)h=!0;else{v=new te(v,this);const x=h.listener,A=h.ha||h.src;h.fa&&Di(h),h=x.call(A,v)}return h}function si(h){return h=h[De],h instanceof ce?h:null}var Br="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oi(h){return typeof h=="function"?h:(h[Br]||(h[Br]=function(v){return h.handleEvent(v)}),h[Br])}function dt(){j.call(this),this.i=new ce(this),this.M=this,this.G=null}E(dt,j),dt.prototype[be]=!0,dt.prototype.removeEventListener=function(h,v,x,A){ni(this,h,v,x,A)};function pt(h,v){var x,A=h.G;if(A)for(x=[];A;A=A.G)x.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new M(v,h);else if(v instanceof M)v.target=v.target||h;else{var H=v;v=new M(A,h),le(v,H)}H=!0;let X,ue;if(x)for(ue=x.length-1;ue>=0;ue--)X=v.g=x[ue],H=_s(X,A,!0,v)&&H;if(X=v.g=h,H=_s(X,A,!0,v)&&H,H=_s(X,A,!1,v)&&H,x)for(ue=0;ue<x.length;ue++)X=v.g=x[ue],H=_s(X,A,!1,v)&&H}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const x=h.g[v];for(let A=0;A<x.length;A++)ge(x[A]);delete h.g[v],h.h--}}this.G=null},dt.prototype.J=function(h,v,x,A){return this.i.add(String(h),v,!1,x,A)},dt.prototype.K=function(h,v,x,A){return this.i.add(String(h),v,!0,x,A)};function _s(h,v,x,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let X=0;X<v.length;++X){const ue=v[X];if(ue&&!ue.da&&ue.capture==x){const Ie=ue.listener,wt=ue.ha||ue.src;ue.fa&&de(h.i,ue),H=Ie.call(wt,A)!==!1&&H}}return H&&!A.defaultPrevented}function La(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(h,v||0)}function za(h){h.g=La(()=>{h.g=null,h.i&&(h.i=!1,za(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class tn extends j{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:za(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mi(h){j.call(this),this.h=h,this.g={}}E(Mi,j);var Vi=[];function qr(h){Ce(h.g,function(v,x){this.g.hasOwnProperty(x)&&Di(v)},h),h.g={}}Mi.prototype.N=function(){Mi.Z.N.call(this),qr(this)},Mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xs=u.JSON.stringify,Tn=u.JSON.parse,on=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Un(){}function tu(){}var ns={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){M.call(this,"d")}E($t,M);function Ln(){M.call(this,"c")}E(Ln,M);var Et={},nu=null;function Ba(){return nu=nu||new dt}Et.Ia="serverreachability";function su(h){M.call(this,Et.Ia,h)}E(su,M);function bs(h){const v=Ba();pt(v,new su(v))}Et.STAT_EVENT="statevent";function Hr(h,v){M.call(this,Et.STAT_EVENT,h),this.stat=v}E(Hr,M);function Nt(h){const v=Ba();pt(v,new Hr(v,h))}Et.Ja="timingevent";function Es(h,v){M.call(this,Et.Ja,h),this.size=v}E(Es,M);function ws(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},v)}function ss(){this.g=!0}ss.prototype.ua=function(){this.g=!1};function Yd(h,v,x,A,H,X){h.info(function(){if(h.g)if(X){var ue="",Ie=X.split("&");for(let Ke=0;Ke<Ie.length;Ke++){var wt=Ie[Ke].split("=");if(wt.length>1){const ot=wt[0];wt=wt[1];const Hn=ot.split("_");ue=Hn.length>=2&&Hn[1]=="type"?ue+(ot+"="+wt+"&"):ue+(ot+"=redacted&")}}}else ue=null;else ue=X;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+v+`
`+x+`
`+ue})}function iu(h,v,x,A,H,X,ue){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+v+`
`+x+`
`+X+" "+ue})}function Ts(h,v,x,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Qd(h,x)+(A?" "+A:"")})}function Fr(h,v){h.info(function(){return"TIMEOUT: "+v})}ss.prototype.info=function(){};function Qd(h,v){if(!h.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var x=X[h];if(!(x.length<2)){var A=x[1];if(Array.isArray(A)&&!(A.length<1)){var H=A[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ue=1;ue<A.length;ue++)A[ue]=""}}}}return xs(X)}catch{return v}}var Gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},lo;function $r(){}E($r,Un),$r.prototype.g=function(){return new XMLHttpRequest},lo=new $r;function ii(h){return encodeURIComponent(String(h))}function ru(h){var v=1;h=h.split(":");const x=[];for(;v>0&&h.length;)x.push(h.shift()),v--;return h.length&&x.push(h.join(":")),x}function is(h,v,x,A){this.j=h,this.i=v,this.l=x,this.S=A||1,this.V=new Mi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new rs}function rs(){this.i=null,this.g="",this.h=!1}var Rt={},qt={};function Ss(h,v,x){h.M=1,h.A=Kr(It(v)),h.u=x,h.R=!0,qa(h,null)}function qa(h,v){h.F=Date.now(),As(h),h.B=It(h.A);var x=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),$a(x.i,"t",A),h.C=0,x=h.j.L,h.h=new rs,h.g=xu(h.j,x?v:null,!h.u),h.P>0&&(h.O=new tn(y(h.Y,h,h.g),h.P)),v=h.V,x=h.g,A=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(Vi[0]=H.toString()),H=Vi);for(let X=0;X<H.length;X++){const ue=Oe(x,H[X],A||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),bs(),Yd(h.i,h.v,h.B,h.l,h.S,h.u)}is.prototype.ba=function(h){h=h.target;const v=this.O;v&&os(h)==3?v.j():this.Y(h)},is.prototype.Y=function(h){try{if(h==this.g)e:{const Ie=os(this.g),wt=this.g.ya(),Ke=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ie!=4||wt==7||(wt==8||Ke<=0?bs(3):bs(2)),Ns(this);var v=this.g.ca();this.X=v;var x=Xd(this);if(this.o=v==200,iu(this.i,this.v,this.B,this.l,this.S,Ie,v),this.o){if(this.U&&!this.L){t:{if(this.g){var A,H=this.g;if((A=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var X=A;break t}}X=null}if(h=X)Ts(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Rs(this,h);else{this.o=!1,this.m=3,Nt(12),Sn(this),zn(this);break e}}if(this.R){h=!0;let ot;for(;!this.K&&this.C<x.length;)if(ot=lu(this,x),ot==qt){Ie==4&&(this.m=4,Nt(14),h=!1),Ts(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Rt){this.m=4,Nt(15),Ts(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else Ts(this.i,this.l,ot,null),Rs(this,ot);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||x.length!=0||this.h.h||(this.m=1,Nt(16),h=!1),this.o=this.o&&h,!h)Ts(this.i,this.l,x,"[Invalid Chunked Response]"),Sn(this),zn(this);else if(x.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),wo(ue),ue.P=!0,Nt(11))}}else Ts(this.i,this.l,x,null),Rs(this,x);Ie==4&&Sn(this),this.o&&!this.K&&(Ie==4?gu(this.j,this):(this.o=!1,As(this)))}else ai(this.g),v==400&&x.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),Sn(this),zn(this)}}}catch{}finally{}};function Xd(h){if(!au(h))return h.g.la();const v=Kt(h.g);if(v==="")return"";let x="";const A=v.length,H=os(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Sn(h),zn(h),"";h.h.i=new u.TextDecoder}for(let X=0;X<A;X++)h.h.h=!0,x+=h.h.i.decode(v[X],{stream:!(H&&X==A-1)});return v.length=0,h.h.g+=x,h.C=0,h.h.g}function au(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function lu(h,v){var x=h.C,A=v.indexOf(`
`,x);return A==-1?qt:(x=Number(v.substring(x,A)),isNaN(x)?Rt:(A+=1,A+x>v.length?qt:(v=v.slice(A,A+x),h.C=A+x,v)))}is.prototype.cancel=function(){this.K=!0,Sn(this)};function As(h){h.T=Date.now()+h.H,Ha(h,h.H)}function Ha(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ws(y(h.aa,h),v)}function Ns(h){h.D&&(u.clearTimeout(h.D),h.D=null)}is.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Fr(this.i,this.B),this.M!=2&&(bs(),Nt(17)),Sn(this),this.m=2,zn(this)):Ha(this,this.T-h)};function zn(h){h.j.I==0||h.K||gu(h.j,h)}function Sn(h){Ns(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,qr(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Rs(h,v){try{var x=h.j;if(x.I!=0&&(x.g==h||Is(x.h,h))){if(!h.L&&Is(x.h,h)&&x.I==3){try{var A=x.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<h.F)Ja(x),Fi(x);else break e;ea(x),Nt(18)}}else x.xa=H[1],0<x.xa-x.K&&H[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=ws(y(x.Va,x),6e3));Cs(x.h)<=1&&x.ta&&(x.ta=void 0)}else Vs(x,11)}else if((h.L||x.g==h)&&Ja(x),!C(v))for(H=x.Ba.g.parse(v),v=0;v<H.length;v++){let Ke=H[v];const ot=Ke[0];if(!(ot<=x.K))if(x.K=ot,Ke=Ke[1],x.I==2)if(Ke[0]=="c"){x.M=Ke[1],x.ba=Ke[2];const Hn=Ke[3];Hn!=null&&(x.ka=Hn,x.j.info("VER="+x.ka));const Ps=Ke[4];Ps!=null&&(x.za=Ps,x.j.info("SVER="+x.za));const cs=Ke[5];cs!=null&&typeof cs=="number"&&cs>0&&(A=1.5*cs,x.O=A,x.j.info("backChannelRequestTimeoutMs_="+A)),A=x;const us=h.g;if(us){const ta=us.g?us.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var X=A.h;X.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(uo(X,X.h),X.h=null))}if(A.G){const Wa=us.g?us.g.getResponseHeader("X-HTTP-Session-Id"):null;Wa&&(A.wa=Wa,Xe(A.J,A.G,Wa))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-h.F,x.j.info("Handshake RTT: "+x.T+"ms")),A=x;var ue=h;if(A.na=_u(A,A.L?A.ba:null,A.W),ue.L){ho(A.h,ue);var Ie=ue,wt=A.O;wt&&(Ie.H=wt),Ie.D&&(Ns(Ie),As(Ie)),A.g=ue}else mu(A);x.i.length>0&&Ms(x)}else Ke[0]!="stop"&&Ke[0]!="close"||Vs(x,7);else x.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Vs(x,7):bo(x):Ke[0]!="noop"&&x.l&&x.l.qa(Ke),x.A=0)}}bs(4)}catch{}}var Ct=class{constructor(h,v){this.g=h,this.map=v}};function oo(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function co(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Cs(h){return h.h?1:h.g?h.g.size:0}function Is(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function uo(h,v){h.g?h.g.add(v):h.h=v}function ho(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}oo.prototype.cancel=function(){if(this.i=fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function fo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const x of h.g.values())v=v.concat(x.G);return v}return N(h.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fa(h,v){if(h){h=h.split("&");for(let x=0;x<h.length;x++){const A=h[x].indexOf("=");let H,X=null;A>=0?(H=h[x].substring(0,A),X=h[x].substring(A+1)):H=h[x],v(H,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof An?(this.l=h.l,Ht(this,h.j),this.o=h.o,this.g=h.g,Pi(this,h.u),this.h=h.h,mo(this,du(h.i)),this.m=h.m):h&&(v=String(h).match(ou))?(this.l=!1,Ht(this,v[1]||"",!0),this.o=ks(v[2]||""),this.g=ks(v[3]||"",!0),Pi(this,v[4]),this.h=ks(v[5]||"",!0),mo(this,v[6]||"",!0),this.m=ks(v[7]||"")):(this.l=!1,this.i=new Li(null,this.l))}An.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Yr(v,Ga,!0),":");var x=this.g;return(x||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Yr(v,Ga,!0),"@"),h.push(ii(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&h.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&h.push("/"),h.push(Yr(x,x.charAt(0)=="/"?po:cu,!0))),(x=this.i.toString())&&h.push("?",x),(x=this.m)&&h.push("#",Yr(x,uu)),h.join("")},An.prototype.resolve=function(h){const v=It(this);let x=!!h.j;x?Ht(v,h.j):x=!!h.o,x?v.o=h.o:x=!!h.g,x?v.g=h.g:x=h.u!=null;var A=h.h;if(x)Pi(v,h.u);else if(x=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var H=v.h.lastIndexOf("/");H!=-1&&(A=v.h.slice(0,H+1)+A)}if(H=A,H==".."||H==".")A="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){A=H.lastIndexOf("/",0)==0,H=H.split("/");const X=[];for(let ue=0;ue<H.length;){const Ie=H[ue++];Ie=="."?A&&ue==H.length&&X.push(""):Ie==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),A&&ue==H.length&&X.push("")):(X.push(Ie),A=!0)}A=X.join("/")}else A=H}return x?v.h=A:x=h.i.toString()!=="",x?mo(v,du(h.i)):x=!!h.m,x&&(v.m=h.m),v};function It(h){return new An(h)}function Ht(h,v,x){h.j=x?ks(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Pi(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function mo(h,v,x){v instanceof Li?(h.i=v,Ka(h.i,h.l)):(x||(v=Yr(v,Ui)),h.i=new Li(v,h.l))}function Xe(h,v,x){h.i.set(v,x)}function Kr(h){return Xe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ks(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Yr(h,v,x){return typeof h=="string"?(h=encodeURI(h).replace(v,dn),x&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function dn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ga=/[#\/\?@]/g,cu=/[#\?:]/g,po=/[#\?]/g,Ui=/[#\?@]/g,uu=/#/g;function Li(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function fn(h){h.g||(h.g=new Map,h.h=0,h.i&&Fa(h.i,function(v,x){h.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}s=Li.prototype,s.add=function(h,v){fn(this),this.i=null,h=zi(this,h);let x=this.g.get(h);return x||this.g.set(h,x=[]),x.push(v),this.h+=1,this};function hu(h,v){fn(h),v=zi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function go(h,v){return fn(h),v=zi(h,v),h.g.has(v)}s.forEach=function(h,v){fn(this),this.g.forEach(function(x,A){x.forEach(function(H){h.call(v,H,A,this)},this)},this)};function yo(h,v){fn(h);let x=[];if(typeof v=="string")go(h,v)&&(x=x.concat(h.g.get(zi(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)x=x.concat(h[v]);return x}s.set=function(h,v){return fn(this),this.i=null,h=zi(this,h),go(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},s.get=function(h,v){return h?(h=yo(this,h),h.length>0?String(h[0]):v):v};function $a(h,v,x){hu(h,v),x.length>0&&(h.i=null,h.g.set(zi(h,v),N(x)),h.h+=x.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var x=v[A];const H=ii(x);x=yo(this,x);for(let X=0;X<x.length;X++){let ue=H;x[X]!==""&&(ue+="="+ii(x[X])),h.push(ue)}}return this.i=h.join("&")};function du(h){const v=new Li;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function zi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Ka(h,v){v&&!h.j&&(fn(h),h.i=null,h.g.forEach(function(x,A){const H=A.toLowerCase();A!=H&&(hu(this,A),$a(this,H,x))},h)),h.j=v}function as(h,v){const x=new ss;if(u.Image){const A=new Image;A.onload=b(Bn,x,"TestLoadImage: loaded",!0,v,A),A.onerror=b(Bn,x,"TestLoadImage: error",!1,v,A),A.onabort=b(Bn,x,"TestLoadImage: abort",!1,v,A),A.ontimeout=b(Bn,x,"TestLoadImage: timeout",!1,v,A),u.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function vo(h,v){const x=new ss,A=new AbortController,H=setTimeout(()=>{A.abort(),Bn(x,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(X=>{clearTimeout(H),X.ok?Bn(x,"TestPingServer: ok",!0,v):Bn(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Bn(x,"TestPingServer: error",!1,v)})}function Bn(h,v,x,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(x)}catch{}}function Bi(){this.g=new on}function js(h){this.i=h.Sb||null,this.h=h.ab||!1}E(js,Un),js.prototype.g=function(){return new Qr(this.i,this.h)};function Qr(h,v){dt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Qr,dt),s=Qr.prototype,s.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ls(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qi(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ls(this)),this.g&&(this.readyState=3,ls(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ya(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ya(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?qi(this):ls(this),this.readyState==3&&Ya(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,qi(this))},s.Na=function(h){this.g&&(this.response=h,qi(this))},s.ga=function(){this.g&&qi(this)};function qi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ls(h)}s.setRequestHeader=function(h,v){this.A.append(h,v)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,h.push(x[0]+": "+x[1]),x=v.next();return h.join(`\r
`)};function ls(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function qn(h){let v="";return Ce(h,function(x,A){v+=A,v+=":",v+=x,v+=`\r
`}),v}function Xr(h,v,x){e:{for(A in x){var A=!1;break e}A=!0}A||(x=qn(x),typeof h=="string"?x!=null&&ii(x):Xe(h,v,x))}function Ze(h){dt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Ze,dt);var Ds=/^https?$/i,_o=["POST","PUT"];s=Ze.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,v,x,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():lo.g(),this.g.onreadystatechange=T(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){Jr(this,X);return}if(h=x||"",x=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)x.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())x.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(x.keys()).find(X=>X.toLowerCase()=="content-type"),H=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(_o,v,void 0)>=0)||A||H||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of x)this.g.setRequestHeader(X,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){Jr(this,X)}};function Jr(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,xo(h),ri(h)}function xo(h){h.A||(h.A=!0,pt(h,"complete"),pt(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,pt(this,"complete"),pt(this,"abort"),ri(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),Ze.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Wr(this):this.Xa())},s.Xa=function(){Wr(this)};function Wr(h){if(h.h&&typeof c<"u"){if(h.v&&os(h)==4)setTimeout(h.Ca.bind(h),0);else if(pt(h,"readystatechange"),os(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var A;if(A=X===0){let ue=String(h.D).match(ou)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),A=!Ds.test(ue?ue.toLowerCase():"")}x=A}if(x)pt(h,"complete"),pt(h,"success");else{h.o=6;try{var H=os(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",xo(h)}}finally{ri(h)}}}}function ri(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const x=h.g;h.g=null,v||pt(h,"ready");try{x.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function os(h){return h.g?h.g.readyState:0}s.ca=function(){try{return os(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Tn(v)}};function Kt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ai(h){const v={};h=(h.g&&os(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(C(h[A]))continue;var x=ru(h[A]);const H=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const X=v[H]||[];v[H]=X,X.push(x)}$e(v,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(h,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[h]||v}function Hi(h){this.za=0,this.i=[],this.j=new ss,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Os("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Os("baseRetryDelayMs",5e3,h),this.Za=Os("retryDelaySeedMs",1e4,h),this.Ta=Os("forwardChannelMaxRetries",2,h),this.va=Os("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new oo(h&&h.concurrentRequestLimit),this.Ba=new Bi,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Hi.prototype,s.ka=8,s.I=1,s.connect=function(h,v,x,A){Nt(0),this.W=h,this.H=v||{},x&&A!==void 0&&(this.H.OSID=x,this.H.OAID=A),this.F=this.X,this.J=_u(this,null,this.W),Ms(this)};function bo(h){if(Qa(h),h.I==3){var v=h.V++,x=It(h.J);if(Xe(x,"SID",h.M),Xe(x,"RID",v),Xe(x,"TYPE","terminate"),Zr(h,x),v=new is(h,h.j,v),v.M=2,v.A=Kr(It(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!x&&u.Image&&(new Image().src=v.A,x=!0),x||(v.g=xu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),As(v)}vu(h)}function Fi(h){h.g&&(wo(h),h.g.cancel(),h.g=null)}function Qa(h){Fi(h),h.v&&(u.clearTimeout(h.v),h.v=null),Ja(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Ms(h){if(!co(h.h)&&!h.m){h.m=!0;var v=h.Ea;Z||R(),he||(Z(),he=!0),I.add(v,h),h.D=0}}function Xa(h,v){return Cs(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ws(y(h.Ea,h,v),yu(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new is(this,this.j,h);let X=this.o;if(this.U&&(X?(X=U(X),le(X,this.U)):X=this.U),this.u!==null||this.R||(H.J=X,X=null),this.S)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var A=this.i[x];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=fu(this,H,v),x=It(this.J),Xe(x,"RID",h),Xe(x,"CVER",22),this.G&&Xe(x,"X-HTTP-Session-Id",this.G),Zr(this,x),X&&(this.R?v="headers="+ii(qn(X))+"&"+v:this.u&&Xr(x,this.u,X)),uo(this.h,H),this.Ra&&Xe(x,"TYPE","init"),this.S?(Xe(x,"$req",v),Xe(x,"SID","null"),H.U=!0,Ss(H,x,null)):Ss(H,x,v),this.I=2}}else this.I==3&&(h?Eo(this,h):this.i.length==0||co(this.h)||Eo(this))};function Eo(h,v){var x;v?x=v.l:x=h.V++;const A=It(h.J);Xe(A,"SID",h.M),Xe(A,"RID",x),Xe(A,"AID",h.K),Zr(h,A),h.u&&h.o&&Xr(A,h.u,h.o),x=new is(h,h.j,x,h.D+1),h.u===null&&(x.J=h.o),v&&(h.i=v.G.concat(h.i)),v=fu(h,x,1e3),x.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),uo(h.h,x),Ss(x,A,v)}function Zr(h,v){h.H&&Ce(h.H,function(x,A){Xe(v,A,x)}),h.l&&Ce({},function(x,A){Xe(v,A,x)})}function fu(h,v,x){x=Math.min(h.i.length,x);const A=h.l?y(h.l.Ka,h.l,h):null;e:{var H=h.i;let Ie=-1;for(;;){const wt=["count="+x];Ie==-1?x>0?(Ie=H[0].g,wt.push("ofs="+Ie)):Ie=0:wt.push("ofs="+Ie);let Ke=!0;for(let ot=0;ot<x;ot++){var X=H[ot].g;const Hn=H[ot].map;if(X-=Ie,X<0)Ie=Math.max(0,H[ot].g-100),Ke=!1;else try{X="req"+X+"_"||"";try{var ue=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Ps,cs]of ue){let us=cs;p(cs)&&(us=xs(cs)),wt.push(X+Ps+"="+encodeURIComponent(us))}}catch(Ps){throw wt.push(X+"type="+encodeURIComponent("_badmap")),Ps}}catch{A&&A(Hn)}}if(Ke){ue=wt.join("&");break e}}ue=void 0}return h=h.i.splice(0,x),v.G=h,ue}function mu(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;Z||R(),he||(Z(),he=!0),I.add(v,h),h.A=0}}function ea(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ws(y(h.Da,h),yu(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ws(y(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),Fi(this),pu(this))};function wo(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function pu(h){h.g=new is(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=It(h.na);Xe(v,"RID","rpc"),Xe(v,"SID",h.M),Xe(v,"AID",h.K),Xe(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xe(v,"TO",h.ia),Xe(v,"TYPE","xmlhttp"),Zr(h,v),h.u&&h.o&&Xr(v,h.u,h.o),h.O&&(h.g.H=h.O);var x=h.g;h=h.ba,x.M=1,x.A=Kr(It(v)),x.u=null,x.R=!0,qa(x,h)}s.Va=function(){this.C!=null&&(this.C=null,Fi(this),ea(this),Nt(19))};function Ja(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function gu(h,v){var x=null;if(h.g==v){Ja(h),wo(h),h.g=null;var A=2}else if(Is(h.h,v))x=v.G,ho(h.h,v),A=1;else return;if(h.I!=0){if(v.o)if(A==1){x=v.u?v.u.length:0,v=Date.now()-v.F;var H=h.D;A=Ba(),pt(A,new Es(A,x)),Ms(h)}else mu(h);else if(H=v.m,H==3||H==0&&v.X>0||!(A==1&&Xa(h,v)||A==2&&ea(h)))switch(x&&x.length>0&&(v=h.h,v.i=v.i.concat(x)),H){case 1:Vs(h,5);break;case 4:Vs(h,10);break;case 3:Vs(h,6);break;default:Vs(h,2)}}}function yu(h,v){let x=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(x*=2),x*v}function Vs(h,v){if(h.j.info("Error code "+v),v==2){var x=y(h.bb,h),A=h.Ua;const H=!A;A=new An(A||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ht(A,"https"),Kr(A),H?as(A.toString(),x):vo(A.toString(),x)}else Nt(2);h.I=0,h.l&&h.l.pa(v),vu(h),Qa(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function vu(h){if(h.I=0,h.ja=[],h.l){const v=fo(h.h);(v.length!=0||h.i.length!=0)&&(L(h.ja,v),L(h.ja,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.oa()}}function _u(h,v,x){var A=x instanceof An?It(x):new An(x);if(A.g!="")v&&(A.g=v+"."+A.g),Pi(A,A.u);else{var H=u.location;A=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const X=new An(null);A&&Ht(X,A),v&&(X.g=v),H&&Pi(X,H),x&&(X.h=x),A=X}return x=h.G,v=h.wa,x&&v&&Xe(A,x,v),Xe(A,"VER",h.ka),Zr(h,A),A}function xu(h,v,x){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Ze(new js({ab:x})):new Ze(h.ma),v.Fa(h.L),v}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}s=bu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Gi(){}Gi.prototype.g=function(h,v){return new cn(h,v)};function cn(h,v){dt.call(this),this.g=new Hi(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!C(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!C(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new li(this)}E(cn,dt),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){bo(this.g)},cn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var x={};x.__data__=h,h=x}else this.v&&(x={},x.__data__=xs(h),h=x);v.i.push(new Ct(v.Ya++,h)),v.I==3&&Ms(v)},cn.prototype.N=function(){this.g.l=null,delete this.j,bo(this.g),delete this.g,cn.Z.N.call(this)};function Eu(h){$t.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const x in v){h=x;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}E(Eu,$t);function wu(){Ln.call(this),this.status=1}E(wu,Ln);function li(h){this.g=h}E(li,bu),li.prototype.ra=function(){pt(this.g,"a")},li.prototype.qa=function(h){pt(this.g,new Eu(h))},li.prototype.pa=function(h){pt(this.g,new wu)},li.prototype.oa=function(){pt(this.g,"b")},Gi.prototype.createWebChannel=Gi.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,oE=function(){return new Gi},lE=function(){return Ba()},aE=Et,jp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gr.NO_ERROR=0,Gr.TIMEOUT=8,Gr.HTTP_ERROR=6,Hh=Gr,ao.COMPLETE="complete",rE=ao,tu.EventType=ns,ns.OPEN="a",ns.CLOSE="b",ns.ERROR="c",ns.MESSAGE="d",dt.prototype.listen=dt.prototype.J,fc=tu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,iE=Ze}).apply(typeof Ih<"u"?Ih:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl="12.9.0";function Gk(s){Zl=s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new ug("@firebase/firestore");function Rl(){return Ca.logLevel}function me(s,...e){if(Ca.logLevel<=Le.DEBUG){const n=e.map(bg);Ca.debug(`Firestore (${Zl}): ${s}`,...n)}}function Ii(s,...e){if(Ca.logLevel<=Le.ERROR){const n=e.map(bg);Ca.error(`Firestore (${Zl}): ${s}`,...n)}}function Ia(s,...e){if(Ca.logLevel<=Le.WARN){const n=e.map(bg);Ca.warn(`Firestore (${Zl}): ${s}`,...n)}}function bg(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,cE(s,r,n)}function cE(s,e,n){let r=`FIRESTORE (${Zl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ii(r),new Error(r)}function Qe(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||cE(e,l,r)}function Re(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $k{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class Kk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Yk{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new ba;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ba,e.enqueueRetryable((()=>l(this.currentUser)))};const u=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ba)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new uE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class Qk{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Xk{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Qk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const r=c=>{c.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=Wk(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=e.charAt(l[c]%62))}return r}}function ze(s,e){return s<e?-1:s>e?1:0}function Dp(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return up(l)===up(c)?ze(l,c):up(l)?1:-1}return ze(s.length,e.length)}const Zk=55296,e4=57343;function up(s){const e=s.charCodeAt(0);return e>=Zk&&e<=e4}function ql(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="__name__";class qs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const c=qs.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return ze(e.length,n.length)}static compareSegments(e,n){const r=qs.isNumericId(e),l=qs.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?qs.extractNumericId(e).compare(qs.extractNumericId(n)):Dp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sr.fromString(e.substring(4,e.length-2))}}class it extends qs{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const t4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends qs{construct(e,n,r){return new Zt(e,n,r)}static isValidIdentifier(e){return t4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dx}static keyField(){return new Zt([Dx])}static fromServerFormat(e){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(u=!u,l++):p!=="."||u?(r+=p,l++):(c(),l++)}if(c(),u)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(it.fromString(e))}static fromName(e){return new xe(it.fromString(e).popFirst(5))}static empty(){return new xe(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(s,e,n){if(!n)throw new fe(ie.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function n4(s,e,n,r){if(e===!0&&r===!0)throw new fe(ie.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Ox(s){if(!xe.isDocumentKey(s))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Mx(s){if(xe.isDocumentKey(s))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function dE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ad(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te(12329,{type:typeof s})}function Ar(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ad(s);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(s,e){const n={typeString:s};return e&&(n.value=e),n}function Kc(s,e){if(!dE(s))throw new fe(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const u=s[r];if(l&&typeof u!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new fe(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=-62135596800,Px=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Px);return new lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Vx)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Px}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kc(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Vx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Pt("string",lt._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new lt(0,0))}static max(){return new Ae(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=-1;function s4(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Ae.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new Cr(l,xe.empty(),e)}function i4(s){return new Cr(s.readTime,s.key,jc)}class Cr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Cr(Ae.min(),xe.empty(),jc)}static max(){return new Cr(Ae.max(),xe.empty(),jc)}}function r4(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(s.documentKey,e.documentKey),n!==0?n:ze(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(s){if(s.code!==ie.FAILED_PRECONDITION||s.message!==a4)throw s;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,r)=>{n(e)}))}static reject(e){return new re(((n,r)=>{r(e)}))}static waitFor(e){return new re(((n,r)=>{let l=0,c=0,u=!1;e.forEach((p=>{++l,p.next((()=>{++c,u&&c===l&&n()}),(g=>r(g)))})),u=!0,c===l&&n()}))}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next((l=>l?re.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,c)=>{r.push(n.call(this,l,c))})),this.waitFor(r)}static mapArray(e,n){return new re(((r,l)=>{const c=e.length,u=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((b=>{u[y]=b,++p,p===c&&r(u)}),(b=>l(b)))}}))}static doWhile(e,n){return new re(((r,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):r()};c()}))}}function o4(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function to(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=-1;function Rd(s){return s==null}function ad(s){return s===0&&1/s==-1/0}function c4(s){return typeof s=="number"&&Number.isInteger(s)&&!ad(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="";function u4(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=Ux(e)),e=h4(s.get(n),e);return Ux(e)}function h4(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case fE:n+="";break;default:n+=c}}return n}function Ux(s){return s+fE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Ur(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function mE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kh(this.root,e,this.comparator,!0)}}class kh{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,l,c){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=l??Wt.EMPTY,this.right=c??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,c){return new Wt(e??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Wt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,l,c){return this}insert(e,n,r){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zx(this.data.getIterator())}getIteratorFrom(e){return new zx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class zx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new On([])}unionWith(e){let n=new zt(Zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new pE("Invalid base64 string: "+c):c}})(e);return new en(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let u=0;u<l.length;++u)c+=String.fromCharCode(l[u]);return c})(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const d4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(s){if(Qe(!!s,39018),typeof s=="string"){let e=0;const n=d4.exec(s);if(Qe(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(s.seconds),nanos:At(s.nanos)}}function At(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function kr(s){return typeof s=="string"?en.fromBase64String(s):en.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="server_timestamp",yE="__type__",vE="__previous_value__",_E="__local_write_time__";function Tg(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[yE])==null?void 0:r.stringValue)===gE}function Cd(s){const e=s.mapValue.fields[vE];return Tg(e)?Cd(e):e}function Dc(s){const e=Ir(s.mapValue.fields[_E].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n,r,l,c,u,p,g,y,b,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=E}}const ld="(default)";class Oc{constructor(e,n){this.projectId=e,this.database=n||ld}static empty(){return new Oc("","")}get isDefaultDatabase(){return this.database===ld}isEqual(e){return e instanceof Oc&&e.projectId===this.projectId&&e.database===this.database}}function m4(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oc(s.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="__type__",p4="__max__",jh={mapValue:{}},bE="__vector__",od="value";function jr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Tg(s)?4:y4(s)?9007199254740991:g4(s)?10:11:Te(28295,{value:s})}function Ws(s,e){if(s===e)return!0;const n=jr(s);if(n!==jr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Dc(s).isEqual(Dc(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const u=Ir(l.timestampValue),p=Ir(c.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return kr(l.bytesValue).isEqual(kr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return At(l.geoPointValue.latitude)===At(c.geoPointValue.latitude)&&At(l.geoPointValue.longitude)===At(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return At(l.integerValue)===At(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const u=At(l.doubleValue),p=At(c.doubleValue);return u===p?ad(u)===ad(p):isNaN(u)&&isNaN(p)}return!1})(s,e);case 9:return ql(s.arrayValue.values||[],e.arrayValue.values||[],Ws);case 10:case 11:return(function(l,c){const u=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Lx(u)!==Lx(p))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(p[g]===void 0||!Ws(u[g],p[g])))return!1;return!0})(s,e);default:return Te(52216,{left:s})}}function Mc(s,e){return(s.values||[]).find((n=>Ws(n,e)))!==void 0}function Hl(s,e){if(s===e)return 0;const n=jr(s),r=jr(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(s.booleanValue,e.booleanValue);case 2:return(function(c,u){const p=At(c.integerValue||c.doubleValue),g=At(u.integerValue||u.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return Bx(s.timestampValue,e.timestampValue);case 4:return Bx(Dc(s),Dc(e));case 5:return Dp(s.stringValue,e.stringValue);case 6:return(function(c,u){const p=kr(c),g=kr(u);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,u){const p=c.split("/"),g=u.split("/");for(let y=0;y<p.length&&y<g.length;y++){const b=ze(p[y],g[y]);if(b!==0)return b}return ze(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,u){const p=ze(At(c.latitude),At(u.latitude));return p!==0?p:ze(At(c.longitude),At(u.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return qx(s.arrayValue,e.arrayValue);case 10:return(function(c,u){var T,N,L,P;const p=c.fields||{},g=u.fields||{},y=(T=p[od])==null?void 0:T.arrayValue,b=(N=g[od])==null?void 0:N.arrayValue,E=ze(((L=y==null?void 0:y.values)==null?void 0:L.length)||0,((P=b==null?void 0:b.values)==null?void 0:P.length)||0);return E!==0?E:qx(y,b)})(s.mapValue,e.mapValue);case 11:return(function(c,u){if(c===jh.mapValue&&u===jh.mapValue)return 0;if(c===jh.mapValue)return 1;if(u===jh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=u.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let E=0;E<g.length&&E<b.length;++E){const T=Dp(g[E],b[E]);if(T!==0)return T;const N=Hl(p[g[E]],y[b[E]]);if(N!==0)return N}return ze(g.length,b.length)})(s.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function Bx(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ze(s,e);const n=Ir(s),r=Ir(e),l=ze(n.seconds,r.seconds);return l!==0?l:ze(n.nanos,r.nanos)}function qx(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=Hl(n[l],r[l]);if(c)return c}return ze(n.length,r.length)}function Fl(s){return Op(s)}function Op(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=Ir(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return kr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return xe.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=Op(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const u of r)c?c=!1:l+=",",l+=`${u}:${Op(n.fields[u])}`;return l+"}"})(s.mapValue):Te(61005,{value:s})}function Fh(s){switch(jr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cd(s);return e?16+Fh(e):16;case 5:return 2*s.stringValue.length;case 6:return kr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Fh(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Ur(r.fields,((c,u)=>{l+=c.length+Fh(u)})),l})(s.mapValue);default:throw Te(13486,{value:s})}}function Hx(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Mp(s){return!!s&&"integerValue"in s}function Sg(s){return!!s&&"arrayValue"in s}function Fx(s){return!!s&&"nullValue"in s}function Gx(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Gh(s){return!!s&&"mapValue"in s}function g4(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[xE])==null?void 0:r.stringValue)===bE}function Tc(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ur(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Tc(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tc(s.arrayValue.values[n]);return e}return{...s}}function y4(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===p4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tc(n)}setAll(e){let n=Zt.emptyPath(),r={},l=[];e.forEach(((u,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,l),r={},l=[],n=p.popLast()}u?r[p.lastSegment()]=Tc(u):l.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(e){const n=this.field(e.popLast());Gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];Gh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){Ur(n,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new En(Tc(this.value))}}function EE(s){const e=[];return Ur(s.fields,((n,r)=>{const l=new Zt([n]);if(Gh(r)){const c=EE(r.mapValue).fields;if(c.length===0)e.push(l);else for(const u of c)e.push(l.child(u))}else e.push(l)})),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,r,l,c,u,p){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=u,this.documentState=p}static newInvalidDocument(e){return new an(e,0,Ae.min(),Ae.min(),Ae.min(),En.empty(),0)}static newFoundDocument(e,n,r,l){return new an(e,1,n,Ae.min(),r,l,0)}static newNoDocument(e,n){return new an(e,2,n,Ae.min(),Ae.min(),En.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Ae.min(),Ae.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this.position=e,this.inclusive=n}}function $x(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],u=s.position[l];if(c.field.isKeyField()?r=xe.comparator(xe.fromName(u.referenceValue),n.key):r=Hl(u,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kx(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ws(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n="asc"){this.field=e,this.dir=n}}function v4(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{}class Vt extends wE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new x4(e,n,r):n==="array-contains"?new w4(e,r):n==="in"?new T4(e,r):n==="not-in"?new S4(e,r):n==="array-contains-any"?new A4(e,r):new Vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new b4(e,r):new E4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Hl(n,this.value)):n!==null&&jr(this.value)===jr(n)&&this.matchesComparison(Hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vs extends wE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new vs(e,n)}matches(e){return TE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TE(s){return s.op==="and"}function SE(s){return _4(s)&&TE(s)}function _4(s){for(const e of s.filters)if(e instanceof vs)return!1;return!0}function Vp(s){if(s instanceof Vt)return s.field.canonicalString()+s.op.toString()+Fl(s.value);if(SE(s))return s.filters.map((e=>Vp(e))).join(",");{const e=s.filters.map((n=>Vp(n))).join(",");return`${s.op}(${e})`}}function AE(s,e){return s instanceof Vt?(function(r,l){return l instanceof Vt&&r.op===l.op&&r.field.isEqual(l.field)&&Ws(r.value,l.value)})(s,e):s instanceof vs?(function(r,l){return l instanceof vs&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,u,p)=>c&&AE(u,l.filters[p])),!0):!1})(s,e):void Te(19439)}function NE(s){return s instanceof Vt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Fl(n.value)}`})(s):s instanceof vs?(function(n){return n.op.toString()+" {"+n.getFilters().map(NE).join(" ,")+"}"})(s):"Filter"}class x4 extends Vt{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class b4 extends Vt{constructor(e,n){super(e,"in",n),this.keys=RE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class E4 extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=RE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function RE(s,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>xe.fromName(r.referenceValue)))}class w4 extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sg(n)&&Mc(n.arrayValue,this.value)}}class T4 extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mc(this.value.arrayValue,n)}}class S4 extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mc(this.value.arrayValue,n)}}class A4 extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Mc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n=null,r=[],l=[],c=null,u=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=u,this.endAt=p,this.Te=null}}function Yx(s,e=null,n=[],r=[],l=null,c=null,u=null){return new N4(s,e,n,r,l,c,u)}function Ag(s){const e=Re(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Vp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Rd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Fl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Fl(r))).join(",")),e.Te=n}return e.Te}function Ng(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!v4(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!AE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Kx(s.startAt,e.startAt)&&Kx(s.endAt,e.endAt)}function Pp(s){return xe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n=null,r=[],l=[],c=null,u="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=u,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function R4(s,e,n,r,l,c,u,p){return new no(s,e,n,r,l,c,u,p)}function Rg(s){return new no(s)}function Qx(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function C4(s){return xe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function CE(s){return s.collectionGroup!==null}function Sc(s){const e=Re(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let p=new zt(Zt.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Vc(c,r))})),n.has(Zt.keyField().canonicalString())||e.Ie.push(new Vc(Zt.keyField(),r))}return e.Ie}function Qs(s){const e=Re(s);return e.Ee||(e.Ee=I4(e,Sc(s))),e.Ee}function I4(s,e){if(s.limitType==="F")return Yx(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Vc(l.field,c)}));const n=s.endAt?new cd(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new cd(s.startAt.position,s.startAt.inclusive):null;return Yx(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Up(s,e){const n=s.filters.concat([e]);return new no(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function k4(s,e){const n=s.explicitOrderBy.concat([e]);return new no(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Lp(s,e,n){return new no(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Id(s,e){return Ng(Qs(s),Qs(e))&&s.limitType===e.limitType}function IE(s){return`${Ag(Qs(s))}|lt:${s.limitType}`}function Cl(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>NE(l))).join(", ")}]`),Rd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>Fl(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>Fl(l))).join(",")),`Target(${r})`})(Qs(s))}; limitType=${s.limitType})`}function kd(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):xe.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Sc(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(u,p,g){const y=$x(u,p,g);return u.inclusive?y<=0:y<0})(r.startAt,Sc(r),l)||r.endAt&&!(function(u,p,g){const y=$x(u,p,g);return u.inclusive?y>=0:y>0})(r.endAt,Sc(r),l))})(s,e)}function j4(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function kE(s){return(e,n)=>{let r=!1;for(const l of Sc(s)){const c=D4(l,e,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function D4(s,e,n){const r=s.field.isKeyField()?xe.comparator(e.key,n.key):(function(c,u,p){const g=u.data.field(c),y=p.data.field(c);return g!==null&&y!==null?Hl(g,y):Te(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ur(this.inner,((n,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return mE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=new ft(xe.comparator);function ki(){return O4}const jE=new ft(xe.comparator);function mc(...s){let e=jE;for(const n of s)e=e.insert(n.key,n);return e}function DE(s){let e=jE;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function _a(){return Ac()}function OE(){return Ac()}function Ac(){return new Ma((s=>s.toString()),((s,e)=>s.isEqual(e)))}const M4=new ft(xe.comparator),V4=new zt(xe.comparator);function Be(...s){let e=V4;for(const n of s)e=e.add(n);return e}const P4=new zt(ze);function U4(){return P4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ad(e)?"-0":e}}function ME(s){return{integerValue:""+s}}function L4(s,e){return c4(e)?ME(e):Cg(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this._=void 0}}function z4(s,e,n){return s instanceof ud?(function(l,c){const u={fields:{[yE]:{stringValue:gE},[_E]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Tg(c)&&(c=Cd(c)),c&&(u.fields[vE]=c),{mapValue:u}})(n,e):s instanceof Pc?PE(s,e):s instanceof Uc?UE(s,e):(function(l,c){const u=VE(l,c),p=Xx(u)+Xx(l.Ae);return Mp(u)&&Mp(l.Ae)?ME(p):Cg(l.serializer,p)})(s,e)}function B4(s,e,n){return s instanceof Pc?PE(s,e):s instanceof Uc?UE(s,e):n}function VE(s,e){return s instanceof hd?(function(r){return Mp(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class ud extends jd{}class Pc extends jd{constructor(e){super(),this.elements=e}}function PE(s,e){const n=LE(e);for(const r of s.elements)n.some((l=>Ws(l,r)))||n.push(r);return{arrayValue:{values:n}}}class Uc extends jd{constructor(e){super(),this.elements=e}}function UE(s,e){let n=LE(e);for(const r of s.elements)n=n.filter((l=>!Ws(l,r)));return{arrayValue:{values:n}}}class hd extends jd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Xx(s){return At(s.integerValue||s.doubleValue)}function LE(s){return Sg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function q4(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof Pc&&l instanceof Pc||r instanceof Uc&&l instanceof Uc?ql(r.elements,l.elements,Ws):r instanceof hd&&l instanceof hd?Ws(r.Ae,l.Ae):r instanceof ud&&l instanceof ud})(s.transform,e.transform)}class H4{constructor(e,n){this.version=e,this.transformResults=n}}class ps{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ps}static exists(e){return new ps(void 0,e)}static updateTime(e){return new ps(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $h(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Dd{}function zE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ig(s.key,ps.none()):new Yc(s.key,s.data,ps.none());{const n=s.data,r=En.empty();let l=new zt(Zt.comparator);for(let c of e.fields)if(!l.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?r.delete(c):r.set(c,u),l=l.add(c)}return new Lr(s.key,r,new On(l.toArray()),ps.none())}}function F4(s,e,n){s instanceof Yc?(function(l,c,u){const p=l.value.clone(),g=Wx(l.fieldTransforms,c,u.transformResults);p.setAll(g),c.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(s,e,n):s instanceof Lr?(function(l,c,u){if(!$h(l.precondition,c))return void c.convertToUnknownDocument(u.version);const p=Wx(l.fieldTransforms,c,u.transformResults),g=c.data;g.setAll(BE(l)),g.setAll(p),c.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(s,e,n):(function(l,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Nc(s,e,n,r){return s instanceof Yc?(function(c,u,p,g){if(!$h(c.precondition,u))return p;const y=c.value.clone(),b=Zx(c.fieldTransforms,g,u);return y.setAll(b),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof Lr?(function(c,u,p,g){if(!$h(c.precondition,u))return p;const y=Zx(c.fieldTransforms,g,u),b=u.data;return b.setAll(BE(c)),b.setAll(y),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(s,e,n,r):(function(c,u,p){return $h(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p})(s,e,n)}function G4(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=VE(r.transform,l||null);c!=null&&(n===null&&(n=En.empty()),n.set(r.field,c))}return n||null}function Jx(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&ql(r,l,((c,u)=>q4(c,u)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Yc extends Dd{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Lr extends Dd{constructor(e,n,r,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function BE(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function Wx(s,e,n){const r=new Map;Qe(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let l=0;l<n.length;l++){const c=s[l],u=c.transform,p=e.data.field(c.field);r.set(c.field,B4(u,p,n[l]))}return r}function Zx(s,e,n){const r=new Map;for(const l of s){const c=l.transform,u=n.data.field(l.field);r.set(l.field,z4(c,u,e))}return r}class Ig extends Dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $4 extends Dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&F4(c,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=OE();return this.mutations.forEach((l=>{const c=e.get(l.key),u=c.overlayedDocument;let p=this.applyToLocalView(u,c.mutatedFields);p=n.has(l.key)?null:p;const g=zE(u,p);g!==null&&r.set(l.key,g),u.isValidDocument()||u.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,((n,r)=>Jx(n,r)))&&ql(this.baseMutations,e.baseMutations,((n,r)=>Jx(n,r)))}}class kg{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return M4})();const c=e.mutations;for(let u=0;u<c.length;u++)l=l.insert(c[u].key,r[u].version);return new kg(e,n,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,He;function X4(s){switch(s){case ie.OK:return Te(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Te(15467,{code:s})}}function qE(s){if(s===void 0)return Ii("GRPC error has no .code"),ie.UNKNOWN;switch(s){case Mt.OK:return ie.OK;case Mt.CANCELLED:return ie.CANCELLED;case Mt.UNKNOWN:return ie.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return ie.INTERNAL;case Mt.UNAVAILABLE:return ie.UNAVAILABLE;case Mt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Mt.NOT_FOUND:return ie.NOT_FOUND;case Mt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Mt.ABORTED:return ie.ABORTED;case Mt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Mt.DATA_LOSS:return ie.DATA_LOSS;default:return Te(39323,{code:s})}}(He=Mt||(Mt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=new Sr([4294967295,4294967295],0);function eb(s){const e=J4().encode(s),n=new sE;return n.update(e),new Uint8Array(n.digest())}function tb(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Sr([n,r],0),new Sr([l,c],0)]}class jg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new pc(`Invalid padding: ${n}`);if(r<0)throw new pc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new pc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Sr.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(Sr.fromNumber(r)));return l.compare(W4)===1&&(l=new Sr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=eb(e),[r,l]=tb(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(r,l,c);if(!this.we(u))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new jg(c,l,n);return r.forEach((p=>u.insert(p))),u}insert(e){if(this.ge===0)return;const n=eb(e),[r,l]=tb(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(r,l,c);this.be(u)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n,r,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,Qc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Od(Ae.min(),l,new ft(ze),ki(),Be())}}class Qc{constructor(e,n,r,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qc(r,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,r,l){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=l}}class HE{constructor(e,n){this.targetId=e,this.Ce=n}}class FE{constructor(e,n,r=en.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class nb{constructor(){this.ve=0,this.Fe=sb(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),r=Be();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:Te(38017,{changeType:c})}})),new Qc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=sb()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Z4{constructor(e){this.Ge=e,this.ze=new Map,this.je=ki(),this.He=Dh(),this.Je=Dh(),this.Ze=new ft(ze)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(Pp(c))if(r===0){const u=new xe(c.path);this.et(n,u,an.newNoDocument(u,Ae.min()))}else Qe(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const p=this.ut(e),g=p?this.ct(p,e,u):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let u,p;try{u=kr(r).toUint8Array()}catch(g){if(g instanceof pE)return Ia("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new jg(u,l,c)}catch(g){return Ia(g instanceof pc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((c=>{const u=this.Ge.ht(),p=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,u)=>{const p=this.ot(u);if(p){if(c.current&&Pp(p.target)){const g=new xe(p.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,an.newNoDocument(g,e))}c.Be&&(n.set(u,c.ke()),c.Ke())}}));let r=Be();this.Je.forEach(((c,u)=>{let p=!0;u.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const l=new Od(e,n,this.Ze,this.je,r);return this.je=ki(),this.He=Dh(),this.Je=Dh(),this.Ze=new ft(ze),l}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new nb,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new zt(ze),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new zt(ze),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new nb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Dh(){return new ft(xe.comparator)}function sb(){return new ft(xe.comparator)}const e5={asc:"ASCENDING",desc:"DESCENDING"},t5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n5={and:"AND",or:"OR"};class s5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zp(s,e){return s.useProto3Json||Rd(e)?e:{value:e}}function dd(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function i5(s,e){return dd(s,e.toTimestamp())}function Xs(s){return Qe(!!s,49232),Ae.fromTimestamp((function(n){const r=Ir(n);return new lt(r.seconds,r.nanos)})(s))}function Dg(s,e){return Bp(s,e).canonicalString()}function Bp(s,e){const n=(function(l){return new it(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function $E(s){const e=it.fromString(s);return Qe(JE(e),10190,{key:e.toString()}),e}function qp(s,e){return Dg(s.databaseId,e.path)}function hp(s,e){const n=$E(e);if(n.get(1)!==s.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new xe(YE(n))}function KE(s,e){return Dg(s.databaseId,e)}function r5(s){const e=$E(s);return e.length===4?it.emptyPath():YE(e)}function Hp(s){return new it(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function YE(s){return Qe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function ib(s,e,n){return{name:qp(s,e),fields:n.value.mapValue.fields}}function a5(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Qe(b===void 0||typeof b=="string",58123),en.fromBase64String(b||"")):(Qe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),en.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&(function(y){const b=y.code===void 0?ie.UNKNOWN:qE(y.code);return new fe(b,y.message||"")})(u);n=new FE(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=hp(s,r.document.name),c=Xs(r.document.updateTime),u=r.document.createTime?Xs(r.document.createTime):Ae.min(),p=new En({mapValue:{fields:r.document.fields}}),g=an.newFoundDocument(l,c,u,p),y=r.targetIds||[],b=r.removedTargetIds||[];n=new Kh(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=hp(s,r.document),c=r.readTime?Xs(r.readTime):Ae.min(),u=an.newNoDocument(l,c),p=r.removedTargetIds||[];n=new Kh([],p,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=hp(s,r.document),c=r.removedTargetIds||[];n=new Kh([],c,l,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,u=new Q4(l,c),p=r.targetId;n=new HE(p,u)}}return n}function l5(s,e){let n;if(e instanceof Yc)n={update:ib(s,e.key,e.value)};else if(e instanceof Ig)n={delete:qp(s,e.key)};else if(e instanceof Lr)n={update:ib(s,e.key,e.data),updateMask:g5(e.fieldMask)};else{if(!(e instanceof $4))return Te(16599,{dt:e.type});n={verify:qp(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,u){const p=u.transform;if(p instanceof ud)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Pc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Uc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof hd)return{fieldPath:u.field.canonicalString(),increment:p.Ae};throw Te(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:i5(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(s,e.precondition)),n}function o5(s,e){return s&&s.length>0?(Qe(e!==void 0,14353),s.map((n=>(function(l,c){let u=l.updateTime?Xs(l.updateTime):Xs(c);return u.isEqual(Ae.min())&&(u=Xs(c)),new H4(u,l.transformResults||[])})(n,e)))):[]}function c5(s,e){return{documents:[KE(s,e.path)]}}function u5(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=KE(s,l);const c=(function(y){if(y.length!==0)return XE(vs.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const u=(function(y){if(y.length!==0)return y.map((b=>(function(T){return{field:Il(T.field),direction:f5(T.dir)}})(b)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const p=zp(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function h5(s){let e=r5(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Qe(r===1,65062);const b=n.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];n.where&&(c=(function(E){const T=QE(E);return T instanceof vs&&SE(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(E){return E.map((T=>(function(L){return new Vc(kl(L.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(T)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let T;return T=typeof E=="object"?E.value:E,Rd(T)?null:T})(n.limit));let g=null;n.startAt&&(g=(function(E){const T=!!E.before,N=E.values||[];return new cd(N,T)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const T=!E.before,N=E.values||[];return new cd(N,T)})(n.endAt)),R4(e,l,u,c,p,"F",g,y)}function d5(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=kl(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=kl(n.unaryFilter.field);return Vt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=kl(n.unaryFilter.field);return Vt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=kl(n.unaryFilter.field);return Vt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Vt.create(kl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return vs.create(n.compositeFilter.filters.map((r=>QE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(s):Te(30097,{filter:s})}function f5(s){return e5[s]}function m5(s){return t5[s]}function p5(s){return n5[s]}function Il(s){return{fieldPath:s.canonicalString()}}function kl(s){return Zt.fromServerFormat(s.fieldPath)}function XE(s){return s instanceof Vt?(function(n){if(n.op==="=="){if(Gx(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NAN"}};if(Fx(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Gx(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NOT_NAN"}};if(Fx(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(n.field),op:m5(n.op),value:n.value}}})(s):s instanceof vs?(function(n){const r=n.getFilters().map((l=>XE(l)));return r.length===1?r[0]:{compositeFilter:{op:p5(n.op),filters:r}}})(s):Te(54877,{filter:s})}function g5(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function JE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function WE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n,r,l,c=Ae.min(),u=Ae.min(),p=en.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.yt=e}}function v5(s){const e=h5({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(){this.Sn=new x5}addToCollectionParentIndex(e,n){return this.Sn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Cr.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Cr.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class x5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new zt(it.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new zt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZE=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(ZE,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Gl(0)}static ar(){return new Gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="LruGarbageCollector",b5=1048576;function lb([s,e],[n,r]){const l=ze(s,n);return l===0?ze(e,r):l}class E5{constructor(e){this.Pr=e,this.buffer=new zt(lb),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();lb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class w5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(ab,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){to(n)?me(ab,"Ignoring IndexedDB error during garbage collection: ",n):await eo(n)}await this.Ar(3e5)}))}}class T5{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Nd.ce);const r=new E5(n);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(rb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rb):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,l,c,u,p,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),l=this.params.maximumSequenceNumbersToCollect):l=E,u=Date.now(),this.nthSequenceNumber(e,l)))).next((E=>(r=E,p=Date.now(),this.removeTargets(e,r,n)))).next((E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(y=Date.now(),Rl()<=Le.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-b}ms
	Determined least recently used ${l} in `+(p-u)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-b}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:E}))))}}function S5(s,e){return new T5(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(){this.changes=new Ma((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&Nc(r.mutation,l,On.empty(),lt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Be()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Be()){const l=_a();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((c=>{let u=mc();return c.forEach(((p,g)=>{u=u.insert(p,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=_a();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Be())))}populateOverlays(e,n,r){const l=[];return r.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((u,p)=>{n.set(u,p)}))}))}computeViews(e,n,r,l){let c=ki();const u=Ac(),p=(function(){return Ac()})();return n.forEach(((g,y)=>{const b=r.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof Lr)?c=c.insert(y.key,y):b!==void 0?(u.set(y.key,b.mutation.getFieldMask()),Nc(b.mutation,y,b.mutation.getFieldMask(),lt.now())):u.set(y.key,On.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,b)=>u.set(y,b))),n.forEach(((y,b)=>p.set(y,new N5(b,u.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=Ac();let l=new ft(((u,p)=>u-p)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const p of u)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let b=r.get(g)||On.empty();b=p.applyToLocalView(y,b),r.set(g,b);const E=(l.get(p.batchId)||Be()).add(g);l=l.insert(p.batchId,E)}))})).next((()=>{const u=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,b=g.value,E=OE();b.forEach((T=>{if(!c.has(T)){const N=zE(n.get(T),r.get(T));N!==null&&E.set(T,N),c=c.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,E))}return re.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return C4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((c=>{const u=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-c.size):re.resolve(_a());let p=jc,g=c;return u.next((y=>re.forEach(y,((b,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(b)?re.resolve():this.remoteDocumentCache.getEntry(e,b).next((T=>{g=g.insert(b,T)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Be()))).next((b=>({batchId:p,changes:DE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((r=>{let l=mc();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const c=n.collectionGroup;let u=mc();return this.indexManager.getCollectionParents(e,c).next((p=>re.forEach(p,(g=>{const y=(function(E,T){return new no(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((b=>{b.forEach(((E,T)=>{u=u.insert(E,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,l)))).next((u=>{c.forEach(((g,y)=>{const b=y.getKey();u.get(b)===null&&(u=u.insert(b,an.newInvalidDocument(b)))}));let p=mc();return u.forEach(((g,y)=>{const b=c.get(g);b!==void 0&&Nc(b.mutation,y,On.empty(),lt.now()),kd(n,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return re.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Xs(l.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:v5(l.bundledQuery),readTime:Xs(l.readTime)}})(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(){this.overlays=new ft(xe.comparator),this.Lr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_a();return re.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,c)=>{this.bt(e,n,c)})),re.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const l=_a(),c=n.length+1,u=new xe(n.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&l.set(g.getKey(),g)}return re.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let c=new ft(((y,b)=>y-b));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let b=c.get(y.largestBatchId);b===null&&(b=_a(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=_a(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=l)););return re.resolve(p)}bt(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const u=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Y4(n,r));let c=this.Lr.get(n);c===void 0&&(c=Be(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(){this.kr=new zt(Gt.Kr),this.qr=new zt(Gt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Gt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Gt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new xe(new it([])),r=new Gt(n,e),l=new Gt(n,e+1),c=[];return this.qr.forEachInRange([r,l],(u=>{this.Wr(u),c.push(u.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new xe(new it([])),r=new Gt(n,e),l=new Gt(n,e+1);let c=Be();return this.qr.forEachInRange([r,l],(u=>{c=c.add(u.key)})),c}containsKey(e){const n=new Gt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return xe.comparator(e.key,n.key)||ze(e.Hr,n.Hr)}static Ur(e,n){return ze(e.Hr,n.Hr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new zt(Gt.Kr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new K4(c,n,r,l);this.mutationQueue.push(u);for(const p of l)this.Jr=this.Jr.add(new Gt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,n){return re.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.Xr(r),c=l<0?0:l;return re.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?wg:this.Yn-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gt(n,0),l=new Gt(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(u=>{const p=this.Zr(u.Hr);c.push(p)})),re.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zt(ze);return n.forEach((l=>{const c=new Gt(l,0),u=new Gt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,u],(p=>{r=r.add(p.Hr)}))})),re.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let c=r;xe.isDocumentKey(c)||(c=c.child(""));const u=new Gt(new xe(c),0);let p=new zt(ze);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Hr)),!0)}),u),re.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return re.forEach(n.mutations,(l=>{const c=new Gt(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Gt(n,0),l=this.Jr.firstAfterOrEqual(r);return re.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e){this.ti=e,this.docs=(function(){return new ft(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,u=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let r=ki();return n.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():an.newInvalidDocument(l))})),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let c=ki();const u=n.path,p=new xe(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||r4(i4(b),r)<=0||(l.has(b.key)||kd(n,b))&&(c=c.insert(b.key,b.mutableCopy()))}return re.resolve(c)}getAllFromCollectionGroup(e,n,r,l){Te(9500)}ni(e,n){return re.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new O5(this)}getSize(e){return re.resolve(this.size)}}class O5 extends A5{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),re.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e){this.persistence=e,this.ri=new Ma((n=>Ag(n)),Ng),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ii=0,this.si=new Og,this.targetCount=0,this.oi=Gl._r()}forEachTarget(e,n){return this.ri.forEach(((r,l)=>n(l))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),re.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Gl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.lr(n),re.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let l=0;const c=[];return this.ri.forEach(((u,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.ri.delete(u),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),re.waitFor(c).next((()=>l))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((u=>{c.push(l.markPotentiallyOrphaned(e,u))})),re.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n){this._i={},this.overlays={},this.ai=new Nd(0),this.ui=!1,this.ui=!0,this.ci=new k5,this.referenceDelegate=e(this),this.li=new M5(this),this.indexManager=new _5,this.remoteDocumentCache=(function(l){return new D5(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new y5(n),this.Pi=new C5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new j5(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const l=new V5(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,n){return re.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class V5 extends l4{constructor(e){super(),this.currentSequenceNumber=e}}class Mg{constructor(e){this.persistence=e,this.Ri=new Og,this.Ai=null}static Vi(e){return new Mg(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.di,(r=>{const l=xe.fromPath(r);return this.mi(e,l).next((c=>{c||n.removeEntry(l,Ae.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class fd{constructor(e,n){this.persistence=e,this.fi=new Ma((r=>u4(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=S5(this,n)}static Vi(e,n){return new fd(e,n)}Ti(){}Ii(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return re.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((c=>c?re.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(u=>this.wr(e,u,n).next((p=>{p||(r++,c.removeEntry(u,Ae.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fh(e.data.value)),n}wr(e,n,r){return re.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.fi.get(n);return re.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=l}static Es(e,n){let r=Be(),l=Be();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Vg(e,n.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return uR()?8:o4(ln())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const c={result:null};return this.gs(e,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ps(e,n,l,r).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new P5;return this.ys(e,n,u).next((p=>{if(c.result=p,this.As)return this.ws(e,n,u,p.size)}))})).next((()=>c.result))}ws(e,n,r,l){return r.documentReadCount<this.Vs?(Rl()<=Le.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Cl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),re.resolve()):(Rl()<=Le.DEBUG&&me("QueryEngine","Query:",Cl(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(Rl()<=Le.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Cl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qs(n))):re.resolve())}gs(e,n){if(Qx(n))return re.resolve(null);let r=Qs(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Lp(n,null,"F"),r=Qs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const u=Be(...c);return this.fs.getDocuments(e,u).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,u,g.readTime)?this.gs(e,Lp(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,r,l){return Qx(n)||l.isEqual(Ae.min())?re.resolve(null):this.fs.getDocuments(e,r).next((c=>{const u=this.bs(n,c);return this.Ss(n,u,r,l)?re.resolve(null):(Rl()<=Le.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Cl(n)),this.Ds(e,u,n,s4(l,jc)).next((p=>p)))}))}bs(e,n){let r=new zt(kE(e));return n.forEach(((l,c)=>{kd(e,c)&&(r=r.add(c))})),r}Ss(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,n,r){return Rl()<=Le.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Cl(n)),this.fs.getDocumentsMatchingQuery(e,n,Cr.min(),r)}Ds(e,n,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="LocalStore",L5=3e8;class z5{constructor(e,n,r,l){this.persistence=e,this.Cs=n,this.serializer=l,this.vs=new ft(ze),this.Fs=new Ma((c=>Ag(c)),Ng),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R5(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function B5(s,e,n,r){return new z5(s,e,n,r)}async function tw(s,e){const n=Re(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const u=[],p=[];let g=Be();for(const y of l){u.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ns:y,removedBatchIds:u,addedBatchIds:p})))}))}))}function q5(s,e){const n=Re(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,b){const E=y.batch,T=E.keys();let N=re.resolve();return T.forEach((L=>{N=N.next((()=>b.getEntry(g,L))).next((P=>{const O=y.docVersions.get(L);Qe(O!==null,48541),P.version.compareTo(O)<0&&(E.applyToRemoteDocument(P,y),P.isValidDocument()&&(P.setReadTime(y.commitVersion),b.addEntry(P)))}))})),N.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Be();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function nw(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function H5(s,e){const n=Re(s),r=e.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const p=[];e.targetChanges.forEach(((b,E)=>{const T=l.get(E);if(!T)return;p.push(n.li.removeMatchingKeys(c,b.removedDocuments,E).next((()=>n.li.addMatchingKeys(c,b.addedDocuments,E))));let N=T.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?N=N.withResumeToken(en.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):b.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(b.resumeToken,r)),l=l.insert(E,N),(function(P,O,W){return P.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=L5?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(T,N,b)&&p.push(n.li.updateTargetData(c,N))}));let g=ki(),y=Be();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(F5(c,u,e.documentUpdates).next((b=>{g=b.Bs,y=b.Ls}))),!r.isEqual(Ae.min())){const b=n.li.getLastRemoteSnapshotVersion(c).next((E=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(b)}return re.waitFor(p).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.vs=l,c)))}function F5(s,e,n){let r=Be(),l=Be();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let u=ki();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(p,g.readTime),u=u.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),u=u.insert(p,g)):me(Pg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:u,Ls:l}}))}function G5(s,e){const n=Re(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=wg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function $5(s,e){const n=Re(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.li.getTargetData(r,e).next((c=>c?(l=c,re.resolve(l)):n.li.allocateTargetId(r).next((u=>(l=new br(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Fp(s,e,n){const r=Re(s),l=r.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(u=>r.persistence.referenceDelegate.removeTarget(u,l)))}catch(u){if(!to(u))throw u;me(Pg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function ob(s,e,n){const r=Re(s);let l=Ae.min(),c=Be();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,y,b){const E=Re(g),T=E.Fs.get(b);return T!==void 0?re.resolve(E.vs.get(T)):E.li.getTargetData(y,b)})(r,u,Qs(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,p.targetId).next((g=>{c=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,n?l:Ae.min(),n?c:Be()))).next((p=>(K5(r,j4(e),p),{documents:p,ks:c})))))}function K5(s,e,n){let r=s.Ms.get(e)||Ae.min();n.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class cb{constructor(){this.activeTargetIds=U4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y5{constructor(){this.vo=new cb,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new cb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="ConnectivityMonitor";class hb{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(ub,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(ub,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh=null;function Gp(){return Oh===null?Oh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oh++,"0x"+Oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="RestConnection",X5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class J5{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===ld?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,n,r,l,c){const u=Gp(),p=this.Qo(e,n.toUriEncodedString());me(dp,`Sending RPC '${e}' ${u}:`,p,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,l,c);const{host:y}=new URL(p),b=Mr(y);return this.zo(e,p,g,r,b).then((E=>(me(dp,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw Ia(dp,`RPC '${e}' ${u} failed with error: `,E,"url: ",p,"request:",r),E}))}jo(e,n,r,l,c,u){return this.Wo(e,n,r,l,c)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}Qo(e,n){const r=X5[e];let l=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection",cc=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Vl extends J5{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Vl.c_){const e=lE();cc(e,aE.STAT_EVENT,(n=>{n.stat===jp.PROXY?me(sn,"STAT_EVENT: detected buffering proxy"):n.stat===jp.NOPROXY&&me(sn,"STAT_EVENT: detected no buffering proxy")})),Vl.c_=!0}}zo(e,n,r,l,c){const u=Gp();return new Promise(((p,g)=>{const y=new iE;y.setWithCredentials(!0),y.listenOnce(rE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Hh.NO_ERROR:const E=y.getResponseJson();me(sn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),p(E);break;case Hh.TIMEOUT:me(sn,`RPC '${e}' ${u} timed out`),g(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Hh.HTTP_ERROR:const T=y.getStatus();if(me(sn,`RPC '${e}' ${u} failed with status:`,T,"response text:",y.getResponseText()),T>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const L=N==null?void 0:N.error;if(L&&L.status&&L.message){const P=(function(W){const K=W.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(K)>=0?K:ie.UNKNOWN})(L.status);g(new fe(P,L.message))}else g(new fe(ie.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{me(sn,`RPC '${e}' ${u} completed.`)}}));const b=JSON.stringify(l);me(sn,`RPC '${e}' ${u} sending request:`,l),y.send(n,"POST",b,r,15)}))}T_(e,n,r){const l=Gp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const y=c.join("");me(sn,`Creating RPC '${e}' stream ${l}: ${y}`,p);const b=u.createWebChannel(y,p);this.I_(b);let E=!1,T=!1;const N=new W5({Ho:L=>{T?me(sn,`Not sending because RPC '${e}' stream ${l} is closed:`,L):(E||(me(sn,`Opening RPC '${e}' stream ${l} transport.`),b.open(),E=!0),me(sn,`RPC '${e}' stream ${l} sending:`,L),b.send(L))},Jo:()=>b.close()});return cc(b,fc.EventType.OPEN,(()=>{T||(me(sn,`RPC '${e}' stream ${l} transport opened.`),N.i_())})),cc(b,fc.EventType.CLOSE,(()=>{T||(T=!0,me(sn,`RPC '${e}' stream ${l} transport closed`),N.o_(),this.E_(b))})),cc(b,fc.EventType.ERROR,(L=>{T||(T=!0,Ia(sn,`RPC '${e}' stream ${l} transport errored. Name:`,L.name,"Message:",L.message),N.o_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))})),cc(b,fc.EventType.MESSAGE,(L=>{var P;if(!T){const O=L.data[0];Qe(!!O,16349);const W=O,K=(W==null?void 0:W.error)||((P=W[0])==null?void 0:P.error);if(K){me(sn,`RPC '${e}' stream ${l} received error:`,K);const q=K.status;let ae=(function(I){const R=Mt[I];if(R!==void 0)return qE(R)})(q),Z=K.message;q==="NOT_FOUND"&&Z.includes("database")&&Z.includes("does not exist")&&Z.includes(this.databaseId.database)&&Ia(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ae===void 0&&(ae=ie.INTERNAL,Z="Unknown error status: "+q+" with message "+K.message),T=!0,N.o_(new fe(ae,Z)),b.close()}else me(sn,`RPC '${e}' stream ${l} received:`,O),N.__(O)}})),Vl.u_(),setTimeout((()=>{N.s_()}),0),N}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return oE()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(s){return new Vl(s)}function fp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(s){return new s5(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vl.c_=!1;class sw{constructor(e,n,r=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&me("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="PersistentStream";class iw{constructor(e,n,r,l,c,u,p,g){this.Ci=e,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Ii(n.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new fe(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(db,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(me(db,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ej extends iw{constructor(e,n,r,l,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,u),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=a5(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ae.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?Xs(u.readTime):Ae.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Hp(this.serializer),n.addTarget=(function(c,u){let p;const g=u.target;if(p=Pp(g)?{documents:c5(c,g)}:{query:u5(c,g).ft},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=GE(c,u.resumeToken);const y=zp(c,u.expectedCount);y!==null&&(p.expectedCount=y)}else if(u.snapshotVersion.compareTo(Ae.min())>0){p.readTime=dd(c,u.snapshotVersion.toTimestamp());const y=zp(c,u.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=d5(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Hp(this.serializer),n.removeTarget=e,this.K_(n)}}class tj extends iw{constructor(e,n,r,l,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,u),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=o5(e.writeResults,e.commitTime),r=Xs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Hp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>l5(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{}class sj extends nj{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Wo(e,Bp(n,r),l,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(ie.UNKNOWN,c.toString())}))}jo(e,n,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,p])=>this.connection.jo(e,Bp(n,r),l,u,p,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ie.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function ij(s,e,n,r){return new sj(s,e,n,r)}class rj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ii(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="RemoteStore";class aj{constructor(e,n,r,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{Va(this)&&(me(ka,"Restarting streams for network reachability change."),await(async function(g){const y=Re(g);y.Ea.add(4),await Xc(y),y.Va.set("Unknown"),y.Ea.delete(4),await Vd(y)})(this))}))})),this.Va=new rj(r,l)}}async function Vd(s){if(Va(s))for(const e of s.Ra)await e(!0)}async function Xc(s){for(const e of s.Ra)await e(!1)}function rw(s,e){const n=Re(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Bg(n)?zg(n):so(n).O_()&&Lg(n,e))}function Ug(s,e){const n=Re(s),r=so(n);n.Ia.delete(e),r.O_()&&aw(n,e),n.Ia.size===0&&(r.O_()?r.L_():Va(n)&&n.Va.set("Unknown"))}function Lg(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}so(s).Z_(e)}function aw(s,e){s.da.$e(e),so(s).X_(e)}function zg(s){s.da=new Z4({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),so(s).start(),s.Va.ua()}function Bg(s){return Va(s)&&!so(s).x_()&&s.Ia.size>0}function Va(s){return Re(s).Ea.size===0}function lw(s){s.da=void 0}async function lj(s){s.Va.set("Online")}async function oj(s){s.Ia.forEach(((e,n)=>{Lg(s,e)}))}async function cj(s,e){lw(s),Bg(s)?(s.Va.ha(e),zg(s)):s.Va.set("Unknown")}async function uj(s,e,n){if(s.Va.set("Online"),e instanceof FE&&e.state===2&&e.cause)try{await(async function(l,c){const u=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,u),l.Ia.delete(p),l.da.removeTarget(p))})(s,e)}catch(r){me(ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await md(s,r)}else if(e instanceof Kh?s.da.Xe(e):e instanceof HE?s.da.st(e):s.da.tt(e),!n.isEqual(Ae.min()))try{const r=await nw(s.localStore);n.compareTo(r)>=0&&await(function(c,u){const p=c.da.Tt(u);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(g.resumeToken,u))}})),p.targetMismatches.forEach(((g,y)=>{const b=c.Ia.get(g);if(!b)return;c.Ia.set(g,b.withResumeToken(en.EMPTY_BYTE_STRING,b.snapshotVersion)),aw(c,g);const E=new br(b.target,g,y,b.sequenceNumber);Lg(c,E)})),c.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){me(ka,"Failed to raise snapshot:",r),await md(s,r)}}async function md(s,e,n){if(!to(e))throw e;s.Ea.add(1),await Xc(s),s.Va.set("Offline"),n||(n=()=>nw(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{me(ka,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Vd(s)}))}function ow(s,e){return e().catch((n=>md(s,n,e)))}async function Pd(s){const e=Re(s),n=Dr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wg;for(;hj(e);)try{const l=await G5(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,dj(e,l)}catch(l){await md(e,l)}cw(e)&&uw(e)}function hj(s){return Va(s)&&s.Ta.length<10}function dj(s,e){s.Ta.push(e);const n=Dr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function cw(s){return Va(s)&&!Dr(s).x_()&&s.Ta.length>0}function uw(s){Dr(s).start()}async function fj(s){Dr(s).ra()}async function mj(s){const e=Dr(s);for(const n of s.Ta)e.ea(n.mutations)}async function pj(s,e,n){const r=s.Ta.shift(),l=kg.from(r,e,n);await ow(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Pd(s)}async function gj(s,e){e&&Dr(s).Y_&&await(async function(r,l){if((function(u){return X4(u)&&u!==ie.ABORTED})(l.code)){const c=r.Ta.shift();Dr(r).B_(),await ow(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Pd(r)}})(s,e),cw(s)&&uw(s)}async function fb(s,e){const n=Re(s);n.asyncQueue.verifyOperationInProgress(),me(ka,"RemoteStore received new credentials");const r=Va(n);n.Ea.add(3),await Xc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Vd(n)}async function yj(s,e){const n=Re(s);e?(n.Ea.delete(2),await Vd(n)):e||(n.Ea.add(2),await Xc(n),n.Va.set("Unknown"))}function so(s){return s.ma||(s.ma=(function(n,r,l){const c=Re(n);return c.sa(),new ej(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:lj.bind(null,s),Yo:oj.bind(null,s),t_:cj.bind(null,s),J_:uj.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Bg(s)?zg(s):s.Va.set("Unknown")):(await s.ma.stop(),lw(s))}))),s.ma}function Dr(s){return s.fa||(s.fa=(function(n,r,l){const c=Re(n);return c.sa(),new tj(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:fj.bind(null,s),t_:gj.bind(null,s),ta:mj.bind(null,s),na:pj.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Pd(s)):(await s.fa.stop(),s.Ta.length>0&&(me(ka,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,r,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,c){const u=Date.now()+r,p=new qg(e,n,u,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hg(s,e){if(Ii("AsyncQueue",`${e}: ${s}`),to(s))return new fe(ie.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{static emptySet(e){return new Pl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=mc(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Pl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this.ga=new ft(xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class $l{constructor(e,n,r,l,c,u,p,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,l,c){const u=[];return n.forEach((p=>{u.push({type:0,doc:p})})),new $l(e,n,Pl.emptySet(n),u,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class _j{constructor(){this.queries=pb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Re(n),c=l.queries;l.queries=pb(),c.forEach(((u,p)=>{for(const g of p.ba)g.onError(r)}))})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function pb(){return new Ma((s=>IE(s)),Id)}async function xj(s,e){const n=Re(s);let r=3;const l=e.query;let c=n.queries.get(l);c?!c.Sa()&&e.Da()&&(r=2):(c=new vj,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(u){const p=Hg(u,`Initialization of query '${Cl(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Fg(n)}async function bj(s,e){const n=Re(s),r=e.query;let l=3;const c=n.queries.get(r);if(c){const u=c.ba.indexOf(e);u>=0&&(c.ba.splice(u,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ej(s,e){const n=Re(s);let r=!1;for(const l of e){const c=l.query,u=n.queries.get(c);if(u){for(const p of u.ba)p.Fa(l)&&(r=!0);u.wa=l}}r&&Fg(n)}function wj(s,e,n){const r=Re(s),l=r.queries.get(e);if(l)for(const c of l.ba)c.onError(n);r.queries.delete(e)}function Fg(s){s.Ca.forEach((e=>{e.next()}))}var $p,gb;(gb=$p||($p={})).Ma="default",gb.Cache="cache";class Tj{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new $l(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=$l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.key=e}}class dw{constructor(e){this.key=e}}class Sj{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Be(),this.mutatedKeys=Be(),this.eu=kE(e),this.tu=new Pl(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new mb,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,E)=>{const T=l.get(b),N=kd(this.query,E)?E:null,L=!!T&&this.mutatedKeys.has(T.key),P=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let O=!1;T&&N?T.data.isEqual(N.data)?L!==P&&(r.track({type:3,doc:N}),O=!0):this.su(T,N)||(r.track({type:2,doc:N}),O=!0,(g&&this.eu(N,g)>0||y&&this.eu(N,y)<0)&&(p=!0)):!T&&N?(r.track({type:0,doc:N}),O=!0):T&&!N&&(r.track({type:1,doc:T}),O=!0,(g||y)&&(p=!0)),O&&(N?(u=u.add(N),c=P?c.add(b):c.delete(b)):(u=u.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const b=this.query.limitType==="F"?u.last():u.first();u=u.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{tu:u,iu:r,Ss:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((b,E)=>(function(N,L){const P=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:O})}};return P(N)-P(L)})(b.type,E.type)||this.eu(b.doc,E.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],g=this.Ya.size===0&&this.current&&!l?1:0,y=g!==this.Xa;return this.Xa=g,u.length!==0||y?{snapshot:new $l(this.query,e.tu,c,u,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mb,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new dw(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new hw(r))})),n}cu(e){this.Za=e.ks,this.Ya=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return $l.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Gg="SyncEngine";class Aj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Nj{constructor(e){this.key=e,this.hu=!1}}class Rj{constructor(e,n,r,l,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ma((p=>IE(p)),Id),this.Iu=new Map,this.Eu=new Set,this.Ru=new ft(xe.comparator),this.Au=new Map,this.Vu=new Og,this.du={},this.mu=new Map,this.fu=Gl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Cj(s,e,n=!0){const r=vw(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await fw(r,e,n,!0),l}async function Ij(s,e){const n=vw(s);await fw(n,e,!0,!1)}async function fw(s,e,n,r){const l=await $5(s.localStore,Qs(e)),c=l.targetId,u=s.sharedClientState.addLocalQueryTarget(c,n);let p;return r&&(p=await kj(s,e,c,u==="current",l.resumeToken)),s.isPrimaryClient&&n&&rw(s.remoteStore,l),p}async function kj(s,e,n,r,l){s.pu=(E,T,N)=>(async function(P,O,W,K){let q=O.view.ru(W);q.Ss&&(q=await ob(P.localStore,O.query,!1).then((({documents:I})=>O.view.ru(I,q))));const ae=K&&K.targetChanges.get(O.targetId),Z=K&&K.targetMismatches.get(O.targetId)!=null,he=O.view.applyChanges(q,P.isPrimaryClient,ae,Z);return vb(P,O.targetId,he.au),he.snapshot})(s,E,T,N);const c=await ob(s.localStore,e,!0),u=new Sj(e,c.ks),p=u.ru(c.documents),g=Qc.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),y=u.applyChanges(p,s.isPrimaryClient,g);vb(s,n,y.au);const b=new Aj(e,n,u);return s.Tu.set(e,b),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function jj(s,e,n){const r=Re(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((u=>!Id(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Fp(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&Ug(r.remoteStore,l.targetId),Kp(r,l.targetId)})).catch(eo)):(Kp(r,l.targetId),await Fp(r.localStore,l.targetId,!0))}async function Dj(s,e){const n=Re(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ug(n.remoteStore,r.targetId))}async function Oj(s,e,n){const r=Bj(s);try{const l=await(function(u,p){const g=Re(u),y=lt.now(),b=p.reduce(((N,L)=>N.add(L.key)),Be());let E,T;return g.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let L=ki(),P=Be();return g.xs.getEntries(N,b).next((O=>{L=O,L.forEach(((W,K)=>{K.isValidDocument()||(P=P.add(W))}))})).next((()=>g.localDocuments.getOverlayedDocuments(N,L))).next((O=>{E=O;const W=[];for(const K of p){const q=G4(K,E.get(K.key).overlayedDocument);q!=null&&W.push(new Lr(K.key,q,EE(q.value.mapValue),ps.exists(!0)))}return g.mutationQueue.addMutationBatch(N,y,W,p)})).next((O=>{T=O;const W=O.applyToLocalDocumentSet(E,P);return g.documentOverlayCache.saveOverlays(N,O.batchId,W)}))})).then((()=>({batchId:T.batchId,changes:DE(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(u,p,g){let y=u.du[u.currentUser.toKey()];y||(y=new ft(ze)),y=y.insert(p,g),u.du[u.currentUser.toKey()]=y})(r,l.batchId,n),await Jc(r,l.changes),await Pd(r.remoteStore)}catch(l){const c=Hg(l,"Failed to persist write");n.reject(c)}}async function mw(s,e){const n=Re(s);try{const r=await H5(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const u=n.Au.get(c);u&&(Qe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?u.hu=!0:l.modifiedDocuments.size>0?Qe(u.hu,14607):l.removedDocuments.size>0&&(Qe(u.hu,42227),u.hu=!1))})),await Jc(n,r,e)}catch(r){await eo(r)}}function yb(s,e,n){const r=Re(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((c,u)=>{const p=u.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(u,p){const g=Re(u);g.onlineState=p;let y=!1;g.queries.forEach(((b,E)=>{for(const T of E.ba)T.va(p)&&(y=!0)})),y&&Fg(g)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Mj(s,e,n){const r=Re(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),c=l&&l.key;if(c){let u=new ft(xe.comparator);u=u.insert(c,an.newNoDocument(c,Ae.min()));const p=Be().add(c),g=new Od(Ae.min(),new Map,new ft(ze),u,p);await mw(r,g),r.Ru=r.Ru.remove(c),r.Au.delete(e),$g(r)}else await Fp(r.localStore,e,!1).then((()=>Kp(r,e,n))).catch(eo)}async function Vj(s,e){const n=Re(s),r=e.batch.batchId;try{const l=await q5(n.localStore,e);gw(n,r,null),pw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jc(n,l)}catch(l){await eo(l)}}async function Pj(s,e,n){const r=Re(s);try{const l=await(function(u,p){const g=Re(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(Qe(E!==null,37113),b=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>g.localDocuments.getDocuments(y,b)))}))})(r.localStore,e);gw(r,e,n),pw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Jc(r,l)}catch(l){await eo(l)}}function pw(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function gw(s,e,n){const r=Re(s);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function Kp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||yw(s,r)}))}function yw(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(Ug(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),$g(s))}function vb(s,e,n){for(const r of n)r instanceof hw?(s.Vu.addReference(r.key,e),Uj(s,r)):r instanceof dw?(me(Gg,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||yw(s,r.key)):Te(19791,{wu:r})}function Uj(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(me(Gg,"New document in limbo: "+n),s.Eu.add(r),$g(s))}function $g(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new xe(it.fromString(e)),r=s.fu.next();s.Au.set(r,new Nj(n)),s.Ru=s.Ru.insert(n,r),rw(s.remoteStore,new br(Qs(Rg(n.path)),r,"TargetPurposeLimboResolution",Nd.ce))}}async function Jc(s,e,n){const r=Re(s),l=[],c=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{u.push(r.pu(g,e,n).then((y=>{var b;if((y||n)&&r.isPrimaryClient){const E=y?!y.fromCache:(b=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:b.current;r.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){l.push(y);const E=Vg.Es(g.targetId,y);c.push(E)}})))})),await Promise.all(u),r.Pu.J_(l),await(async function(g,y){const b=Re(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>re.forEach(y,(T=>re.forEach(T.Ts,(N=>b.persistence.referenceDelegate.addReference(E,T.targetId,N))).next((()=>re.forEach(T.Is,(N=>b.persistence.referenceDelegate.removeReference(E,T.targetId,N)))))))))}catch(E){if(!to(E))throw E;me(Pg,"Failed to update sequence numbers: "+E)}for(const E of y){const T=E.targetId;if(!E.fromCache){const N=b.vs.get(T),L=N.snapshotVersion,P=N.withLastLimboFreeSnapshotVersion(L);b.vs=b.vs.insert(T,P)}}})(r.localStore,c))}async function Lj(s,e){const n=Re(s);if(!n.currentUser.isEqual(e)){me(Gg,"User change. New user:",e.toKey());const r=await tw(n.localStore,e);n.currentUser=e,(function(c,u){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new fe(ie.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jc(n,r.Ns)}}function zj(s,e){const n=Re(s),r=n.Au.get(e);if(r&&r.hu)return Be().add(r.key);{let l=Be();const c=n.Iu.get(e);if(!c)return l;for(const u of c){const p=n.Tu.get(u);l=l.unionWith(p.view.nu)}return l}}function vw(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=mw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mj.bind(null,e),e.Pu.J_=Ej.bind(null,e.eventManager),e.Pu.yu=wj.bind(null,e.eventManager),e}function Bj(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pj.bind(null,e),e}class pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Md(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return B5(this.persistence,new U5,e.initialUser,this.serializer)}Cu(e){return new ew(Mg.Vi,this.serializer)}Du(e){return new Y5}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pd.provider={build:()=>new pd};class qj extends pd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof fd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new w5(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new ew((r=>fd.Vi(r,n)),this.serializer)}}class Yp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lj.bind(null,this.syncEngine),await yj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _j})()}createDatastore(e){const n=Md(e.databaseInfo.databaseId),r=Z5(e.databaseInfo);return ij(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,c,u,p){return new aj(r,l,c,u,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>yb(this.syncEngine,n,0)),(function(){return hb.v()?new hb:new Q5})())}createSyncEngine(e,n){return(function(l,c,u,p,g,y,b){const E=new Rj(l,c,u,p,g,y);return b&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const c=Re(l);me(ka,"RemoteStore shutting down."),c.Ea.add(5),await Xc(c),c.Aa.shutdown(),c.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Yp.provider={build:()=>new Yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="FirestoreClient";class Fj{constructor(e,n,r,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=Eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async u=>{me(Or,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(me(Or,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Hg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function mp(s,e){s.asyncQueue.verifyOperationInProgress(),me(Or,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await tw(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function _b(s,e){s.asyncQueue.verifyOperationInProgress();const n=await Gj(s);me(Or,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>fb(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>fb(e.remoteStore,l))),s._onlineComponents=e}async function Gj(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){me(Or,"Using user provided OfflineComponentProvider");try{await mp(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ie.FAILED_PRECONDITION||l.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Ia("Error using user provided cache. Falling back to memory cache: "+n),await mp(s,new pd)}}else me(Or,"Using default OfflineComponentProvider"),await mp(s,new qj(void 0));return s._offlineComponents}async function _w(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(me(Or,"Using user provided OnlineComponentProvider"),await _b(s,s._uninitializedComponentsProvider._online)):(me(Or,"Using default OnlineComponentProvider"),await _b(s,new Yp))),s._onlineComponents}function $j(s){return _w(s).then((e=>e.syncEngine))}async function xb(s){const e=await _w(s),n=e.eventManager;return n.onListen=Cj.bind(null,e.syncEngine),n.onUnlisten=jj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ij.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Dj.bind(null,e.syncEngine),n}function Kj(s,e,n,r){const l=new Hj(r),c=new Tj(e,l,n);return s.asyncQueue.enqueueAndForget((async()=>xj(await xb(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>bj(await xb(s),c)))}}function Yj(s,e){const n=new ba;return s.asyncQueue.enqueueAndForget((async()=>Oj(await $j(s),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="ComponentProvider",bb=new Map;function Xj(s,e,n,r,l){return new f4(s,e,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,xw(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="firestore.googleapis.com",Eb=!0;class wb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bw,this.ssl=Eb}else this.host=e.host,this.ssl=e.ssl??Eb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<b5)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xw(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ud{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new $k;switch(r.type){case"firstParty":return new Xk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=bb.get(n);r&&(me(Qj,"Removing Datastore"),bb.delete(n),r.terminate())})(this),Promise.resolve()}}function Jj(s,e,n,r={}){var y;s=Ar(s,Ud);const l=Mr(e),c=s._getSettings(),u={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;l&&(og(`https://${p}`),cg("Firestore",!0)),c.host!==bw&&c.host!==p&&Ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:r};if(!Aa(g,u)&&(s._setSettings(g),r.mockUserToken)){let b,E;if(typeof r.mockUserToken=="string")b=r.mockUserToken,E=rn.MOCK_USER;else{b=p1(r.mockUserToken,(y=s._app)==null?void 0:y.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(T)}s._authCredentials=new Kk(new uE(b,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pa(this.firestore,e,this._query)}}class Ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Kc(n,Ut._jsonSchema))return new Ut(e,r||null,new xe(it.fromString(n.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Pt("string",Ut._jsonSchemaVersion),referencePath:Pt("string")};class Nr extends Pa{constructor(e,n,r){super(e,n,Rg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new xe(e))}withConverter(e){return new Nr(this.firestore,e,this._path)}}function io(s,e,...n){if(s=ht(s),hE("collection","path",e),s instanceof Ud){const r=it.fromString(e,...n);return Mx(r),new Nr(s,null,r)}{if(!(s instanceof Ut||s instanceof Nr))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return Mx(r),new Nr(s.firestore,null,r)}}function Ua(s,e,...n){if(s=ht(s),arguments.length===1&&(e=Eg.newId()),hE("doc","path",e),s instanceof Ud){const r=it.fromString(e,...n);return Ox(r),new Ut(s,null,new xe(r))}{if(!(s instanceof Ut||s instanceof Nr))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return Ox(r),new Ut(s.firestore,s instanceof Nr?s.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="AsyncQueue";class Sb{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sw(this,"async_queue_retry"),this._c=()=>{const r=fp();r&&me(Tb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=fp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=fp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ba;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!to(e))throw e;me(Tb,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ii("INTERNAL UNHANDLED ERROR: ",Ab(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=qg.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Te(47125,{Pc:Ab(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ab(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Kl extends Ud{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new Sb,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sb(e),this._firestoreClient=void 0,await e}}}function Wj(s,e){const n=typeof s=="object"?s:dg(),r=typeof s=="string"?s:ld,l=Ed(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=d1("firestore");c&&Jj(l,...c)}return l}function Ew(s){if(s._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Zj(s),s._firestoreClient}function Zj(s){var r,l,c,u;const e=s._freezeSettings(),n=Xj(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,(l=s._app)==null?void 0:l.options.apiKey,e);s._componentsProvider||(c=e.localCache)!=null&&c._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Fj(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(en.fromBase64String(e))}catch(n){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zn(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kc(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Pt("string",Zn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Js._jsonSchemaVersion}}static fromJSON(e){if(Kc(e,Js._jsonSchema))return new Js(e.latitude,e.longitude)}}Js._jsonSchemaVersion="firestore/geoPoint/1.0",Js._jsonSchema={type:Pt("string",Js._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kc(e,gs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new gs(e.vectorValues);throw new fe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gs._jsonSchemaVersion="firestore/vectorValue/1.0",gs._jsonSchema={type:Pt("string",gs._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=/^__.*__$/;class tD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Lr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yc(e,this.data,n,this.fieldTransforms)}}class ww{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Lr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Tw(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:s})}}class Qg{constructor(e,n,r,l,c,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Qg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var l;const n=(l=this.path)==null?void 0:l.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var l;const n=(l=this.path)==null?void 0:l.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return gd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Tw(this.dataSource)&&eD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class nD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Md(e)}createContext(e,n,r,l=!1){return new Qg({dataSource:e,methodName:n,targetDoc:r,path:Zt.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xg(s){const e=s._freezeSettings(),n=Md(s._databaseId);return new nD(s._databaseId,!!e.ignoreUndefinedProperties,n)}function sD(s,e,n,r,l,c={}){const u=s.createContext(c.merge||c.mergeFields?2:0,e,n,l);Jg("Data must be an object, but it was:",u,r);const p=Sw(r,u);let g,y;if(c.merge)g=new On(u.fieldMask),y=u.fieldTransforms;else if(c.mergeFields){const b=[];for(const E of c.mergeFields){const T=Yl(e,E,n);if(!u.contains(T))throw new fe(ie.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Rw(b,T)||b.push(T)}g=new On(b),y=u.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=u.fieldTransforms;return new tD(new En(p),g,y)}class Ld extends Yg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ld}}function iD(s,e,n,r){const l=s.createContext(1,e,n);Jg("Data must be an object, but it was:",l,r);const c=[],u=En.empty();Ur(r,((g,y)=>{const b=Nw(e,g,n);y=ht(y);const E=l.childContextForFieldPath(b);if(y instanceof Ld)c.push(b);else{const T=Wc(y,E);T!=null&&(c.push(b),u.set(b,T))}}));const p=new On(c);return new ww(u,p,l.fieldTransforms)}function rD(s,e,n,r,l,c){const u=s.createContext(1,e,n),p=[Yl(e,r,n)],g=[l];if(c.length%2!=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<c.length;T+=2)p.push(Yl(e,c[T])),g.push(c[T+1]);const y=[],b=En.empty();for(let T=p.length-1;T>=0;--T)if(!Rw(y,p[T])){const N=p[T];let L=g[T];L=ht(L);const P=u.childContextForFieldPath(N);if(L instanceof Ld)y.push(N);else{const O=Wc(L,P);O!=null&&(y.push(N),b.set(N,O))}}const E=new On(y);return new ww(b,E,u.fieldTransforms)}function aD(s,e,n,r=!1){return Wc(n,s.createContext(r?4:3,e))}function Wc(s,e){if(Aw(s=ht(s)))return Jg("Unsupported field value:",e,s),Sw(s,e);if(s instanceof Yg)return(function(r,l){if(!Tw(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const c=[];let u=0;for(const p of r){let g=Wc(p,l.childContextForArray(u));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),u++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return L4(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=lt.fromDate(r);return{timestampValue:dd(l.serializer,c)}}if(r instanceof lt){const c=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dd(l.serializer,c)}}if(r instanceof Js)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zn)return{bytesValue:GE(l.serializer,r._byteString)};if(r instanceof Ut){const c=l.databaseId,u=r.firestore._databaseId;if(!u.isEqual(c))throw l.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof gs)return(function(u,p){const g=u instanceof gs?u.toArray():u;return{mapValue:{fields:{[xE]:{stringValue:bE},[od]:{arrayValue:{values:g.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return Cg(p.serializer,b)}))}}}}}})(r,l);if(WE(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Ad(r)}`)})(s,e)}function Sw(s,e){const n={};return mE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ur(s,((r,l)=>{const c=Wc(l,e.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function Aw(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof lt||s instanceof Js||s instanceof Zn||s instanceof Ut||s instanceof Yg||s instanceof gs||WE(s))}function Jg(s,e,n){if(!Aw(n)||!dE(n)){const r=Ad(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function Yl(s,e,n){if((e=ht(e))instanceof Kg)return e._internalPath;if(typeof e=="string")return Nw(s,e);throw gd("Field path arguments must be of type string or ",s,!1,void 0,n)}const lD=new RegExp("[~\\*/\\[\\]]");function Nw(s,e,n){if(e.search(lD)>=0)throw gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Kg(...e.split("."))._internalPath}catch{throw gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function gd(s,e,n,r,l){const c=r&&!r.isEmpty(),u=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||u)&&(g+=" (found",c&&(g+=` in field ${r}`),u&&(g+=` in document ${l}`),g+=")"),new fe(ie.INVALID_ARGUMENT,p+s+g)}function Rw(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{convertValue(e,n="none"){switch(jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ur(e,((l,c)=>{r[l]=this.convertValue(c,n)})),r}convertVectorValue(e){var r,l,c;const n=(c=(l=(r=e.fields)==null?void 0:r[od].arrayValue)==null?void 0:l.values)==null?void 0:c.map((u=>At(u.doubleValue)));return new gs(n)}convertGeoPoint(e){return new Js(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dc(e));default:return null}}convertTimestamp(e){const n=Ir(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Qe(JE(r),9688,{name:e});const l=new Oc(r.get(1),r.get(3)),c=new xe(r.popFirst(5));return l.isEqual(n)||Ii(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw extends oD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}const Nb="@firebase/firestore",Rb="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n,r,l,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Yl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cD extends Iw{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wg{}class kw extends Wg{}function Zc(s,e,...n){let r=[];e instanceof Wg&&r.push(e),r=r.concat(n),(function(c){const u=c.filter((g=>g instanceof e0)).length,p=c.filter((g=>g instanceof Zg)).length;if(u>1||u>0&&p>0)throw new fe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Zg extends kw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Zg(e,n,r)}_apply(e){const n=this._parse(e);return jw(e._query,n),new Pa(e.firestore,e.converter,Up(e._query,n))}_parse(e){const n=Xg(e.firestore);return(function(c,u,p,g,y,b,E){let T;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){kb(E,b);const L=[];for(const P of E)L.push(Ib(g,c,P));T={arrayValue:{values:L}}}else T=Ib(g,c,E)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||kb(E,b),T=aD(p,u,E,b==="in"||b==="not-in");return Vt.create(y,b,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class e0 extends Wg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new e0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:vs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let u=l;const p=c.getFlattenedFilters();for(const g of p)jw(u,g),u=Up(u,g)})(e._query,n),new Pa(e.firestore,e.converter,Up(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class t0 extends kw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t0(e,n)}_apply(e){const n=(function(l,c,u){if(l.startAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vc(c,u)})(e._query,this._field,this._direction);return new Pa(e.firestore,e.converter,k4(e._query,n))}}function n0(s,e="asc"){const n=e,r=Yl("orderBy",s);return t0._create(r,n)}function Ib(s,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new fe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CE(e)&&n.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!xe.isDocumentKey(r))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Hx(s,new xe(r))}if(n instanceof Ut)return Hx(s,n._key);throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ad(n)}.`)}function kb(s,e){if(!Array.isArray(s)||s.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jw(s,e){const n=(function(l,c){for(const u of l)for(const p of u.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function hD(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class gc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ea extends Iw{constructor(e,n,r,l,c,u){super(e,n,r,l,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Yl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ea._jsonSchema={type:Pt("string",Ea._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Yh extends Ea{data(e={}){return super.data(e)}}class Ul{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new gc(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Yh(this._firestore,this._userDataWriter,r.key,r,new gc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let u=0;return l._snapshot.docChanges.map((p=>{const g=new Yh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new gc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Yh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new gc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return p.type!==0&&(y=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),p.type!==1&&(u=u.add(p.doc),b=u.indexOf(p.doc.key)),{type:dD(p.type),doc:g,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Eg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:s})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ul._jsonSchemaVersion="firestore/querySnapshot/1.0",Ul._jsonSchema={type:Pt("string",Ul._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};function Dw(s,e,n,...r){s=Ar(s,Ut);const l=Ar(s.firestore,Kl),c=Xg(l);let u;return u=typeof(e=ht(e))=="string"||e instanceof Kg?rD(c,"updateDoc",s._key,e,n,r):iD(c,"updateDoc",s._key,e),s0(l,[u.toMutation(s._key,ps.exists(!0))])}function zd(s){return s0(Ar(s.firestore,Kl),[new Ig(s._key,ps.none())])}function fD(s,e){const n=Ar(s.firestore,Kl),r=Ua(s),l=hD(s.converter,e),c=Xg(s.firestore);return s0(n,[sD(c,"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,ps.exists(!1))]).then((()=>r))}function eu(s,...e){var y,b,E;s=ht(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Cb(e[r])||(n=e[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Cb(e[r])){const T=e[r];e[r]=(y=T.next)==null?void 0:y.bind(T),e[r+1]=(b=T.error)==null?void 0:b.bind(T),e[r+2]=(E=T.complete)==null?void 0:E.bind(T)}let c,u,p;if(s instanceof Ut)u=Ar(s.firestore,Kl),p=Rg(s._key.path),c={next:T=>{e[r]&&e[r](mD(u,s,T))},error:e[r+1],complete:e[r+2]};else{const T=Ar(s,Pa);u=Ar(T.firestore,Kl),p=T._query;const N=new Cw(u);c={next:L=>{e[r]&&e[r](new Ul(u,N,T,L))},error:e[r+1],complete:e[r+2]},uD(s._query)}const g=Ew(u);return Kj(g,p,l,c)}function s0(s,e){const n=Ew(s);return Yj(n,e)}function mD(s,e,n){const r=n.docs.get(e._key),l=new Cw(s);return new Ea(s,l,e._key,r,new gc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){Gk(Oa),Na(new Rr("firestore",((r,{instanceIdentifier:l,options:c})=>{const u=r.getProvider("app").getImmediate(),p=new Kl(new Yk(r.getProvider("auth-internal")),new Jk(u,r.getProvider("app-check-internal")),m4(u,l),u);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Gs(Nb,Rb,e),Gs(Nb,Rb,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="firebasestorage.googleapis.com",Mw="storageBucket",pD=120*1e3,gD=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt extends ti{constructor(e,n,r=0){super(pp(e),`Firebase Storage: ${n} (${pp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return pp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _t;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function pp(s){return"storage/"+s}function i0(){const s="An unknown error occurred, please check the error payload for server response.";return new xt(_t.UNKNOWN,s)}function yD(s){return new xt(_t.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function vD(s){return new xt(_t.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _D(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xt(_t.UNAUTHENTICATED,s)}function xD(){return new xt(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bD(s){return new xt(_t.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function ED(){return new xt(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wD(){return new xt(_t.CANCELED,"User canceled the upload/download.")}function TD(s){return new xt(_t.INVALID_URL,"Invalid URL '"+s+"'.")}function SD(s){return new xt(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function AD(){return new xt(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Mw+"' property when initializing the app?")}function ND(){return new xt(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function RD(){return new xt(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function CD(s){return new xt(_t.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qp(s){return new xt(_t.INVALID_ARGUMENT,s)}function Vw(){return new xt(_t.APP_DELETED,"The Firebase app was deleted.")}function ID(s){return new xt(_t.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rc(s,e){return new xt(_t.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function uc(s){throw new xt(_t.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Mn.makeFromUrl(e,n)}catch{return new Mn(e,"")}if(r.path==="")return r;throw SD(e)}static makeFromUrl(e,n){let r=null;const l="([A-Za-z0-9.\\-_]+)";function c(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const u="(/(.*))?$",p=new RegExp("^gs://"+l+u,"i"),g={bucket:1,path:3};function y(ae){ae.path_=decodeURIComponent(ae.path)}const b="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",N=new RegExp(`^https?://${E}/${b}/b/${l}/o${T}`,"i"),L={bucket:1,path:3},P=n===Ow?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",W=new RegExp(`^https?://${P}/${l}/${O}`,"i"),q=[{regex:p,indices:g,postModify:c},{regex:N,indices:L,postModify:y},{regex:W,indices:{bucket:1,path:2},postModify:y}];for(let ae=0;ae<q.length;ae++){const Z=q[ae],he=Z.regex.exec(e);if(he){const I=he[Z.indices.bucket];let R=he[Z.indices.path];R||(R=""),r=new Mn(I,R),Z.postModify(r);break}}if(r==null)throw TD(e);return r}}class kD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(s,e,n){let r=1,l=null,c=null,u=!1,p=0;function g(){return p===2}let y=!1;function b(...O){y||(y=!0,e.apply(null,O))}function E(O){l=setTimeout(()=>{l=null,s(N,g())},O)}function T(){c&&clearTimeout(c)}function N(O,...W){if(y){T();return}if(O){T(),b.call(null,O,...W);return}if(g()||u){T(),b.call(null,O,...W);return}r<64&&(r*=2);let q;p===1?(p=2,q=0):q=(r+Math.random())*1e3,E(q)}let L=!1;function P(O){L||(L=!0,T(),!y&&(l!==null?(O||(p=2),clearTimeout(l),E(0)):O||(p=1)))}return E(0),c=setTimeout(()=>{u=!0,P(!0)},n),P}function DD(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(s){return s!==void 0}function MD(s){return typeof s=="object"&&!Array.isArray(s)}function r0(s){return typeof s=="string"||s instanceof String}function jb(s){return a0()&&s instanceof Blob}function a0(){return typeof Blob<"u"}function Db(s,e,n,r){if(r<e)throw Qp(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>n)throw Qp(`Invalid value for '${s}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(s,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${s}`}function Pw(s){const e=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const l=e(r)+"="+e(s[r]);n=n+l+"&"}return n=n.slice(0,-1),n}var wa;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(wa||(wa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(s,e){const n=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return n||l||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n,r,l,c,u,p,g,y,b,E,T=!0,N=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=l,this.successCodes_=c,this.additionalRetryCodes_=u,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=b,this.connectionFactory_=E,this.retry=T,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,P)=>{this.resolve_=L,this.reject_=P,this.start_()})}start_(){const e=(r,l)=>{if(l){r(!1,new Mh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const u=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(u),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(u),this.pendingConnection_=null;const p=c.getErrorCode()===wa.NO_ERROR,g=c.getStatus();if(!p||VD(g,this.additionalRetryCodes_)&&this.retry){const b=c.getErrorCode()===wa.ABORT;r(!1,new Mh(!1,null,b));return}const y=this.successCodes_.indexOf(g)!==-1;r(!0,new Mh(y,c))})},n=(r,l)=>{const c=this.resolve_,u=this.reject_,p=l.connection;if(l.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());OD(g)?c(g):c()}catch(g){u(g)}else if(p!==null){const g=i0();g.serverResponse=p.getErrorText(),this.errorCallback_?u(this.errorCallback_(p,g)):u(g)}else if(l.canceled){const g=this.appDelete_?Vw():wD();u(g)}else{const g=ED();u(g)}};this.canceled_?n(!1,new Mh(!1,null,!0)):this.backoffId_=jD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&DD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function UD(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function LD(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zD(s,e){e&&(s["X-Firebase-GMPID"]=e)}function BD(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function qD(s,e,n,r,l,c,u=!0,p=!1){const g=Pw(s.urlParams),y=s.url+g,b=Object.assign({},s.headers);return zD(b,e),UD(b,n),LD(b,c),BD(b,r),new PD(y,s.method,b,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,u,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function FD(...s){const e=HD();if(e!==void 0){const n=new e;for(let r=0;r<s.length;r++)n.append(s[r]);return n.getBlob()}else{if(a0())return new Blob(s);throw new xt(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function GD(s,e,n){return s.webkitSlice?s.webkitSlice(e,n):s.mozSlice?s.mozSlice(e,n):s.slice?s.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(s){if(typeof atob>"u")throw CD("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gp{constructor(e,n){this.data=e,this.contentType=n||null}}function KD(s,e){switch(s){case Fs.RAW:return new gp(Uw(e));case Fs.BASE64:case Fs.BASE64URL:return new gp(Lw(s,e));case Fs.DATA_URL:return new gp(QD(e),XD(e))}throw i0()}function Uw(s){const e=[];for(let n=0;n<s.length;n++){let r=s.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const c=r,u=s.charCodeAt(++n);r=65536|(c&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function YD(s){let e;try{e=decodeURIComponent(s)}catch{throw Rc(Fs.DATA_URL,"Malformed data URL.")}return Uw(e)}function Lw(s,e){switch(s){case Fs.BASE64:{const l=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(l||c)throw Rc(s,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Fs.BASE64URL:{const l=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(l||c)throw Rc(s,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=$D(e)}catch(l){throw l.message.includes("polyfill")?l:Rc(s,"Invalid character found")}const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r}class zw{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rc(Fs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=JD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function QD(s){const e=new zw(s);return e.base64?Lw(Fs.BASE64,e.rest):YD(e.rest)}function XD(s){return new zw(s).contentType}function JD(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n){let r=0,l="";jb(e)?(this.data_=e,r=e.size,l=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,n){if(jb(this.data_)){const r=this.data_,l=GD(r,e,n);return l===null?null:new _r(l)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new _r(r,!0)}}static getBlob(...e){if(a0()){const n=e.map(r=>r instanceof _r?r.data_:r);return new _r(FD.apply(null,n))}else{const n=e.map(u=>r0(u)?KD(Fs.RAW,u).data:u.data_);let r=0;n.forEach(u=>{r+=u.byteLength});const l=new Uint8Array(r);let c=0;return n.forEach(u=>{for(let p=0;p<u.length;p++)l[c++]=u[p]}),new _r(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(s){let e;try{e=JSON.parse(s)}catch{return null}return MD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function ZD(s,e){const n=e.split("/").filter(r=>r.length>0).join("/");return s.length===0?n:s+"/"+n}function qw(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(s,e){return e}class hn{constructor(e,n,r,l){this.server=e,this.local=n||e,this.writable=!!r,this.xform=l||e3}}let Vh=null;function t3(s){return!r0(s)||s.length<2?s:qw(s)}function Hw(){if(Vh)return Vh;const s=[];s.push(new hn("bucket")),s.push(new hn("generation")),s.push(new hn("metageneration")),s.push(new hn("name","fullPath",!0));function e(c,u){return t3(u)}const n=new hn("name");n.xform=e,s.push(n);function r(c,u){return u!==void 0?Number(u):u}const l=new hn("size");return l.xform=r,s.push(l),s.push(new hn("timeCreated")),s.push(new hn("updated")),s.push(new hn("md5Hash",null,!0)),s.push(new hn("cacheControl",null,!0)),s.push(new hn("contentDisposition",null,!0)),s.push(new hn("contentEncoding",null,!0)),s.push(new hn("contentLanguage",null,!0)),s.push(new hn("contentType",null,!0)),s.push(new hn("metadata","customMetadata",!0)),Vh=s,Vh}function n3(s,e){function n(){const r=s.bucket,l=s.fullPath,c=new Mn(r,l);return e._makeStorageReference(c)}Object.defineProperty(s,"ref",{get:n})}function s3(s,e,n){const r={};r.type="file";const l=n.length;for(let c=0;c<l;c++){const u=n[c];r[u.local]=u.xform(r,e[u.server])}return n3(r,s),r}function Fw(s,e,n){const r=Bw(e);return r===null?null:s3(s,r,n)}function i3(s,e,n,r){const l=Bw(e);if(l===null||!r0(l.downloadTokens))return null;const c=l.downloadTokens;if(c.length===0)return null;const u=encodeURIComponent;return c.split(",").map(y=>{const b=s.bucket,E=s.fullPath,T="/b/"+u(b)+"/o/"+u(E),N=l0(T,n,r),L=Pw({alt:"media",token:y});return N+L})[0]}function r3(s,e){const n={},r=e.length;for(let l=0;l<r;l++){const c=e[l];c.writable&&(n[c.server]=s[c.local])}return JSON.stringify(n)}class Gw{constructor(e,n,r,l){this.url=e,this.method=n,this.handler=r,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(s){if(!s)throw i0()}function a3(s,e){function n(r,l){const c=Fw(s,l,e);return $w(c!==null),c}return n}function l3(s,e){function n(r,l){const c=Fw(s,l,e);return $w(c!==null),i3(c,l,s.host,s._protocol)}return n}function Kw(s){function e(n,r){let l;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?l=xD():l=_D():n.getStatus()===402?l=vD(s.bucket):n.getStatus()===403?l=bD(s.path):l=r,l.status=n.getStatus(),l.serverResponse=r.serverResponse,l}return e}function o3(s){const e=Kw(s);function n(r,l){let c=e(r,l);return r.getStatus()===404&&(c=yD(s.path)),c.serverResponse=l.serverResponse,c}return n}function c3(s,e,n){const r=e.fullServerUrl(),l=l0(r,s.host,s._protocol),c="GET",u=s.maxOperationRetryTime,p=new Gw(l,c,l3(s,n),u);return p.errorHandler=o3(e),p}function u3(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function h3(s,e,n){const r=Object.assign({},n);return r.fullPath=s.path,r.size=e.size(),r.contentType||(r.contentType=u3(null,e)),r}function d3(s,e,n,r,l){const c=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function p(){let q="";for(let ae=0;ae<2;ae++)q=q+Math.random().toString().slice(2);return q}const g=p();u["Content-Type"]="multipart/related; boundary="+g;const y=h3(e,r,l),b=r3(y,n),E="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+g+`\r
Content-Type: `+y.contentType+`\r
\r
`,T=`\r
--`+g+"--",N=_r.getBlob(E,r,T);if(N===null)throw ND();const L={name:y.fullPath},P=l0(c,s.host,s._protocol),O="POST",W=s.maxUploadRetryTime,K=new Gw(P,O,a3(s,n),W);return K.urlParams=L,K.headers=u,K.body=N.uploadData(),K.errorHandler=Kw(e),K}class f3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,l,c){if(this.sent_)throw uc("cannot .send() more than once");if(Mr(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),c!==void 0)for(const u in c)c.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,c[u].toString());return l!==void 0?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw uc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw uc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw uc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw uc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class m3 extends f3{initXhr(){this.xhr_.responseType="text"}}function Yw(){return new m3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this._service=e,n instanceof Mn?this._location=n:this._location=Mn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ja(e,n)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qw(this._location.path)}get storage(){return this._service}get parent(){const e=WD(this._location.path);if(e===null)return null;const n=new Mn(this._location.bucket,e);return new ja(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ID(e)}}function p3(s,e,n){s._throwIfRoot("uploadBytes");const r=d3(s.storage,s._location,Hw(),new _r(e,!0),n);return s.storage.makeRequestWithTokens(r,Yw).then(l=>({metadata:l,ref:s}))}function g3(s){s._throwIfRoot("getDownloadURL");const e=c3(s.storage,s._location,Hw());return s.storage.makeRequestWithTokens(e,Yw).then(n=>{if(n===null)throw RD();return n})}function y3(s,e){const n=ZD(s._location.path,e),r=new Mn(s._location.bucket,n);return new ja(s.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(s){return/^[A-Za-z]+:\/\//.test(s)}function _3(s,e){return new ja(s,e)}function Qw(s,e){if(s instanceof o0){const n=s;if(n._bucket==null)throw AD();const r=new ja(n,n._bucket);return e!=null?Qw(r,e):r}else return e!==void 0?y3(s,e):s}function x3(s,e){if(e&&v3(e)){if(s instanceof o0)return _3(s,e);throw Qp("To use ref(service, url), the first argument must be a Storage instance.")}else return Qw(s,e)}function Ob(s,e){const n=e==null?void 0:e[Mw];return n==null?null:Mn.makeFromBucketSpec(n,s)}function b3(s,e,n,r={}){s.host=`${e}:${n}`;const l=Mr(e);l&&(og(`https://${s.host}/b`),cg("Storage",!0)),s._isUsingEmulator=!0,s._protocol=l?"https":"http";const{mockUserToken:c}=r;c&&(s._overrideAuthToken=typeof c=="string"?c:p1(c,s.app.options.projectId))}class o0{constructor(e,n,r,l,c,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=l,this._firebaseVersion=c,this._isUsingEmulator=u,this._bucket=null,this._host=Ow,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pD,this._maxUploadRetryTime=gD,this._requests=new Set,l!=null?this._bucket=Mn.makeFromBucketSpec(l,this._host):this._bucket=Ob(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=Ob(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Db("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Db("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ja(this,e)}_makeRequest(e,n,r,l,c=!0){if(this._deleted)return new kD(Vw());{const u=qD(e,this._appId,r,l,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,l).getPromise()}}const Mb="@firebase/storage",Vb="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="storage";function E3(s,e,n){return s=ht(s),p3(s,e,n)}function w3(s){return s=ht(s),g3(s)}function T3(s,e){return s=ht(s),x3(s,e)}function S3(s=dg(),e){s=ht(s);const r=Ed(s,Xw).getImmediate({identifier:e}),l=d1("storage");return l&&A3(r,...l),r}function A3(s,e,n,r={}){b3(s,e,n,r)}function N3(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new o0(n,r,l,e,Oa)}function R3(){Na(new Rr(Xw,N3,"PUBLIC").setMultipleInstances(!0)),Gs(Mb,Vb,""),Gs(Mb,Vb,"esm2020")}R3();const C3={apiKey:"AIzaSyDIYLFaM7IX1pDUkcvSKKig4Pu0jFyrM6Y",authDomain:"app-exercicio-max.firebaseapp.com",projectId:"app-exercicio-max",storageBucket:"app-exercicio-max.firebasestorage.app",messagingSenderId:"421765071196",appId:"1:421765071196:web:787567a356a1ea31954199",measurementId:"G-CVDFKJGE2H"},c0=v1(C3),Hs=Hk(c0),ts=Wj(c0),I3=S3(c0),k3=1e4,j3=2e4,D3=1e4,O3=async()=>new Promise(async(s,e)=>{if(!navigator.geolocation){e({code:"UNKNOWN",message:"Geolocalizao no suportada pelo navegador.",isSystemError:!0});return}if(navigator.permissions&&navigator.permissions.query)try{if((await navigator.permissions.query({name:"geolocation"})).state==="denied"){e({code:"PERMISSION_DENIED",message:"Permisso de localizao bloqueada pelo usurio.",isSystemError:!1});return}}catch(l){console.warn("Erro ao verificar permisses:",l)}const n=l=>{s({latitude:l.coords.latitude,longitude:l.coords.longitude,accuracy:l.coords.accuracy})},r=async l=>{if(l.code===1){e({code:"PERMISSION_DENIED",message:"Permisso de localizao negada.",isSystemError:!1});return}console.warn(`Erro GPS de alta preciso (${l.code}): ${l.message}. Tentando fallback...`),navigator.geolocation.getCurrentPosition(n,c=>{let u="UNKNOWN",p=c.message;c.code===1?u="PERMISSION_DENIED":c.code===2?u="POSITION_UNAVAILABLE":c.code===3&&(u="TIMEOUT"),e({code:u,message:p,isSystemError:!0})},{enableHighAccuracy:!1,timeout:j3,maximumAge:6e4})};navigator.geolocation.getCurrentPosition(n,r,{enableHighAccuracy:!0,timeout:k3,maximumAge:D3})}),Bd=()=>new Promise((s,e)=>{if(Hs.currentUser){console.log("GUARD: Already authenticated",Hs.currentUser.uid),s(Hs.currentUser);return}console.log("GUARD: Starting anonymous auth..."),II(Hs,Y1).then(()=>wI(Hs)).then(n=>{console.log("GUARD: Signed in anonymously",n.user.uid),s(n.user)}).catch(n=>{console.error("GUARD: Auth failed",n),e(n)})}),M3=async()=>await O3(),u0=(s,e,n)=>{var r;console.group(` FIREBASE GUARD: ${s}`),console.log("AUTH UID:",((r=Hs.currentUser)==null?void 0:r.uid)||" UNANTENTICATED"),console.log("PATH:",e),n&&console.log("DATA:",n),console.groupEnd()},qd=async(s,e)=>(await Bd(),u0("addDoc",s,e),await fD(io(ts,s),e)),h0=async(s,e,n)=>{await Bd();const r=`${s}/${e}`;u0("updateDoc",r,n);const l=Ua(ts,s,e);return await Dw(l,n)},Hd=async(s,e)=>{const n=await Bd();if(!s.type.startsWith("image/"))throw new Error("Apenas imagens so permitidas.");if(s.size>5*1024*1024)throw new Error("A imagem deve ter no mximo 5MB.");const r=e||`uploads/${n.uid}/${Date.now()}_${s.name}`;u0("uploadBytes",r,{size:s.size,type:s.type});const l=T3(I3,r),c=await E3(l,s);return await w3(c.ref)};var vt=(s=>(s.ACTIVE="ativo",s.ELIMINATED="eliminado",s.PENDING="analise",s))(vt||{});const Fd="users",Gd="timeSlots",Jw="checkIns",V3="distributions",$d="categories",ro=s=>{const e=Zc(io(ts,Fd),n0("createdAt","desc"));return eu(e,n=>{const r=n.docs.map(l=>({id:l.id,...l.data()}));s(r)})},Ww=async s=>{const e={...s,balance:s.depositedValue,status:s.status||vt.PENDING,createdAt:new Date().toISOString(),photoUrl:s.photoUrl||""};await qd(Fd,e)},Pb=async s=>{const{id:e,...n}=s;await h0(Fd,e,n)},P3=async s=>{await zd(Ua(ts,Fd,s))},d0=s=>{const e=Zc(io(ts,Gd));return eu(e,n=>{const r=n.docs.map(l=>({id:l.id,...l.data()}));s(r)})},U3=async s=>{await qd(Gd,s)},L3=async s=>{await zd(Ua(ts,Gd,s))},z3=async s=>{const e=Ua(ts,Gd,s.id),{id:n,...r}=s;await Dw(e,r)},Kd=s=>{const e=Zc(io(ts,Jw));return eu(e,n=>{const r=n.docs.map(l=>({id:l.id,...l.data()}));s(r)})},B3=async s=>{await zd(Ua(ts,Jw,s))},Zw=s=>{const e=Zc(io(ts,V3),n0("date","asc"));return eu(e,n=>{const r=n.docs.map(l=>({id:l.id,...l.data()}));s(r)})},q3=s=>{const e=Zc(io(ts,$d),n0("name","asc"));return eu(e,n=>{const r=n.docs.map(l=>({id:l.id,...l.data()}));s(r)})},H3=async s=>{await qd($d,s)},F3=async s=>{const{id:e,...n}=s;await h0($d,e,n)},G3=async s=>{await zd(Ua(ts,$d,s))},$3=()=>{const[s,e]=D.useState([]),[n,r]=D.useState(!1),[l,c]=D.useState(""),[u,p]=D.useState(null),[g,y]=D.useState(0),[b,E]=D.useState(!1),[T,N]=D.useState(!1),[L,P]=D.useState(!1),[O,W]=D.useState({name:"",cpf:"",uniqueCode:"",phone:"",depositedValue:0,pixKey:"",street:"",neighborhood:"",city:"",photoUrl:""}),K=()=>{const S="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let j="";for(let M=0;M<4;M++)j+=S.charAt(Math.floor(Math.random()*S.length));return j};D.useEffect(()=>{const S=ro(j=>{e(j)});return()=>S()},[]);const q=async S=>{var M;const j=(M=S.target.files)==null?void 0:M[0];if(j){E(!0),y(0);try{const z=setInterval(()=>{y(te=>Math.min(te+10,90))},200),C=await Hd(j);clearInterval(z),y(100),W(te=>({...te,photoUrl:C})),setTimeout(()=>E(!1),500)}catch(z){console.error("Error uploading:",z),E(!1),y(0),alert(`Erro no Upload: ${z.message}`)}}},ae=async S=>{S.preventDefault(),console.log("Current User:",Hs.currentUser),console.log("Form Data:",O);try{u?await Pb({...u,...O}):await Ww(O),W({name:"",cpf:"",uniqueCode:"",phone:"",depositedValue:0,pixKey:"",street:"",neighborhood:"",city:"",photoUrl:""}),p(null),r(!1)}catch(j){console.error("Error saving user:",j),alert(`Erro ao salvar usurio: ${j.message}`)}},Z=S=>{p(S),W({name:S.name,cpf:S.cpf,uniqueCode:S.uniqueCode,phone:S.phone,depositedValue:S.depositedValue,pixKey:S.pixKey||"",street:S.street||"",neighborhood:S.neighborhood||"",city:S.city||"",photoUrl:S.photoUrl||""}),r(!0)},he=async S=>{try{let j;S.status===vt.PENDING?j=vt.ACTIVE:S.status===vt.ACTIVE?j=vt.ELIMINATED:j=vt.ACTIVE,await Pb({...S,status:j})}catch(j){console.error("Error updating status:",j)}},I=async S=>{if(window.confirm(`TEM CERTEZA QUE DESEJA APAGAR O ATLETA ${S.name.toUpperCase()}? ESTA AO NO PODE SER DESFEITA.`))try{await P3(S.id)}catch(j){console.error("Error deleting user:",j),alert("Erro ao apagar atleta.")}},R=s.filter(S=>S.name.toLowerCase().includes(l.toLowerCase())||S.cpf.includes(l)||S.uniqueCode.toLowerCase().includes(l.toLowerCase()));return d.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{className:"relative w-full md:w-[350px] group text-xs",children:[d.jsx(ag,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-lime-600 transition-colors w-3.5 h-3.5"}),d.jsx("input",{type:"text",placeholder:"PESQUISAR ATLETA...",className:"w-full pl-10 pr-5 py-2.5 bg-white border-2 border-slate-300 rounded-xl text-slate-900 font-bold placeholder:text-slate-400 focus:ring-4 focus:ring-lime-400/10 focus:border-lime-500 outline-none transition-all shadow-md uppercase tracking-widest text-[10px]",value:l,onChange:S=>c(S.target.value)})]}),d.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[d.jsxs("button",{onClick:()=>N(!0),className:"flex items-center px-4 py-2.5 bg-white text-slate-600 border-2 border-slate-200 rounded-xl font-black uppercase italic tracking-tighter hover:bg-slate-50 hover:border-slate-300 transition-all shadow-md active:scale-95 text-[10px]",children:[d.jsx(nN,{className:"w-4 h-4 mr-2"}),"Link Externo"]}),d.jsxs("button",{onClick:()=>{p(null),W({name:"",cpf:"",uniqueCode:K(),phone:"",depositedValue:0,pixKey:"",street:"",neighborhood:"",city:"",photoUrl:""}),r(!0)},className:"flex items-center px-4 py-2.5 bg-black text-lime-400 rounded-xl font-black uppercase italic tracking-tighter hover:bg-zinc-900 hover:scale-[1.05] transition-all shadow-2xl active:scale-95 text-[10px]",children:[d.jsx(Ep,{className:"w-4 h-4 mr-2"}),"Cadastrar Atleta"]})]})]}),d.jsxs("div",{className:"bg-white rounded-[1.25rem] border-2 border-slate-300 overflow-hidden shadow-[0_10px_30px_rgba(0,0,0,0.05)]",children:[d.jsxs("table",{className:"min-w-full divide-y-2 divide-slate-200",children:[d.jsx("thead",{className:"bg-slate-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 text-left text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Perfil do Atleta"}),d.jsx("th",{className:"px-4 py-3 text-left text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Identificao"}),d.jsx("th",{className:"px-4 py-3 text-left text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Mtricas Financeiras"}),d.jsx("th",{className:"px-4 py-3 text-left text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Status"}),d.jsx("th",{className:"px-4 py-3 text-right text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Gesto"})]})}),d.jsx("tbody",{className:"divide-y-2 divide-slate-100",children:R.map(S=>{var j,M;return d.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors group",children:[d.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center text-lime-600 font-black text-base border-2 border-slate-200 shadow-sm overflow-hidden",children:S.photoUrl?d.jsx("img",{src:S.photoUrl,alt:S.name,className:"w-full h-full object-cover"}):d.jsx("span",{children:S.name&&S.name[0]?S.name[0].toUpperCase():"?"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs font-black text-slate-900 uppercase tracking-tight",children:S.name}),d.jsx("div",{className:"text-[9px] text-slate-400 font-bold tracking-widest uppercase",children:S.phone})]})]})}),d.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[d.jsxs("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:["CPF: ",S.cpf]}),d.jsx("div",{className:"text-sm text-black font-black font-sport bg-lime-400 inline-block px-3 py-1 rounded-lg border-2 border-lime-500 uppercase tracking-widest italic shadow-sm transform group-hover:scale-105 transition-transform",children:S.uniqueCode})]}),d.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[d.jsxs("div",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest",children:["Contribuio: R$ ",(j=S.depositedValue)==null?void 0:j.toFixed(2)]}),d.jsxs("div",{className:"text-sm font-black text-slate-900 italic font-sport",children:["R$ ",(M=S.balance)==null?void 0:M.toFixed(2)]})]}),d.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:d.jsx("span",{className:`px-2 py-0.5 inline-flex text-[9px] font-black rounded-full uppercase tracking-widest italic border shadow-sm ${S.status===vt.ACTIVE?"bg-lime-400 text-black border-lime-500":S.status===vt.PENDING?"bg-amber-100 text-amber-700 border-amber-200":"bg-rose-50 text-rose-600 border-rose-200"}`,children:S.status===vt.ACTIVE?"Em Competio":S.status===vt.PENDING?"Em Anlise":"Eliminado"})}),d.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{onClick:()=>Z(S),className:"p-1.5 bg-white text-slate-400 hover:text-black hover:border-black rounded-md transition-all border border-slate-200 shadow-sm",children:d.jsx(pN,{className:"w-3.5 h-3.5"})}),d.jsx("button",{onClick:()=>he(S),className:`p-1.5 rounded-md transition-all border shadow-sm ${S.status===vt.ACTIVE?"bg-white text-slate-400 hover:text-rose-600 hover:border-rose-400 border-slate-200":(S.status===vt.PENDING,"bg-white text-slate-400 hover:text-lime-600 hover:border-lime-400 border-slate-200")}`,title:S.status===vt.PENDING?"Aprovar Atleta":S.status===vt.ACTIVE?"Eliminar Atleta":"Reativar Atleta",children:S.status===vt.ACTIVE?d.jsx(AN,{className:"w-3.5 h-3.5"}):d.jsx(Xh,{className:"w-3.5 h-3.5"})}),d.jsx("button",{onClick:()=>I(S),className:"p-1.5 bg-white text-slate-400 hover:text-red-600 hover:border-red-400 rounded-md transition-all border border-slate-200 shadow-sm",title:"Apagar Atleta",children:d.jsx(_c,{className:"w-3.5 h-3.5"})})]})})]},S.id)})})]}),R.length===0&&d.jsx("div",{className:"p-16 text-center text-slate-400 font-black uppercase tracking-[0.3em] italic bg-slate-50 text-xs",children:"Nenhum Atleta Identificado"})]}),n&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-[1.5rem] border-4 border-slate-200 shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in duration-300 flex flex-col max-h-[85vh]",children:[d.jsxs("div",{className:"p-4 bg-slate-50 flex justify-between items-center border-b-4 border-slate-100 shrink-0",children:[d.jsx("h3",{className:"text-xl font-black italic uppercase font-sport text-slate-900 tracking-widest",children:u?"Modificar Perfil":"Novo Recruta"}),d.jsx("button",{onClick:()=>r(!1),className:"text-slate-400 hover:text-slate-900 p-2 bg-white rounded-lg border-2 border-slate-200 transition-all",children:d.jsx(zl,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:ae,className:"flex flex-col flex-1 overflow-hidden",children:[d.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-3",children:[d.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 mb-1",children:[d.jsxs("div",{className:"w-20 h-20 bg-slate-100 rounded-full border-4 border-slate-200 flex items-center justify-center overflow-hidden relative group",children:[O.photoUrl?d.jsx("img",{src:O.photoUrl,alt:"Preview",className:"w-full h-full object-cover"}):d.jsx(xd,{className:"w-8 h-8 text-slate-400"}),b&&d.jsxs("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center flex-col",children:[d.jsxs("span",{className:"text-white text-[10px] font-bold",children:[Math.round(g),"%"]}),d.jsx("div",{className:"w-12 h-1 bg-slate-700 rounded-full mt-1 overflow-hidden",children:d.jsx("div",{className:"h-full bg-lime-400 transition-all duration-300",style:{width:`${g}%`}})})]}),d.jsxs("label",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all cursor-pointer",children:[d.jsx(lg,{className:"w-6 h-6 text-white"}),d.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:q,disabled:b})]})]}),b?d.jsx("p",{className:"text-[10px] font-bold text-slate-400 animate-pulse uppercase",children:"Enviando..."}):d.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Alterar Foto"})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Nome Completo"}),d.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase placeholder:text-slate-300 text-xs",placeholder:"DIGITE O NOME",value:O.name,onChange:S=>W({...O,name:S.target.value})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"CPF Registro"}),d.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none text-xs",value:O.cpf,onChange:S=>W({...O,cpf:S.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Tag nica (ID)"}),d.jsx("input",{readOnly:!0,type:"text",className:"w-full px-4 py-3 bg-lime-50/50 border-2 border-lime-200 rounded-xl text-lime-600 font-black font-sport italic transition-all outline-none uppercase cursor-not-allowed opacity-80 text-xs",value:O.uniqueCode})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Telefone"}),d.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none text-xs",value:O.phone,onChange:S=>W({...O,phone:S.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Contribuio (R$)"}),d.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 bg-white border-2 border-slate-900 rounded-xl text-slate-900 font-black text-lg focus:ring-2 focus:ring-lime-400 transition-all outline-none",value:O.depositedValue,onChange:S=>W({...O,depositedValue:Number(S.target.value)})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Pix"}),d.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none text-xs",placeholder:"CHAVE",value:O.pixKey,onChange:S=>W({...O,pixKey:S.target.value})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Endereo (Rua)"}),d.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase text-xs",value:O.street,onChange:S=>W({...O,street:S.target.value})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Bairro"}),d.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase text-xs",value:O.neighborhood,onChange:S=>W({...O,neighborhood:S.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Cidade"}),d.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase text-xs",value:O.city,onChange:S=>W({...O,city:S.target.value})})]})]})]})]}),d.jsxs("div",{className:"p-4 bg-slate-50 border-t-4 border-slate-100 flex justify-end gap-3 shrink-0",children:[d.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-6 py-3 text-slate-400 font-black uppercase tracking-widest hover:text-slate-900 transition-colors text-[10px]",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-8 py-3 bg-black text-lime-400 rounded-xl font-black uppercase italic tracking-tighter shadow-xl hover:scale-[1.05] transition-all text-[10px]",children:"Confirmar"})]})]})]})}),T&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-[2rem] border-4 border-slate-200 shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in duration-300",children:[d.jsxs("div",{className:"p-6 bg-slate-50 border-b-2 border-slate-100 flex justify-between items-center",children:[d.jsx("h3",{className:"text-lg font-black italic uppercase font-sport text-slate-900",children:"Link de Inscrio"}),d.jsx("button",{onClick:()=>N(!1),className:"text-slate-400 hover:text-slate-900",children:d.jsx(zl,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"p-8 space-y-6",children:[d.jsxs("div",{className:"bg-slate-100 p-6 rounded-2xl border-2 border-slate-200 break-all text-center",children:[d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"URL Pbica"}),d.jsxs("code",{className:"text-xs font-bold text-slate-600",children:[window.location.origin,"/#/inscrever"]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/#/inscrever`),P(!0),setTimeout(()=>P(!1),2e3)},className:"flex-1 flex items-center justify-center gap-2 py-4 bg-black text-lime-400 rounded-xl font-black uppercase italic tracking-tighter hover:scale-[1.02] transition-all",children:[L?d.jsx(Xh,{className:"w-4 h-4"}):d.jsx(KA,{className:"w-4 h-4"}),L?"Copiado!":"Copiar Link"]}),d.jsx("a",{href:`${window.location.origin}/#/inscrever`,target:"_blank",rel:"noopener noreferrer",className:"p-4 bg-slate-100 text-slate-600 rounded-xl hover:bg-slate-200 transition-all border-2 border-slate-200",children:d.jsx(r1,{className:"w-4 h-4"})})]}),d.jsx("p",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest text-center leading-relaxed",children:"Envie este link para que os atletas possam se cadastrar diretamente no sistema."})]})]})})]})},K3=()=>{const[s,e]=D.useState([]),[n,r]=D.useState([]),[l,c]=D.useState([]),u=()=>{const K=new Date;return`${K.getFullYear()}-${String(K.getMonth()+1).padStart(2,"0")}-${String(K.getDate()).padStart(2,"0")}`},[p,g]=D.useState(u()),[y,b]=D.useState("");D.useEffect(()=>{const K=Kd(Z=>e(Z)),q=ro(Z=>r(Z)),ae=d0(Z=>c(Z));return()=>{K(),q(),ae()}},[]);const E=s.filter(K=>{const q=n.find(he=>he.id===K.userId),ae=(q==null?void 0:q.name.toLowerCase().includes(y.toLowerCase()))||(q==null?void 0:q.cpf.includes(y)),Z=p?K.date===p:!0;return ae&&Z}),T=E.reduce((K,q)=>{const ae=q.date;return K[ae]||(K[ae]=[]),K[ae].push(q),K},{}),N=Object.keys(T).sort((K,q)=>q.localeCompare(K)),L=K=>{const[q,ae,Z]=K.split("-").map(Number),he=new Date(q,ae-1,Z);return new Intl.DateTimeFormat("pt-BR",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"}).format(he).toUpperCase()},P=K=>{var q;return((q=l.find(ae=>ae.id===K))==null?void 0:q.name)||"N/A"},O=K=>{var q;return((q=n.find(ae=>ae.id===K))==null?void 0:q.name)||"Desconhecido"},W=async K=>{if(confirm("TEM CERTEZA QUE DESEJA EXCLUIR ESTE REGISTRO? ISSO PERMITIR QUE O USURIO FAA CHECK-IN NOVAMENTE HOJE."))try{await B3(K)}catch(q){console.error("Error deleting check-in:",q),alert("Erro ao excluir registro.")}};return d.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[d.jsxs("div",{className:"bg-white p-4 rounded-[1.25rem] border border-slate-200 flex flex-col md:flex-row gap-4 items-end shadow-sm",children:[d.jsxs("div",{className:"flex-1 w-full group",children:[d.jsx("label",{className:"block text-[8px] font-black text-slate-400 uppercase tracking-[0.4em] mb-1.5 ml-1",children:"Atleta em Campo"}),d.jsxs("div",{className:"relative",children:[d.jsx(ag,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-lime-500 transition-colors w-3.5 h-3.5"}),d.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-slate-900 font-bold placeholder:text-slate-200 focus:ring-4 focus:ring-lime-400/5 focus:border-lime-400 outline-none transition-all uppercase tracking-widest text-[10px]",placeholder:"NOME OU DOCUMENTO...",value:y,onChange:K=>b(K.target.value)})]})]}),d.jsxs("div",{className:"w-full md:w-48 group",children:[d.jsx("label",{className:"block text-[8px] font-black text-slate-400 uppercase tracking-[0.4em] mb-1.5 ml-1",children:"Linha do Tempo"}),d.jsxs("div",{className:"relative",children:[d.jsx(yc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-lime-500 transition-colors w-3.5 h-3.5"}),d.jsx("input",{type:"date",className:"w-full pl-10 pr-8 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-slate-900 font-black focus:ring-4 focus:ring-lime-400/5 focus:border-lime-400 outline-none transition-all text-[11px]",value:p,onChange:K=>g(K.target.value)}),p&&d.jsx("button",{onClick:()=>g(""),className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-slate-400 hover:text-rose-500 transition-colors",title:"Limpar filtro de data",children:d.jsx(zl,{className:"w-3.5 h-3.5"})})]})]}),d.jsxs("button",{onClick:()=>{b(""),g(u())},className:"px-5 py-2.5 bg-slate-100 text-slate-500 rounded-xl font-black uppercase tracking-[0.2em] text-[8px] hover:text-slate-900 border border-slate-200 transition-all flex items-center",children:[d.jsx(eN,{className:"w-3 h-3 mr-1.5"}),"Resetar"]})]}),d.jsx("div",{className:"space-y-8",children:N.map(K=>d.jsxs("div",{className:"space-y-3",children:[d.jsxs("h3",{className:"flex items-center gap-2 text-base font-black italic uppercase font-sport text-slate-900 tracking-wider",children:[d.jsx(yc,{className:"w-4 h-4 text-lime-500"}),L(K)]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:T[K].map(q=>d.jsxs("div",{className:"bg-white rounded-[1.25rem] border border-slate-200 overflow-hidden hover:border-lime-400 hover:-translate-y-1 transition-all shadow-md group",children:[d.jsxs("div",{className:"p-3 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"p-1.5 bg-white border border-slate-200 rounded-lg text-lime-600 shadow-sm group-hover:scale-105 transition-transform",children:d.jsx(Sa,{className:"w-4 h-4"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-black text-slate-900 italic uppercase font-sport tracking-widest leading-tight text-sm",children:O(q.userId)}),d.jsxs("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest mt-0.5",children:["ID: ",q.userId.substring(0,8).toUpperCase()]})]})]}),d.jsxs("div",{className:"bg-black text-lime-400 px-2 py-1 rounded-md flex items-center text-[9px] font-black shadow-lg italic font-sport ml-auto",children:[d.jsx(Jh,{className:"w-3 h-3 mr-1"}),q.score.toFixed(1)," PTS"]}),d.jsx("button",{onClick:()=>W(q.id),className:"ml-2 p-1.5 text-slate-300 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-all",title:"Excluir Registro",children:d.jsx(_c,{className:"w-3.5 h-3.5"})})]}),d.jsxs("div",{className:"p-4 space-y-3 text-slate-900",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{className:"flex items-center text-[9px] font-black uppercase tracking-widest text-slate-500",children:[d.jsx(yc,{className:"w-3 h-3 mr-1.5 text-lime-500/50"}),q.date]}),d.jsxs("div",{className:"flex items-center text-[9px] font-black uppercase tracking-widest text-slate-500",children:[d.jsx(Er,{className:"w-3 h-3 mr-1.5 text-lime-500/50"}),q.time]})]}),d.jsxs("div",{className:"flex items-center text-[9px] font-black uppercase tracking-widest text-lime-700 bg-lime-50 p-2.5 rounded-lg border border-lime-100",children:[d.jsx(Ta,{className:"w-3 h-3 mr-2"}),"BLOCO: ",P(q.timeSlotId)]}),d.jsxs("div",{className:"flex items-start p-2.5 bg-slate-50 rounded-lg border border-slate-100 relative group/map",children:[d.jsx(xr,{className:"w-3.5 h-3.5 mr-2 text-slate-400 mt-0.5"}),d.jsxs("div",{className:"space-y-0.5 flex-1",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Localizao de Registro"}),d.jsxs("a",{href:`https://www.google.com/maps?q=${q.latitude},${q.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-[8px] font-black text-lime-600 hover:text-lime-700 uppercase tracking-widest border border-lime-200 bg-lime-50 px-1.5 py-0.5 rounded hover:bg-lime-100 transition-colors flex items-center gap-1",children:["Ver no Mapa",d.jsx(xr,{className:"w-2.5 h-2.5"})]})]}),q.address&&d.jsx("p",{className:"text-[9px] text-slate-600 font-bold uppercase tracking-tight leading-tight mb-0.5",children:q.address}),d.jsxs("div",{className:"flex gap-2 text-slate-400",children:[d.jsxs("p",{className:"text-[8px] font-mono tracking-tighter",children:["LAT: ",q.latitude.toFixed(6)]}),d.jsxs("p",{className:"text-[8px] font-mono tracking-tighter",children:["LNG: ",q.longitude.toFixed(6)]})]})]})]})]})]},q.id))})]},K))}),E.length===0&&d.jsxs("div",{className:"text-center py-32 bg-white rounded-[3rem] border-2 border-dashed border-slate-200",children:[d.jsx(ig,{className:"w-20 h-20 text-slate-100 mx-auto mb-6"}),d.jsx("p",{className:"text-slate-300 font-black uppercase tracking-[0.5em] italic",children:"Zero Atletas Registrados no Perodo"})]})]})},eT="fitreward_db",tT=()=>{const s=new Date,e=s.getFullYear(),n=String(s.getMonth()+1).padStart(2,"0"),r=String(s.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},nT=[{id:"t1",name:"Madrugada 1",startTime:"04:30",endTime:"05:30",weight:5},{id:"t2",name:"Madrugada 2",startTime:"05:30",endTime:"06:30",weight:4},{id:"t3",name:"Manh",startTime:"06:30",endTime:"07:30",weight:3},{id:"t4",name:"Tarde",startTime:"17:00",endTime:"18:00",weight:2},{id:"t5",name:"Noite",startTime:"18:00",endTime:"19:00",weight:1}],Y3={users:[{id:"1",name:"Joo Silva",cpf:"12345678901",uniqueCode:"JOAO123",phone:"11999999999",balance:100,depositedValue:500,status:vt.ACTIVE,createdAt:new Date().toISOString()}],qrCodes:[],checkIns:[],distributions:[],timeSlots:nT},f0=()=>{const s=localStorage.getItem(eT);if(!s)return Y3;const e=JSON.parse(s);return e.timeSlots||(e.timeSlots=nT),e},yd=s=>{localStorage.setItem(eT,JSON.stringify(s))},sT=s=>{const e=f0(),n={...s,id:crypto.randomUUID()};e.distributions.push(n),yd(e)},iT=5,Wn={lat:-23.55052,lng:-46.633308,radius:500},Q3=s=>{const e=s.depositedValue/iT;return(s.weeklyMisses||0)>=4?s.balance:e},X3=()=>{const s=f0(),e=tT(),n=s.users.filter(p=>p.status===vt.ACTIVE),r=s.checkIns.filter(p=>p.date===e),l=new Set(r.map(p=>p.userId)),c=n.filter(p=>!l.has(p.id));if(c.length===0)return{message:"Ningum faltou hoje. Nenhuma penalidade aplicada."};let u=0;return c.forEach(p=>{p.weeklyMisses===void 0&&(p.weeklyMisses=0),p.weeklyMisses+=1;const g=Q3(p),y=Math.min(p.balance,g);y>0&&(p.balance-=y,u+=y,sT({userId:p.id,amount:-y,date:e,reason:`FALTA DIRIA (${p.weeklyMisses}/${iT} no cumpridas)`}))}),yd(s),{message:"Verificao diria concluda.",absentCount:c.length,totalPenalized:u,penalizedUsers:c.map(p=>p.name)}},J3=()=>{const s=f0(),e=tT(),n=s.users.filter(y=>y.status===vt.ACTIVE),r=n.reduce((y,b)=>y+b.depositedValue,0),l=n.reduce((y,b)=>y+b.balance,0),c=r-l;if(c<=.01)return n.forEach(y=>y.weeklyMisses=0),yd(s),{message:"Sem valor no pool para distribuir. Semana reiniciada."};const u=n.filter(y=>y.balance>0);if(u.length===0)return{message:"Ningum elegvel para receber o pool. A Casa venceu."};const p=u.reduce((y,b)=>y+b.balance,0);return u.forEach(y=>{const b=y.balance/p*c;y.balance+=b,sT({userId:y.id,amount:b,date:e,reason:`DISTRIBUIO SEMANAL (Pool: R$ ${c.toFixed(2)})`}),y.weeklyMisses=0}),n.filter(y=>y.balance===0).forEach(y=>y.weeklyMisses=0),yd(s),{message:"Distribuio Semanal Concluda!",poolDistributed:c,recipientsCount:u.length}},W3=()=>{const[s,e]=D.useState([]),[n,r]=D.useState([]),[l,c]=D.useState(!1),[u,p]=D.useState(null);D.useEffect(()=>{const P=Zw(W=>e(W.reverse())),O=ro(W=>r(W));return()=>{P(),O()}},[]);const g=async()=>{if(window.confirm("Confirmar verificao diria de penalidades? Isso ir descontar saldo dos faltantes.")){c(!0),p(null);try{const P=X3();p({type:"penalty",...P})}catch(P){console.error("Daily check failed:",P),alert(`Erro: ${P.message}`)}finally{c(!1)}}},y=async()=>{if(window.confirm("ATENO: Confirmar distribuio SEMANAL? Isso ir distribuir o pool acumulado e ZERAR as faltas da semana.")){c(!0),p(null);try{const P=J3();p({type:"distribution",...P})}catch(P){console.error("Weekly distribution failed:",P),alert(`Erro: ${P.message}`)}finally{c(!1)}}},b=n.filter(P=>P.status===vt.ACTIVE),E=b.reduce((P,O)=>P+O.depositedValue,0),T=b.reduce((P,O)=>P+O.balance,0),N=E-T,L=s.filter(P=>P.amount>0).reduce((P,O)=>P+O.amount,0);return d.jsxs("div",{className:"space-y-10 animate-in fade-in duration-700",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-white p-5 rounded-[1.25rem] border-2 border-slate-300 shadow-md relative overflow-hidden group",children:[d.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:d.jsx(JA,{className:"w-16 h-16 text-slate-900"})}),d.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-3",children:"Pool Acumulado (Semana)"}),d.jsxs("h3",{className:"text-3xl font-black text-slate-900 italic font-sport tracking-tight",children:["R$ ",Math.max(0,N).toFixed(2)]}),d.jsx("div",{className:"mt-3 h-1.5 w-10 bg-lime-400 rounded-full border border-lime-500"})]}),d.jsxs("div",{className:"bg-white p-5 rounded-[1.25rem] border-2 border-slate-300 shadow-md relative overflow-hidden group",children:[d.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:d.jsx(xa,{className:"w-16 h-16 text-slate-900"})}),d.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-3",children:"Total Distribudo"}),d.jsxs("h3",{className:"text-3xl font-black text-slate-900 italic font-sport tracking-tight",children:["R$ ",L.toFixed(2)]}),d.jsx("div",{className:"mt-3 h-1.5 w-10 bg-zinc-900 rounded-full border border-zinc-800"})]}),d.jsxs("div",{className:"bg-white p-5 rounded-[1.25rem] border-2 border-slate-300 shadow-md relative overflow-hidden group",children:[d.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:d.jsx(bc,{className:"w-16 h-16 text-slate-900"})}),d.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-3",children:"Em Risco (3+ Faltas)"}),d.jsxs("h3",{className:"text-3xl font-black text-slate-900 italic font-sport tracking-tight",children:[b.filter(P=>(P.weeklyMisses||0)>=3).length,d.jsx("span",{className:"text-[10px] uppercase font-sans text-slate-400 tracking-widest ml-1",children:"Atletas"})]}),d.jsx("div",{className:"mt-3 h-1.5 w-10 bg-rose-500 rounded-full border border-rose-600"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx("div",{className:"bg-white rounded-[1.5rem] border-2 border-slate-200 p-6 flex flex-col justify-between shadow-lg relative overflow-hidden",children:d.jsxs("div",{className:"z-10 relative",children:[d.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 bg-rose-100 text-rose-700 text-[8px] font-black uppercase tracking-widest rounded-full italic mb-3",children:[d.jsx(np,{className:"w-2 h-2 fill-current"})," Ao Diria"]}),d.jsx("h3",{className:"text-2xl font-black text-slate-900 italic uppercase font-sport tracking-widest leading-none mb-2",children:"Processar Faltas"}),d.jsx("p",{className:"text-slate-500 text-xs font-medium mb-6",children:"Verifica quem no fez check-in hoje e aplica a penalidade proporcional. O valor descontado vai para o Pool."}),d.jsxs("button",{onClick:g,disabled:l,className:"w-full py-3.5 bg-slate-900 text-white rounded-xl font-black text-sm uppercase italic tracking-tighter hover:bg-black hover:scale-[1.02] active:scale-95 transition-all shadow-md flex items-center justify-center gap-2",children:[l?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):d.jsx(np,{className:"w-4 h-4"}),"Aplicar Penalidades"]})]})}),d.jsxs("div",{className:"bg-black rounded-[1.5rem] p-6 flex flex-col justify-between shadow-[0_10px_40px_rgba(132,204,22,0.2)] relative overflow-hidden group",children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20 pointer-events-none"}),d.jsxs("div",{className:"z-10 relative",children:[d.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 bg-lime-400 text-black text-[8px] font-black uppercase tracking-widest rounded-full italic mb-3 shadow-lg",children:[d.jsx(xa,{className:"w-2 h-2 fill-current"})," Fim da Semana"]}),d.jsx("h3",{className:"text-2xl font-black text-white italic uppercase font-sport tracking-widest leading-none mb-2",children:"Distribuir Pool"}),d.jsx("p",{className:"text-zinc-400 text-xs font-medium mb-6",children:"Redistribui todo o valor acumulado no Pool para os atletas elegveis e reinicia a contagem de faltas da semana."}),d.jsxs("button",{onClick:y,disabled:l,className:"w-full py-3.5 bg-lime-400 text-black rounded-xl font-black text-sm uppercase italic tracking-tighter hover:bg-white hover:scale-[1.02] active:scale-95 transition-all shadow-xl flex items-center justify-center gap-2",children:[l?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-black"}):d.jsx(xN,{className:"w-4 h-4 fill-current"}),"Finalizar Semana"]})]})]})]}),u&&d.jsxs("div",{className:`border-4 p-8 rounded-[2rem] flex items-start gap-6 animate-in slide-in-from-top-4 duration-500 shadow-xl ${u.type==="penalty"?"bg-rose-50 border-rose-200":"bg-lime-50 border-lime-400"}`,children:[d.jsx("div",{className:`p-3 rounded-2xl shadow-lg ${u.type==="penalty"?"bg-rose-500 text-white":"bg-black text-lime-400"}`,children:u.type==="penalty"?d.jsx(np,{className:"w-8 h-8"}):d.jsx(vc,{className:"w-8 h-8"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"text-xl font-black text-slate-900 uppercase italic font-sport tracking-widest",children:u.message}),d.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 text-[10px] font-black uppercase tracking-widest text-slate-500",children:[u.absentCount!==void 0&&d.jsxs("div",{className:"bg-white/50 p-3 rounded-xl border border-rose-200",children:["Faltantes: ",d.jsx("span",{className:"text-rose-600 block text-lg",children:u.absentCount})]}),u.totalPenalized!==void 0&&d.jsxs("div",{className:"bg-white/50 p-3 rounded-xl border border-rose-200",children:["Penalizado: ",d.jsxs("span",{className:"text-rose-600 block text-lg",children:["R$ ",u.totalPenalized.toFixed(2)]})]}),u.poolDistributed!==void 0&&d.jsxs("div",{className:"bg-white/50 p-3 rounded-xl border border-lime-200",children:["Distribudo: ",d.jsxs("span",{className:"text-lime-600 block text-lg",children:["R$ ",u.poolDistributed.toFixed(2)]})]}),u.recipientsCount!==void 0&&d.jsxs("div",{className:"bg-white/50 p-3 rounded-xl border border-lime-200",children:["Beneficirios: ",d.jsx("span",{className:"text-lime-600 block text-lg",children:u.recipientsCount})]})]}),u.penalizedUsers&&u.penalizedUsers.length>0&&d.jsxs("div",{className:"mt-4 text-[10px] text-slate-400",children:[d.jsx("span",{className:"font-bold uppercase tracking-widest text-slate-500",children:"Atletas Afetados:"})," ",u.penalizedUsers.join(", ")]})]})]}),d.jsxs("div",{className:"bg-white rounded-[1.5rem] border-2 border-slate-300 overflow-hidden shadow-lg",children:[d.jsxs("div",{className:"px-5 py-3.5 border-b-2 border-slate-200 flex justify-between items-center bg-slate-50",children:[d.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase italic tracking-widest font-sport",children:"Log de Transaes"}),d.jsx("div",{className:"p-1.5 bg-white border border-slate-100 rounded-lg text-slate-400",children:d.jsx(xc,{className:"w-3.5 h-3.5"})})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y-2 divide-slate-200",children:[d.jsx("thead",{className:"bg-slate-50/50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-5 py-3 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Timeline"}),d.jsx("th",{className:"px-5 py-3 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Atleta"}),d.jsx("th",{className:"px-5 py-3 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Motivo"}),d.jsx("th",{className:"px-5 py-3 text-right text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Crdito / Dbito"})]})}),d.jsx("tbody",{className:"divide-y-2 divide-slate-100",children:s.map(P=>{var O;return d.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors",children:[d.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-[10px] text-slate-500",children:d.jsxs("div",{className:"flex items-center font-bold tracking-tighter",children:[d.jsx(yc,{className:"w-3 h-3 mr-1.5 text-lime-500"}),P.date]})}),d.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:d.jsx("div",{className:"text-xs font-black text-slate-900 uppercase tracking-tight",children:((O=n.find(W=>W.id===P.userId))==null?void 0:O.name)||"DESCONHECIDO"})}),d.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:P.reason}),d.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-right",children:d.jsxs("span",{className:`text-base font-black font-sport italic tracking-tighter px-2.5 py-0.5 rounded-lg border shadow-sm ${P.amount>=0?"text-lime-600 bg-lime-50 border-lime-200":"text-rose-600 bg-rose-50 border-rose-200"}`,children:[P.amount>0?"+":""," R$ ",P.amount.toFixed(2)]})})]},P.id)})})]})})]})]})},yp=[{id:0,label:"DOM"},{id:1,label:"SEG"},{id:2,label:"TER"},{id:3,label:"QUA"},{id:4,label:"QUI"},{id:5,label:"SEX"},{id:6,label:"SB"}],Z3=()=>{const[s,e]=D.useState([]),[n,r]=D.useState([]),[l,c]=D.useState(!1),[u,p]=D.useState(!1),[g,y]=D.useState(""),[b,E]=D.useState(null),[T,N]=D.useState(null),[L,P]=D.useState([]),[O,W]=D.useState(!1),[K,q]=D.useState(0),[ae,Z]=D.useState({name:"",startTime:"",endTime:"",weight:1,days:[1,2,3,4,5],locationName:"ACADEMIA SEDE",latitude:Wn.lat,longitude:Wn.lng,radius:Wn.radius,categoryId:"",photoUrl:""});D.useEffect(()=>{const te=d0(Y=>{e(Y)}),be=q3(Y=>{r(Y)});return()=>{te(),be()}},[]);const he=te=>{P(be=>be.includes(te)?be.filter(Y=>Y!==te):[...be,te])},I=async te=>{var Y;const be=(Y=te.target.files)==null?void 0:Y[0];if(be){W(!0),q(0);try{const oe=setInterval(()=>{q(Ce=>Math.min(Ce+10,90))},200),ge=await Hd(be);clearInterval(oe),q(100),Z(Ce=>({...Ce,photoUrl:ge})),setTimeout(()=>W(!1),500)}catch(oe){console.error("Error uploading:",oe),W(!1),q(0),alert(`Erro no Upload: ${oe.message}`)}}},R=async te=>{if(te.preventDefault(),!!g.trim())try{T?await F3({id:T,name:g.trim()}):await H3({name:g.trim()}),y(""),N(null),p(!1)}catch(be){console.error("Error saving category:",be),alert("Erro ao salvar categoria.")}},S=te=>{N(te.id),y(te.name),p(!0)},j=async te=>{if(confirm('Tem certeza? Os horrios nesta categoria ficaro "Sem Categoria".'))try{await G3(te)}catch(be){console.error("Error deleting category:",be),alert("Erro ao remover categoria.")}},M=async te=>{if(te.preventDefault(),ae.days.length===0){alert("Selecione pelo menos um dia da semana.");return}try{b?await z3({id:b,...ae}):await U3(ae),Z({name:"",startTime:"",endTime:"",weight:1,days:[1,2,3,4,5],locationName:"ACADEMIA SEDE",latitude:Wn.lat,longitude:Wn.lng,radius:Wn.radius,categoryId:"",photoUrl:""}),E(null),c(!1)}catch(be){console.error("Error saving time slot:",be),be.code==="permission-denied"?alert("Erro: Permisso negada. Verifique se voc est logado como administrador."):alert(`Erro ao salvar horrio: ${be.message||"Erro desconhecido"}`)}},z=te=>{E(te.id),Z({name:te.name,startTime:te.startTime,endTime:te.endTime,weight:te.weight,days:te.days,locationName:te.locationName,latitude:te.latitude,longitude:te.longitude,radius:te.radius,categoryId:te.categoryId||"",photoUrl:te.photoUrl||""}),c(!0)},C=async te=>{if(confirm("REMOVER ESTE BLOCO DE HORRIO?"))try{await L3(te)}catch(be){console.error("Error deleting time slot:",be),alert("Erro ao remover horrio.")}};return d.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{className:"space-y-0.5",children:[d.jsx("h3",{className:"text-2xl font-black italic uppercase font-sport text-slate-900 tracking-widest leading-none",children:"Clulas de Treino"}),d.jsx("p",{className:"text-slate-400 font-black uppercase text-[10px] tracking-widest",children:"Configurao de Janelas de Check-in"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>{N(null),y(""),p(!0)},className:"flex items-center px-4 py-2.5 bg-white text-slate-900 border-2 border-slate-200 rounded-xl font-black uppercase italic tracking-tighter hover:bg-slate-50 hover:scale-[1.05] transition-all shadow-sm active:scale-95 text-[10px]",children:[d.jsx(Ep,{className:"w-4 h-4 mr-1.5"}),"Nova Pasta"]}),d.jsxs("button",{onClick:()=>{E(null),Z({name:"",startTime:"",endTime:"",weight:1,days:[1,2,3,4,5],locationName:"ACADEMIA SEDE",latitude:Wn.lat,longitude:Wn.lng,radius:Wn.radius,categoryId:"",photoUrl:""}),c(!0)},className:"flex items-center px-4 py-2.5 bg-black text-lime-400 rounded-xl font-black uppercase italic tracking-tighter hover:bg-zinc-900 hover:scale-[1.05] transition-all shadow-xl active:scale-95 text-[10px]",children:[d.jsx(Ep,{className:"w-4 h-4 mr-1.5"}),"Novo Horrio"]})]})]}),d.jsxs("div",{className:"space-y-6",children:[n.map(te=>{const be=s.filter(oe=>oe.categoryId===te.id),Y=L.includes(te.id);return d.jsxs("div",{className:"border-2 border-slate-200 rounded-2xl overflow-hidden bg-slate-50/50",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 bg-white cursor-pointer hover:bg-slate-50 transition-colors",onClick:()=>he(te.id),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-lg transition-transform duration-300 ${Y?"rotate-90 bg-lime-100 text-lime-600":"bg-slate-100 text-slate-400"}`,children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-right",children:d.jsx("path",{d:"m9 18 6-6-6-6"})})}),d.jsx("h4",{className:"text-lg font-black italic uppercase font-sport text-slate-900 tracking-widest",children:te.name}),d.jsx("span",{className:"text-[10px] font-bold text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full",children:be.length})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:oe=>{oe.stopPropagation(),S(te)},className:"p-2 text-slate-300 hover:text-blue-500 hover:bg-blue-50 rounded-lg transition-all",children:d.jsx(ep,{className:"w-4 h-4"})}),d.jsx("button",{onClick:oe=>{oe.stopPropagation(),j(te.id)},className:"p-2 text-slate-300 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-all",children:d.jsx(_c,{className:"w-4 h-4"})})]})]}),Y&&d.jsx("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 border-t-2 border-slate-100 animate-in slide-in-from-top-2 duration-300",children:be.length>0?be.map(oe=>d.jsxs("div",{className:"bg-white rounded-xl border-2 border-slate-300 overflow-hidden shadow-md group relative transition-all hover:border-lime-500 hover:-translate-y-1",children:[d.jsxs("div",{className:"p-5 space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("div",{className:"p-2 bg-slate-50 border-2 border-slate-100 rounded-lg text-slate-900 shadow-inner group-hover:border-lime-200 transition-colors",children:d.jsx(Er,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>z(oe),className:"p-1.5 bg-white text-slate-300 hover:text-blue-500 border border-slate-100 rounded-md transition-all hover:border-blue-200",children:d.jsx(ep,{className:"w-3.5 h-3.5"})}),d.jsx("button",{onClick:()=>C(oe.id),className:"p-1.5 bg-white text-slate-300 hover:text-rose-600 border border-slate-100 rounded-md transition-all hover:border-rose-200",children:d.jsx(_c,{className:"w-3.5 h-3.5"})})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-black text-slate-900 uppercase italic font-sport tracking-widest",children:oe.name}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1.5",children:[d.jsxs("span",{className:"px-2.5 py-0.5 bg-black text-white text-[10px] font-black rounded-md uppercase tracking-widest",children:[oe.startTime," - ",oe.endTime]}),d.jsx("div",{className:"flex gap-1",children:yp.filter(ge=>{var Ce;return(Ce=oe.days)==null?void 0:Ce.includes(ge.id)}).map(ge=>d.jsx("span",{className:"text-[8px] font-black text-lime-600 bg-lime-50 px-1.5 py-0.5 rounded border border-lime-100 uppercase",children:ge.label},ge.id))})]}),d.jsxs("div",{className:"mt-2.5 flex items-center gap-1.5 text-slate-400 group-hover:text-slate-600 transition-colors",children:[d.jsx(tp,{className:"w-3 h-3"}),d.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:oe.locationName||"LOCAL PADRO"})]})]}),d.jsxs("div",{className:"flex items-center justify-between p-2.5 bg-slate-50 rounded-lg border border-slate-100",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"p-1 bg-lime-400 rounded-md shadow-sm",children:d.jsx(xa,{className:"w-3 h-3 text-black fill-current"})}),d.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Peso Recompensa"})]}),d.jsxs("span",{className:"text-2xl font-black text-slate-900 font-sport italic tracking-tighter",children:["x",oe.weight]})]})]}),d.jsx("div",{className:"h-1.5 bg-slate-100 group-hover:bg-lime-400 transition-colors"})]},oe.id)):d.jsx("p",{className:"col-span-full text-center py-8 text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Nenhum horrio nesta pasta"})})]},te.id)}),d.jsxs("div",{className:"border-2 border-slate-200 rounded-2xl overflow-hidden bg-slate-50/50",children:[d.jsx("div",{className:"flex items-center justify-between p-4 bg-white cursor-pointer hover:bg-slate-50 transition-colors",onClick:()=>he("uncategorized"),children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-lg transition-transform duration-300 ${L.includes("uncategorized")?"rotate-90 bg-lime-100 text-lime-600":"bg-slate-100 text-slate-400"}`,children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-right",children:d.jsx("path",{d:"m9 18 6-6-6-6"})})}),d.jsx("h4",{className:"text-lg font-black italic uppercase font-sport text-slate-900 tracking-widest",children:"Sem Categoria"}),d.jsx("span",{className:"text-[10px] font-bold text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full",children:s.filter(te=>!te.categoryId).length})]})}),(L.includes("uncategorized")||n.length===0)&&d.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 border-t-2 border-slate-100 animate-in slide-in-from-top-2 duration-300",children:[s.filter(te=>!te.categoryId).map(te=>d.jsxs("div",{className:"bg-white rounded-xl border-2 border-slate-300 overflow-hidden shadow-md group relative transition-all hover:border-lime-500 hover:-translate-y-1",children:[d.jsxs("div",{className:"p-5 space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("div",{className:"p-2 bg-slate-50 border-2 border-slate-100 rounded-lg text-slate-900 shadow-inner group-hover:border-lime-200 transition-colors",children:d.jsx(Er,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>z(te),className:"p-1.5 bg-white text-slate-300 hover:text-blue-500 border border-slate-100 rounded-md transition-all hover:border-blue-200",children:d.jsx(ep,{className:"w-3.5 h-3.5"})}),d.jsx("button",{onClick:()=>C(te.id),className:"p-1.5 bg-white text-slate-300 hover:text-rose-600 border border-slate-100 rounded-md transition-all hover:border-rose-200",children:d.jsx(_c,{className:"w-3.5 h-3.5"})})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-black text-slate-900 uppercase italic font-sport tracking-widest",children:te.name}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1.5",children:[d.jsxs("span",{className:"px-2.5 py-0.5 bg-black text-white text-[10px] font-black rounded-md uppercase tracking-widest",children:[te.startTime," - ",te.endTime]}),d.jsx("div",{className:"flex gap-1",children:yp.filter(be=>{var Y;return(Y=te.days)==null?void 0:Y.includes(be.id)}).map(be=>d.jsx("span",{className:"text-[8px] font-black text-lime-600 bg-lime-50 px-1.5 py-0.5 rounded border border-lime-100 uppercase",children:be.label},be.id))})]}),d.jsxs("div",{className:"mt-2.5 flex items-center gap-1.5 text-slate-400 group-hover:text-slate-600 transition-colors",children:[d.jsx(tp,{className:"w-3 h-3"}),d.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:te.locationName||"LOCAL PADRO"})]})]}),d.jsxs("div",{className:"flex items-center justify-between p-2.5 bg-slate-50 rounded-lg border border-slate-100",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"p-1 bg-lime-400 rounded-md shadow-sm",children:d.jsx(xa,{className:"w-3 h-3 text-black fill-current"})}),d.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Peso Recompensa"})]}),d.jsxs("span",{className:"text-2xl font-black text-slate-900 font-sport italic tracking-tighter",children:["x",te.weight]})]})]}),d.jsx("div",{className:"h-1.5 bg-slate-100 group-hover:bg-lime-400 transition-colors"})]},te.id)),s.filter(te=>!te.categoryId).length===0&&d.jsx("p",{className:"col-span-full text-center py-8 text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Nenhum horrio sem categoria"})]})]})]}),d.jsxs("div",{className:"bg-white border-2 border-slate-300 p-4 rounded-[1.25rem] relative overflow-hidden group shadow-sm flex items-center gap-4",children:[d.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-slate-900"}),d.jsx("div",{className:"p-2.5 bg-slate-50 border border-slate-100 rounded-lg text-slate-400",children:d.jsx(tp,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-black italic uppercase font-sport text-slate-900 tracking-widest text-base",children:"Regras do Sistema"}),d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-0.5",children:"Check-ins realizados fora destas janelas sero invalidados automaticamente pelo servidor."})]})]}),l&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-[1.5rem] border-4 border-slate-200 shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in duration-300",children:[d.jsxs("div",{className:"p-4 bg-slate-50 flex justify-between items-center border-b border-slate-100",children:[d.jsx("h3",{className:"text-base font-black italic uppercase font-sport text-slate-900 tracking-widest leading-none",children:b?"Editar Bloco":"Novo Bloco"}),d.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-slate-900 p-1 bg-white rounded-md border border-slate-200",children:d.jsx(zl,{className:"w-3.5 h-3.5"})})]}),d.jsxs("form",{onSubmit:M,className:"p-5 overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"space-y-3 overflow-y-auto max-h-[65vh] pr-1 custom-scrollbar pb-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Identificao do Bloco"}),d.jsx("input",{required:!0,type:"text",placeholder:"EX: MANH ELITE",className:"w-full px-3 py-2.5 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase text-[13px]",value:ae.name,onChange:te=>Z({...ae,name:te.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Pasta / Categoria"}),d.jsxs("select",{className:"w-full px-3 py-2.5 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase text-[11px]",value:ae.categoryId,onChange:te=>Z({...ae,categoryId:te.target.value}),children:[d.jsx("option",{value:"",children:"Sem Categoria (Raiz)"}),n.map(te=>d.jsx("option",{value:te.id,children:te.name},te.id))]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Abertura"}),d.jsx("input",{required:!0,type:"time",className:"w-full px-3 py-2 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold text-xs",value:ae.startTime,onChange:te=>Z({...ae,startTime:te.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Fechamento"}),d.jsx("input",{required:!0,type:"time",className:"w-full px-3 py-2 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold text-xs",value:ae.endTime,onChange:te=>Z({...ae,endTime:te.target.value})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Dias de Ativao"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:yp.map(te=>d.jsx("button",{type:"button",onClick:()=>{const be=ae.days.includes(te.id)?ae.days.filter(Y=>Y!==te.id):[...ae.days,te.id];Z({...ae,days:be})},className:`px-2 py-1 rounded-md text-[8px] font-black uppercase tracking-widest transition-all border-2 ${ae.days.includes(te.id)?"bg-lime-400 border-lime-400 text-black shadow-lg shadow-lime-400/20":"bg-white border-slate-100 text-slate-300 hover:border-slate-300"}`,children:te.label},te.id))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Identificao do Local"}),d.jsx("input",{required:!0,type:"text",placeholder:"EX: SEDE CENTRAL",className:"w-full px-3 py-2.5 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase text-[13px]",value:ae.locationName,onChange:te=>Z({...ae,locationName:te.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Foto do Local"}),d.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 mb-1 p-4 bg-slate-50 border-2 border-slate-200 rounded-xl border-dashed",children:[d.jsxs("div",{className:"w-20 h-20 bg-white rounded-lg border-2 border-slate-200 flex items-center justify-center overflow-hidden relative group",children:[ae.photoUrl?d.jsx("img",{src:ae.photoUrl,alt:"Preview",className:"w-full h-full object-cover"}):d.jsx(xd,{className:"w-8 h-8 text-slate-300"}),O&&d.jsxs("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center flex-col",children:[d.jsxs("span",{className:"text-white text-[10px] font-bold",children:[Math.round(K),"%"]}),d.jsx("div",{className:"w-12 h-1 bg-slate-700 rounded-full mt-1 overflow-hidden",children:d.jsx("div",{className:"h-full bg-lime-400 transition-all duration-300",style:{width:`${K}%`}})})]}),d.jsxs("label",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all cursor-pointer",children:[d.jsx(lg,{className:"w-6 h-6 text-white"}),d.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:I,disabled:O})]})]}),O?d.jsx("p",{className:"text-[10px] font-bold text-slate-400 animate-pulse uppercase",children:"Enviando..."}):d.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:ae.photoUrl?"Alterar Foto":"Adicionar Foto"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Latitude"}),d.jsx("input",{required:!0,type:"number",step:"any",className:"w-full px-3 py-2 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold text-xs",value:ae.latitude,onChange:te=>Z({...ae,latitude:Number(te.target.value)})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Longitude"}),d.jsx("input",{required:!0,type:"number",step:"any",className:"w-full px-3 py-2 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold text-xs",value:ae.longitude,onChange:te=>Z({...ae,longitude:Number(te.target.value)})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Raio Valid. (m)"}),d.jsx("input",{required:!0,type:"number",className:"w-full px-3 py-2 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold text-xs",value:ae.radius,onChange:te=>Z({...ae,radius:Number(te.target.value)})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Peso Recompensa"}),d.jsx("input",{required:!0,type:"number",min:"1",max:"10",className:"w-full px-3 py-2 bg-slate-900 text-lime-400 rounded-lg font-black text-[15px] border-none outline-none",value:ae.weight,onChange:te=>Z({...ae,weight:Number(te.target.value)})})]})]})]}),d.jsx("div",{className:"pt-3",children:d.jsx("button",{type:"submit",className:"w-full py-3 bg-black text-lime-400 rounded-lg font-black uppercase italic tracking-tighter shadow-xl hover:scale-[1.02] active:scale-95 transition-all text-[11px]",children:b?"Salvar Alteraes":"Registrar Bloco Sincronizado"})})]})]})}),u&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-[1.5rem] border-4 border-slate-200 shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in duration-300",children:[d.jsxs("div",{className:"p-4 bg-slate-50 flex justify-between items-center border-b border-slate-100",children:[d.jsx("h3",{className:"text-base font-black italic uppercase font-sport text-slate-900 tracking-widest leading-none",children:T?"Editar Pasta":"Nova Pasta"}),d.jsx("button",{onClick:()=>p(!1),className:"text-slate-400 hover:text-slate-900 p-1 bg-white rounded-md border border-slate-200",children:d.jsx(zl,{className:"w-3.5 h-3.5"})})]}),d.jsxs("form",{onSubmit:R,className:"p-5 flex flex-col",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Nome da Pasta"}),d.jsx("input",{required:!0,type:"text",placeholder:"EX: MANH",className:"w-full px-3 py-2.5 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase text-[13px]",value:g,onChange:te=>y(te.target.value)})]}),d.jsx("button",{type:"submit",className:"w-full py-3 bg-black text-lime-400 rounded-lg font-black uppercase italic tracking-tighter shadow-xl hover:scale-[1.02] active:scale-95 transition-all text-[11px]",children:T?"Salvar Alteraes":"Criar Pasta"})]})]})})]})},Ub=()=>{const[s,e]=D.useState("daily"),[n,r]=D.useState([]),[l,c]=D.useState([]),[u,p]=D.useState([]),[g,y]=D.useState([]);D.useEffect(()=>{const T=ro(r),N=Kd(c);return()=>{T(),N()}},[]),D.useEffect(()=>{if(n.length===0||l.length===0)return;const T=new Date,N=`${T.getFullYear()}-${String(T.getMonth()+1).padStart(2,"0")}-${String(T.getDate()).padStart(2,"0")}`,L=l.filter(O=>O.date===N),P=[];L.forEach(O=>{const W=n.find(K=>K.id===O.userId);if(W){const K=P.find(q=>q.user.id===W.id);K?O.time<K.checkInTime&&(K.checkInTime=O.time,K.checkIn=O):P.push({user:W,checkInTime:O.time,checkIn:O})}}),P.sort((O,W)=>O.checkInTime.localeCompare(W.checkInTime)),p(P)},[n,l]),D.useEffect(()=>{if(n.length===0)return;const T=n.filter(N=>N.status==="ativo").map(N=>{const P=l.filter(O=>O.userId===N.id).reduce((O,W)=>O+(W.score||0),0);return{...N,totalScore:P}}).sort((N,L)=>L.totalScore-N.totalScore);y(T)},[n,l]);const b=T=>{switch(T){case 0:return"bg-yellow-400 text-black border-yellow-500 shadow-yellow-400/50";case 1:return"bg-zinc-300 text-black border-zinc-400 shadow-zinc-300/50";case 2:return"bg-orange-400 text-black border-orange-500 shadow-orange-400/50";default:return"bg-zinc-800 text-zinc-400 border-zinc-700"}},E=T=>{switch(T){case 0:return"border-yellow-500 shadow-yellow-400/50";case 1:return"border-zinc-400 shadow-zinc-300/50";case 2:return"border-orange-500 shadow-orange-400/50";default:return"border-slate-200"}};return d.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-8 duration-1000",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsxs("div",{className:"inline-flex bg-white p-1 rounded-full border border-slate-200 shadow-sm relative",children:[d.jsx("div",{className:`absolute top-1 bottom-1 w-[50%] bg-black rounded-full transition-all duration-300 ${s==="general"?"left-[48%] translate-x-1":"left-1"}`}),d.jsx("button",{onClick:()=>e("daily"),className:`relative z-10 px-6 py-2 rounded-full text-[10px] font-black uppercase tracking-widest transition-colors ${s==="daily"?"text-lime-400":"text-slate-500 hover:text-slate-900"}`,children:"Ranking Dirio"}),d.jsx("button",{onClick:()=>e("general"),className:`relative z-10 px-6 py-2 rounded-full text-[10px] font-black uppercase tracking-widest transition-colors ${s==="general"?"text-lime-400":"text-slate-500 hover:text-slate-900"}`,children:"Ranking Geral"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("h2",{className:"text-2xl font-black italic uppercase font-sport text-slate-900 tracking-tighter",children:s==="daily"?"Quem Chegou Primeiro?":"Melhores Atletas"}),d.jsx("p",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:s==="daily"?new Date().toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Classificao Geral por Pontuao"})]})]}),d.jsx("div",{className:"max-w-4xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-[2rem] border-2 border-slate-200 overflow-hidden shadow-xl",children:[d.jsx("div",{className:"grid grid-cols-1 divide-y-2 divide-slate-100",children:s==="daily"?u.length>0?u.map((T,N)=>d.jsxs("div",{className:"flex items-center p-4 hover:bg-slate-50 transition-colors group",children:[d.jsx("div",{className:"mr-5 relative",children:T.user.photoUrl?d.jsxs("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border-4 shadow-lg transition-transform group-hover:scale-110 overflow-hidden relative bg-white ${E(N)}`,children:[d.jsx("img",{src:T.user.photoUrl,alt:T.user.name,className:"w-full h-full object-cover",onError:L=>{L.target.style.display="none";const P=L.target.parentElement;P&&(P.classList.remove("rounded-xl","border-4","bg-white","w-12","h-12"),P.classList.add("w-10","h-10","rounded-lg","font-black","text-lg","italic","font-sport","border-2"),P.className=`w-10 h-10 rounded-lg flex items-center justify-center font-black text-lg italic font-sport border-2 shadow-lg transition-transform group-hover:scale-110 ${b(N)}`,P.innerHTML=`#${N+1}`)}}),d.jsx("div",{className:"absolute -bottom-1 -right-1 bg-slate-900 text-white text-[9px] font-black w-5 h-5 flex items-center justify-center rounded-full border-2 border-white shadow-sm z-10",children:N+1})]}):d.jsxs("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center font-black text-lg italic font-sport border-2 shadow-lg transition-transform group-hover:scale-110 ${b(N)}`,children:["#",N+1]})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[d.jsx("h3",{className:"text-lg font-black italic uppercase font-sport text-slate-900 truncate",children:T.user.name}),N===0&&d.jsxs("span",{className:"px-1.5 py-0.5 bg-yellow-100 text-yellow-700 text-[9px] font-black uppercase tracking-widest rounded border border-yellow-200 flex items-center gap-1",children:[d.jsx(Jh,{className:"w-2.5 h-2.5"})," Lder"]})]}),d.jsxs("div",{className:"flex items-center gap-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(vc,{className:"w-3 h-3 text-lime-500"}),"Check-in: ",d.jsx("span",{className:"text-slate-900 font-sport italic text-xs",children:T.checkInTime})]}),d.jsxs("span",{className:"bg-slate-100 px-1.5 py-0.5 rounded text-slate-500 flex items-center gap-1",children:["Saldo: ",d.jsxs("span",{className:"text-slate-900 font-bold tracking-tight",children:["R$ ",T.user.balance.toFixed(2)]})]})]})]}),d.jsxs("div",{className:"text-right pl-3",children:[d.jsx("p",{className:"text-[9px] font-black text-lime-500 uppercase tracking-widest mb-0.5",children:"Pontos Ganhos"}),d.jsxs("p",{className:"font-black font-sport italic text-slate-900 text-2xl leading-none",children:["+",T.checkIn.score.toFixed(0)," ",d.jsx("span",{className:"text-[10px] uppercase not-italic font-sans tracking-tighter",children:"pts"})]})]})]},T.user.id)):d.jsxs("div",{className:"py-32 text-center space-y-6",children:[d.jsx("div",{className:"w-24 h-24 bg-slate-50 rounded-full mx-auto flex items-center justify-center text-slate-300 border-4 border-dashed border-slate-200",children:d.jsx(MN,{className:"w-10 h-10"})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-slate-400 font-black uppercase tracking-[0.2em]",children:"Sem registros hoje"}),d.jsx("p",{className:"text-slate-300 text-[9px] font-black uppercase tracking-widest max-w-xs mx-auto",children:"O ranking ser formado assim que os atletas comearem a fazer check-in."})]})]}):g.length>0?g.map((T,N)=>d.jsxs("div",{className:"flex items-center p-4 hover:bg-slate-50 transition-colors group",children:[d.jsx("div",{className:"mr-5 relative",children:T.photoUrl?d.jsxs("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border-4 shadow-lg transition-transform group-hover:scale-110 overflow-hidden relative bg-white ${E(N)}`,children:[d.jsx("img",{src:T.photoUrl,alt:T.name,className:"w-full h-full object-cover",onError:L=>{L.target.style.display="none";const P=L.target.parentElement;P&&(P.classList.remove("rounded-xl","border-4","bg-white","w-12","h-12"),P.classList.add("w-10","h-10","rounded-lg","font-black","text-lg","italic","font-sport","border-2"),P.className=`w-10 h-10 rounded-lg flex items-center justify-center font-black text-lg italic font-sport border-2 shadow-lg transition-transform group-hover:scale-110 ${b(N)}`,P.innerHTML=`#${N+1}`)}}),d.jsx("div",{className:"absolute -bottom-1 -right-1 bg-slate-900 text-white text-[9px] font-black w-5 h-5 flex items-center justify-center rounded-full border-2 border-white shadow-sm z-10",children:N+1})]}):d.jsxs("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center font-black text-lg italic font-sport border-2 shadow-lg transition-transform group-hover:scale-110 ${b(N)}`,children:["#",N+1]})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[d.jsx("h3",{className:"text-lg font-black italic uppercase font-sport text-slate-900 truncate",children:T.name}),N===0&&d.jsxs("span",{className:"px-1.5 py-0.5 bg-yellow-100 text-yellow-700 text-[9px] font-black uppercase tracking-widest rounded border border-yellow-200 flex items-center gap-1",children:[d.jsx(Jh,{className:"w-2.5 h-2.5"})," Lder Geral"]})]}),d.jsxs("div",{className:"flex items-center gap-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["ID: ",T.uniqueCode,d.jsx("span",{className:"mx-1",children:""}),d.jsxs("span",{className:"text-slate-500",children:["Saldo: ",d.jsxs("span",{className:"text-slate-900",children:["R$ ",T.balance.toFixed(2)]})]})]})]}),d.jsxs("div",{className:"text-right pl-3",children:[d.jsx("p",{className:"text-[9px] font-black text-lime-500 uppercase tracking-widest mb-0.5",children:"Total de Pontos"}),d.jsxs("p",{className:"font-black font-sport italic text-slate-900 text-3xl leading-none",children:[T.totalScore.toFixed(0)," ",d.jsx("span",{className:"text-[10px] uppercase not-italic font-sans tracking-tighter",children:"pts"})]})]})]},T.id)):d.jsx("div",{className:"py-32 text-center space-y-6",children:d.jsx("p",{className:"text-slate-400 font-black uppercase tracking-[0.2em]",children:"Nenhum atleta encontrado"})})}),d.jsx("div",{className:"bg-slate-50 px-8 py-4 border-t-2 border-slate-100 flex justify-center",children:d.jsxs("p",{className:"text-[8px] text-slate-400 font-black uppercase tracking-widest flex items-center gap-2",children:[d.jsx(Ll,{className:"w-3 h-3"}),s==="daily"?"Critrio de Desempate: Horrio do Check-in (Mais cedo = Melhor posio)":"Ranking baseado no saldo total acumulado na temporada."]})})]})})]})},eO=()=>{const[s,e]=D.useState(""),[n,r]=D.useState(""),[l,c]=D.useState(""),[u,p]=D.useState(!1),g=Jl(),y=async b=>{b.preventDefault(),p(!0),c("");try{await RI(Hs,s,n),g("/admin/usuarios")}catch(E){E.code==="auth/invalid-credential"?c("CREDENCIAIS INVLIDAS."):c("ERRO AO FAZER LOGIN: "+E.message)}finally{p(!1)}};return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-6 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-2xl aspect-square bg-lime-500/5 blur-[150px] rounded-full"}),d.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-[2.5rem] shadow-2xl w-full max-w-sm overflow-hidden relative z-10",children:[d.jsxs("div",{className:"p-8 bg-zinc-800/30 text-center space-y-3 border-b border-zinc-800 flex flex-col items-center",children:[d.jsx("img",{src:"/logo.png",alt:"Impulso Club",className:"h-20 w-auto object-contain mb-2"}),d.jsx("p",{className:"text-zinc-500 text-[9px] font-black uppercase tracking-[0.4em]",children:"Controle Central"})]}),d.jsxs("form",{onSubmit:y,className:"p-8 space-y-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[8px] font-black text-zinc-500 uppercase tracking-[0.3em] mb-2 ml-1",children:"Email"}),d.jsxs("div",{className:"relative group",children:[d.jsx(Sa,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 group-focus-within:text-lime-400 transition-colors w-4 h-4"}),d.jsx("input",{type:"email",required:!0,className:"w-full pl-12 pr-5 py-4 bg-black border border-zinc-800 rounded-xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase font-sport tracking-widest text-sm",placeholder:"SEU EMAIL",value:s,onChange:b=>e(b.target.value)})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[8px] font-black text-zinc-500 uppercase tracking-[0.3em] mb-2 ml-1",children:"Senha"}),d.jsxs("div",{className:"relative group",children:[d.jsx(rg,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 group-focus-within:text-lime-400 transition-colors w-4 h-4"}),d.jsx("input",{type:"password",required:!0,className:"w-full pl-12 pr-5 py-4 bg-black border border-zinc-800 rounded-xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase font-sport tracking-widest text-sm",placeholder:"",value:n,onChange:b=>r(b.target.value)})]})]})]}),l&&d.jsxs("div",{className:"flex items-center text-white text-[10px] bg-red-600 p-4 rounded-xl font-black uppercase tracking-widest",children:[d.jsx(Ll,{className:"w-4 h-4 mr-3 shrink-0"}),l]}),d.jsx("button",{type:"submit",disabled:u,className:"w-full py-4 bg-lime-400 text-black rounded-[1.2rem] font-black text-lg shadow-[0_10px_25px_rgba(163,230,53,0.3)] hover:scale-[1.03] active:scale-95 transition-all flex items-center justify-center gap-3 uppercase tracking-tighter italic font-sport",children:u?d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-black"}):d.jsxs(d.Fragment,{children:[d.jsx(aN,{className:"w-5 h-5"}),"Acessar Portal"]})})]}),d.jsx("div",{className:"p-5 bg-black text-center",children:d.jsx(es,{to:"/signup",className:"text-[10px] text-zinc-500 hover:text-lime-400 uppercase tracking-[0.2em] font-black transition-colors",children:"CRIAR NOVA CONTA"})})]})]})},tO=()=>{const[s]=EA();s.get("token");const[e,n]=D.useState(1),[r,l]=D.useState(""),[c,u]=D.useState(null),[p,g]=D.useState([]),[y,b]=D.useState([]),[E,T]=D.useState([]),[N,L]=D.useState(!1),[P,O]=D.useState(null),[W,K]=D.useState("prompt"),[q,ae]=D.useState(null),[Z,he]=D.useState(!1),[I,R]=D.useState(new Date),[S,j]=D.useState(null),[M,z]=D.useState(!1),[C,te]=D.useState(null),be=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;D.useEffect(()=>{const Q=setInterval(()=>R(new Date),1e3),le=ro(g),ce=d0(b),de=Kd(T);return navigator.permissions&&navigator.permissions.query&&navigator.permissions.query({name:"geolocation"}).then(ve=>{K(ve.state),ve.onchange=()=>K(ve.state)}).catch(()=>{K("prompt")}),navigator.permissions&&navigator.permissions.query&&navigator.permissions.query({name:"geolocation"}).then(ve=>{K(ve.state),ve.onchange=()=>K(ve.state)}).catch(()=>{K("prompt")}),()=>{clearInterval(Q),le(),ce(),de()}},[]);const Y=()=>{const Q=I.getHours().toString().padStart(2,"0"),le=I.getMinutes().toString().padStart(2,"0");return`${Q}:${le}`},oe=()=>{const Q=new Date;return`${Q.getFullYear()}-${String(Q.getMonth()+1).padStart(2,"0")}-${String(Q.getDate()).padStart(2,"0")}`},ge=Q=>{Q.preventDefault(),L(!0),O(null);const le=r.trim(),ce=p.find(de=>de.cpf===le||de.uniqueCode.toUpperCase()===le.toUpperCase());setTimeout(()=>{ce?ce.status===vt.ELIMINATED?O("CONTA BLOQUEADA. PROCURE O ADMINISTRADOR."):(u(ce),n(2)):O("ATLETA NO IDENTIFICADO."),L(!1)},600)},Ce=async()=>{L(!0),O(null),ae(null),j(null);try{await Bd();const Q=$e();if(Q)throw{message:Q,isSystemError:!1};const le=await M3();await U(le)}catch(Q){console.error("Check-in Error:",Q);let le=Q.message||"Erro desconhecido ao realizar check-in.";Q.code==="PERMISSION_DENIED"?(K("denied"),be?le="ACESSO  LOCALIZAO NEGADO. V EM AJUSTES > PRIVACIDADE > SERVIOS DE LOCALIZAO E HABILITE PARA O SAFARI.":le="PERMISSO DE LOCALIZAO NEGADA. POR FAVOR, HABILITE NAS CONFIGURAES DO SITE."):Q.code==="POSITION_UNAVAILABLE"?le="SINAL DE GPS NO ENCONTRADO. TENTE EM REA ABERTA.":Q.code==="TIMEOUT"&&(le="DEMORA AO OBTER LOCALIZAO. TENTE NOVAMENTE."),O(le)}finally{L(!1)}},$e=()=>{const Q=Y(),le=I.getDay(),ce=Oe=>{const[Bt,bt]=Oe.split(":").map(Number);return Bt*60+bt},de=ce(Q);if(!y.find(Oe=>{if(Oe.days&&!Oe.days.includes(le))return!1;const Bt=ce(Oe.startTime);let bt=ce(Oe.endTime);return bt===0&&(bt=1440),bt<Bt?de>=Bt||de<bt:de>=Bt&&de<bt}))return`JANELA FECHADA AGORA (${Q}).`;const De=oe();return E.some(Oe=>Oe.userId===(c==null?void 0:c.id)&&Oe.date===De)?"CHECK-IN J REALIZADO HOJE.":null},U=async Q=>{const{latitude:le,longitude:ce,accuracy:de}=Q;let ve="";try{const on=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${le}&lon=${ce}&zoom=18&addressdetails=1`)).json();on&&on.address&&(ve=on.display_name?on.display_name.split(",").slice(0,3).join(","):"Localizao Detectada")}catch(Tn){console.warn("Geocoding failed",Tn),ve=`${le.toFixed(5)}, ${ce.toFixed(5)}`}ae(ve);const De=Y(),mt=I.getDay(),Oe=Tn=>{const[on,Un]=Tn.split(":").map(Number);return on*60+Un},Bt=Oe(De),bt=y.find(Tn=>{if(Tn.days&&!Tn.days.includes(mt))return!1;const on=Oe(Tn.startTime);let Un=Oe(Tn.endTime);return Un===0&&(Un=1440),Un<on?Bt>=on||Bt<Un:Bt>=on&&Bt<Un});if(!bt)throw{message:"Erro interno: Horrio no encontrado."};const ni=bt.latitude||Wn.lat,Di=bt.longitude||Wn.lng,wn=bt.radius||Wn.radius,zr=6371e3,si=le*Math.PI/180,Br=ni*Math.PI/180,Oi=(ni-le)*Math.PI/180,dt=(Di-ce)*Math.PI/180,pt=Math.sin(Oi/2)*Math.sin(Oi/2)+Math.cos(si)*Math.cos(Br)*Math.sin(dt/2)*Math.sin(dt/2),_s=2*Math.atan2(Math.sqrt(pt),Math.sqrt(1-pt)),La=zr*_s,za=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";if(La>wn&&!za)throw j({distance:La,radius:wn,accuracy:de}),{code:"DISTANCE_ERROR",message:"Voc est longe da academia."};const Vi=10*(bt.weight||1),qr=oe();await qd("checkIns",{userId:c.id,date:qr,time:De,latitude:le,longitude:ce,timeSlotId:bt.id,score:Vi,address:ve,accuracy:de||0,createdAt:new Date().toISOString()});const xs={...c,balance:c.balance+Vi};await h0("users",c.id,xs),he(!0)};return Z?d.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-6 font-sans",children:d.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-8 rounded-[2rem] text-center space-y-6 max-w-sm w-full shadow-[0_0_80px_rgba(163,230,53,0.1)]",children:[d.jsx("div",{className:"inline-flex p-5 bg-lime-400 rounded-full shadow-[0_0_30px_rgba(163,230,53,0.3)] animate-bounce",children:d.jsx(Xh,{className:"w-10 h-10 text-black"})}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("h2",{className:"text-3xl font-black italic font-sport text-white uppercase tracking-tighter",children:"Misso Cumprida!"}),d.jsx("p",{className:"text-zinc-500 font-black uppercase text-[9px] tracking-[0.4em]",children:"Check-in Validado com Sucesso"}),q&&d.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2 text-zinc-600",children:[d.jsx("div",{className:"w-1 h-1 bg-lime-500 rounded-full"}),d.jsx("p",{className:"text-[9px] font-bold uppercase tracking-wider max-w-[200px] truncate",children:q})]})]}),d.jsxs("div",{className:"bg-black p-5 rounded-xl border border-zinc-800 space-y-1",children:[d.jsxs("p",{className:"text-zinc-500 text-[9px] font-black uppercase tracking-widest",children:["Atleta: ",c==null?void 0:c.name]}),d.jsx("p",{className:"text-lime-400 text-xl font-black font-sport italic tracking-tighter",children:"RECOMPENSA CREDITADA"})]}),d.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-4 bg-white text-black rounded-xl font-black uppercase italic tracking-tighter hover:bg-lime-400 transition-all text-lg",children:"Novo Registro"}),d.jsx(es,{to:"/ranking",className:"block w-full py-4 bg-transparent border-2 border-zinc-700 text-zinc-400 rounded-xl font-black uppercase italic tracking-tighter hover:border-lime-400 hover:text-lime-400 transition-all text-lg pt-3",children:"Ver Ranking do Dia"})]})}):d.jsxs("div",{className:"min-h-screen bg-black text-white p-6 flex flex-col items-center justify-center relative overflow-hidden font-sans",children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-lime-500/50 to-transparent"}),d.jsxs("div",{className:"w-full max-w-md space-y-10 relative z-10",children:[d.jsxs("div",{className:"text-center space-y-3 flex flex-col items-center",children:[d.jsx("img",{src:"/logo.png",alt:"Impulso Club",className:"h-24 w-auto object-contain mb-2"}),d.jsxs("div",{className:"flex items-center justify-center gap-3 text-zinc-500 font-black uppercase text-[9px] tracking-[0.4em]",children:[d.jsx(Er,{className:"w-2.5 h-2.5 text-lime-500"}),I.toLocaleTimeString("pt-BR")]})]}),P&&d.jsx("div",{className:"bg-zinc-900/80 border border-zinc-800 p-6 rounded-2xl animate-in slide-in-from-top-2 backdrop-blur-sm",children:S&&P.includes("longe")?d.jsxs("div",{className:"space-y-4 text-center",children:[d.jsx("div",{className:"mx-auto w-12 h-12 bg-amber-500/20 text-amber-500 rounded-full flex items-center justify-center animate-pulse",children:d.jsx(xr,{className:"w-6 h-6"})}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("h3",{className:"text-white font-black italic uppercase font-sport text-lg tracking-wide",children:"Voc est fora do local de check-in"}),d.jsx("p",{className:"text-zinc-400 text-[10px] font-bold uppercase tracking-widest",children:"Aproxime-se para realizar o check-in"})]}),d.jsx("div",{className:"py-4 relative",children:d.jsxs("div",{className:"h-1.5 w-full bg-zinc-800 rounded-full overflow-hidden flex items-center relative",children:[d.jsx("div",{className:"w-1/2 h-full bg-transparent border-r-2 border-dashed border-zinc-600 absolute left-0 top-0"}),d.jsx("div",{className:"absolute left-[20%] top-1/2 -translate-y-1/2 w-3 h-3 bg-lime-500 rounded-full shadow-[0_0_10px_rgba(163,230,53,0.5)] z-10"}),d.jsx("div",{className:"absolute right-[20%] top-1/2 -translate-y-1/2 w-3 h-3 bg-rose-500 rounded-full shadow-[0_0_10px_rgba(244,63,94,0.5)] animate-ping opacity-75"}),d.jsx("div",{className:"absolute right-[20%] top-1/2 -translate-y-1/2 w-3 h-3 bg-rose-500 rounded-full z-10"}),d.jsxs("div",{className:"absolute left-[22%] top-[-10px] text-[8px] font-black text-lime-500",children:["RAIO ",S.radius,"m"]}),d.jsx("div",{className:"absolute right-[22%] top-[-10px] text-[8px] font-black text-rose-500",children:"VOC"})]})}),d.jsxs("div",{className:"flex items-center justify-center gap-8 border-t border-zinc-800 pt-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-[9px] font-black text-zinc-600 uppercase tracking-widest",children:"Sua Distncia"}),d.jsxs("p",{className:"text-2xl font-black text-rose-500 font-sport italic tracking-tighter",children:[Math.round(S.distance),d.jsx("span",{className:"text-sm text-zinc-600 not-italic",children:"m"})]})]}),d.jsx("div",{className:"w-px h-8 bg-zinc-800"}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-[9px] font-black text-zinc-600 uppercase tracking-widest",children:"Raio Permitido"}),d.jsxs("p",{className:"text-2xl font-black text-lime-500 font-sport italic tracking-tighter",children:[S.radius,d.jsx("span",{className:"text-sm text-zinc-600 not-italic",children:"m"})]})]})]})]}):d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx(Ll,{className:"w-5 h-5 text-rose-500 shrink-0 mt-1"}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-rose-500 font-black text-[10px] uppercase tracking-widest text-left",children:"Aviso de Sistema"}),d.jsx("p",{className:"text-white text-xs font-bold uppercase tracking-tight leading-snug text-left",children:P})]})]})}),e===1?d.jsxs("form",{onSubmit:ge,className:"space-y-8",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"block text-[8px] font-black text-zinc-500 uppercase tracking-[0.3em] ml-1",children:"Identificao do Atleta"}),d.jsxs("div",{className:"relative group",children:[d.jsx(ag,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-600 group-focus-within:text-lime-400 transition-colors w-4 h-4"}),d.jsx("input",{required:!0,type:"text",placeholder:"CPF OU TAG NICA",className:"w-full pl-12 pr-5 py-5 bg-zinc-900/50 border border-zinc-800 rounded-2xl text-white font-bold placeholder:text-zinc-700 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase font-sport tracking-widest text-lg",value:r,onChange:Q=>l(Q.target.value)})]})]}),d.jsx("button",{type:"submit",disabled:N,className:"w-full py-5 bg-white text-black rounded-2xl font-black text-xl uppercase italic tracking-tighter hover:bg-lime-400 transition-all flex items-center justify-center gap-2 font-sport shadow-2xl active:scale-95",children:N?d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-black"}):d.jsxs(d.Fragment,{children:["PRXIMO ",d.jsx(zA,{className:"w-6 h-6"})]})})]}):d.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[d.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-800 p-6 rounded-[1.5rem] space-y-5",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-16 h-16 bg-lime-400 rounded-2xl flex items-center justify-center text-black font-black text-2xl font-sport italic shadow-lg overflow-hidden",children:c!=null&&c.photoUrl?d.jsx("img",{src:c.photoUrl,alt:c.name,className:"w-full h-full object-cover"}):(c==null?void 0:c.name[0].toUpperCase())||"?"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-black text-white uppercase italic font-sport tracking-tight leading-none mb-1.5",children:c==null?void 0:c.name}),d.jsxs("div",{className:"inline-flex items-center px-2 py-0.5 bg-black rounded-lg border border-zinc-800",children:[d.jsx("span",{className:"text-[9px] text-zinc-500 font-black uppercase tracking-widest mr-2",children:"ID:"}),d.jsx("span",{className:"text-[9px] text-lime-400 font-black font-sport italic",children:c==null?void 0:c.uniqueCode})]})]})]}),d.jsx("div",{className:"pt-1",children:d.jsxs("div",{className:"bg-black/40 p-4 rounded-xl border border-zinc-800/50 w-full text-center",children:[d.jsx("p",{className:"text-[7.5px] font-black text-zinc-600 uppercase tracking-widest mb-1",children:"Saldo Atual"}),d.jsxs("p",{className:"text-2xl font-black text-white font-sport italic",children:["R$ ",c==null?void 0:c.balance.toFixed(2)]})]})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-[70px_1fr] gap-3",children:[d.jsx("button",{onClick:()=>n(1),className:"py-5 bg-zinc-900 border border-zinc-800 text-zinc-500 rounded-2xl flex items-center justify-center hover:text-white transition-all active:scale-90",children:d.jsx(bp,{className:"w-6 h-6"})}),(!W||W==="prompt"||W==="granted")&&d.jsx("button",{onClick:Ce,disabled:N,className:"py-5 bg-lime-400 text-black rounded-2xl font-black text-xl uppercase italic tracking-tighter hover:bg-white transition-all flex items-center justify-center gap-3 font-sport shadow-[0_20px_40px_rgba(163,230,53,0.15)] active:scale-95",children:N?d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-black"}):d.jsxs(d.Fragment,{children:[d.jsx(xr,{className:"w-6 h-6"}),"CHECK-IN"]})}),W==="denied"&&d.jsxs("button",{onClick:Ce,className:"py-5 bg-rose-500 text-white rounded-2xl font-black text-sm uppercase italic tracking-tighter hover:bg-rose-400 transition-all flex items-center justify-center gap-2 font-sport shadow-[0_20px_40px_rgba(244,63,94,0.15)] active:scale-95 px-4",children:[d.jsx(Ll,{className:"w-5 h-5 mx-auto mb-1"}),be?"HABILITAR NO SAFARI":"TENTAR NOVAMENTE"]})]}),W==="denied"&&d.jsx("p",{className:"text-[9px] text-zinc-500 text-center font-black uppercase tracking-widest max-w-[280px] mx-auto",children:"Localizao obrigatria para validar presena na academia."})]})]}),d.jsxs("div",{className:"pt-12 flex flex-col items-center gap-4",children:[d.jsxs("button",{onClick:()=>z(!0),className:"flex items-center gap-2 px-6 py-3 bg-zinc-900 border border-zinc-800 rounded-xl hover:bg-zinc-800 transition-all group w-full max-w-xs justify-center",children:[d.jsx(Z_,{className:"w-4 h-4 text-lime-400"}),d.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-zinc-300 group-hover:text-white",children:"Locais de Check-in"})]}),d.jsxs(es,{to:"/admin/login",className:"group flex items-center gap-3 px-6 py-3 bg-zinc-900/30 border border-zinc-800/50 rounded-full transition-all hover:bg-lime-400/10 hover:border-lime-400/30",children:[d.jsx(rg,{className:"w-3 h-3 text-zinc-600 group-hover:text-lime-400 transition-colors"}),d.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.4em] text-zinc-500 group-hover:text-white transition-colors",children:"ACESSO RESTRITO AO COMANDO"})]}),d.jsx("p",{className:"text-[8px] text-zinc-800 font-black uppercase tracking-[0.6em]",children:"FitReward Performance V4"})]})]}),M&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-4 bg-black/90 backdrop-blur-sm animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 w-full max-w-md rounded-3xl overflow-hidden shadow-2xl flex flex-col max-h-[85vh] animate-in slide-in-from-bottom-10 sm:slide-in-from-bottom-0 sm:zoom-in-95 duration-300",children:[d.jsxs("div",{className:"p-5 border-b border-zinc-800 flex items-center justify-between bg-zinc-950",children:[d.jsxs("h3",{className:"text-lg font-black italic uppercase font-sport text-white tracking-wider flex items-center gap-2",children:[d.jsx(Z_,{className:"w-5 h-5 text-lime-400"}),"Locais Disponveis"]}),d.jsx("button",{onClick:()=>{z(!1),te(null)},className:"p-2 hover:bg-zinc-800 rounded-full transition-colors text-zinc-400 hover:text-white",children:d.jsx(zl,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-0",children:C?d.jsxs("div",{className:"animate-in slide-in-from-right-4 duration-300",children:[d.jsxs("div",{className:"h-48 bg-zinc-800 relative group overflow-hidden",children:[C.photoUrl?d.jsx("img",{src:C.photoUrl,alt:C.locationName,className:"w-full h-full object-cover"}):d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-zinc-900",children:d.jsx(xr,{className:"w-12 h-12 text-zinc-700"})}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900 via-transparent to-transparent"}),d.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[d.jsx("h2",{className:"text-2xl font-black italic font-sport text-white uppercase tracking-tighter leading-none mb-1 shadow-black drop-shadow-lg",children:C.locationName}),d.jsxs("div",{className:"flex items-center gap-2 text-lime-400",children:[d.jsx(DN,{className:"w-3 h-3 fill-lime-400"}),d.jsxs("span",{className:"text-xs font-black uppercase tracking-wider shadow-black drop-shadow-md",children:[C.weight*10," PONTOS"]})]})]})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-start gap-4 p-4 bg-black/40 rounded-xl border border-zinc-800",children:[d.jsx(xr,{className:"w-5 h-5 text-zinc-400 mt-1"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[9px] font-black text-zinc-500 uppercase tracking-widest mb-1",children:"Endereo"}),d.jsxs("p",{className:"text-sm font-bold text-white uppercase leading-snug",children:[C.locationName,", Latitude: ",C.latitude.toFixed(4),", Longitude: ",C.longitude.toFixed(4)]})]})]}),d.jsxs("div",{className:"flex items-start gap-4 p-4 bg-black/40 rounded-xl border border-zinc-800",children:[d.jsx(Er,{className:"w-5 h-5 text-zinc-400 mt-1"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[9px] font-black text-zinc-500 uppercase tracking-widest mb-1",children:"Horrio de Check-in"}),d.jsxs("p",{className:"text-xl font-black text-white font-sport italic",children:[C.startTime," ",d.jsx("span",{className:"text-zinc-600 not-italic mx-1",children:"-"})," ",C.endTime]})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${C.latitude},${C.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"py-4 bg-blue-600 hover:bg-blue-500 text-white rounded-xl flex flex-col items-center justify-center gap-1 transition-all active:scale-95",children:[d.jsx(r1,{className:"w-5 h-5 mb-1"}),d.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Google Maps"})]}),d.jsxs("a",{href:`https://waze.com/ul?ll=${C.latitude},${C.longitude}&navigate=yes`,target:"_blank",rel:"noopener noreferrer",className:"py-4 bg-cyan-500 hover:bg-cyan-400 text-white rounded-xl flex flex-col items-center justify-center gap-1 transition-all active:scale-95",children:[d.jsx(fN,{className:"w-5 h-5 mb-1"}),d.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Waze"})]})]}),d.jsxs("button",{onClick:()=>te(null),className:"w-full py-4 text-zinc-500 hover:text-white font-black uppercase text-xs tracking-widest transition-colors flex items-center justify-center gap-2",children:[d.jsx(bp,{className:"w-4 h-4"}),"Voltar para lista"]})]})]}):d.jsx("div",{className:"p-4 space-y-6",children:[1,2,3,4,5,6,0].map(Q=>{const le=y.filter(de=>de.days.includes(Q)).sort((de,ve)=>de.startTime.localeCompare(ve.startTime));if(le.length===0)return null;const ce=["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"];return d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3 px-2",children:[d.jsx(yc,{className:"w-4 h-4 text-lime-400"}),d.jsx("h4",{className:"text-sm font-black text-white uppercase tracking-widest",children:ce[Q]}),d.jsx("div",{className:"h-px bg-zinc-800 flex-1"})]}),d.jsx("div",{className:"grid gap-2",children:le.map(de=>d.jsxs("button",{onClick:()=>te(de),className:"bg-zinc-900 hover:bg-zinc-800 border border-zinc-800 hover:border-lime-400/30 p-4 rounded-xl text-left transition-all active:scale-[0.98] group",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-white font-bold uppercase text-sm truncate pr-2 group-hover:text-lime-400 transition-colors",children:de.locationName}),d.jsxs("span",{className:"bg-lime-400/10 text-lime-400 text-[9px] font-black px-2 py-0.5 rounded border border-lime-400/20 whitespace-nowrap",children:[de.weight*10," PTS"]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 text-xs",children:[d.jsx(Er,{className:"w-3 h-3"}),d.jsxs("span",{className:"font-mono",children:[de.startTime," - ",de.endTime]})]})]},de.id))})]},Q)})})})]})})]})},nO=()=>{const[s,e]=D.useState(""),[n,r]=D.useState(""),[l,c]=D.useState(""),[u,p]=D.useState(!1),g=Jl(),y=async b=>{b.preventDefault(),p(!0),c("");try{await NI(Hs,s,n),g("/admin/usuarios")}catch(E){E.code==="auth/email-already-in-use"?c("ESTE EMAIL J EST EM USO."):E.code==="auth/weak-password"?c("A SENHA DEVE TER PELO MENOS 6 CARACTERES."):c("ERRO AO CRIAR CONTA: "+E.message)}finally{p(!1)}};return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-6 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-2xl aspect-square bg-lime-500/5 blur-[150px] rounded-full"}),d.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-[3rem] shadow-2xl w-full max-w-md overflow-hidden relative z-10",children:[d.jsxs("div",{className:"p-12 bg-zinc-800/30 text-center space-y-4 border-b border-zinc-800",children:[d.jsx("div",{className:"inline-flex p-5 bg-lime-400 rounded-[1.5rem] mb-2 shadow-[0_0_40px_rgba(163,230,53,0.4)] animate-pulse-lime",children:d.jsx(Ta,{className:"w-10 h-10 text-black"})}),d.jsxs("h1",{className:"text-4xl font-black italic tracking-tighter text-white font-sport uppercase",children:["Fit",d.jsx("span",{className:"text-lime-400",children:"Reward"})]}),d.jsx("p",{className:"text-zinc-500 text-[10px] font-black uppercase tracking-[0.4em]",children:"Novo Acesso"})]}),d.jsxs("form",{onSubmit:y,className:"p-12 space-y-8",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[9px] font-black text-zinc-500 uppercase tracking-[0.3em] mb-3 ml-1",children:"Email"}),d.jsxs("div",{className:"relative group",children:[d.jsx(Sa,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 group-focus-within:text-lime-400 transition-colors w-5 h-5"}),d.jsx("input",{type:"email",required:!0,className:"w-full pl-14 pr-6 py-5 bg-black border border-zinc-800 rounded-2xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase font-sport tracking-widest",placeholder:"SEU EMAIL",value:s,onChange:b=>e(b.target.value)})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[9px] font-black text-zinc-500 uppercase tracking-[0.3em] mb-3 ml-1",children:"Senha"}),d.jsxs("div",{className:"relative group",children:[d.jsx(rg,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 group-focus-within:text-lime-400 transition-colors w-5 h-5"}),d.jsx("input",{type:"password",required:!0,className:"w-full pl-14 pr-6 py-5 bg-black border border-zinc-800 rounded-2xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase font-sport tracking-widest",placeholder:"",value:n,onChange:b=>r(b.target.value)})]})]})]}),l&&d.jsxs("div",{className:"flex items-center text-white text-[10px] bg-red-600 p-4 rounded-xl font-black uppercase tracking-widest",children:[d.jsx(Ll,{className:"w-4 h-4 mr-3 shrink-0"}),l]}),d.jsx("button",{type:"submit",disabled:u,className:"w-full py-6 bg-lime-400 text-black rounded-[1.5rem] font-black text-xl shadow-[0_15px_35px_rgba(163,230,53,0.3)] hover:scale-[1.03] active:scale-95 transition-all flex items-center justify-center gap-3 uppercase tracking-tighter italic font-sport",children:u?d.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-black"}):d.jsxs(d.Fragment,{children:[d.jsx(l1,{className:"w-6 h-6"}),"Criar Conta"]})})]}),d.jsx("div",{className:"p-5 bg-black text-center",children:d.jsx(es,{to:"/admin/login",className:"text-[10px] text-zinc-500 hover:text-lime-400 uppercase tracking-[0.2em] font-black transition-colors",children:"J TEM UMA CONTA? LOGIN"})})]})]})},sO=()=>{const[s,e]=D.useState([]),[n,r]=D.useState([]),[l,c]=D.useState([]);D.useEffect(()=>{const N=ro(e),L=Kd(r),P=Zw(c);return()=>{N(),L(),P()}},[]);const u=s.filter(N=>N.status===vt.ACTIVE).length,p=s.reduce((N,L)=>N+L.balance,0),g=l.reduce((N,L)=>N+(L.amount>0?L.amount:0),0),b=(()=>{const N=new Date;return`${N.getFullYear()}-${String(N.getMonth()+1).padStart(2,"0")}-${String(N.getDate()).padStart(2,"0")}`})(),E=n.filter(N=>N.date===b).length,T=[...n].sort((N,L)=>L.time.localeCompare(N.time)).slice(0,5);return d.jsxs("div",{className:"space-y-12 animate-in fade-in duration-700",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-4 border-b-2 border-slate-200 pb-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 bg-black text-lime-400 rounded-full text-[10px] font-black uppercase tracking-wider shadow-md",children:[d.jsx(Ta,{className:"w-3 h-3"})," Live Dashboard"]}),d.jsx("h1",{className:"text-3xl font-black italic uppercase font-sport text-slate-900 tracking-tighter loading-none",children:"Viso Geral"}),d.jsx("p",{className:"text-slate-400 font-bold uppercase text-[9px] tracking-[0.3em]",children:"Monitoramento em Tempo Real  Atletas e Performance"})]}),d.jsxs("div",{className:"text-right hidden md:block",children:[d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Status do Sistema"}),d.jsxs("div",{className:"flex items-center gap-1.5 text-lime-600 font-black uppercase tracking-widest text-[10px] bg-lime-50 px-2.5 py-1 rounded-lg border border-lime-200",children:[d.jsx("span",{className:"w-1.5 h-1.5 bg-lime-500 rounded-full animate-pulse"})," Operacional"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-black text-white p-5 rounded-[1.5rem] relative overflow-hidden group shadow-xl",children:[d.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:scale-110 transition-transform",children:d.jsx(bc,{className:"w-16 h-16"})}),d.jsxs("div",{className:"relative z-10 space-y-2",children:[d.jsx("div",{className:"p-2 bg-zinc-800 w-fit rounded-lg text-lime-400",children:d.jsx(bc,{className:"w-4 h-4"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-3xl font-black font-sport italic tracking-tighter",children:u}),d.jsx("p",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-wider mt-0.5",children:"Atletas Ativos"})]}),d.jsx("div",{className:"w-full bg-zinc-800 h-1 rounded-full overflow-hidden mt-1",children:d.jsx("div",{className:"bg-lime-400 h-full",style:{width:`${u/(s.length||1)*100}%`}})})]})]}),d.jsxs("div",{className:"bg-white p-5 rounded-[1.5rem] border-2 border-slate-200 relative overflow-hidden group hover:border-lime-400 transition-colors shadow-sm",children:[d.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-5 group-hover:opacity-10 transition-opacity",children:d.jsx(ig,{className:"w-16 h-16 text-slate-900"})}),d.jsxs("div",{className:"relative z-10 space-y-2",children:[d.jsx("div",{className:"p-2 bg-slate-50 border border-slate-100 w-fit rounded-lg text-slate-900",children:d.jsx(RN,{className:"w-4 h-4"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-3xl font-black font-sport italic tracking-tighter text-slate-900",children:E}),d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider mt-0.5",children:"Check-ins Hoje"})]})]})]}),d.jsxs("div",{className:"bg-white p-5 rounded-[1.5rem] border-2 border-slate-200 relative overflow-hidden group hover:border-lime-400 transition-colors shadow-sm",children:[d.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-5 group-hover:opacity-10 transition-opacity",children:d.jsx(xc,{className:"w-16 h-16 text-slate-900"})}),d.jsxs("div",{className:"relative z-10 space-y-2",children:[d.jsx("div",{className:"p-2 bg-slate-50 border border-slate-100 w-fit rounded-lg text-slate-900",children:d.jsx(xc,{className:"w-4 h-4"})}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-2xl font-black font-sport italic tracking-tighter text-slate-900 truncate",children:["R$ ",p.toFixed(0)]}),d.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider mt-0.5",children:"Saldo dos Atletas"})]})]})]}),d.jsxs("div",{className:"bg-lime-400 text-black p-5 rounded-[1.5rem] relative overflow-hidden group shadow-lg",children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10 pointer-events-none"}),d.jsxs("div",{className:"relative z-10 space-y-2",children:[d.jsx("div",{className:"p-2 bg-black/10 w-fit rounded-lg text-black",children:d.jsx(xa,{className:"w-4 h-4 fill-current"})}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-2xl font-black font-sport italic tracking-tighter truncate",children:["R$ ",g.toFixed(0)]}),d.jsx("p",{className:"text-[10px] font-black text-black/60 uppercase tracking-wider mt-0.5",children:"Total Pago em Prmios"})]})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"xl:col-span-2 bg-white rounded-[1.5rem] border-2 border-slate-200 shadow-sm overflow-hidden text-sm",children:[d.jsxs("div",{className:"p-4 border-b-2 border-slate-100 flex justify-between items-center bg-slate-50/50",children:[d.jsx("h3",{className:"text-base font-black italic uppercase font-sport text-slate-900 tracking-widest",children:"Atividade Recente"}),d.jsxs(es,{to:"/admin/checkins",className:"text-[10px] font-black uppercase tracking-widest text-slate-400 hover:text-lime-600 flex items-center gap-1 transition-colors",children:["Ver Tudo ",d.jsx(Rh,{className:"w-3 h-3"})]})]}),d.jsx("div",{children:T.length>0?d.jsx("div",{className:"divide-y-2 divide-slate-100",children:T.map(N=>{const L=s.find(P=>P.id===N.userId);return d.jsxs("div",{className:"p-3 flex items-center justify-between hover:bg-slate-50 transition-colors group",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center text-slate-400 border border-slate-200 group-hover:bg-lime-400 group-hover:text-black group-hover:border-lime-500 transition-all",children:d.jsx(Ta,{className:"w-3.5 h-3.5"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-black text-slate-900 uppercase tracking-tight text-xs",children:(L==null?void 0:L.name)||"Desconhecido"}),d.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide flex items-center gap-2",children:[d.jsx(Er,{className:"w-3 h-3"})," ",N.time,"  ",N.date===b?"Hoje":N.date,N.address&&d.jsxs(d.Fragment,{children:["  ",d.jsx(xr,{className:"w-3 h-3"})," ",d.jsx("span",{className:"max-w-[120px] truncate",children:N.address})]})]})]})]}),d.jsxs("div",{className:"px-2 py-0.5 bg-slate-100 rounded-md text-slate-600 text-[10px] font-black uppercase tracking-widest border border-slate-200",children:["+",N.score," PTS"]})]},N.id)})}):d.jsx("div",{className:"p-8 text-center text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Nenhuma atividade recente registrada hoje."})})]}),d.jsxs("div",{className:"bg-black rounded-[1.5rem] p-5 text-white space-y-4 relative overflow-hidden shadow-2xl",children:[d.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-lime-500/10 blur-[60px] rounded-full pointing-events-none"}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("h3",{className:"text-sm font-black italic uppercase font-sport text-white tracking-widest mb-3 flex items-center gap-2",children:[d.jsx(xa,{className:"w-4 h-4 text-lime-400 fill-current"})," Aes Rpidas"]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(es,{to:"/admin/qrcode",className:"flex items-center p-2.5 bg-zinc-900 border border-zinc-800 rounded-xl hover:bg-lime-400 hover:text-black hover:border-lime-400 transition-all group",children:[d.jsx("div",{className:"w-8 h-8 bg-black rounded-lg flex items-center justify-center mr-3 group-hover:bg-white/20 group-hover:text-black",children:d.jsx(xa,{className:"w-3.5 h-3.5"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-black uppercase tracking-wider text-xs",children:"Gerar Acesso"}),d.jsx("p",{className:"text-[9px] text-zinc-500 font-bold uppercase tracking-widest group-hover:text-black/60",children:"Criar Token Dirio"})]}),d.jsx(Rh,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]}),d.jsxs(es,{to:"/admin/usuarios",className:"flex items-center p-2.5 bg-zinc-900 border border-zinc-800 rounded-xl hover:bg-white hover:text-black hover:border-white transition-all group",children:[d.jsx("div",{className:"w-8 h-8 bg-black rounded-lg flex items-center justify-center mr-3 group-hover:bg-slate-200",children:d.jsx(bc,{className:"w-3.5 h-3.5"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-black uppercase tracking-wider text-xs",children:"Novo Atleta"}),d.jsx("p",{className:"text-[9px] text-zinc-500 font-bold uppercase tracking-widest group-hover:text-black/60",children:"Cadastrar Competidor"})]}),d.jsx(Rh,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]}),d.jsxs(es,{to:"/admin/distribuicoes",className:"flex items-center p-2.5 bg-zinc-900 border border-zinc-800 rounded-xl hover:bg-rose-500 hover:text-white hover:border-rose-500 transition-all group",children:[d.jsx("div",{className:"w-8 h-8 bg-black rounded-lg flex items-center justify-center mr-3 group-hover:bg-white/20",children:d.jsx(xc,{className:"w-3.5 h-3.5"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-black uppercase tracking-wider text-xs",children:"Processar Payout"}),d.jsx("p",{className:"text-[9px] text-zinc-500 font-bold uppercase tracking-widest group-hover:text-white/80",children:"Rodar Distribuio Diria"})]}),d.jsx(Rh,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})]})]})]})]})]})},rT=D.createContext({currentUser:null,loading:!0}),aT=()=>D.useContext(rT),iO=({children:s})=>{const[e,n]=D.useState(null),[r,l]=D.useState(!0);D.useEffect(()=>DI(Hs,p=>{n(p),l(!1)}),[]);const c={currentUser:e,loading:r};return d.jsx(rT.Provider,{value:c,children:!r&&s})},rO=()=>{const{currentUser:s}=aT(),[e,n]=D.useState(""),[r,l]=D.useState(""),[c,u]=D.useState(!1),[p,g]=D.useState(!1),[y,b]=D.useState(0),[E,T]=D.useState(null);D.useEffect(()=>{s&&(n(s.displayName||""),l(s.photoURL||""))},[s]);const N=async P=>{var W;const O=(W=P.target.files)==null?void 0:W[0];if(O){g(!0),b(0),T(null);try{const K=setInterval(()=>{b(ae=>Math.min(ae+10,90))},200),q=await Hd(O,`profiles/${s==null?void 0:s.uid}/${Date.now()}_${O.name}`);clearInterval(K),b(100),l(q),s&&await bx(s,{photoURL:q}),setTimeout(()=>g(!1),500),T({type:"success",text:"Foto de perfil atualizada com sucesso!"})}catch(K){console.error("Error uploading:",K),g(!1),b(0),T({type:"error",text:`Erro ao enviar foto: ${K.message}`})}}},L=async P=>{P.preventDefault(),T(null),u(!0);try{s&&(await bx(s,{displayName:e,photoURL:r}),T({type:"success",text:"Perfil atualizado com sucesso!"}))}catch(O){console.error("Error updating profile:",O),T({type:"error",text:`Erro ao atualizar perfil: ${O.message}`})}finally{u(!1)}};return d.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[d.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:d.jsxs("div",{children:[d.jsxs("h2",{className:"text-3xl font-black italic uppercase font-sport text-slate-900 tracking-tighter",children:["Meu ",d.jsx("span",{className:"text-lime-600",children:"Perfil"})]}),d.jsx("p",{className:"text-slate-500 font-bold uppercase tracking-widest text-xs mt-1",children:"Gerencie suas informaes de acesso"})]})}),d.jsx("div",{className:"bg-white rounded-[1.25rem] border-2 border-slate-300 overflow-hidden shadow-[0_10px_30px_rgba(0,0,0,0.05)] max-w-2xl mx-auto",children:d.jsx("div",{className:"p-8",children:d.jsxs("form",{onSubmit:L,className:"space-y-8",children:[d.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[d.jsxs("div",{className:"relative group",children:[d.jsxs("div",{className:"w-32 h-32 bg-slate-100 rounded-full border-4 border-slate-200 flex items-center justify-center overflow-hidden shadow-xl",children:[r?d.jsx("img",{src:r,alt:"Profile",className:"w-full h-full object-cover"}):d.jsx(Sa,{className:"w-12 h-12 text-slate-400"}),p&&d.jsxs("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center flex-col z-10",children:[d.jsxs("span",{className:"text-white text-xs font-bold",children:[Math.round(y),"%"]}),d.jsx("div",{className:"w-16 h-1.5 bg-slate-700 rounded-full mt-2 overflow-hidden",children:d.jsx("div",{className:"h-full bg-lime-400 transition-all duration-300",style:{width:`${y}%`}})})]})]}),d.jsxs("label",{className:"absolute bottom-0 right-0 bg-black text-lime-400 p-2.5 rounded-full cursor-pointer hover:bg-zinc-900 hover:scale-110 transition-all shadow-lg border-2 border-white group-hover:bottom-1",children:[d.jsx(xd,{className:"w-5 h-5"}),d.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:N,disabled:p})]})]}),d.jsx("p",{className:"text-slate-400 font-black uppercase tracking-widest text-[10px]",children:p?"Enviando...":"Alterar Foto"})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2 flex items-center gap-2",children:[d.jsx(Sa,{className:"w-3.5 h-3.5"}),"Nome de Exibio"]}),d.jsx("input",{type:"text",value:e,onChange:P=>n(P.target.value),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-4 focus:ring-lime-400/20 focus:border-lime-500 outline-none transition-all uppercase placeholder:text-slate-300 text-sm",placeholder:"SEU NOME"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2 flex items-center gap-2",children:[d.jsx(a1,{className:"w-3.5 h-3.5"}),"Email de Acesso"]}),d.jsx("input",{type:"email",value:(s==null?void 0:s.email)||"",disabled:!0,className:"w-full px-4 py-3 bg-slate-100 border-2 border-slate-200 rounded-xl text-slate-500 font-bold outline-none cursor-not-allowed text-sm"}),d.jsx("p",{className:"mt-2 text-[10px] text-slate-400 font-bold uppercase tracking-wide",children:"* O email no pode ser alterado por aqui."})]})]}),E&&d.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${E.type==="success"?"bg-lime-50 text-lime-800 border-2 border-lime-200":"bg-rose-50 text-rose-800 border-2 border-rose-200"}`,children:[E.type==="success"?d.jsx(Xh,{className:"w-5 h-5 shrink-0"}):d.jsx(Ll,{className:"w-5 h-5 shrink-0"}),d.jsx("p",{className:"text-xs font-bold uppercase tracking-wide",children:E.text})]}),d.jsx("div",{className:"pt-4 border-t-2 border-slate-100 flex justify-end",children:d.jsx("button",{type:"submit",disabled:c||p,className:"flex items-center px-8 py-3.5 bg-black text-lime-400 rounded-xl font-black uppercase italic tracking-tighter hover:bg-zinc-900 hover:scale-[1.02] transition-all shadow-xl disabled:opacity-50 disabled:cursor-not-allowed group text-xs",children:c?d.jsx("span",{className:"animate-pulse",children:"Salvando..."}):d.jsxs("span",{className:"flex items-center",children:[d.jsx(wN,{className:"w-4 h-4 mr-2 group-hover:rotate-12 transition-transform"}),"Salvar Alteraes"]})})})]})})})]})},aO=()=>{const[s,e]=D.useState("form"),[n,r]=D.useState(1),[l,c]=D.useState(""),[u,p]=D.useState(!1),[g,y]=D.useState(!1),[b,E]=D.useState(null),T=D.useRef(null),[N,L]=D.useState({name:"",phone:"",email:"",street:"",neighborhood:"",city:"",depositedValue:30,pixKey:"",cpf:"",photoUrl:""}),P=()=>{const Z="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let he="";for(let I=0;I<4;I++)he+=Z.charAt(Math.floor(Math.random()*Z.length));return he},O=async Z=>{var R;const he=(R=Z.target.files)==null?void 0:R[0];if(!he)return;const I=new FileReader;I.onloadend=()=>{E(I.result)},I.readAsDataURL(he),y(!0);try{const S=await Hd(he,`profiles/external/${Date.now()}_${he.name}`);L(j=>({...j,photoUrl:S}))}catch(S){alert("Erro ao enviar foto: "+S.message),E(null)}finally{y(!1)}},W=Z=>Z===1?N.name&&N.phone&&N.email&&N.cpf:Z===2?N.street&&N.neighborhood&&N.city:!0,K=()=>{W(n)?(r(Z=>Z+1),window.scrollTo(0,0)):alert("Por favor, preencha todos os campos obrigatrios da etapa atual.")},q=()=>{r(Z=>Z-1),window.scrollTo(0,0)},ae=async Z=>{if(Z.preventDefault(),!N.photoUrl){alert("A foto de perfil  obrigatria!");return}if(!N.pixKey){alert("A chave PIX  obrigatria!");return}p(!0);try{const he=P();await Ww({...N,uniqueCode:he,status:"analise"}),c(he),e("success")}catch(he){console.error("Error signing up:",he),alert("Erro ao realizar cadastro: "+he.message)}finally{p(!1)}};return s==="success"?d.jsxs("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-6 font-sans relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-2xl aspect-square bg-lime-500/5 blur-[150px] rounded-full"}),d.jsxs("div",{className:"w-full max-w-md bg-zinc-900 border border-zinc-800 rounded-[3rem] p-12 text-center space-y-8 relative z-10 shadow-2xl",children:[d.jsx("div",{className:"mx-auto w-24 h-24 bg-lime-400 rounded-[2rem] flex items-center justify-center shadow-[0_0_50px_rgba(163,230,53,0.3)] animate-bounce-slow",children:d.jsx(vc,{className:"w-12 h-12 text-black"})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h2",{className:"text-3xl font-black italic uppercase font-sport tracking-tighter",children:"Cadastro Realizado!"}),d.jsx("p",{className:"text-zinc-500 text-[10px] font-black uppercase tracking-[0.3em]",children:"Bem-vindo ao FitReward"})]}),d.jsxs("div",{className:"bg-black border-2 border-zinc-800 p-8 rounded-[2rem] space-y-4",children:[d.jsx("p",{className:"text-zinc-400 text-[9px] font-black uppercase tracking-widest",children:"Seu ID nico de Atleta"}),d.jsx("div",{className:"text-6xl font-black italic font-sport text-lime-400 tracking-widest",children:l}),d.jsx("p",{className:"text-zinc-500 text-[8px] font-bold uppercase tracking-widest leading-relaxed mt-4",children:"Guarde este cdigo! Voc precisar dele para seus check-ins dirios."})]}),d.jsxs("button",{onClick:()=>window.location.href="#/checkin",className:"w-full py-5 bg-white text-black rounded-2xl font-black uppercase tracking-widest text-xs hover:scale-[1.03] transition-all flex items-center justify-center gap-2",children:["IR PARA O CHECK-IN ",d.jsx(J_,{className:"w-4 h-4"})]})]})]}):d.jsxs("div",{className:"min-h-screen bg-black text-white p-4 md:p-6 font-sans relative overflow-hidden pb-20",children:[d.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-lime-500/5 blur-[120px] rounded-full -translate-y-1/2 translate-x-1/2"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-lime-500/5 blur-[120px] rounded-full translate-y-1/2 -translate-x-1/2"}),d.jsxs("div",{className:"max-w-xl mx-auto space-y-8 md:space-y-10 relative z-10",children:[d.jsxs("div",{className:"text-center space-y-3 pt-6 md:pt-10",children:[d.jsx("div",{className:"inline-flex p-3 bg-lime-400 rounded-2xl shadow-lg mb-1",children:d.jsx(Ta,{className:"w-6 h-6 text-black"})}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("h1",{className:"text-4xl md:text-5xl font-black italic tracking-tighter uppercase font-sport",children:["Fit",d.jsx("span",{className:"text-lime-400",children:"Reward"})]}),d.jsx("p",{className:"text-zinc-500 text-[9px] font-black uppercase tracking-[0.5em]",children:"Inscrio por Etapas"})]})]}),d.jsx("div",{className:"flex items-center justify-between px-4 max-w-xs mx-auto",children:[1,2,3].map(Z=>d.jsxs("div",{className:"flex items-center flex-1 last:flex-none",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-black text-xs transition-all ${n===Z?"bg-lime-400 text-black scale-110 shadow-[0_0_20px_rgba(163,230,53,0.4)]":n>Z?"bg-lime-900/50 text-lime-400":"bg-zinc-800 text-zinc-600"}`,children:n>Z?d.jsx(vc,{className:"w-4 h-4"}):Z}),Z<3&&d.jsx("div",{className:`h-1 flex-1 mx-2 rounded-full ${n>Z?"bg-lime-900/50":"bg-zinc-800"}`,children:d.jsx("div",{className:`h-full bg-lime-400 rounded-full transition-all duration-500 ${n>Z?"w-full":"w-0"}`})})]},Z))}),d.jsx("div",{className:"bg-zinc-900 border border-zinc-800 rounded-[2rem] md:rounded-[2.5rem] overflow-hidden shadow-2xl",children:d.jsx("div",{className:"p-6 md:p-10",children:d.jsxs("form",{onSubmit:ae,className:"space-y-8",children:[n===1&&d.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h2",{className:"text-xl font-black italic font-sport uppercase text-white",children:"1. Seus Dados"}),d.jsx("p",{className:"text-zinc-500 text-[10px] uppercase font-bold tracking-widest",children:"Comece com o bsico para te identificarmos."})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest ml-1",children:"Nome Completo"}),d.jsxs("div",{className:"relative group",children:[d.jsx(Sa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-700 group-focus-within:text-lime-400 transition-colors"}),d.jsx("input",{required:!0,type:"text",placeholder:"COMO QUER SER CHAMADO?",className:"w-full pl-12 pr-6 py-4 bg-black border border-zinc-800 rounded-xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase text-xs",value:N.name,onChange:Z=>L({...N,name:Z.target.value})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest ml-1",children:"WhatsApp"}),d.jsxs("div",{className:"relative group",children:[d.jsx(vN,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-700 group-focus-within:text-lime-400 transition-colors"}),d.jsx("input",{required:!0,type:"tel",placeholder:"(00) 00000-0000",className:"w-full pl-12 pr-6 py-4 bg-black border border-zinc-800 rounded-xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none text-xs",value:N.phone,onChange:Z=>L({...N,phone:Z.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest ml-1",children:"CPF"}),d.jsxs("div",{className:"relative group",children:[d.jsx(QA,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-700 group-focus-within:text-lime-400 transition-colors"}),d.jsx("input",{required:!0,type:"text",placeholder:"000.000.000-00",className:"w-full pl-12 pr-6 py-4 bg-black border border-zinc-800 rounded-xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none text-xs",value:N.cpf,onChange:Z=>L({...N,cpf:Z.target.value})})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest ml-1",children:"E-mail"}),d.jsxs("div",{className:"relative group",children:[d.jsx(a1,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-700 group-focus-within:text-lime-400 transition-colors"}),d.jsx("input",{required:!0,type:"email",placeholder:"SEU@EMAIL.COM",className:"w-full pl-12 pr-6 py-4 bg-black border border-zinc-800 rounded-xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase text-xs",value:N.email,onChange:Z=>L({...N,email:Z.target.value})})]})]})]})]}),n===2&&d.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h2",{className:"text-xl font-black italic font-sport uppercase text-white",children:"2. Localizao"}),d.jsx("p",{className:"text-zinc-500 text-[10px] uppercase font-bold tracking-widest",children:"Onde voc treina ou reside?"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest ml-1",children:"Rua e Nmero"}),d.jsxs("div",{className:"relative group",children:[d.jsx(xr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-700 group-focus-within:text-lime-400 transition-colors"}),d.jsx("input",{required:!0,type:"text",placeholder:"RUA, NMERO, APTO...",className:"w-full pl-12 pr-6 py-4 bg-black border border-zinc-800 rounded-xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase text-xs",value:N.street,onChange:Z=>L({...N,street:Z.target.value})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest ml-1",children:"Bairro"}),d.jsx("input",{required:!0,type:"text",placeholder:"BAIRRO",className:"w-full px-6 py-4 bg-black border border-zinc-800 rounded-xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase text-xs",value:N.neighborhood,onChange:Z=>L({...N,neighborhood:Z.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest ml-1",children:"Cidade"}),d.jsx("input",{required:!0,type:"text",placeholder:"CIDADE",className:"w-full px-6 py-4 bg-black border border-zinc-800 rounded-xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase text-xs",value:N.city,onChange:Z=>L({...N,city:Z.target.value})})]})]})]})]}),n===3&&d.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:[d.jsxs("div",{className:"space-y-2 text-center",children:[d.jsx("h2",{className:"text-xl font-black italic font-sport uppercase text-white",children:"3. Finalizao"}),d.jsx("p",{className:"text-zinc-500 text-[10px] uppercase font-bold tracking-widest",children:"Sua foto e investimento de check-in."})]}),d.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[d.jsxs("div",{onClick:()=>{var Z;return(Z=T.current)==null?void 0:Z.click()},className:`relative w-32 h-32 rounded-[2rem] border-2 border-dashed transition-all cursor-pointer overflow-hidden flex items-center justify-center group ${N.photoUrl?"border-lime-400 bg-lime-400/5":"border-zinc-800 bg-zinc-900 hover:border-lime-400/50"}`,children:[b?d.jsx("img",{src:b,alt:"Preview",className:"w-full h-full object-cover"}):d.jsxs("div",{className:"text-center space-y-1",children:[d.jsx(xd,{className:"w-8 h-8 mx-auto text-zinc-700 group-hover:text-lime-400 transition-colors"}),d.jsx("span",{className:"text-[8px] font-black text-zinc-700 uppercase tracking-widest group-hover:text-lime-400",children:"Sua Foto"})]}),g&&d.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center",children:d.jsx(W_,{className:"w-6 h-6 text-lime-400 animate-spin"})}),!N.photoUrl&&!g&&d.jsx("div",{className:"absolute -bottom-1 -right-1 p-2 bg-lime-400 rounded-xl shadow-lg transform group-hover:scale-110 transition-transform",children:d.jsx(lg,{className:"w-3 h-3 text-black"})}),N.photoUrl&&d.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:d.jsx("span",{className:"text-[10px] font-black text-white uppercase tracking-widest",children:"Trocar Foto"})})]}),d.jsx("input",{type:"file",ref:T,onChange:O,accept:"image/*",hidden:!0}),d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest text-zinc-500",children:N.photoUrl?"Foto selecionada com sucesso!":"Anexe uma foto de rosto ntida (Obrigatrio)"})})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("label",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest block text-center",children:"Valor da Contribuio Diria"}),d.jsx("div",{className:"grid grid-cols-3 gap-3",children:[30,40,50].map(Z=>d.jsx("button",{type:"button",onClick:()=>L({...N,depositedValue:Z}),className:`py-3 rounded-xl font-black italic font-sport text-lg transition-all border-2 ${N.depositedValue===Z?"bg-lime-400 text-black border-lime-400 scale-[1.05] shadow-[0_0_20px_rgba(163,230,53,0.2)]":"bg-black text-zinc-700 border-zinc-800"}`,children:Z},Z))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest ml-1",children:"Chave PIX (Para Recebimento)"}),d.jsx("input",{required:!0,type:"text",placeholder:"CPF, EMAIL OU TELEFONE",className:"w-full px-6 py-4 bg-black border border-zinc-800 rounded-xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none text-xs",value:N.pixKey,onChange:Z=>L({...N,pixKey:Z.target.value})})]})]})]}),d.jsxs("div",{className:"pt-4 flex gap-4",children:[n>1&&d.jsxs("button",{type:"button",onClick:q,className:"flex-1 py-5 bg-zinc-800 text-white rounded-2xl font-black uppercase tracking-widest text-[10px] hover:bg-zinc-700 transition-all flex items-center justify-center gap-2",children:[d.jsx(bp,{className:"w-4 h-4"})," Voltar"]}),n<3?d.jsxs("button",{type:"button",onClick:K,className:"flex-[2] py-5 bg-lime-400 text-black rounded-2xl font-black uppercase tracking-widest text-[10px] hover:scale-[1.02] transition-all flex items-center justify-center gap-2 italic font-sport border-b-4 border-lime-600 shadow-xl shadow-lime-900/10",children:["Avanar ",d.jsx(J_,{className:"w-4 h-4"})]}):d.jsx("button",{type:"submit",disabled:u||g,className:"flex-[2] py-5 bg-lime-400 text-black rounded-2xl font-black text-lg shadow-[0_20px_40px_rgba(163,230,53,0.3)] hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-3 uppercase tracking-tighter italic font-sport border-b-4 border-lime-600 disabled:opacity-50 disabled:cursor-not-allowed",children:u?d.jsx(W_,{className:"w-6 h-6 animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(l1,{className:"w-6 h-6"})," Concluir"]})})]})]})})}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-6 md:gap-8 pb-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-[8px] md:text-[9px] font-black text-zinc-600 uppercase tracking-[0.2em]",children:[d.jsx(Ta,{className:"w-3 h-3 text-lime-500"}),"Ao Diria"]}),d.jsxs("div",{className:"flex items-center gap-2 text-[8px] md:text-[9px] font-black text-zinc-600 uppercase tracking-[0.2em]",children:[d.jsx(vc,{className:"w-3 h-3 text-lime-500"}),"Recompensa Real"]})]})]})]})},ya=({children:s})=>{const{currentUser:e,loading:n}=aT();return n?d.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-lime-400 font-black tracking-widest uppercase",children:"Carregando Sistema..."}):e?d.jsx(d.Fragment,{children:s}):d.jsx(Zb,{to:"/admin/login",replace:!0})},lO=()=>d.jsx(yA,{children:d.jsx(iO,{children:d.jsx($N,{children:d.jsxs($S,{children:[d.jsx(_n,{path:"/admin/login",element:d.jsx(eO,{})}),d.jsx(_n,{path:"/signup",element:d.jsx(nO,{})}),d.jsx(_n,{path:"/admin",element:d.jsx(ya,{children:d.jsx(sO,{})})}),d.jsx(_n,{path:"/admin/perfil",element:d.jsx(ya,{children:d.jsx(rO,{})})}),d.jsx(_n,{path:"/admin/usuarios",element:d.jsx(ya,{children:d.jsx($3,{})})}),d.jsx(_n,{path:"/admin/horarios",element:d.jsx(ya,{children:d.jsx(Z3,{})})}),d.jsx(_n,{path:"/admin/checkins",element:d.jsx(ya,{children:d.jsx(K3,{})})}),d.jsx(_n,{path:"/admin/ranking",element:d.jsx(ya,{children:d.jsx(Ub,{})})}),d.jsx(_n,{path:"/admin/distribuicoes",element:d.jsx(ya,{children:d.jsx(W3,{})})}),d.jsx(_n,{path:"/checkin",element:d.jsx(tO,{})}),d.jsx(_n,{path:"/ranking",element:d.jsx(Ub,{})}),d.jsx(_n,{path:"/inscrever",element:d.jsx(aO,{})}),d.jsx(_n,{path:"/",element:d.jsx(Zb,{to:"/checkin",replace:!0})})]})})})}),lT=document.getElementById("root");if(!lT)throw new Error("Could not find root element to mount to");const oO=Q2.createRoot(lT);oO.render(d.jsx(B2.StrictMode,{children:d.jsx(lO,{})}));
