(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function jx(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Pm={exports:{}},rc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function DS(){if(Iv)return rc;Iv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:u,ref:o!==void 0?o:null,props:c}}return rc.Fragment=e,rc.jsx=n,rc.jsxs=n,rc}var kv;function OS(){return kv||(kv=1,Pm.exports=DS()),Pm.exports}var m=OS(),Lm={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function jS(){if(Dv)return Ae;Dv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function C(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,z={};function te(M,Q,ae){this.props=M,this.context=Q,this.refs=z,this.updater=ae||q}te.prototype.isReactComponent={},te.prototype.setState=function(M,Q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Q,"setState")},te.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function W(){}W.prototype=te.prototype;function F(M,Q,ae){this.props=M,this.context=Q,this.refs=z,this.updater=ae||q}var B=F.prototype=new W;B.constructor=F,U(B,te.prototype),B.isPureReactComponent=!0;var le=Array.isArray;function pe(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(M,Q,ae){var ce=ae.ref;return{$$typeof:s,type:M,key:Q,ref:ce!==void 0?ce:null,props:ae}}function V(M,Q){return I(M.type,Q,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function L(M){var Q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return Q[ae]})}var N=/\/+/g;function ne(M,Q){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):Q.toString(36)}function xe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(pe,pe):(M.status="pending",M.then(function(Q){M.status==="pending"&&(M.status="fulfilled",M.value=Q)},function(Q){M.status==="pending"&&(M.status="rejected",M.reason=Q)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Y(M,Q,ae,ce,he){var _e=typeof M;(_e==="undefined"||_e==="boolean")&&(M=null);var Oe=!1;if(M===null)Oe=!0;else switch(_e){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(M.$$typeof){case s:case e:Oe=!0;break;case x:return Oe=M._init,Y(Oe(M._payload),Q,ae,ce,he)}}if(Oe)return he=he(M),Oe=ce===""?"."+ne(M,0):ce,le(he)?(ae="",Oe!=null&&(ae=Oe.replace(N,"$&/")+"/"),Y(he,Q,ae,"",function(zt){return zt})):he!=null&&(O(he)&&(he=V(he,ae+(he.key==null||M&&M.key===he.key?"":(""+he.key).replace(N,"$&/")+"/")+Oe)),Q.push(he)),1;Oe=0;var mt=ce===""?".":ce+":";if(le(M))for(var je=0;je<M.length;je++)ce=M[je],_e=mt+ne(ce,je),Oe+=Y(ce,Q,ae,_e,he);else if(je=C(M),typeof je=="function")for(M=je.call(M),je=0;!(ce=M.next()).done;)ce=ce.value,_e=mt+ne(ce,je++),Oe+=Y(ce,Q,ae,_e,he);else if(_e==="object"){if(typeof M.then=="function")return Y(xe(M),Q,ae,ce,he);throw Q=String(M),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function oe(M,Q,ae){if(M==null)return M;var ce=[],he=0;return Y(M,ce,"","",function(_e){return Q.call(ae,_e,he++)}),ce}function ge(M){if(M._status===-1){var Q=M._result;Q=Q(),Q.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=Q)}if(M._status===1)return M._result.default;throw M._result}var Re=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},$e={map:oe,forEach:function(M,Q,ae){oe(M,function(){Q.apply(this,arguments)},ae)},count:function(M){var Q=0;return oe(M,function(){Q++}),Q},toArray:function(M){return oe(M,function(Q){return Q})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ae.Activity=E,Ae.Children=$e,Ae.Component=te,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=F,Ae.StrictMode=r,Ae.Suspense=g,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},Ae.cache=function(M){return function(){return M.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(M,Q,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ce=U({},M.props),he=M.key;if(Q!=null)for(_e in Q.key!==void 0&&(he=""+Q.key),Q)!A.call(Q,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&Q.ref===void 0||(ce[_e]=Q[_e]);var _e=arguments.length-2;if(_e===1)ce.children=ae;else if(1<_e){for(var Oe=Array(_e),mt=0;mt<_e;mt++)Oe[mt]=arguments[mt+2];ce.children=Oe}return I(M.type,he,ce)},Ae.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Ae.createElement=function(M,Q,ae){var ce,he={},_e=null;if(Q!=null)for(ce in Q.key!==void 0&&(_e=""+Q.key),Q)A.call(Q,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(he[ce]=Q[ce]);var Oe=arguments.length-2;if(Oe===1)he.children=ae;else if(1<Oe){for(var mt=Array(Oe),je=0;je<Oe;je++)mt[je]=arguments[je+2];he.children=mt}if(M&&M.defaultProps)for(ce in Oe=M.defaultProps,Oe)he[ce]===void 0&&(he[ce]=Oe[ce]);return I(M,_e,he)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:p,render:M}},Ae.isValidElement=O,Ae.lazy=function(M){return{$$typeof:x,_payload:{_status:-1,_result:M},_init:ge}},Ae.memo=function(M,Q){return{$$typeof:y,type:M,compare:Q===void 0?null:Q}},Ae.startTransition=function(M){var Q=R.T,ae={};R.T=ae;try{var ce=M(),he=R.S;he!==null&&he(ae,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(pe,Re)}catch(_e){Re(_e)}finally{Q!==null&&ae.types!==null&&(Q.types=ae.types),R.T=Q}},Ae.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ae.use=function(M){return R.H.use(M)},Ae.useActionState=function(M,Q,ae){return R.H.useActionState(M,Q,ae)},Ae.useCallback=function(M,Q){return R.H.useCallback(M,Q)},Ae.useContext=function(M){return R.H.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M,Q){return R.H.useDeferredValue(M,Q)},Ae.useEffect=function(M,Q){return R.H.useEffect(M,Q)},Ae.useEffectEvent=function(M){return R.H.useEffectEvent(M)},Ae.useId=function(){return R.H.useId()},Ae.useImperativeHandle=function(M,Q,ae){return R.H.useImperativeHandle(M,Q,ae)},Ae.useInsertionEffect=function(M,Q){return R.H.useInsertionEffect(M,Q)},Ae.useLayoutEffect=function(M,Q){return R.H.useLayoutEffect(M,Q)},Ae.useMemo=function(M,Q){return R.H.useMemo(M,Q)},Ae.useOptimistic=function(M,Q){return R.H.useOptimistic(M,Q)},Ae.useReducer=function(M,Q,ae){return R.H.useReducer(M,Q,ae)},Ae.useRef=function(M){return R.H.useRef(M)},Ae.useState=function(M){return R.H.useState(M)},Ae.useSyncExternalStore=function(M,Q,ae){return R.H.useSyncExternalStore(M,Q,ae)},Ae.useTransition=function(){return R.H.useTransition()},Ae.version="19.2.4",Ae}var Ov;function qp(){return Ov||(Ov=1,Lm.exports=jS()),Lm.exports}var D=qp();const MS=jx(D);var zm={exports:{}},ac={},Bm={exports:{}},qm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function VS(){return jv||(jv=1,(function(s){function e(Y,oe){var ge=Y.length;Y.push(oe);e:for(;0<ge;){var Re=ge-1>>>1,$e=Y[Re];if(0<o($e,oe))Y[Re]=oe,Y[ge]=$e,ge=Re;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var oe=Y[0],ge=Y.pop();if(ge!==oe){Y[0]=ge;e:for(var Re=0,$e=Y.length,M=$e>>>1;Re<M;){var Q=2*(Re+1)-1,ae=Y[Q],ce=Q+1,he=Y[ce];if(0>o(ae,ge))ce<$e&&0>o(he,ae)?(Y[Re]=he,Y[ce]=ge,Re=ce):(Y[Re]=ae,Y[Q]=ge,Re=Q);else if(ce<$e&&0>o(he,ge))Y[Re]=he,Y[ce]=ge,Re=ce;else break e}}return oe}function o(Y,oe){var ge=Y.sortIndex-oe.sortIndex;return ge!==0?ge:Y.id-oe.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var u=Date,p=u.now();s.unstable_now=function(){return u.now()-p}}var g=[],y=[],x=1,E=null,T=3,C=!1,q=!1,U=!1,z=!1,te=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function B(Y){for(var oe=n(y);oe!==null;){if(oe.callback===null)r(y);else if(oe.startTime<=Y)r(y),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=n(y)}}function le(Y){if(U=!1,B(Y),!q)if(n(g)!==null)q=!0,pe||(pe=!0,L());else{var oe=n(y);oe!==null&&xe(le,oe.startTime-Y)}}var pe=!1,R=-1,A=5,I=-1;function V(){return z?!0:!(s.unstable_now()-I<A)}function O(){if(z=!1,pe){var Y=s.unstable_now();I=Y;var oe=!0;try{e:{q=!1,U&&(U=!1,W(R),R=-1),C=!0;var ge=T;try{t:{for(B(Y),E=n(g);E!==null&&!(E.expirationTime>Y&&V());){var Re=E.callback;if(typeof Re=="function"){E.callback=null,T=E.priorityLevel;var $e=Re(E.expirationTime<=Y);if(Y=s.unstable_now(),typeof $e=="function"){E.callback=$e,B(Y),oe=!0;break t}E===n(g)&&r(g),B(Y)}else r(g);E=n(g)}if(E!==null)oe=!0;else{var M=n(y);M!==null&&xe(le,M.startTime-Y),oe=!1}}break e}finally{E=null,T=ge,C=!1}oe=void 0}}finally{oe?L():pe=!1}}}var L;if(typeof F=="function")L=function(){F(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ne=N.port2;N.port1.onmessage=O,L=function(){ne.postMessage(null)}}else L=function(){te(O,0)};function xe(Y,oe){R=te(function(){Y(s.unstable_now())},oe)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Y){Y.callback=null},s.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},s.unstable_getCurrentPriorityLevel=function(){return T},s.unstable_next=function(Y){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var ge=T;T=oe;try{return Y()}finally{T=ge}},s.unstable_requestPaint=function(){z=!0},s.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ge=T;T=Y;try{return oe()}finally{T=ge}},s.unstable_scheduleCallback=function(Y,oe,ge){var Re=s.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Re+ge:Re):ge=Re,Y){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=ge+$e,Y={id:x++,callback:oe,priorityLevel:Y,startTime:ge,expirationTime:$e,sortIndex:-1},ge>Re?(Y.sortIndex=ge,e(y,Y),n(g)===null&&Y===n(y)&&(U?(W(R),R=-1):U=!0,xe(le,ge-Re))):(Y.sortIndex=$e,e(g,Y),q||C||(q=!0,pe||(pe=!0,L()))),Y},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(Y){var oe=T;return function(){var ge=T;T=oe;try{return Y.apply(this,arguments)}finally{T=ge}}}})(qm)),qm}var Mv;function US(){return Mv||(Mv=1,Bm.exports=VS()),Bm.exports}var Hm={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function PS(){if(Vv)return tn;Vv=1;var s=qp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:y,implementation:x}}var u=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tn.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,x)},tn.flushSync=function(g){var y=u.T,x=r.p;try{if(u.T=null,r.p=2,g)return g()}finally{u.T=y,r.p=x,r.d.f()}},tn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},tn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},tn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,C=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:C}):x==="script"&&r.d.X(g,{crossOrigin:E,integrity:T,fetchPriority:C,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},tn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},tn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin);r.d.L(g,x,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},tn.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},tn.requestFormReset=function(g){r.d.r(g)},tn.unstable_batchedUpdates=function(g,y){return g(y)},tn.useFormState=function(g,y,x){return u.H.useFormState(g,y,x)},tn.useFormStatus=function(){return u.H.useHostTransitionStatus()},tn.version="19.2.4",tn}var Uv;function LS(){if(Uv)return Hm.exports;Uv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Hm.exports=PS(),Hm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function zS(){if(Pv)return ac;Pv=1;var s=US(),e=qp(),n=LS();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function u(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return g(d),t;if(f===l)return g(d),i;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=d,l=f;else{for(var v=!1,w=d.child;w;){if(w===a){v=!0,a=d,l=f;break}if(w===l){v=!0,l=d,a=f;break}w=w.sibling}if(!v){for(w=f.child;w;){if(w===a){v=!0,a=f,l=d;break}if(w===l){v=!0,l=f,a=d;break}w=w.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function x(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=x(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),F=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case te:return"Profiler";case z:return"StrictMode";case le:return"Suspense";case pe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case F:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case B:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:ne(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return ne(t(i))}catch{}}return null}var xe=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Re=[],$e=-1;function M(t){return{current:t}}function Q(t){0>$e||(t.current=Re[$e],Re[$e]=null,$e--)}function ae(t,i){$e++,Re[$e]=t.current,t.current=i}var ce=M(null),he=M(null),_e=M(null),Oe=M(null);function mt(t,i){switch(ae(_e,i),ae(he,t),ae(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Z_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Z_(i),t=ev(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(ce),ae(ce,t)}function je(){Q(ce),Q(he),Q(_e)}function zt(t){t.memoizedState!==null&&ae(Oe,t);var i=ce.current,a=ev(i,t.type);i!==a&&(ae(he,t),ae(ce,a))}function bt(t){he.current===t&&(Q(ce),Q(he)),Oe.current===t&&(Q(Oe),tc._currentValue=ge)}var ni,ji;function En(t){if(ni===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ni=i&&i[1]||"",ji=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ni+t+ji}var Lr=!1;function si(t,i){if(!t||Lr)return"";Lr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var K=J}Reflect.construct(t,[],se)}else{try{se.call()}catch(J){K=J}t.call(se.prototype)}}else{try{throw Error()}catch(J){K=J}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&K&&typeof J.stack=="string")return[J.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],w=f[1];if(v&&w){var k=v.split(`
`),$=w.split(`
`);for(d=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;if(l===k.length||d===$.length)for(l=k.length-1,d=$.length-1;1<=l&&0<=d&&k[l]!==$[d];)d--;for(;1<=l&&0<=d;l--,d--)if(k[l]!==$[d]){if(l!==1||d!==1)do if(l--,d--,0>d||k[l]!==$[d]){var Z=`
`+k[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=d);break}}}finally{Lr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?En(a):""}function zr(t,i){switch(t.tag){case 26:case 27:case 5:return En(t.type);case 16:return En("Lazy");case 13:return t.child!==i&&i!==null?En("Suspense Fallback"):En("Suspense");case 19:return En("SuspenseList");case 0:case 15:return si(t.type,!1);case 11:return si(t.type.render,!1);case 1:return si(t.type,!0);case 31:return En("Activity");default:return""}}function Mi(t){try{var i="",a=null;do i+=zr(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var dt=Object.prototype.hasOwnProperty,pt=s.unstable_scheduleCallback,vs=s.unstable_cancelCallback,Va=s.unstable_shouldYield,Ua=s.unstable_requestPaint,en=s.unstable_now,Vi=s.unstable_getCurrentPriorityLevel,Ui=s.unstable_ImmediatePriority,Br=s.unstable_UserBlockingPriority,bs=s.unstable_NormalPriority,wn=s.unstable_LowPriority,on=s.unstable_IdlePriority,Pn=s.log,Zc=s.unstable_setDisableYieldValue,ts=null,Gt=null;function Ln(t){if(typeof Pn=="function"&&Zc(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ts,t)}catch{}}var xt=Math.clz32?Math.clz32:tu,eu=Math.log,Pa=Math.LN2;function tu(t){return t>>>=0,t===0?32:31-(eu(t)/Pa|0)|0}var xs=256,qr=262144,At=4194304;function Es(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ws(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~f,l!==0?d=Es(l):(v&=w,v!==0?d=Es(v):a||(a=w&~t,a!==0&&(d=Es(a))))):(w=l&~f,w!==0?d=Es(w):v!==0?d=Es(v):a||(a=l&~t,a!==0&&(d=Es(a)))),d===0?0:i!==0&&i!==d&&(i&f)===0&&(f=d&-d,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:d}function ns(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Bd(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function Ts(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Hr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qd(t,i,a,l,d,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,k=t.expirationTimes,$=t.hiddenUpdates;for(a=v&~a;0<a;){var Z=31-xt(a),se=1<<Z;w[Z]=0,k[Z]=-1;var K=$[Z];if(K!==null)for($[Z]=null,Z=0;Z<K.length;Z++){var J=K[Z];J!==null&&(J.lane&=-536870913)}a&=~se}l!==0&&Fr(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~i))}function Fr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-xt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function al(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-xt(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function ol(t,i){var a=i&-i;return a=(a&42)!==0?1:Gr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Gr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ii(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function su(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:wv(t.type))}function ss(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var is=Math.random().toString(36).slice(2),Nt="__reactFiber$"+is,Bt="__reactProps$"+is,Ss="__reactContainer$"+is,La="__reactEvents$"+is,Hd="__reactListeners$"+is,iu="__reactHandles$"+is,ru="__reactResources$"+is,As="__reactMarker$"+is;function za(t){delete t[Nt],delete t[Bt],delete t[La],delete t[Hd],delete t[iu]}function Ns(t){var i=t[Nt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ss]||a[Nt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=ov(t);t!==null;){if(a=t[Nt])return a;t=ov(t)}return i}t=a,a=t.parentNode}return null}function zn(t){if(t=t[Nt]||t[Ss]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Tn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Rs(t){var i=t[ru];return i||(i=t[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Rt(t){t[As]=!0}var ll=new Set,cl={};function Cs(t,i){Is(t,i),Is(t+"Capture",i)}function Is(t,i){for(cl[t]=i,t=0;t<i.length;t++)ll.add(i[t])}var ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hl={},dl={};function au(t){return dt.call(dl,t)?!0:dt.call(hl,t)?!1:ul.test(t)?dl[t]=!0:(hl[t]=!0,!1)}function Ba(t,i,a){if(au(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Sn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ct(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pi(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function fl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=Pi(t)?"checked":"value";t._valueTracker=fl(t,i,""+t[i])}}function $r(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Pi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ks(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Kr=/[\n"\\]/g;function dn(t){return t.replace(Kr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function qa(t,i,a,l,d,f,v,w){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+qt(i)):t.value!==""+qt(i)&&(t.value=""+qt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?ml(t,v,qt(i)):a!=null?ml(t,v,qt(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+qt(w):t.removeAttribute("name")}function ou(t,i,a,l,d,f,v,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+qt(a):"",i=i!=null?""+qt(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Xe(t)}function ml(t,i,a){i==="number"&&ks(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Li(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+qt(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function lu(t,i,a){if(i!=null&&(i=""+qt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+qt(a):""}function zi(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(xe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=qt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function fn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||cu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function gl(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&pl(t,d,l)}else for(var f in i)i.hasOwnProperty(f)&&pl(t,f,i[f])}function Ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(t){return Bi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function rs(){}var yl=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qi=null,Ds=null;function Yr(t){var i=zn(t);if(i&&(t=i.stateNode)){var a=t[Bt]||null;e:switch(t=i.stateNode,i.type){case"input":if(qa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[Bt]||null;if(!d)throw Error(r(90));qa(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&$r(l)}break e;case"textarea":lu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Li(t,!!a.multiple,i,!1)}}}var Ga=!1;function Hi(t,i,a){if(Ga)return t(i,a);Ga=!0;try{var l=t(i);return l}finally{if(Ga=!1,(qi!==null||Ds!==null)&&(sh(),qi&&(i=qi,t=Ds,Ds=qi=null,Yr(i),t)))for(i=0;i<t.length;i++)Yr(t[i])}}function as(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Bt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qr=!1;if(qn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Qr=!1}var Os=null,_l=null,Xr=null;function vl(){if(Xr)return Xr;var t,i=_l,a=i.length,l,d="value"in Os?Os.value:Os.textContent,f=d.length;for(t=0;t<a&&i[t]===d[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===d[f-l];l++);return Xr=d.slice(t,1<l?1-l:void 0)}function Jr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ri(){return!0}function os(){return!1}function $t(t){function i(a,l,d,f,v){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ri:os,this.isPropagationStopped=os,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),i}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},js=$t(ai),Fi=E({},ai,{view:0,detail:0}),bl=$t(Fi),Gi,$a,Ms,Ka=E({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$i,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ms&&(Ms&&t.type==="mousemove"?(Gi=t.screenX-Ms.screenX,$a=t.screenY-Ms.screenY):$a=Gi=0,Ms=t),Gi)},movementY:function(t){return"movementY"in t?t.movementY:$a}}),xl=$t(Ka),Wr=E({},Ka,{dataTransfer:0}),hu=$t(Wr),du=E({},Fi,{relatedTarget:0}),Zr=$t(du),El=E({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=$t(El),Ya=E({},ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mu=$t(Ya),pu=E({},ai,{data:0}),Vs=$t(pu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=_u[t])?!!i[t]:!1}function $i(){return vu}var ln=E({},Fi,{key:function(t){if(t.key){var i=gu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Jr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$i,charCode:function(t){return t.type==="keypress"?Jr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bu=$t(ln),xu=E({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oi=$t(xu),h=E({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$i}),_=$t(h),b=E({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=$t(b),H=E({},Ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X=$t(H),ue=E({},ai,{newState:0,oldState:0}),Ie=$t(ue),Et=[9,13,27,32],Ke=qn&&"CompositionEvent"in window,lt=null;qn&&"documentMode"in document&&(lt=document.documentMode);var Hn=qn&&"TextEvent"in window&&!lt,Us=qn&&(!Ke||lt&&8<lt&&11>=lt),ls=" ",cs=!1;function ea(t,i){switch(t){case"keyup":return Et.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xa=!1;function nT(t,i){switch(t){case"compositionend":return Qa(i);case"keypress":return i.which!==32?null:(cs=!0,ls);case"textInput":return t=i.data,t===ls&&cs?null:t;default:return null}}function sT(t,i){if(Xa)return t==="compositionend"||!Ke&&ea(t,i)?(t=vl(),Xr=_l=Os=null,Xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Us&&i.locale!=="ko"?null:i.data;default:return null}}var iT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u0(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!iT[t.type]:i==="textarea"}function h0(t,i,a,l){qi?Ds?Ds.push(l):Ds=[l]:qi=l,i=uh(i,"onChange"),0<i.length&&(a=new js("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var wl=null,Tl=null;function rT(t){K_(t,0)}function Eu(t){var i=Tn(t);if($r(i))return t}function d0(t,i){if(t==="change")return i}var f0=!1;if(qn){var Fd;if(qn){var Gd="oninput"in document;if(!Gd){var m0=document.createElement("div");m0.setAttribute("oninput","return;"),Gd=typeof m0.oninput=="function"}Fd=Gd}else Fd=!1;f0=Fd&&(!document.documentMode||9<document.documentMode)}function p0(){wl&&(wl.detachEvent("onpropertychange",g0),Tl=wl=null)}function g0(t){if(t.propertyName==="value"&&Eu(Tl)){var i=[];h0(i,Tl,t,Bn(t)),Hi(rT,i)}}function aT(t,i,a){t==="focusin"?(p0(),wl=i,Tl=a,wl.attachEvent("onpropertychange",g0)):t==="focusout"&&p0()}function oT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eu(Tl)}function lT(t,i){if(t==="click")return Eu(i)}function cT(t,i){if(t==="input"||t==="change")return Eu(i)}function uT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var An=typeof Object.is=="function"?Object.is:uT;function Sl(t,i){if(An(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!dt.call(i,d)||!An(t[d],i[d]))return!1}return!0}function y0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _0(t,i){var a=y0(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=y0(a)}}function v0(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?v0(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function b0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ks(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ks(t.document)}return i}function $d(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var hT=qn&&"documentMode"in document&&11>=document.documentMode,Ja=null,Kd=null,Al=null,Yd=!1;function x0(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yd||Ja==null||Ja!==ks(l)||(l=Ja,"selectionStart"in l&&$d(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Al&&Sl(Al,l)||(Al=l,l=uh(Kd,"onSelect"),0<l.length&&(i=new js("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ja)))}function ta(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Wa={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},Qd={},E0={};qn&&(E0=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function na(t){if(Qd[t])return Qd[t];if(!Wa[t])return t;var i=Wa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in E0)return Qd[t]=i[a];return t}var w0=na("animationend"),T0=na("animationiteration"),S0=na("animationstart"),dT=na("transitionrun"),fT=na("transitionstart"),mT=na("transitioncancel"),A0=na("transitionend"),N0=new Map,Xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xd.push("scrollEnd");function us(t,i){N0.set(t,i),Cs(i,[t])}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fn=[],Za=0,Jd=0;function Tu(){for(var t=Za,i=Jd=Za=0;i<t;){var a=Fn[i];Fn[i++]=null;var l=Fn[i];Fn[i++]=null;var d=Fn[i];Fn[i++]=null;var f=Fn[i];if(Fn[i++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}f!==0&&R0(a,d,f)}}function Su(t,i,a,l){Fn[Za++]=t,Fn[Za++]=i,Fn[Za++]=a,Fn[Za++]=l,Jd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wd(t,i,a,l){return Su(t,i,a,l),Au(t)}function sa(t,i){return Su(t,null,null,i),Au(t)}function R0(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&i!==null&&(d=31-xt(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),f):null}function Au(t){if(50<Yl)throw Yl=0,lm=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var eo={};function pT(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,i,a,l){return new pT(t,i,a,l)}function Zd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function li(t,i){var a=t.alternate;return a===null?(a=Nn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function C0(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Nu(t,i,a,l,d,f){var v=0;if(l=t,typeof t=="function")Zd(t)&&(v=1);else if(typeof t=="string")v=bS(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Nn(31,a,i,d),t.elementType=I,t.lanes=f,t;case U:return ia(a.children,d,f,i);case z:v=8,d|=24;break;case te:return t=Nn(12,a,i,d|2),t.elementType=te,t.lanes=f,t;case le:return t=Nn(13,a,i,d),t.elementType=le,t.lanes=f,t;case pe:return t=Nn(19,a,i,d),t.elementType=pe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F:v=10;break e;case W:v=9;break e;case B:v=11;break e;case R:v=14;break e;case A:v=16,l=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=Nn(v,a,i,d),i.elementType=t,i.type=l,i.lanes=f,i}function ia(t,i,a,l){return t=Nn(7,t,l,i),t.lanes=a,t}function ef(t,i,a){return t=Nn(6,t,null,i),t.lanes=a,t}function I0(t){var i=Nn(18,null,null,0);return i.stateNode=t,i}function tf(t,i,a){return i=Nn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var k0=new WeakMap;function Gn(t,i){if(typeof t=="object"&&t!==null){var a=k0.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Mi(i)},k0.set(t,i),i)}return{value:t,source:i,stack:Mi(i)}}var to=[],no=0,Ru=null,Nl=0,$n=[],Kn=0,Ki=null,Ps=1,Ls="";function ci(t,i){to[no++]=Nl,to[no++]=Ru,Ru=t,Nl=i}function D0(t,i,a){$n[Kn++]=Ps,$n[Kn++]=Ls,$n[Kn++]=Ki,Ki=t;var l=Ps;t=Ls;var d=32-xt(l)-1;l&=~(1<<d),a+=1;var f=32-xt(i)+d;if(30<f){var v=d-d%5;f=(l&(1<<v)-1).toString(32),l>>=v,d-=v,Ps=1<<32-xt(i)+d|a<<d|l,Ls=f+t}else Ps=1<<f|a<<d|l,Ls=t}function nf(t){t.return!==null&&(ci(t,1),D0(t,1,0))}function sf(t){for(;t===Ru;)Ru=to[--no],to[no]=null,Nl=to[--no],to[no]=null;for(;t===Ki;)Ki=$n[--Kn],$n[Kn]=null,Ls=$n[--Kn],$n[Kn]=null,Ps=$n[--Kn],$n[Kn]=null}function O0(t,i){$n[Kn++]=Ps,$n[Kn++]=Ls,$n[Kn++]=Ki,Ps=i.id,Ls=i.overflow,Ki=t}var Kt=null,rt=null,qe=!1,Yi=null,Yn=!1,rf=Error(r(519));function Qi(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rl(Gn(i,t)),rf}function j0(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Nt]=t,i[Bt]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<Xl.length;a++)Ve(Xl[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),ou(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),zi(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||J_(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=rs),i=!0):i=!1,i||Qi(t,!0)}function M0(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Kt=Kt.return}}function so(t){if(t!==Kt)return!1;if(!qe)return M0(t),qe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||wm(t.type,t.memoizedProps)),a=!a),a&&rt&&Qi(t),M0(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=av(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=av(t)}else i===27?(i=rt,cr(t.type)?(t=Rm,Rm=null,rt=t):rt=i):rt=Kt?Xn(t.stateNode.nextSibling):null;return!0}function ra(){rt=Kt=null,qe=!1}function af(){var t=Yi;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),Yi=null),t}function Rl(t){Yi===null?Yi=[t]:Yi.push(t)}var of=M(null),aa=null,ui=null;function Xi(t,i,a){ae(of,i._currentValue),i._currentValue=a}function hi(t){t._currentValue=of.current,Q(of)}function lf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function cf(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var v=d.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=d;for(var k=0;k<i.length;k++)if(w.context===i[k]){f.lanes|=a,w=f.alternate,w!==null&&(w.lanes|=a),lf(f.return,a,t),l||(v=null);break e}f=w.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(r(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),lf(v,a,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function io(t,i,a,l){t=null;for(var d=i,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var w=d.type;An(d.pendingProps.value,v.value)||(t!==null?t.push(w):t=[w])}}else if(d===Oe.current){if(v=d.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(tc):t=[tc])}d=d.return}t!==null&&cf(i,t,a,l),i.flags|=262144}function Cu(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function oa(t){aa=t,ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return V0(aa,t)}function Iu(t,i){return aa===null&&oa(t),V0(t,i)}function V0(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ui===null){if(t===null)throw Error(r(308));ui=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ui=ui.next=i;return a}var gT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},yT=s.unstable_scheduleCallback,_T=s.unstable_NormalPriority,It={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new gT,data:new Map,refCount:0}}function Cl(t){t.refCount--,t.refCount===0&&yT(_T,function(){t.controller.abort()})}var Il=null,hf=0,ro=0,ao=null;function vT(t,i){if(Il===null){var a=Il=[];hf=0,ro=mm(),ao={status:"pending",value:void 0,then:function(l){a.push(l)}}}return hf++,i.then(U0,U0),i}function U0(){if(--hf===0&&Il!==null){ao!==null&&(ao.status="fulfilled");var t=Il;Il=null,ro=0,ao=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function bT(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var P0=Y.S;Y.S=function(t,i){x_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&vT(t,i),P0!==null&&P0(t,i)};var la=M(null);function df(){var t=la.current;return t!==null?t:st.pooledCache}function ku(t,i){i===null?ae(la,la.current):ae(la,i.pool)}function L0(){var t=df();return t===null?null:{parent:It._currentValue,pool:t}}var oo=Error(r(460)),ff=Error(r(474)),Du=Error(r(542)),Ou={then:function(){}};function z0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function B0(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(rs,rs),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,H0(t),t;default:if(typeof i.status=="string")i.then(rs,rs);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,H0(t),t}throw ua=i,oo}}function ca(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ua=a,oo):a}}var ua=null;function q0(){if(ua===null)throw Error(r(459));var t=ua;return ua=null,t}function H0(t){if(t===oo||t===Du)throw Error(r(483))}var lo=null,kl=0;function ju(t){var i=kl;return kl+=1,lo===null&&(lo=[]),B0(lo,t,i)}function Dl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Mu(t,i){throw i.$$typeof===T?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function F0(t){function i(P,j){if(t){var G=P.deletions;G===null?(P.deletions=[j],P.flags|=16):G.push(j)}}function a(P,j){if(!t)return null;for(;j!==null;)i(P,j),j=j.sibling;return null}function l(P){for(var j=new Map;P!==null;)P.key!==null?j.set(P.key,P):j.set(P.index,P),P=P.sibling;return j}function d(P,j){return P=li(P,j),P.index=0,P.sibling=null,P}function f(P,j,G){return P.index=G,t?(G=P.alternate,G!==null?(G=G.index,G<j?(P.flags|=67108866,j):G):(P.flags|=67108866,j)):(P.flags|=1048576,j)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function w(P,j,G,ee){return j===null||j.tag!==6?(j=ef(G,P.mode,ee),j.return=P,j):(j=d(j,G),j.return=P,j)}function k(P,j,G,ee){var ve=G.type;return ve===U?Z(P,j,G.props.children,ee,G.key):j!==null&&(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&ca(ve)===j.type)?(j=d(j,G.props),Dl(j,G),j.return=P,j):(j=Nu(G.type,G.key,G.props,null,P.mode,ee),Dl(j,G),j.return=P,j)}function $(P,j,G,ee){return j===null||j.tag!==4||j.stateNode.containerInfo!==G.containerInfo||j.stateNode.implementation!==G.implementation?(j=tf(G,P.mode,ee),j.return=P,j):(j=d(j,G.children||[]),j.return=P,j)}function Z(P,j,G,ee,ve){return j===null||j.tag!==7?(j=ia(G,P.mode,ee,ve),j.return=P,j):(j=d(j,G),j.return=P,j)}function se(P,j,G){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=ef(""+j,P.mode,G),j.return=P,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case C:return G=Nu(j.type,j.key,j.props,null,P.mode,G),Dl(G,j),G.return=P,G;case q:return j=tf(j,P.mode,G),j.return=P,j;case A:return j=ca(j),se(P,j,G)}if(xe(j)||L(j))return j=ia(j,P.mode,G,null),j.return=P,j;if(typeof j.then=="function")return se(P,ju(j),G);if(j.$$typeof===F)return se(P,Iu(P,j),G);Mu(P,j)}return null}function K(P,j,G,ee){var ve=j!==null?j.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ve!==null?null:w(P,j,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case C:return G.key===ve?k(P,j,G,ee):null;case q:return G.key===ve?$(P,j,G,ee):null;case A:return G=ca(G),K(P,j,G,ee)}if(xe(G)||L(G))return ve!==null?null:Z(P,j,G,ee,null);if(typeof G.then=="function")return K(P,j,ju(G),ee);if(G.$$typeof===F)return K(P,j,Iu(P,G),ee);Mu(P,G)}return null}function J(P,j,G,ee,ve){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return P=P.get(G)||null,w(j,P,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case C:return P=P.get(ee.key===null?G:ee.key)||null,k(j,P,ee,ve);case q:return P=P.get(ee.key===null?G:ee.key)||null,$(j,P,ee,ve);case A:return ee=ca(ee),J(P,j,G,ee,ve)}if(xe(ee)||L(ee))return P=P.get(G)||null,Z(j,P,ee,ve,null);if(typeof ee.then=="function")return J(P,j,G,ju(ee),ve);if(ee.$$typeof===F)return J(P,j,G,Iu(j,ee),ve);Mu(j,ee)}return null}function me(P,j,G,ee){for(var ve=null,Fe=null,ye=j,De=j=0,Pe=null;ye!==null&&De<G.length;De++){ye.index>De?(Pe=ye,ye=null):Pe=ye.sibling;var Ge=K(P,ye,G[De],ee);if(Ge===null){ye===null&&(ye=Pe);break}t&&ye&&Ge.alternate===null&&i(P,ye),j=f(Ge,j,De),Fe===null?ve=Ge:Fe.sibling=Ge,Fe=Ge,ye=Pe}if(De===G.length)return a(P,ye),qe&&ci(P,De),ve;if(ye===null){for(;De<G.length;De++)ye=se(P,G[De],ee),ye!==null&&(j=f(ye,j,De),Fe===null?ve=ye:Fe.sibling=ye,Fe=ye);return qe&&ci(P,De),ve}for(ye=l(ye);De<G.length;De++)Pe=J(ye,P,De,G[De],ee),Pe!==null&&(t&&Pe.alternate!==null&&ye.delete(Pe.key===null?De:Pe.key),j=f(Pe,j,De),Fe===null?ve=Pe:Fe.sibling=Pe,Fe=Pe);return t&&ye.forEach(function(mr){return i(P,mr)}),qe&&ci(P,De),ve}function Ee(P,j,G,ee){if(G==null)throw Error(r(151));for(var ve=null,Fe=null,ye=j,De=j=0,Pe=null,Ge=G.next();ye!==null&&!Ge.done;De++,Ge=G.next()){ye.index>De?(Pe=ye,ye=null):Pe=ye.sibling;var mr=K(P,ye,Ge.value,ee);if(mr===null){ye===null&&(ye=Pe);break}t&&ye&&mr.alternate===null&&i(P,ye),j=f(mr,j,De),Fe===null?ve=mr:Fe.sibling=mr,Fe=mr,ye=Pe}if(Ge.done)return a(P,ye),qe&&ci(P,De),ve;if(ye===null){for(;!Ge.done;De++,Ge=G.next())Ge=se(P,Ge.value,ee),Ge!==null&&(j=f(Ge,j,De),Fe===null?ve=Ge:Fe.sibling=Ge,Fe=Ge);return qe&&ci(P,De),ve}for(ye=l(ye);!Ge.done;De++,Ge=G.next())Ge=J(ye,P,De,Ge.value,ee),Ge!==null&&(t&&Ge.alternate!==null&&ye.delete(Ge.key===null?De:Ge.key),j=f(Ge,j,De),Fe===null?ve=Ge:Fe.sibling=Ge,Fe=Ge);return t&&ye.forEach(function(kS){return i(P,kS)}),qe&&ci(P,De),ve}function nt(P,j,G,ee){if(typeof G=="object"&&G!==null&&G.type===U&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case C:e:{for(var ve=G.key;j!==null;){if(j.key===ve){if(ve=G.type,ve===U){if(j.tag===7){a(P,j.sibling),ee=d(j,G.props.children),ee.return=P,P=ee;break e}}else if(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&ca(ve)===j.type){a(P,j.sibling),ee=d(j,G.props),Dl(ee,G),ee.return=P,P=ee;break e}a(P,j);break}else i(P,j);j=j.sibling}G.type===U?(ee=ia(G.props.children,P.mode,ee,G.key),ee.return=P,P=ee):(ee=Nu(G.type,G.key,G.props,null,P.mode,ee),Dl(ee,G),ee.return=P,P=ee)}return v(P);case q:e:{for(ve=G.key;j!==null;){if(j.key===ve)if(j.tag===4&&j.stateNode.containerInfo===G.containerInfo&&j.stateNode.implementation===G.implementation){a(P,j.sibling),ee=d(j,G.children||[]),ee.return=P,P=ee;break e}else{a(P,j);break}else i(P,j);j=j.sibling}ee=tf(G,P.mode,ee),ee.return=P,P=ee}return v(P);case A:return G=ca(G),nt(P,j,G,ee)}if(xe(G))return me(P,j,G,ee);if(L(G)){if(ve=L(G),typeof ve!="function")throw Error(r(150));return G=ve.call(G),Ee(P,j,G,ee)}if(typeof G.then=="function")return nt(P,j,ju(G),ee);if(G.$$typeof===F)return nt(P,j,Iu(P,G),ee);Mu(P,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,j!==null&&j.tag===6?(a(P,j.sibling),ee=d(j,G),ee.return=P,P=ee):(a(P,j),ee=ef(G,P.mode,ee),ee.return=P,P=ee),v(P)):a(P,j)}return function(P,j,G,ee){try{kl=0;var ve=nt(P,j,G,ee);return lo=null,ve}catch(ye){if(ye===oo||ye===Du)throw ye;var Fe=Nn(29,ye,null,P.mode);return Fe.lanes=ee,Fe.return=P,Fe}finally{}}}var ha=F0(!0),G0=F0(!1),Ji=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zi(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=Au(t),R0(t,null,a),i}return Su(t,l,i,a),Au(t)}function Ol(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,al(t,a)}}function gf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?d=f=i:f=f.next=i}else d=f=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var yf=!1;function jl(){if(yf){var t=ao;if(t!==null)throw t}}function Ml(t,i,a,l){yf=!1;var d=t.updateQueue;Ji=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var k=w,$=k.next;k.next=null,v===null?f=$:v.next=$,v=k;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==v&&(w===null?Z.firstBaseUpdate=$:w.next=$,Z.lastBaseUpdate=k))}if(f!==null){var se=d.baseState;v=0,Z=$=k=null,w=f;do{var K=w.lane&-536870913,J=K!==w.lane;if(J?(Ue&K)===K:(l&K)===K){K!==0&&K===ro&&(yf=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var me=t,Ee=w;K=i;var nt=a;switch(Ee.tag){case 1:if(me=Ee.payload,typeof me=="function"){se=me.call(nt,se,K);break e}se=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ee.payload,K=typeof me=="function"?me.call(nt,se,K):me,K==null)break e;se=E({},se,K);break e;case 2:Ji=!0}}K=w.callback,K!==null&&(t.flags|=64,J&&(t.flags|=8192),J=d.callbacks,J===null?d.callbacks=[K]:J.push(K))}else J={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?($=Z=J,k=se):Z=Z.next=J,v|=K;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;J=w,w=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);Z===null&&(k=se),d.baseState=k,d.firstBaseUpdate=$,d.lastBaseUpdate=Z,f===null&&(d.shared.lanes=0),ir|=v,t.lanes=v,t.memoizedState=se}}function $0(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function K0(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)$0(a[t],i)}var co=M(null),Vu=M(0);function Y0(t,i){t=bi,ae(Vu,t),ae(co,i),bi=t|i.baseLanes}function _f(){ae(Vu,bi),ae(co,co.current)}function vf(){bi=Vu.current,Q(co),Q(Vu)}var Rn=M(null),Qn=null;function er(t){var i=t.alternate;ae(wt,wt.current&1),ae(Rn,t),Qn===null&&(i===null||co.current!==null||i.memoizedState!==null)&&(Qn=t)}function bf(t){ae(wt,wt.current),ae(Rn,t),Qn===null&&(Qn=t)}function Q0(t){t.tag===22?(ae(wt,wt.current),ae(Rn,t),Qn===null&&(Qn=t)):tr()}function tr(){ae(wt,wt.current),ae(Rn,Rn.current)}function Cn(t){Q(Rn),Qn===t&&(Qn=null),Q(wt)}var wt=M(0);function Uu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Am(a)||Nm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var di=0,ke=null,et=null,kt=null,Pu=!1,uo=!1,da=!1,Lu=0,Vl=0,ho=null,xT=0;function gt(){throw Error(r(321))}function xf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!An(t[a],i[a]))return!1;return!0}function Ef(t,i,a,l,d,f){return di=f,ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?Dy:Uf,da=!1,f=a(l,d),da=!1,uo&&(f=J0(i,a,l,d)),X0(t),f}function X0(t){Y.H=Ll;var i=et!==null&&et.next!==null;if(di=0,kt=et=ke=null,Pu=!1,Vl=0,ho=null,i)throw Error(r(300));t===null||Dt||(t=t.dependencies,t!==null&&Cu(t)&&(Dt=!0))}function J0(t,i,a,l){ke=t;var d=0;do{if(uo&&(ho=null),Vl=0,uo=!1,25<=d)throw Error(r(301));if(d+=1,kt=et=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Y.H=Oy,f=i(a,l)}while(uo);return f}function ET(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?Ul(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(ke.flags|=1024),i}function wf(){var t=Lu!==0;return Lu=0,t}function Tf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Sf(t){if(Pu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Pu=!1}di=0,kt=et=ke=null,uo=!1,Vl=Lu=0,ho=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ke.memoizedState=kt=t:kt=kt.next=t,kt}function Tt(){if(et===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=kt===null?ke.memoizedState:kt.next;if(i!==null)kt=i,et=t;else{if(t===null)throw ke.alternate===null?Error(r(467)):Error(r(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},kt===null?ke.memoizedState=kt=t:kt=kt.next=t}return kt}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(t){var i=Vl;return Vl+=1,ho===null&&(ho=[]),t=B0(ho,t,i),i=ke,(kt===null?i.memoizedState:kt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Dy:Uf),t}function Bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ul(t);if(t.$$typeof===F)return Yt(t)}throw Error(r(438,String(t)))}function Af(t){var i=null,a=ke.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=zu(),ke.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function fi(t,i){return typeof i=="function"?i(t):i}function qu(t){var i=Tt();return Nf(i,et,t)}function Nf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}i.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{i=d.next;var w=v=null,k=null,$=i,Z=!1;do{var se=$.lane&-536870913;if(se!==$.lane?(Ue&se)===se:(di&se)===se){var K=$.revertLane;if(K===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),se===ro&&(Z=!0);else if((di&K)===K){$=$.next,K===ro&&(Z=!0);continue}else se={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},k===null?(w=k=se,v=f):k=k.next=se,ke.lanes|=K,ir|=K;se=$.action,da&&a(f,se),f=$.hasEagerState?$.eagerState:a(f,se)}else K={lane:se,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},k===null?(w=k=K,v=f):k=k.next=K,ke.lanes|=se,ir|=se;$=$.next}while($!==null&&$!==i);if(k===null?v=f:k.next=w,!An(f,t.memoizedState)&&(Dt=!0,Z&&(a=ao,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=k,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rf(t){var i=Tt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=i.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do f=t(f,v.action),v=v.next;while(v!==d);An(f,i.memoizedState)||(Dt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function W0(t,i,a){var l=ke,d=Tt(),f=qe;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!An((et||d).memoizedState,a);if(v&&(d.memoizedState=a,Dt=!0),d=d.queue,kf(ty.bind(null,l,d,t),[t]),d.getSnapshot!==i||v||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,fo(9,{destroy:void 0},ey.bind(null,l,d,a,i),null),st===null)throw Error(r(349));f||(di&127)!==0||Z0(l,i,a)}return a}function Z0(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=ke.updateQueue,i===null?(i=zu(),ke.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ey(t,i,a,l){i.value=a,i.getSnapshot=l,ny(i)&&sy(t)}function ty(t,i,a){return a(function(){ny(i)&&sy(t)})}function ny(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!An(t,a)}catch{return!0}}function sy(t){var i=sa(t,2);i!==null&&_n(i,t,2)}function Cf(t){var i=cn();if(typeof t=="function"){var a=t;if(t=a(),da){Ln(!0);try{a()}finally{Ln(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:t},i}function iy(t,i,a,l){return t.baseState=a,Nf(t,et,typeof l=="function"?l:fi)}function wT(t,i,a,l,d){if(Gu(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Y.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,ry(i,f)):(f.next=a.next,i.pending=a.next=f)}}function ry(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var f=Y.T,v={};Y.T=v;try{var w=a(d,l),k=Y.S;k!==null&&k(v,w),ay(t,i,w)}catch($){If(t,i,$)}finally{f!==null&&v.types!==null&&(f.types=v.types),Y.T=f}}else try{f=a(d,l),ay(t,i,f)}catch($){If(t,i,$)}}function ay(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){oy(t,i,l)},function(l){return If(t,i,l)}):oy(t,i,a)}function oy(t,i,a){i.status="fulfilled",i.value=a,ly(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ry(t,a)))}function If(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ly(i),i=i.next;while(i!==l)}t.action=null}function ly(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function cy(t,i){return i}function uy(t,i){if(qe){var a=st.formState;if(a!==null){e:{var l=ke;if(qe){if(rt){t:{for(var d=rt,f=Yn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Xn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){rt=Xn(d.nextSibling),l=d.data==="F!";break e}}Qi(l)}l=!1}l&&(i=a[0])}}return a=cn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cy,lastRenderedState:i},a.queue=l,a=Cy.bind(null,ke,l),l.dispatch=a,l=Cf(!1),f=Vf.bind(null,ke,!1,l.queue),l=cn(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=wT.bind(null,ke,d,f,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function hy(t){var i=Tt();return dy(i,et,t)}function dy(t,i,a){if(i=Nf(t,i,cy)[0],t=qu(fi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ul(i)}catch(v){throw v===oo?Du:v}else l=i;i=Tt();var d=i.queue,f=d.dispatch;return a!==i.memoizedState&&(ke.flags|=2048,fo(9,{destroy:void 0},TT.bind(null,d,a),null)),[l,f,t]}function TT(t,i){t.action=i}function fy(t){var i=Tt(),a=et;if(a!==null)return dy(i,a,t);Tt(),i=i.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function fo(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=ke.updateQueue,i===null&&(i=zu(),ke.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function my(){return Tt().memoizedState}function Hu(t,i,a,l){var d=cn();ke.flags|=t,d.memoizedState=fo(1|i,{destroy:void 0},a,l===void 0?null:l)}function Fu(t,i,a,l){var d=Tt();l=l===void 0?null:l;var f=d.memoizedState.inst;et!==null&&l!==null&&xf(l,et.memoizedState.deps)?d.memoizedState=fo(i,f,a,l):(ke.flags|=t,d.memoizedState=fo(1|i,f,a,l))}function py(t,i){Hu(8390656,8,t,i)}function kf(t,i){Fu(2048,8,t,i)}function ST(t){ke.flags|=4;var i=ke.updateQueue;if(i===null)i=zu(),ke.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function gy(t){var i=Tt().memoizedState;return ST({ref:i,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function yy(t,i){return Fu(4,2,t,i)}function _y(t,i){return Fu(4,4,t,i)}function vy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function by(t,i,a){a=a!=null?a.concat([t]):null,Fu(4,4,vy.bind(null,i,t),a)}function Df(){}function xy(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&xf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Ey(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&xf(i,l[1]))return l[0];if(l=t(),da){Ln(!0);try{t()}finally{Ln(!1)}}return a.memoizedState=[l,i],l}function Of(t,i,a){return a===void 0||(di&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=w_(),ke.lanes|=t,ir|=t,a)}function wy(t,i,a,l){return An(a,i)?a:co.current!==null?(t=Of(t,a,l),An(t,i)||(Dt=!0),t):(di&42)===0||(di&1073741824)!==0&&(Ue&261930)===0?(Dt=!0,t.memoizedState=a):(t=w_(),ke.lanes|=t,ir|=t,i)}function Ty(t,i,a,l,d){var f=oe.p;oe.p=f!==0&&8>f?f:8;var v=Y.T,w={};Y.T=w,Vf(t,!1,i,a);try{var k=d(),$=Y.S;if($!==null&&$(w,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var Z=bT(k,l);Pl(t,i,Z,Dn(t))}else Pl(t,i,l,Dn(t))}catch(se){Pl(t,i,{then:function(){},status:"rejected",reason:se},Dn())}finally{oe.p=f,v!==null&&w.types!==null&&(v.types=w.types),Y.T=v}}function AT(){}function jf(t,i,a,l){if(t.tag!==5)throw Error(r(476));var d=Sy(t).queue;Ty(t,d,i,ge,a===null?AT:function(){return Ay(t),a(l)})}function Sy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ay(t){var i=Sy(t);i.next===null&&(i=t.alternate.memoizedState),Pl(t,i.next.queue,{},Dn())}function Mf(){return Yt(tc)}function Ny(){return Tt().memoizedState}function Ry(){return Tt().memoizedState}function NT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Dn();t=Wi(a);var l=Zi(i,t,a);l!==null&&(_n(l,i,a),Ol(l,i,a)),i={cache:uf()},t.payload=i;return}i=i.return}}function RT(t,i,a){var l=Dn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Gu(t)?Iy(i,a):(a=Wd(t,i,a,l),a!==null&&(_n(a,t,l),ky(a,i,l)))}function Cy(t,i,a){var l=Dn();Pl(t,i,a,l)}function Pl(t,i,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gu(t))Iy(i,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,w=f(v,a);if(d.hasEagerState=!0,d.eagerState=w,An(w,v))return Su(t,i,d,0),st===null&&Tu(),!1}catch{}finally{}if(a=Wd(t,i,d,l),a!==null)return _n(a,t,l),ky(a,i,l),!0}return!1}function Vf(t,i,a,l){if(l={lane:2,revertLane:mm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Gu(t)){if(i)throw Error(r(479))}else i=Wd(t,a,l,2),i!==null&&_n(i,t,2)}function Gu(t){var i=t.alternate;return t===ke||i!==null&&i===ke}function Iy(t,i){uo=Pu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ky(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,al(t,a)}}var Ll={readContext:Yt,use:Bu,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};Ll.useEffectEvent=gt;var Dy={readContext:Yt,use:Bu,useCallback:function(t,i){return cn().memoizedState=[t,i===void 0?null:i],t},useContext:Yt,useEffect:py,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Hu(4194308,4,vy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Hu(4194308,4,t,i)},useInsertionEffect:function(t,i){Hu(4,2,t,i)},useMemo:function(t,i){var a=cn();i=i===void 0?null:i;var l=t();if(da){Ln(!0);try{t()}finally{Ln(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=cn();if(a!==void 0){var d=a(i);if(da){Ln(!0);try{a(i)}finally{Ln(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=RT.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var i=cn();return t={current:t},i.memoizedState=t},useState:function(t){t=Cf(t);var i=t.queue,a=Cy.bind(null,ke,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Df,useDeferredValue:function(t,i){var a=cn();return Of(a,t,i)},useTransition:function(){var t=Cf(!1);return t=Ty.bind(null,ke,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=ke,d=cn();if(qe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),st===null)throw Error(r(349));(Ue&127)!==0||Z0(l,i,a)}d.memoizedState=a;var f={value:a,getSnapshot:i};return d.queue=f,py(ty.bind(null,l,f,t),[t]),l.flags|=2048,fo(9,{destroy:void 0},ey.bind(null,l,f,a,i),null),a},useId:function(){var t=cn(),i=st.identifierPrefix;if(qe){var a=Ls,l=Ps;a=(l&~(1<<32-xt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Lu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=xT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Mf,useFormState:uy,useActionState:uy,useOptimistic:function(t){var i=cn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Vf.bind(null,ke,!0,a),a.dispatch=i,[t,i]},useMemoCache:Af,useCacheRefresh:function(){return cn().memoizedState=NT.bind(null,ke)},useEffectEvent:function(t){var i=cn(),a={impl:t};return i.memoizedState=a,function(){if((Ye&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Uf={readContext:Yt,use:Bu,useCallback:xy,useContext:Yt,useEffect:kf,useImperativeHandle:by,useInsertionEffect:yy,useLayoutEffect:_y,useMemo:Ey,useReducer:qu,useRef:my,useState:function(){return qu(fi)},useDebugValue:Df,useDeferredValue:function(t,i){var a=Tt();return wy(a,et.memoizedState,t,i)},useTransition:function(){var t=qu(fi)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:Ul(t),i]},useSyncExternalStore:W0,useId:Ny,useHostTransitionStatus:Mf,useFormState:hy,useActionState:hy,useOptimistic:function(t,i){var a=Tt();return iy(a,et,t,i)},useMemoCache:Af,useCacheRefresh:Ry};Uf.useEffectEvent=gy;var Oy={readContext:Yt,use:Bu,useCallback:xy,useContext:Yt,useEffect:kf,useImperativeHandle:by,useInsertionEffect:yy,useLayoutEffect:_y,useMemo:Ey,useReducer:Rf,useRef:my,useState:function(){return Rf(fi)},useDebugValue:Df,useDeferredValue:function(t,i){var a=Tt();return et===null?Of(a,t,i):wy(a,et.memoizedState,t,i)},useTransition:function(){var t=Rf(fi)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:Ul(t),i]},useSyncExternalStore:W0,useId:Ny,useHostTransitionStatus:Mf,useFormState:fy,useActionState:fy,useOptimistic:function(t,i){var a=Tt();return et!==null?iy(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Af,useCacheRefresh:Ry};Oy.useEffectEvent=gy;function Pf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Lf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Dn(),d=Wi(l);d.payload=i,a!=null&&(d.callback=a),i=Zi(t,d,l),i!==null&&(_n(i,t,l),Ol(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Dn(),d=Wi(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Zi(t,d,l),i!==null&&(_n(i,t,l),Ol(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Dn(),l=Wi(a);l.tag=2,i!=null&&(l.callback=i),i=Zi(t,l,a),i!==null&&(_n(i,t,a),Ol(i,t,a))}};function jy(t,i,a,l,d,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):i.prototype&&i.prototype.isPureReactComponent?!Sl(a,l)||!Sl(d,f):!0}function My(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Lf.enqueueReplaceState(i,i.state,null)}function fa(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function Vy(t){wu(t)}function Uy(t){console.error(t)}function Py(t){wu(t)}function $u(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ly(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function zf(t,i,a){return a=Wi(a),a.tag=3,a.payload={element:null},a.callback=function(){$u(t,i)},a}function zy(t){return t=Wi(t),t.tag=3,t}function By(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){Ly(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ly(i,a,l),typeof d!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function CT(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&io(i,a,d,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Qn===null?ih():a.alternate===null&&yt===0&&(yt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Ou?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),hm(t,l,d)),!1;case 22:return a.flags|=65536,l===Ou?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),hm(t,l,d)),!1}throw Error(r(435,a.tag))}return hm(t,l,d),ih(),!1}if(qe)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==rf&&(t=Error(r(422),{cause:l}),Rl(Gn(t,a)))):(l!==rf&&(i=Error(r(423),{cause:l}),Rl(Gn(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Gn(l,a),d=zf(t.stateNode,l,d),gf(t,d),yt!==4&&(yt=2)),!1;var f=Error(r(520),{cause:l});if(f=Gn(f,a),Kl===null?Kl=[f]:Kl.push(f),yt!==4&&(yt=2),i===null)return!0;l=Gn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=zf(a.stateNode,l,t),gf(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rr===null||!rr.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=zy(d),By(d,t,a,l),gf(a,d),!1}a=a.return}while(a!==null);return!1}var Bf=Error(r(461)),Dt=!1;function Qt(t,i,a,l){i.child=t===null?G0(i,null,a,l):ha(i,t.child,a,l)}function qy(t,i,a,l,d){a=a.render;var f=i.ref;if("ref"in l){var v={};for(var w in l)w!=="ref"&&(v[w]=l[w])}else v=l;return oa(i),l=Ef(t,i,a,v,f,d),w=wf(),t!==null&&!Dt?(Tf(t,i,d),mi(t,i,d)):(qe&&w&&nf(i),i.flags|=1,Qt(t,i,l,d),i.child)}function Hy(t,i,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!Zd(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Fy(t,i,f,l,d)):(t=Nu(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Qf(t,d)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Sl,a(v,l)&&t.ref===i.ref)return mi(t,i,d)}return i.flags|=1,t=li(f,l),t.ref=i.ref,t.return=i,i.child=t}function Fy(t,i,a,l,d){if(t!==null){var f=t.memoizedProps;if(Sl(f,l)&&t.ref===i.ref)if(Dt=!1,i.pendingProps=l=f,Qf(t,d))(t.flags&131072)!==0&&(Dt=!0);else return i.lanes=t.lanes,mi(t,i,d)}return qf(t,i,a,l,d)}function Gy(t,i,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=i.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,i.child=null;return $y(t,i,f,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ku(i,f!==null?f.cachePool:null),f!==null?Y0(i,f):_f(),Q0(i);else return l=i.lanes=536870912,$y(t,i,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(ku(i,f.cachePool),Y0(i,f),tr(),i.memoizedState=null):(t!==null&&ku(i,null),_f(),tr());return Qt(t,i,d,a),i.child}function zl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function $y(t,i,a,l,d){var f=df();return f=f===null?null:{parent:It._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&ku(i,null),_f(),Q0(i),t!==null&&io(t,i,l,!0),i.childLanes=d,null}function Ku(t,i){return i=Qu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ky(t,i,a){return ha(i,t.child,null,a),t=Ku(i,i.pendingProps),t.flags|=2,Cn(i),i.memoizedState=null,t}function IT(t,i,a){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(qe){if(l.mode==="hidden")return t=Ku(i,l),i.lanes=536870912,zl(null,t);if(bf(i),(t=rt)?(t=rv(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ki!==null?{id:Ps,overflow:Ls}:null,retryLane:536870912,hydrationErrors:null},a=I0(t),a.return=i,i.child=a,Kt=i,rt=null)):t=null,t===null)throw Qi(i);return i.lanes=536870912,null}return Ku(i,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(bf(i),d)if(i.flags&256)i.flags&=-257,i=Ky(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Dt||io(t,i,a,!1),d=(a&t.childLanes)!==0,Dt||d){if(l=st,l!==null&&(v=ol(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,sa(t,v),_n(l,t,v),Bf;ih(),i=Ky(t,i,a)}else t=f.treeContext,rt=Xn(v.nextSibling),Kt=i,qe=!0,Yi=null,Yn=!1,t!==null&&O0(i,t),i=Ku(i,l),i.flags|=4096;return i}return t=li(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Yu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function qf(t,i,a,l,d){return oa(i),a=Ef(t,i,a,l,void 0,d),l=wf(),t!==null&&!Dt?(Tf(t,i,d),mi(t,i,d)):(qe&&l&&nf(i),i.flags|=1,Qt(t,i,a,d),i.child)}function Yy(t,i,a,l,d,f){return oa(i),i.updateQueue=null,a=J0(i,l,a,d),X0(t),l=wf(),t!==null&&!Dt?(Tf(t,i,f),mi(t,i,f)):(qe&&l&&nf(i),i.flags|=1,Qt(t,i,a,f),i.child)}function Qy(t,i,a,l,d){if(oa(i),i.stateNode===null){var f=eo,v=a.contextType;typeof v=="object"&&v!==null&&(f=Yt(v)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},mf(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?Yt(v):eo,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Pf(i,a,v,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Lf.enqueueReplaceState(f,f.state,null),Ml(i,l,f,d),jl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var w=i.memoizedProps,k=fa(a,w);f.props=k;var $=f.context,Z=a.contextType;v=eo,typeof Z=="object"&&Z!==null&&(v=Yt(Z));var se=a.getDerivedStateFromProps;Z=typeof se=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||$!==v)&&My(i,f,l,v),Ji=!1;var K=i.memoizedState;f.state=K,Ml(i,l,f,d),jl(),$=i.memoizedState,w||K!==$||Ji?(typeof se=="function"&&(Pf(i,a,se,l),$=i.memoizedState),(k=Ji||jy(i,a,k,l,K,$,v))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=$),f.props=l,f.state=$,f.context=v,l=k):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,pf(t,i),v=i.memoizedProps,Z=fa(a,v),f.props=Z,se=i.pendingProps,K=f.context,$=a.contextType,k=eo,typeof $=="object"&&$!==null&&(k=Yt($)),w=a.getDerivedStateFromProps,($=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==se||K!==k)&&My(i,f,l,k),Ji=!1,K=i.memoizedState,f.state=K,Ml(i,l,f,d),jl();var J=i.memoizedState;v!==se||K!==J||Ji||t!==null&&t.dependencies!==null&&Cu(t.dependencies)?(typeof w=="function"&&(Pf(i,a,w,l),J=i.memoizedState),(Z=Ji||jy(i,a,Z,l,K,J,k)||t!==null&&t.dependencies!==null&&Cu(t.dependencies))?($||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,J,k),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,J,k)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=J),f.props=l,f.state=J,f.context=k,l=Z):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,Yu(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=ha(i,t.child,null,d),i.child=ha(i,null,a,d)):Qt(t,i,a,d),i.memoizedState=f.state,t=i.child):t=mi(t,i,d),t}function Xy(t,i,a,l){return ra(),i.flags|=256,Qt(t,i,a,l),i.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(t){return{baseLanes:t,cachePool:L0()}}function Gf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=kn),t}function Jy(t,i,a){var l=i.pendingProps,d=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),v&&(d=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(d?er(i):tr(),(t=rt)?(t=rv(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ki!==null?{id:Ps,overflow:Ls}:null,retryLane:536870912,hydrationErrors:null},a=I0(t),a.return=i,i.child=a,Kt=i,rt=null)):t=null,t===null)throw Qi(i);return Nm(t)?i.lanes=32:i.lanes=536870912,null}var w=l.children;return l=l.fallback,d?(tr(),d=i.mode,w=Qu({mode:"hidden",children:w},d),l=ia(l,d,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,l=i.child,l.memoizedState=Ff(a),l.childLanes=Gf(t,v,a),i.memoizedState=Hf,zl(null,l)):(er(i),$f(i,w))}var k=t.memoizedState;if(k!==null&&(w=k.dehydrated,w!==null)){if(f)i.flags&256?(er(i),i.flags&=-257,i=Kf(t,i,a)):i.memoizedState!==null?(tr(),i.child=t.child,i.flags|=128,i=null):(tr(),w=l.fallback,d=i.mode,l=Qu({mode:"visible",children:l.children},d),w=ia(w,d,a,null),w.flags|=2,l.return=i,w.return=i,l.sibling=w,i.child=l,ha(i,t.child,null,a),l=i.child,l.memoizedState=Ff(a),l.childLanes=Gf(t,v,a),i.memoizedState=Hf,i=zl(null,l));else if(er(i),Nm(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var $=v.dgst;v=$,l=Error(r(419)),l.stack="",l.digest=v,Rl({value:l,source:null,stack:null}),i=Kf(t,i,a)}else if(Dt||io(t,i,a,!1),v=(a&t.childLanes)!==0,Dt||v){if(v=st,v!==null&&(l=ol(v,a),l!==0&&l!==k.retryLane))throw k.retryLane=l,sa(t,l),_n(v,t,l),Bf;Am(w)||ih(),i=Kf(t,i,a)}else Am(w)?(i.flags|=192,i.child=t.child,i=null):(t=k.treeContext,rt=Xn(w.nextSibling),Kt=i,qe=!0,Yi=null,Yn=!1,t!==null&&O0(i,t),i=$f(i,l.children),i.flags|=4096);return i}return d?(tr(),w=l.fallback,d=i.mode,k=t.child,$=k.sibling,l=li(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,$!==null?w=li($,w):(w=ia(w,d,a,null),w.flags|=2),w.return=i,l.return=i,l.sibling=w,i.child=l,zl(null,l),l=i.child,w=t.child.memoizedState,w===null?w=Ff(a):(d=w.cachePool,d!==null?(k=It._currentValue,d=d.parent!==k?{parent:k,pool:k}:d):d=L0(),w={baseLanes:w.baseLanes|a,cachePool:d}),l.memoizedState=w,l.childLanes=Gf(t,v,a),i.memoizedState=Hf,zl(t.child,l)):(er(i),a=t.child,t=a.sibling,a=li(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function $f(t,i){return i=Qu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Qu(t,i){return t=Nn(22,t,null,i),t.lanes=0,t}function Kf(t,i,a){return ha(i,t.child,null,a),t=$f(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Wy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),lf(t.return,i,a)}function Yf(t,i,a,l,d,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=d,v.treeForkCount=f)}function Zy(t,i,a){var l=i.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var v=wt.current,w=(v&2)!==0;if(w?(v=v&1|2,i.flags|=128):v&=1,ae(wt,v),Qt(t,i,l,a),l=qe?Nl:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wy(t,a,i);else if(t.tag===19)Wy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&Uu(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Yf(i,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Uu(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Yf(i,!0,a,null,f,l);break;case"together":Yf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function mi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),ir|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(io(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=li(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=li(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Qf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Cu(t)))}function kT(t,i,a){switch(i.tag){case 3:mt(i,i.stateNode.containerInfo),Xi(i,It,t.memoizedState.cache),ra();break;case 27:case 5:zt(i);break;case 4:mt(i,i.stateNode.containerInfo);break;case 10:Xi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,bf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(er(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Jy(t,i,a):(er(i),t=mi(t,i,a),t!==null?t.sibling:null);er(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(io(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return Zy(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ae(wt,wt.current),l)break;return null;case 22:return i.lanes=0,Gy(t,i,a,i.pendingProps);case 24:Xi(i,It,t.memoizedState.cache)}return mi(t,i,a)}function e_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Dt=!0;else{if(!Qf(t,a)&&(i.flags&128)===0)return Dt=!1,kT(t,i,a);Dt=(t.flags&131072)!==0}else Dt=!1,qe&&(i.flags&1048576)!==0&&D0(i,Nl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=ca(i.elementType),i.type=t,typeof t=="function")Zd(t)?(l=fa(t,l),i.tag=1,i=Qy(null,i,t,l,a)):(i.tag=0,i=qf(null,i,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===B){i.tag=11,i=qy(null,i,t,l,a);break e}else if(d===R){i.tag=14,i=Hy(null,i,t,l,a);break e}}throw i=ne(t)||t,Error(r(306,i,""))}}return i;case 0:return qf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=fa(l,i.pendingProps),Qy(t,i,l,d,a);case 3:e:{if(mt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var f=i.memoizedState;d=f.element,pf(t,i),Ml(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Xi(i,It,l),l!==f.cache&&cf(i,[It],a,!0),jl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Xy(t,i,l,a);break e}else if(l!==d){d=Gn(Error(r(424)),i),Rl(d),i=Xy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=Xn(t.firstChild),Kt=i,qe=!0,Yi=null,Yn=!0,a=G0(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ra(),l===d){i=mi(t,i,a);break e}Qt(t,i,l,a)}i=i.child}return i;case 26:return Yu(t,i),t===null?(a=hv(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,l=hh(_e.current).createElement(a),l[Nt]=i,l[Bt]=t,Xt(l,a,t),Rt(l),i.stateNode=l):i.memoizedState=hv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return zt(i),t===null&&qe&&(l=i.stateNode=lv(i.type,i.pendingProps,_e.current),Kt=i,Yn=!0,d=rt,cr(i.type)?(Rm=d,rt=Xn(l.firstChild)):rt=d),Qt(t,i,i.pendingProps.children,a),Yu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&qe&&((d=l=rt)&&(l=oS(l,i.type,i.pendingProps,Yn),l!==null?(i.stateNode=l,Kt=i,rt=Xn(l.firstChild),Yn=!1,d=!0):d=!1),d||Qi(i)),zt(i),d=i.type,f=i.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,wm(d,f)?l=null:v!==null&&wm(d,v)&&(i.flags|=32),i.memoizedState!==null&&(d=Ef(t,i,ET,null,null,a),tc._currentValue=d),Yu(t,i),Qt(t,i,l,a),i.child;case 6:return t===null&&qe&&((t=a=rt)&&(a=lS(a,i.pendingProps,Yn),a!==null?(i.stateNode=a,Kt=i,rt=null,t=!0):t=!1),t||Qi(i)),null;case 13:return Jy(t,i,a);case 4:return mt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ha(i,null,l,a):Qt(t,i,l,a),i.child;case 11:return qy(t,i,i.type,i.pendingProps,a);case 7:return Qt(t,i,i.pendingProps,a),i.child;case 8:return Qt(t,i,i.pendingProps.children,a),i.child;case 12:return Qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Xi(i,i.type,l.value),Qt(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,oa(i),d=Yt(d),l=l(d),i.flags|=1,Qt(t,i,l,a),i.child;case 14:return Hy(t,i,i.type,i.pendingProps,a);case 15:return Fy(t,i,i.type,i.pendingProps,a);case 19:return Zy(t,i,a);case 31:return IT(t,i,a);case 22:return Gy(t,i,a,i.pendingProps);case 24:return oa(i),l=Yt(It),t===null?(d=df(),d===null&&(d=st,f=uf(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),i.memoizedState={parent:l,cache:d},mf(i),Xi(i,It,d)):((t.lanes&a)!==0&&(pf(t,i),Ml(i,null,null,a),jl()),d=t.memoizedState,f=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Xi(i,It,l)):(l=f.cache,Xi(i,It,l),l!==d.cache&&cf(i,[It],a,!0))),Qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function pi(t){t.flags|=4}function Xf(t,i,a,l,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(N_())t.flags|=8192;else throw ua=Ou,ff}else t.flags&=-16777217}function t_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!gv(i))if(N_())t.flags|=8192;else throw ua=Ou,ff}function Xu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?nu():536870912,t.lanes|=i,yo|=i)}function Bl(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function DT(t,i,a){var l=i.pendingProps;switch(sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),hi(It),je(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(so(i)?pi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,af())),at(i),null;case 26:var d=i.type,f=i.memoizedState;return t===null?(pi(i),f!==null?(at(i),t_(i,f)):(at(i),Xf(i,d,null,l,a))):f?f!==t.memoizedState?(pi(i),at(i),t_(i,f)):(at(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&pi(i),at(i),Xf(i,d,t,l,a)),null;case 27:if(bt(i),a=_e.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&pi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return at(i),null}t=ce.current,so(i)?j0(i):(t=lv(d,l,a),i.stateNode=t,pi(i))}return at(i),null;case 5:if(bt(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&pi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return at(i),null}if(f=ce.current,so(i))j0(i);else{var v=hh(_e.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(d,{is:l.is}):v.createElement(d)}}f[Nt]=i,f[Bt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=f;e:switch(Xt(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&pi(i)}}return at(i),Xf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&pi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=_e.current,so(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=Kt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Nt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||J_(t.nodeValue,a)),t||Qi(i,!0)}else t=hh(t).createTextNode(l),t[Nt]=i,i.stateNode=t}return at(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=so(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Nt]=i}else ra(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),t=!1}else a=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Cn(i),i):(Cn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=so(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Nt]=i}else ra(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),d=!1}else d=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Cn(i),i):(Cn(i),null)}return Cn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Xu(i,i.updateQueue),at(i),null);case 4:return je(),t===null&&_m(i.stateNode.containerInfo),at(i),null;case 10:return hi(i.type),at(i),null;case 19:if(Q(wt),l=i.memoizedState,l===null)return at(i),null;if(d=(i.flags&128)!==0,f=l.rendering,f===null)if(d)Bl(l,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Uu(t),f!==null){for(i.flags|=128,Bl(l,!1),t=f.updateQueue,i.updateQueue=t,Xu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)C0(a,t),a=a.sibling;return ae(wt,wt.current&1|2),qe&&ci(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>th&&(i.flags|=128,d=!0,Bl(l,!1),i.lanes=4194304)}else{if(!d)if(t=Uu(f),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,Xu(i,t),Bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!qe)return at(i),null}else 2*en()-l.renderingStartTime>th&&a!==536870912&&(i.flags|=128,d=!0,Bl(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(t=l.last,t!==null?t.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=wt.current,ae(wt,d?a&1|2:a&1),qe&&ci(i,l.treeForkCount),t):(at(i),null);case 22:case 23:return Cn(i),vf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&Xu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Q(la),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),hi(It),at(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function OT(t,i){switch(sf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return hi(It),je(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return bt(i),null;case 31:if(i.memoizedState!==null){if(Cn(i),i.alternate===null)throw Error(r(340));ra()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Cn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ra()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Q(wt),null;case 4:return je(),null;case 10:return hi(i.type),null;case 22:case 23:return Cn(i),vf(),t!==null&&Q(la),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return hi(It),null;case 25:return null;default:return null}}function n_(t,i){switch(sf(i),i.tag){case 3:hi(It),je();break;case 26:case 27:case 5:bt(i);break;case 4:je();break;case 31:i.memoizedState!==null&&Cn(i);break;case 13:Cn(i);break;case 19:Q(wt);break;case 10:hi(i.type);break;case 22:case 23:Cn(i),vf(),t!==null&&Q(la);break;case 24:hi(It)}}function ql(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==d)}}catch(w){We(i,i.return,w)}}function nr(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var v=l.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,d=i;var k=a,$=w;try{$()}catch(Z){We(d,k,Z)}}}l=l.next}while(l!==f)}}catch(Z){We(i,i.return,Z)}}function s_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{K0(i,a)}catch(l){We(t,t.return,l)}}}function i_(t,i,a){a.props=fa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function Hl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){We(t,i,d)}}function zs(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){We(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){We(t,i,d)}else a.current=null}function r_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){We(t,t.return,d)}}function Jf(t,i,a){try{var l=t.stateNode;tS(l,t.type,a,i),l[Bt]=i}catch(d){We(t,t.return,d)}}function a_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&cr(t.type)||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&cr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=rs));else if(l!==4&&(l===27&&cr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Zf(t,i,a),t=t.sibling;t!==null;)Zf(t,i,a),t=t.sibling}function Ju(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&cr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ju(t,i,a),t=t.sibling;t!==null;)Ju(t,i,a),t=t.sibling}function o_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Xt(i,l,a),i[Nt]=t,i[Bt]=a}catch(f){We(t,t.return,f)}}var gi=!1,Ot=!1,em=!1,l_=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function jT(t,i){if(t=t.containerInfo,xm=_h,t=b0(t),$d(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,w=-1,k=-1,$=0,Z=0,se=t,K=null;t:for(;;){for(var J;se!==a||d!==0&&se.nodeType!==3||(w=v+d),se!==f||l!==0&&se.nodeType!==3||(k=v+l),se.nodeType===3&&(v+=se.nodeValue.length),(J=se.firstChild)!==null;)K=se,se=J;for(;;){if(se===t)break t;if(K===a&&++$===d&&(w=v),K===f&&++Z===l&&(k=v),(J=se.nextSibling)!==null)break;se=K,K=se.parentNode}se=J}a=w===-1||k===-1?null:{start:w,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(Em={focusedElem:t,selectionRange:a},_h=!1,Ht=i;Ht!==null;)if(i=Ht,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ht=t;else for(;Ht!==null;){switch(i=Ht,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var me=fa(a.type,d);t=l.getSnapshotBeforeUpdate(me,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){We(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Sm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Ht=t;break}Ht=i.return}}function c_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:_i(t,a),l&4&&ql(5,a);break;case 1:if(_i(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var d=fa(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&s_(a),l&512&&Hl(a,a.return);break;case 3:if(_i(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{K0(t,i)}catch(v){We(a,a.return,v)}}break;case 27:i===null&&l&4&&o_(a);case 26:case 5:_i(t,a),i===null&&l&4&&r_(a),l&512&&Hl(a,a.return);break;case 12:_i(t,a);break;case 31:_i(t,a),l&4&&d_(t,a);break;case 13:_i(t,a),l&4&&f_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=HT.bind(null,a),cS(t,a))));break;case 22:if(l=a.memoizedState!==null||gi,!l){i=i!==null&&i.memoizedState!==null||Ot,d=gi;var f=Ot;gi=l,(Ot=i)&&!f?vi(t,a,(a.subtreeFlags&8772)!==0):_i(t,a),gi=d,Ot=f}break;case 30:break;default:_i(t,a)}}function u_(t){var i=t.alternate;i!==null&&(t.alternate=null,u_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&za(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,mn=!1;function yi(t,i,a){for(a=a.child;a!==null;)h_(t,i,a),a=a.sibling}function h_(t,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ts,a)}catch{}switch(a.tag){case 26:Ot||zs(a,i),yi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ot||zs(a,i);var l=ct,d=mn;cr(a.type)&&(ct=a.stateNode,mn=!1),yi(t,i,a),Wl(a.stateNode),ct=l,mn=d;break;case 5:Ot||zs(a,i);case 6:if(l=ct,d=mn,ct=null,yi(t,i,a),ct=l,mn=d,ct!==null)if(mn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(f){We(a,i,f)}else try{ct.removeChild(a.stateNode)}catch(f){We(a,i,f)}break;case 18:ct!==null&&(mn?(t=ct,sv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),So(t)):sv(ct,a.stateNode));break;case 4:l=ct,d=mn,ct=a.stateNode.containerInfo,mn=!0,yi(t,i,a),ct=l,mn=d;break;case 0:case 11:case 14:case 15:nr(2,a,i),Ot||nr(4,a,i),yi(t,i,a);break;case 1:Ot||(zs(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&i_(a,i,l)),yi(t,i,a);break;case 21:yi(t,i,a);break;case 22:Ot=(l=Ot)||a.memoizedState!==null,yi(t,i,a),Ot=l;break;default:yi(t,i,a)}}function d_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{So(t)}catch(a){We(i,i.return,a)}}}function f_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{So(t)}catch(a){We(i,i.return,a)}}function MT(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new l_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new l_),i;default:throw Error(r(435,t.tag))}}function Wu(t,i){var a=MT(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var d=FT.bind(null,t,l);l.then(d,d)}})}function pn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,v=i,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(cr(w.type)){ct=w.stateNode,mn=!1;break e}break;case 5:ct=w.stateNode,mn=!1;break e;case 3:case 4:ct=w.stateNode.containerInfo,mn=!0;break e}w=w.return}if(ct===null)throw Error(r(160));h_(f,v,d),ct=null,mn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)m_(i,t),i=i.sibling}var hs=null;function m_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(i,t),gn(t),l&4&&(nr(3,t,t.return),ql(3,t),nr(5,t,t.return));break;case 1:pn(i,t),gn(t),l&512&&(Ot||a===null||zs(a,a.return)),l&64&&gi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=hs;if(pn(i,t),gn(t),l&512&&(Ot||a===null||zs(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[As]||f[Nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Xt(f,l,a),f[Nt]=t,Rt(f),l=f;break e;case"link":var v=mv("link","href",d).get(l+(a.href||""));if(v){for(var w=0;w<v.length;w++)if(f=v[w],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(w,1);break t}}f=d.createElement(l),Xt(f,l,a),d.head.appendChild(f);break;case"meta":if(v=mv("meta","content",d).get(l+(a.content||""))){for(w=0;w<v.length;w++)if(f=v[w],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(w,1);break t}}f=d.createElement(l),Xt(f,l,a),d.head.appendChild(f);break;default:throw Error(r(468,l))}f[Nt]=t,Rt(f),l=f}t.stateNode=l}else pv(d,t.type,t.stateNode);else t.stateNode=fv(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?pv(d,t.type,t.stateNode):fv(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jf(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(i,t),gn(t),l&512&&(Ot||a===null||zs(a,a.return)),a!==null&&l&4&&Jf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(i,t),gn(t),l&512&&(Ot||a===null||zs(a,a.return)),t.flags&32){d=t.stateNode;try{fn(d,"")}catch(me){We(t,t.return,me)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Jf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(em=!0);break;case 6:if(pn(i,t),gn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){We(t,t.return,me)}}break;case 3:if(mh=null,d=hs,hs=dh(i.containerInfo),pn(i,t),hs=d,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{So(i.containerInfo)}catch(me){We(t,t.return,me)}em&&(em=!1,p_(t));break;case 4:l=hs,hs=dh(t.stateNode.containerInfo),pn(i,t),gn(t),hs=l;break;case 12:pn(i,t),gn(t);break;case 31:pn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wu(t,l)));break;case 13:pn(i,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(eh=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wu(t,l)));break;case 22:d=t.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,$=gi,Z=Ot;if(gi=$||d,Ot=Z||k,pn(i,t),Ot=Z,gi=$,gn(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||k||gi||Ot||ma(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){k=a=i;try{if(f=k.stateNode,d)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=k.stateNode;var se=k.memoizedProps.style,K=se!=null&&se.hasOwnProperty("display")?se.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(me){We(k,k.return,me)}}}else if(i.tag===6){if(a===null){k=i;try{k.stateNode.nodeValue=d?"":k.memoizedProps}catch(me){We(k,k.return,me)}}}else if(i.tag===18){if(a===null){k=i;try{var J=k.stateNode;d?iv(J,!0):iv(k.stateNode,!1)}catch(me){We(k,k.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Wu(t,a))));break;case 19:pn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wu(t,l)));break;case 30:break;case 21:break;default:pn(i,t),gn(t)}}function gn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(a_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var d=a.stateNode,f=Wf(t);Ju(t,f,d);break;case 5:var v=a.stateNode;a.flags&32&&(fn(v,""),a.flags&=-33);var w=Wf(t);Ju(t,w,v);break;case 3:case 4:var k=a.stateNode.containerInfo,$=Wf(t);Zf(t,$,k);break;default:throw Error(r(161))}}catch(Z){We(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function p_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;p_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function _i(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)c_(t,i.alternate,i),i=i.sibling}function ma(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:nr(4,i,i.return),ma(i);break;case 1:zs(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&i_(i,i.return,a),ma(i);break;case 27:Wl(i.stateNode);case 26:case 5:zs(i,i.return),ma(i);break;case 22:i.memoizedState===null&&ma(i);break;case 30:ma(i);break;default:ma(i)}t=t.sibling}}function vi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:vi(d,f,a),ql(4,f);break;case 1:if(vi(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch($){We(l,l.return,$)}if(l=f,d=l.updateQueue,d!==null){var w=l.stateNode;try{var k=d.shared.hiddenCallbacks;if(k!==null)for(d.shared.hiddenCallbacks=null,d=0;d<k.length;d++)$0(k[d],w)}catch($){We(l,l.return,$)}}a&&v&64&&s_(f),Hl(f,f.return);break;case 27:o_(f);case 26:case 5:vi(d,f,a),a&&l===null&&v&4&&r_(f),Hl(f,f.return);break;case 12:vi(d,f,a);break;case 31:vi(d,f,a),a&&v&4&&d_(d,f);break;case 13:vi(d,f,a),a&&v&4&&f_(d,f);break;case 22:f.memoizedState===null&&vi(d,f,a),Hl(f,f.return);break;case 30:break;default:vi(d,f,a)}i=i.sibling}}function tm(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Cl(a))}function nm(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Cl(t))}function ds(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)g_(t,i,a,l),i=i.sibling}function g_(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:ds(t,i,a,l),d&2048&&ql(9,i);break;case 1:ds(t,i,a,l);break;case 3:ds(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Cl(t)));break;case 12:if(d&2048){ds(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,v=f.id,w=f.onPostCommit;typeof w=="function"&&w(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){We(i,i.return,k)}}else ds(t,i,a,l);break;case 31:ds(t,i,a,l);break;case 13:ds(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?ds(t,i,a,l):Fl(t,i):f._visibility&2?ds(t,i,a,l):(f._visibility|=2,mo(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&tm(v,i);break;case 24:ds(t,i,a,l),d&2048&&nm(i.alternate,i);break;default:ds(t,i,a,l)}}function mo(t,i,a,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,v=i,w=a,k=l,$=v.flags;switch(v.tag){case 0:case 11:case 15:mo(f,v,w,k,d),ql(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?mo(f,v,w,k,d):Fl(f,v):(Z._visibility|=2,mo(f,v,w,k,d)),d&&$&2048&&tm(v.alternate,v);break;case 24:mo(f,v,w,k,d),d&&$&2048&&nm(v.alternate,v);break;default:mo(f,v,w,k,d)}i=i.sibling}}function Fl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:Fl(a,l),d&2048&&tm(l.alternate,l);break;case 24:Fl(a,l),d&2048&&nm(l.alternate,l);break;default:Fl(a,l)}i=i.sibling}}var Gl=8192;function po(t,i,a){if(t.subtreeFlags&Gl)for(t=t.child;t!==null;)y_(t,i,a),t=t.sibling}function y_(t,i,a){switch(t.tag){case 26:po(t,i,a),t.flags&Gl&&t.memoizedState!==null&&xS(a,hs,t.memoizedState,t.memoizedProps);break;case 5:po(t,i,a);break;case 3:case 4:var l=hs;hs=dh(t.stateNode.containerInfo),po(t,i,a),hs=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Gl,Gl=16777216,po(t,i,a),Gl=l):po(t,i,a));break;default:po(t,i,a)}}function __(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function $l(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ht=l,b_(l,t)}__(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)v_(t),t=t.sibling}function v_(t){switch(t.tag){case 0:case 11:case 15:$l(t),t.flags&2048&&nr(9,t,t.return);break;case 3:$l(t);break;case 12:$l(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Zu(t)):$l(t);break;default:$l(t)}}function Zu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ht=l,b_(l,t)}__(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:nr(8,i,i.return),Zu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Zu(i));break;default:Zu(i)}t=t.sibling}}function b_(t,i){for(;Ht!==null;){var a=Ht;switch(a.tag){case 0:case 11:case 15:nr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ht=l;else e:for(a=t;Ht!==null;){l=Ht;var d=l.sibling,f=l.return;if(u_(l),l===a){Ht=null;break e}if(d!==null){d.return=f,Ht=d;break e}Ht=f}}}var VT={getCacheForType:function(t){var i=Yt(It),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Yt(It).controller.signal}},UT=typeof WeakMap=="function"?WeakMap:Map,Ye=0,st=null,Me=null,Ue=0,Je=0,In=null,sr=!1,go=!1,sm=!1,bi=0,yt=0,ir=0,pa=0,im=0,kn=0,yo=0,Kl=null,yn=null,rm=!1,eh=0,x_=0,th=1/0,nh=null,rr=null,Pt=0,ar=null,_o=null,xi=0,am=0,om=null,E_=null,Yl=0,lm=null;function Dn(){return(Ye&2)!==0&&Ue!==0?Ue&-Ue:Y.T!==null?mm():su()}function w_(){if(kn===0)if((Ue&536870912)===0||qe){var t=qr;qr<<=1,(qr&3932160)===0&&(qr=262144),kn=t}else kn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),kn}function _n(t,i,a){(t===st&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(vo(t,0),or(t,Ue,kn,!1)),Hr(t,a),((Ye&2)===0||t!==st)&&(t===st&&((Ye&2)===0&&(pa|=a),yt===4&&or(t,Ue,kn,!1)),Bs(t))}function T_(t,i,a){if((Ye&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||ns(t,i),d=l?zT(t,i):um(t,i,!0),f=l;do{if(d===0){go&&!l&&or(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!PT(a)){d=um(t,i,!1),f=!1;continue}if(d===2){if(f=i,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var w=t;d=Kl;var k=w.current.memoizedState.isDehydrated;if(k&&(vo(w,v).flags|=256),v=um(w,v,!1),v!==2){if(sm&&!k){w.errorRecoveryDisabledLanes|=f,pa|=f,d=4;break e}f=yn,yn=d,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}d=v}if(f=!1,d!==2)continue}}if(d===1){vo(t,0),or(t,i,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:or(l,i,kn,!sr);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(d=eh+300-en(),10<d)){if(or(l,i,kn,!sr),ws(l,0,!0)!==0)break e;xi=i,l.timeoutHandle=tv(S_.bind(null,l,a,yn,nh,rm,i,kn,pa,yo,sr,f,"Throttled",-0,0),d);break e}S_(l,a,yn,nh,rm,i,kn,pa,yo,sr,f,null,-0,0)}}break}while(!0);Bs(t)}function S_(t,i,a,l,d,f,v,w,k,$,Z,se,K,J){if(t.timeoutHandle=-1,se=i.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rs},y_(i,f,se);var me=(f&62914560)===f?eh-en():(f&4194048)===f?x_-en():0;if(me=ES(se,me),me!==null){xi=f,t.cancelPendingCommit=me(O_.bind(null,t,i,f,a,l,d,v,w,k,Z,se,null,K,J)),or(t,f,v,!$);return}}O_(t,i,f,a,l,d,v,w,k)}function PT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!An(f(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function or(t,i,a,l){i&=~im,i&=~pa,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var f=31-xt(d),v=1<<f;l[f]=-1,d&=~v}a!==0&&Fr(t,a,i)}function sh(){return(Ye&6)===0?(Ql(0),!1):!0}function cm(){if(Me!==null){if(Je===0)var t=Me.return;else t=Me,ui=aa=null,Sf(t),lo=null,kl=0,t=Me;for(;t!==null;)n_(t.alternate,t),t=t.return;Me=null}}function vo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,iS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),xi=0,cm(),st=t,Me=a=li(t.current,null),Ue=i,Je=0,In=null,sr=!1,go=ns(t,i),sm=!1,yo=kn=im=pa=ir=yt=0,yn=Kl=null,rm=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-xt(l),f=1<<d;i|=t[d],l&=~f}return bi=i,Tu(),a}function A_(t,i){ke=null,Y.H=Ll,i===oo||i===Du?(i=q0(),Je=3):i===ff?(i=q0(),Je=4):Je=i===Bf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,In=i,Me===null&&(yt=1,$u(t,Gn(i,t.current)))}function N_(){var t=Rn.current;return t===null?!0:(Ue&4194048)===Ue?Qn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Qn:!1}function R_(){var t=Y.H;return Y.H=Ll,t===null?Ll:t}function C_(){var t=Y.A;return Y.A=VT,t}function ih(){yt=4,sr||(Ue&4194048)!==Ue&&Rn.current!==null||(go=!0),(ir&134217727)===0&&(pa&134217727)===0||st===null||or(st,Ue,kn,!1)}function um(t,i,a){var l=Ye;Ye|=2;var d=R_(),f=C_();(st!==t||Ue!==i)&&(nh=null,vo(t,i)),i=!1;var v=yt;e:do try{if(Je!==0&&Me!==null){var w=Me,k=In;switch(Je){case 8:cm(),v=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(i=!0);var $=Je;if(Je=0,In=null,bo(t,w,k,$),a&&go){v=0;break e}break;default:$=Je,Je=0,In=null,bo(t,w,k,$)}}LT(),v=yt;break}catch(Z){A_(t,Z)}while(!0);return i&&t.shellSuspendCounter++,ui=aa=null,Ye=l,Y.H=d,Y.A=f,Me===null&&(st=null,Ue=0,Tu()),v}function LT(){for(;Me!==null;)I_(Me)}function zT(t,i){var a=Ye;Ye|=2;var l=R_(),d=C_();st!==t||Ue!==i?(nh=null,th=en()+500,vo(t,i)):go=ns(t,i);e:do try{if(Je!==0&&Me!==null){i=Me;var f=In;t:switch(Je){case 1:Je=0,In=null,bo(t,i,f,1);break;case 2:case 9:if(z0(f)){Je=0,In=null,k_(i);break}i=function(){Je!==2&&Je!==9||st!==t||(Je=7),Bs(t)},f.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:z0(f)?(Je=0,In=null,k_(i)):(Je=0,In=null,bo(t,i,f,7));break;case 5:var v=null;switch(Me.tag){case 26:v=Me.memoizedState;case 5:case 27:var w=Me;if(v?gv(v):w.stateNode.complete){Je=0,In=null;var k=w.sibling;if(k!==null)Me=k;else{var $=w.return;$!==null?(Me=$,rh($)):Me=null}break t}}Je=0,In=null,bo(t,i,f,5);break;case 6:Je=0,In=null,bo(t,i,f,6);break;case 8:cm(),yt=6;break e;default:throw Error(r(462))}}BT();break}catch(Z){A_(t,Z)}while(!0);return ui=aa=null,Y.H=l,Y.A=d,Ye=a,Me!==null?0:(st=null,Ue=0,Tu(),yt)}function BT(){for(;Me!==null&&!Va();)I_(Me)}function I_(t){var i=e_(t.alternate,t,bi);t.memoizedProps=t.pendingProps,i===null?rh(t):Me=i}function k_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Yy(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=Yy(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:Sf(i);default:n_(a,i),i=Me=C0(i,bi),i=e_(a,i,bi)}t.memoizedProps=t.pendingProps,i===null?rh(t):Me=i}function bo(t,i,a,l){ui=aa=null,Sf(i),lo=null,kl=0;var d=i.return;try{if(CT(t,d,i,a,Ue)){yt=1,$u(t,Gn(a,t.current)),Me=null;return}}catch(f){if(d!==null)throw Me=d,f;yt=1,$u(t,Gn(a,t.current)),Me=null;return}i.flags&32768?(qe||l===1?t=!0:go||(Ue&536870912)!==0?t=!1:(sr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),D_(i,t)):rh(i)}function rh(t){var i=t;do{if((i.flags&32768)!==0){D_(i,sr);return}t=i.return;var a=DT(i.alternate,i,bi);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);yt===0&&(yt=5)}function D_(t,i){do{var a=OT(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);yt=6,Me=null}function O_(t,i,a,l,d,f,v,w,k){t.cancelPendingCommit=null;do ah();while(Pt!==0);if((Ye&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=Jd,qd(t,a,f,v,w,k),t===st&&(Me=st=null,Ue=0),_o=i,ar=t,xi=a,am=f,om=d,E_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,GT(bs,function(){return P_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,d=oe.p,oe.p=2,v=Ye,Ye|=4;try{jT(t,i,a)}finally{Ye=v,oe.p=d,Y.T=l}}Pt=1,j_(),M_(),V_()}}function j_(){if(Pt===1){Pt=0;var t=ar,i=_o,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=oe.p;oe.p=2;var d=Ye;Ye|=4;try{m_(i,t);var f=Em,v=b0(t.containerInfo),w=f.focusedElem,k=f.selectionRange;if(v!==w&&w&&w.ownerDocument&&v0(w.ownerDocument.documentElement,w)){if(k!==null&&$d(w)){var $=k.start,Z=k.end;if(Z===void 0&&(Z=$),"selectionStart"in w)w.selectionStart=$,w.selectionEnd=Math.min(Z,w.value.length);else{var se=w.ownerDocument||document,K=se&&se.defaultView||window;if(K.getSelection){var J=K.getSelection(),me=w.textContent.length,Ee=Math.min(k.start,me),nt=k.end===void 0?Ee:Math.min(k.end,me);!J.extend&&Ee>nt&&(v=nt,nt=Ee,Ee=v);var P=_0(w,Ee),j=_0(w,nt);if(P&&j&&(J.rangeCount!==1||J.anchorNode!==P.node||J.anchorOffset!==P.offset||J.focusNode!==j.node||J.focusOffset!==j.offset)){var G=se.createRange();G.setStart(P.node,P.offset),J.removeAllRanges(),Ee>nt?(J.addRange(G),J.extend(j.node,j.offset)):(G.setEnd(j.node,j.offset),J.addRange(G))}}}}for(se=[],J=w;J=J.parentNode;)J.nodeType===1&&se.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<se.length;w++){var ee=se[w];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}_h=!!xm,Em=xm=null}finally{Ye=d,oe.p=l,Y.T=a}}t.current=i,Pt=2}}function M_(){if(Pt===2){Pt=0;var t=ar,i=_o,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=oe.p;oe.p=2;var d=Ye;Ye|=4;try{c_(t,i.alternate,i)}finally{Ye=d,oe.p=l,Y.T=a}}Pt=3}}function V_(){if(Pt===4||Pt===3){Pt=0,Ua();var t=ar,i=_o,a=xi,l=E_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,_o=ar=null,U_(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(rr=null),ii(a),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ts,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,d=oe.p,oe.p=2,Y.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var w=l[v];f(w.value,{componentStack:w.stack})}}finally{Y.T=i,oe.p=d}}(xi&3)!==0&&ah(),Bs(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===lm?Yl++:(Yl=0,lm=t):Yl=0,Ql(0)}}function U_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Cl(i)))}function ah(){return j_(),M_(),V_(),P_()}function P_(){if(Pt!==5)return!1;var t=ar,i=am;am=0;var a=ii(xi),l=Y.T,d=oe.p;try{oe.p=32>a?32:a,Y.T=null,a=om,om=null;var f=ar,v=xi;if(Pt=0,_o=ar=null,xi=0,(Ye&6)!==0)throw Error(r(331));var w=Ye;if(Ye|=4,v_(f.current),g_(f,f.current,v,a),Ye=w,Ql(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ts,f)}catch{}return!0}finally{oe.p=d,Y.T=l,U_(t,i)}}function L_(t,i,a){i=Gn(a,i),i=zf(t.stateNode,i,2),t=Zi(t,i,2),t!==null&&(Hr(t,2),Bs(t))}function We(t,i,a){if(t.tag===3)L_(t,t,a);else for(;i!==null;){if(i.tag===3){L_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rr===null||!rr.has(l))){t=Gn(a,t),a=zy(2),l=Zi(i,a,2),l!==null&&(By(a,l,i,t),Hr(l,2),Bs(l));break}}i=i.return}}function hm(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new UT;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(sm=!0,d.add(a),t=qT.bind(null,t,i,a),i.then(t,t))}function qT(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(Ue&a)===a&&(yt===4||yt===3&&(Ue&62914560)===Ue&&300>en()-eh?(Ye&2)===0&&vo(t,0):im|=a,yo===Ue&&(yo=0)),Bs(t)}function z_(t,i){i===0&&(i=nu()),t=sa(t,i),t!==null&&(Hr(t,i),Bs(t))}function HT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),z_(t,a)}function FT(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),z_(t,a)}function GT(t,i){return pt(t,i)}var oh=null,xo=null,dm=!1,lh=!1,fm=!1,lr=0;function Bs(t){t!==xo&&t.next===null&&(xo===null?oh=xo=t:xo=xo.next=t),lh=!0,dm||(dm=!0,KT())}function Ql(t,i){if(!fm&&lh){fm=!0;do for(var a=!1,l=oh;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var v=l.suspendedLanes,w=l.pingedLanes;f=(1<<31-xt(42|t)+1)-1,f&=d&~(v&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,F_(l,f))}else f=Ue,f=ws(l,l===st?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ns(l,f)||(a=!0,F_(l,f));l=l.next}while(a);fm=!1}}function $T(){B_()}function B_(){lh=dm=!1;var t=0;lr!==0&&sS()&&(t=lr);for(var i=en(),a=null,l=oh;l!==null;){var d=l.next,f=q_(l,i);f===0?(l.next=null,a===null?oh=d:a.next=d,d===null&&(xo=a)):(a=l,(t!==0||(f&3)!==0)&&(lh=!0)),l=d}Pt!==0&&Pt!==5||Ql(t),lr!==0&&(lr=0)}function q_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-xt(f),w=1<<v,k=d[v];k===-1?((w&a)===0||(w&l)!==0)&&(d[v]=Bd(w,i)):k<=i&&(t.expiredLanes|=w),f&=~w}if(i=st,a=Ue,a=ws(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ns(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&vs(l),ii(a)){case 2:case 8:a=Br;break;case 32:a=bs;break;case 268435456:a=on;break;default:a=bs}return l=H_.bind(null,t),a=pt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&vs(l),t.callbackPriority=2,t.callbackNode=null,2}function H_(t,i){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ah()&&t.callbackNode!==a)return null;var l=Ue;return l=ws(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(T_(t,l,i),q_(t,en()),t.callbackNode!=null&&t.callbackNode===a?H_.bind(null,t):null)}function F_(t,i){if(ah())return null;T_(t,i,!0)}function KT(){rS(function(){(Ye&6)!==0?pt(Ui,$T):B_()})}function mm(){if(lr===0){var t=ro;t===0&&(t=xs,xs<<=1,(xs&261888)===0&&(xs=256)),lr=t}return lr}function G_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fa(""+t)}function $_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function YT(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var f=G_((d[Bt]||null).action),v=l.submitter;v&&(i=(i=v[Bt]||null)?G_(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var w=new js("action","action",null,l,d);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(lr!==0){var k=v?$_(d,v):new FormData(d);jf(a,{pending:!0,data:k,method:d.method,action:f},null,k)}}else typeof f=="function"&&(w.preventDefault(),k=v?$_(d,v):new FormData(d),jf(a,{pending:!0,data:k,method:d.method,action:f},f,k))},currentTarget:d}]})}}for(var pm=0;pm<Xd.length;pm++){var gm=Xd[pm],QT=gm.toLowerCase(),XT=gm[0].toUpperCase()+gm.slice(1);us(QT,"on"+XT)}us(w0,"onAnimationEnd"),us(T0,"onAnimationIteration"),us(S0,"onAnimationStart"),us("dblclick","onDoubleClick"),us("focusin","onFocus"),us("focusout","onBlur"),us(dT,"onTransitionRun"),us(fT,"onTransitionStart"),us(mT,"onTransitionCancel"),us(A0,"onTransitionEnd"),Is("onMouseEnter",["mouseout","mouseover"]),Is("onMouseLeave",["mouseout","mouseover"]),Is("onPointerEnter",["pointerout","pointerover"]),Is("onPointerLeave",["pointerout","pointerover"]),Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function K_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var v=l.length-1;0<=v;v--){var w=l[v],k=w.instance,$=w.currentTarget;if(w=w.listener,k!==f&&d.isPropagationStopped())break e;f=w,d.currentTarget=$;try{f(d)}catch(Z){wu(Z)}d.currentTarget=null,f=k}else for(v=0;v<l.length;v++){if(w=l[v],k=w.instance,$=w.currentTarget,w=w.listener,k!==f&&d.isPropagationStopped())break e;f=w,d.currentTarget=$;try{f(d)}catch(Z){wu(Z)}d.currentTarget=null,f=k}}}}function Ve(t,i){var a=i[La];a===void 0&&(a=i[La]=new Set);var l=t+"__bubble";a.has(l)||(Y_(i,t,2,!1),a.add(l))}function ym(t,i,a){var l=0;i&&(l|=4),Y_(a,t,l,i)}var ch="_reactListening"+Math.random().toString(36).slice(2);function _m(t){if(!t[ch]){t[ch]=!0,ll.forEach(function(a){a!=="selectionchange"&&(JT.has(a)||ym(a,!1,t),ym(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ch]||(i[ch]=!0,ym("selectionchange",!1,i))}}function Y_(t,i,a,l){switch(wv(i)){case 2:var d=SS;break;case 8:d=AS;break;default:d=Om}a=d.bind(null,i,a,t),d=void 0,!Qr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function vm(t,i,a,l,d){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var w=l.stateNode.containerInfo;if(w===d)break;if(v===4)for(v=l.return;v!==null;){var k=v.tag;if((k===3||k===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;w!==null;){if(v=Ns(w),v===null)return;if(k=v.tag,k===5||k===6||k===26||k===27){l=f=v;continue e}w=w.parentNode}}l=l.return}Hi(function(){var $=f,Z=Bn(a),se=[];e:{var K=N0.get(t);if(K!==void 0){var J=js,me=t;switch(t){case"keypress":if(Jr(a)===0)break e;case"keydown":case"keyup":J=bu;break;case"focusin":me="focus",J=Zr;break;case"focusout":me="blur",J=Zr;break;case"beforeblur":case"afterblur":J=Zr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=_;break;case w0:case T0:case S0:J=fu;break;case A0:J=S;break;case"scroll":case"scrollend":J=bl;break;case"wheel":J=X;break;case"copy":case"cut":case"paste":J=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=oi;break;case"toggle":case"beforetoggle":J=Ie}var Ee=(i&4)!==0,nt=!Ee&&(t==="scroll"||t==="scrollend"),P=Ee?K!==null?K+"Capture":null:K;Ee=[];for(var j=$,G;j!==null;){var ee=j;if(G=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||G===null||P===null||(ee=as(j,P),ee!=null&&Ee.push(Jl(j,ee,G))),nt)break;j=j.return}0<Ee.length&&(K=new J(K,me,null,a,Z),se.push({event:K,listeners:Ee}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",K&&a!==yl&&(me=a.relatedTarget||a.fromElement)&&(Ns(me)||me[Ss]))break e;if((J||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,J?(me=a.relatedTarget||a.toElement,J=$,me=me?Ns(me):null,me!==null&&(nt=c(me),Ee=me.tag,me!==nt||Ee!==5&&Ee!==27&&Ee!==6)&&(me=null)):(J=null,me=$),J!==me)){if(Ee=xl,ee="onMouseLeave",P="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=oi,ee="onPointerLeave",P="onPointerEnter",j="pointer"),nt=J==null?K:Tn(J),G=me==null?K:Tn(me),K=new Ee(ee,j+"leave",J,a,Z),K.target=nt,K.relatedTarget=G,ee=null,Ns(Z)===$&&(Ee=new Ee(P,j+"enter",me,a,Z),Ee.target=G,Ee.relatedTarget=nt,ee=Ee),nt=ee,J&&me)t:{for(Ee=WT,P=J,j=me,G=0,ee=P;ee;ee=Ee(ee))G++;ee=0;for(var ve=j;ve;ve=Ee(ve))ee++;for(;0<G-ee;)P=Ee(P),G--;for(;0<ee-G;)j=Ee(j),ee--;for(;G--;){if(P===j||j!==null&&P===j.alternate){Ee=P;break t}P=Ee(P),j=Ee(j)}Ee=null}else Ee=null;J!==null&&Q_(se,K,J,Ee,!1),me!==null&&nt!==null&&Q_(se,nt,me,Ee,!0)}}e:{if(K=$?Tn($):window,J=K.nodeName&&K.nodeName.toLowerCase(),J==="select"||J==="input"&&K.type==="file")var Fe=d0;else if(u0(K))if(f0)Fe=cT;else{Fe=oT;var ye=aT}else J=K.nodeName,!J||J.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?$&&Ha($.elementType)&&(Fe=d0):Fe=lT;if(Fe&&(Fe=Fe(t,$))){h0(se,Fe,a,Z);break e}ye&&ye(t,K,$),t==="focusout"&&$&&K.type==="number"&&$.memoizedProps.value!=null&&ml(K,"number",K.value)}switch(ye=$?Tn($):window,t){case"focusin":(u0(ye)||ye.contentEditable==="true")&&(Ja=ye,Kd=$,Al=null);break;case"focusout":Al=Kd=Ja=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,x0(se,a,Z);break;case"selectionchange":if(hT)break;case"keydown":case"keyup":x0(se,a,Z)}var De;if(Ke)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Xa?ea(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Us&&a.locale!=="ko"&&(Xa||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Xa&&(De=vl()):(Os=Z,_l="value"in Os?Os.value:Os.textContent,Xa=!0)),ye=uh($,Pe),0<ye.length&&(Pe=new Vs(Pe,t,null,a,Z),se.push({event:Pe,listeners:ye}),De?Pe.data=De:(De=Qa(a),De!==null&&(Pe.data=De)))),(De=Hn?nT(t,a):sT(t,a))&&(Pe=uh($,"onBeforeInput"),0<Pe.length&&(ye=new Vs("onBeforeInput","beforeinput",null,a,Z),se.push({event:ye,listeners:Pe}),ye.data=De)),YT(se,t,$,a,Z)}K_(se,i)})}function Jl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function uh(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=as(t,a),d!=null&&l.unshift(Jl(t,d,f)),d=as(t,i),d!=null&&l.push(Jl(t,d,f))),t.tag===3)return l;t=t.return}return[]}function WT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Q_(t,i,a,l,d){for(var f=i._reactName,v=[];a!==null&&a!==l;){var w=a,k=w.alternate,$=w.stateNode;if(w=w.tag,k!==null&&k===l)break;w!==5&&w!==26&&w!==27||$===null||(k=$,d?($=as(a,f),$!=null&&v.unshift(Jl(a,$,k))):d||($=as(a,f),$!=null&&v.push(Jl(a,$,k)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var ZT=/\r\n?/g,eS=/\u0000|\uFFFD/g;function X_(t){return(typeof t=="string"?t:""+t).replace(ZT,`
`).replace(eS,"")}function J_(t,i){return i=X_(i),X_(t)===i}function tt(t,i,a,l,d,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&fn(t,""+l);break;case"className":Sn(t,"class",l);break;case"tabIndex":Sn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,a,l);break;case"style":gl(t,l,f);break;case"data":if(i!=="object"){Sn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",d.name,d,null),tt(t,i,"formEncType",d.formEncType,d,null),tt(t,i,"formMethod",d.formMethod,d,null),tt(t,i,"formTarget",d.formTarget,d,null)):(tt(t,i,"encType",d.encType,d,null),tt(t,i,"method",d.method,d,null),tt(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=rs);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Fa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),Ba(t,"popover",l);break;case"xlinkActuate":Ct(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ct(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ct(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ct(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ct(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ct(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uu.get(a)||a,Ba(t,a,l))}}function bm(t,i,a,l,d,f){switch(a){case"style":gl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=rs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),f=t[Bt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ba(t,a,l)}}}function Xt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,f,v,a,null)}}d&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var w=f=v=d=null,k=null,$=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":d=Z;break;case"type":v=Z;break;case"checked":k=Z;break;case"defaultChecked":$=Z;break;case"value":f=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,i));break;default:tt(t,i,l,Z,a,null)}}ou(t,f,w,k,$,v,d,!1);return;case"select":Ve("invalid",t),l=v=f=null;for(d in a)if(a.hasOwnProperty(d)&&(w=a[d],w!=null))switch(d){case"value":f=w;break;case"defaultValue":v=w;break;case"multiple":l=w;default:tt(t,i,d,w,a,null)}i=f,a=v,t.multiple=!!l,i!=null?Li(t,!!l,i,!1):a!=null&&Li(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),f=d=l=null;for(v in a)if(a.hasOwnProperty(v)&&(w=a[v],w!=null))switch(v){case"value":l=w;break;case"defaultValue":d=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:tt(t,i,v,w,a,null)}zi(t,l,d,f);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:tt(t,i,k,l,a,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Xl.length;l++)Ve(Xl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,$,l,a,null)}return;default:if(Ha(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&bm(t,i,Z,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&tt(t,i,w,l,a,null))}function tS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,v=null,w=null,k=null,$=null,Z=null;for(J in a){var se=a[J];if(a.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":k=se;default:l.hasOwnProperty(J)||tt(t,i,J,null,l,se)}}for(var K in l){var J=l[K];if(se=a[K],l.hasOwnProperty(K)&&(J!=null||se!=null))switch(K){case"type":f=J;break;case"name":d=J;break;case"checked":$=J;break;case"defaultChecked":Z=J;break;case"value":v=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,i));break;default:J!==se&&tt(t,i,K,J,l,se)}}qa(t,v,w,k,$,Z,f,d);return;case"select":J=v=w=K=null;for(f in a)if(k=a[f],a.hasOwnProperty(f)&&k!=null)switch(f){case"value":break;case"multiple":J=k;default:l.hasOwnProperty(f)||tt(t,i,f,null,l,k)}for(d in l)if(f=l[d],k=a[d],l.hasOwnProperty(d)&&(f!=null||k!=null))switch(d){case"value":K=f;break;case"defaultValue":w=f;break;case"multiple":v=f;default:f!==k&&tt(t,i,d,f,l,k)}i=w,a=v,l=J,K!=null?Li(t,!!a,K,!1):!!l!=!!a&&(i!=null?Li(t,!!a,i,!0):Li(t,!!a,a?[]:"",!1));return;case"textarea":J=K=null;for(w in a)if(d=a[w],a.hasOwnProperty(w)&&d!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:tt(t,i,w,null,l,d)}for(v in l)if(d=l[v],f=a[v],l.hasOwnProperty(v)&&(d!=null||f!=null))switch(v){case"value":K=d;break;case"defaultValue":J=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==f&&tt(t,i,v,d,l,f)}lu(t,K,J);return;case"option":for(var me in a)if(K=a[me],a.hasOwnProperty(me)&&K!=null&&!l.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:tt(t,i,me,null,l,K)}for(k in l)if(K=l[k],J=a[k],l.hasOwnProperty(k)&&K!==J&&(K!=null||J!=null))switch(k){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:tt(t,i,k,K,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)K=a[Ee],a.hasOwnProperty(Ee)&&K!=null&&!l.hasOwnProperty(Ee)&&tt(t,i,Ee,null,l,K);for($ in l)if(K=l[$],J=a[$],l.hasOwnProperty($)&&K!==J&&(K!=null||J!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:tt(t,i,$,K,l,J)}return;default:if(Ha(i)){for(var nt in a)K=a[nt],a.hasOwnProperty(nt)&&K!==void 0&&!l.hasOwnProperty(nt)&&bm(t,i,nt,void 0,l,K);for(Z in l)K=l[Z],J=a[Z],!l.hasOwnProperty(Z)||K===J||K===void 0&&J===void 0||bm(t,i,Z,K,l,J);return}}for(var P in a)K=a[P],a.hasOwnProperty(P)&&K!=null&&!l.hasOwnProperty(P)&&tt(t,i,P,null,l,K);for(se in l)K=l[se],J=a[se],!l.hasOwnProperty(se)||K===J||K==null&&J==null||tt(t,i,se,K,l,J)}function W_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,v=d.initiatorType,w=d.duration;if(f&&w&&W_(v)){for(v=0,w=d.responseEnd,l+=1;l<a.length;l++){var k=a[l],$=k.startTime;if($>w)break;var Z=k.transferSize,se=k.initiatorType;Z&&W_(se)&&(k=k.responseEnd,v+=Z*(k<w?1:(w-$)/(k-$)))}if(--l,i+=8*(f+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var xm=null,Em=null;function hh(t){return t.nodeType===9?t:t.ownerDocument}function Z_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ev(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function wm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Tm=null;function sS(){var t=window.event;return t&&t.type==="popstate"?t===Tm?!1:(Tm=t,!0):(Tm=null,!1)}var tv=typeof setTimeout=="function"?setTimeout:void 0,iS=typeof clearTimeout=="function"?clearTimeout:void 0,nv=typeof Promise=="function"?Promise:void 0,rS=typeof queueMicrotask=="function"?queueMicrotask:typeof nv<"u"?function(t){return nv.resolve(null).then(t).catch(aS)}:tv;function aS(t){setTimeout(function(){throw t})}function cr(t){return t==="head"}function sv(t,i){var a=i,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),So(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Wl(a);for(var f=a.firstChild;f;){var v=f.nextSibling,w=f.nodeName;f[As]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&Wl(t.ownerDocument.body);a=d}while(a);So(i)}function iv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Sm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sm(a),za(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function oS(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[As])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function lS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function rv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Xn(t.nextSibling),t===null))return null;return t}function Am(t){return t.data==="$?"||t.data==="$~"}function Nm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function cS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Rm=null;function av(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Xn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function ov(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function lv(t,i,a){switch(i=hh(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Wl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);za(t)}var Jn=new Map,cv=new Set;function dh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ei=oe.d;oe.d={f:uS,r:hS,D:dS,C:fS,L:mS,m:pS,X:yS,S:gS,M:_S};function uS(){var t=Ei.f(),i=sh();return t||i}function hS(t){var i=zn(t);i!==null&&i.tag===5&&i.type==="form"?Ay(i):Ei.r(t)}var Eo=typeof document>"u"?null:document;function uv(t,i,a){var l=Eo;if(l&&typeof i=="string"&&i){var d=dn(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),cv.has(d)||(cv.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),Xt(i,"link",t),Rt(i),l.head.appendChild(i)))}}function dS(t){Ei.D(t),uv("dns-prefetch",t,null)}function fS(t,i){Ei.C(t,i),uv("preconnect",t,i)}function mS(t,i,a){Ei.L(t,i,a);var l=Eo;if(l&&t&&i){var d='link[rel="preload"][as="'+dn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+dn(a.imageSizes)+'"]')):d+='[href="'+dn(t)+'"]';var f=d;switch(i){case"style":f=wo(t);break;case"script":f=To(t)}Jn.has(f)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Jn.set(f,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(Zl(f))||i==="script"&&l.querySelector(ec(f))||(i=l.createElement("link"),Xt(i,"link",t),Rt(i),l.head.appendChild(i)))}}function pS(t,i){Ei.m(t,i);var a=Eo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=To(t)}if(!Jn.has(f)&&(t=E({rel:"modulepreload",href:t},i),Jn.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ec(f)))return}l=a.createElement("link"),Xt(l,"link",t),Rt(l),a.head.appendChild(l)}}}function gS(t,i,a){Ei.S(t,i,a);var l=Eo;if(l&&t){var d=Rs(l).hoistableStyles,f=wo(t);i=i||"default";var v=d.get(f);if(!v){var w={loading:0,preload:null};if(v=l.querySelector(Zl(f)))w.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Jn.get(f))&&Cm(t,a);var k=v=l.createElement("link");Rt(k),Xt(k,"link",t),k._p=new Promise(function($,Z){k.onload=$,k.onerror=Z}),k.addEventListener("load",function(){w.loading|=1}),k.addEventListener("error",function(){w.loading|=2}),w.loading|=4,fh(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:w},d.set(f,v)}}}function yS(t,i){Ei.X(t,i);var a=Eo;if(a&&t){var l=Rs(a).hoistableScripts,d=To(t),f=l.get(d);f||(f=a.querySelector(ec(d)),f||(t=E({src:t,async:!0},i),(i=Jn.get(d))&&Im(t,i),f=a.createElement("script"),Rt(f),Xt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function _S(t,i){Ei.M(t,i);var a=Eo;if(a&&t){var l=Rs(a).hoistableScripts,d=To(t),f=l.get(d);f||(f=a.querySelector(ec(d)),f||(t=E({src:t,async:!0,type:"module"},i),(i=Jn.get(d))&&Im(t,i),f=a.createElement("script"),Rt(f),Xt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function hv(t,i,a,l){var d=(d=_e.current)?dh(d):null;if(!d)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=wo(a.href),a=Rs(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=wo(a.href);var f=Rs(d).hoistableStyles,v=f.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=d.querySelector(Zl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jn.set(t,a),f||vS(d,t,a,v.state))),i&&l===null)throw Error(r(528,""));return v}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=To(a),a=Rs(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function wo(t){return'href="'+dn(t)+'"'}function Zl(t){return'link[rel="stylesheet"]['+t+"]"}function dv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function vS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xt(i,"link",a),Rt(i),t.head.appendChild(i))}function To(t){return'[src="'+dn(t)+'"]'}function ec(t){return"script[async]"+t}function fv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+dn(a.href)+'"]');if(l)return i.instance=l,Rt(l),l;var d=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Rt(l),Xt(l,"style",d),fh(l,a.precedence,t),i.instance=l;case"stylesheet":d=wo(a.href);var f=t.querySelector(Zl(d));if(f)return i.state.loading|=4,i.instance=f,Rt(f),f;l=dv(a),(d=Jn.get(d))&&Cm(l,d),f=(t.ownerDocument||t).createElement("link"),Rt(f);var v=f;return v._p=new Promise(function(w,k){v.onload=w,v.onerror=k}),Xt(f,"link",l),i.state.loading|=4,fh(f,a.precedence,t),i.instance=f;case"script":return f=To(a.src),(d=t.querySelector(ec(f)))?(i.instance=d,Rt(d),d):(l=a,(d=Jn.get(f))&&(l=E({},a),Im(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),Rt(d),Xt(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,fh(l,a.precedence,t));return i.instance}function fh(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,v=0;v<l.length;v++){var w=l[v];if(w.dataset.precedence===i)f=w;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var mh=null;function mv(t,i,a){if(mh===null){var l=new Map,d=mh=new Map;d.set(a,l)}else d=mh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[As]||f[Nt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=t+v;var w=l.get(v);w?w.push(f):l.set(v,[f])}}return l}function pv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function bS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function gv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function xS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=wo(l.href),f=i.querySelector(Zl(d));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=ph.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,Rt(f);return}f=i.ownerDocument||i,l=dv(l),(d=Jn.get(d))&&Cm(l,d),f=f.createElement("link"),Rt(f);var v=f;v._p=new Promise(function(w,k){v.onload=w,v.onerror=k}),Xt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ph.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var km=0;function ES(t,i){return t.stylesheets&&t.count===0&&yh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&yh(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&km===0&&(km=62500*nS());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&yh(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>km?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function ph(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gh=null;function yh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gh=new Map,i.forEach(wS,t),gh=null,ph.call(t))}function wS(t,i){if(!(i.state.loading&4)){var a=gh.get(t);if(a)var l=a.get(null);else{a=new Map,gh.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var v=d[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}d=i.instance,v=d.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,d),a.set(v,d),this.count++,l=ph.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var tc={$$typeof:F,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function TS(t,i,a,l,d,f,v,w,k){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ts(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.hiddenUpdates=Ts(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function yv(t,i,a,l,d,f,v,w,k,$,Z,se){return t=new TS(t,i,a,v,k,$,Z,se,w),i=1,f===!0&&(i|=24),f=Nn(3,null,null,i),t.current=f,f.stateNode=t,i=uf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},mf(f),t}function _v(t){return t?(t=eo,t):eo}function vv(t,i,a,l,d,f){d=_v(d),l.context===null?l.context=d:l.pendingContext=d,l=Wi(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Zi(t,l,i),a!==null&&(_n(a,t,i),Ol(a,t,i))}function bv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Dm(t,i){bv(t,i),(t=t.alternate)&&bv(t,i)}function xv(t){if(t.tag===13||t.tag===31){var i=sa(t,67108864);i!==null&&_n(i,t,67108864),Dm(t,67108864)}}function Ev(t){if(t.tag===13||t.tag===31){var i=Dn();i=Gr(i);var a=sa(t,i);a!==null&&_n(a,t,i),Dm(t,i)}}var _h=!0;function SS(t,i,a,l){var d=Y.T;Y.T=null;var f=oe.p;try{oe.p=2,Om(t,i,a,l)}finally{oe.p=f,Y.T=d}}function AS(t,i,a,l){var d=Y.T;Y.T=null;var f=oe.p;try{oe.p=8,Om(t,i,a,l)}finally{oe.p=f,Y.T=d}}function Om(t,i,a,l){if(_h){var d=jm(l);if(d===null)vm(t,i,l,vh,a),Tv(t,l);else if(RS(d,t,i,a,l))l.stopPropagation();else if(Tv(t,l),i&4&&-1<NS.indexOf(t)){for(;d!==null;){var f=zn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Es(f.pendingLanes);if(v!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var k=1<<31-xt(v);w.entanglements[1]|=k,v&=~k}Bs(f),(Ye&6)===0&&(th=en()+500,Ql(0))}}break;case 31:case 13:w=sa(f,2),w!==null&&_n(w,f,2),sh(),Dm(f,2)}if(f=jm(l),f===null&&vm(t,i,l,vh,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else vm(t,i,l,null,a)}}function jm(t){return t=Bn(t),Mm(t)}var vh=null;function Mm(t){if(vh=null,t=Ns(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=u(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return vh=t,null}function wv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vi()){case Ui:return 2;case Br:return 8;case bs:case wn:return 32;case on:return 268435456;default:return 32}default:return 32}}var Vm=!1,ur=null,hr=null,dr=null,nc=new Map,sc=new Map,fr=[],NS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tv(t,i){switch(t){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":nc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(i.pointerId)}}function ic(t,i,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},i!==null&&(i=zn(i),i!==null&&xv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function RS(t,i,a,l,d){switch(i){case"focusin":return ur=ic(ur,t,i,a,l,d),!0;case"dragenter":return hr=ic(hr,t,i,a,l,d),!0;case"mouseover":return dr=ic(dr,t,i,a,l,d),!0;case"pointerover":var f=d.pointerId;return nc.set(f,ic(nc.get(f)||null,t,i,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,sc.set(f,ic(sc.get(f)||null,t,i,a,l,d)),!0}return!1}function Sv(t){var i=Ns(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){t.blockedOn=i,ss(t.priority,function(){Ev(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,ss(t.priority,function(){Ev(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=jm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);yl=l,a.target.dispatchEvent(l),yl=null}else return i=zn(a),i!==null&&xv(i),t.blockedOn=a,!1;i.shift()}return!0}function Av(t,i,a){bh(t)&&a.delete(i)}function CS(){Vm=!1,ur!==null&&bh(ur)&&(ur=null),hr!==null&&bh(hr)&&(hr=null),dr!==null&&bh(dr)&&(dr=null),nc.forEach(Av),sc.forEach(Av)}function xh(t,i){t.blockedOn===i&&(t.blockedOn=null,Vm||(Vm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,CS)))}var Eh=null;function Nv(t){Eh!==t&&(Eh=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Eh===t&&(Eh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(Mm(l||a)===null)continue;break}var f=zn(a);f!==null&&(t.splice(i,3),i-=3,jf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function So(t){function i(k){return xh(k,t)}ur!==null&&xh(ur,t),hr!==null&&xh(hr,t),dr!==null&&xh(dr,t),nc.forEach(i),sc.forEach(i);for(var a=0;a<fr.length;a++){var l=fr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<fr.length&&(a=fr[0],a.blockedOn===null);)Sv(a),a.blockedOn===null&&fr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],v=d[Bt]||null;if(typeof f=="function")v||Nv(a);else if(v){var w=null;if(f&&f.hasAttribute("formAction")){if(d=f,v=f[Bt]||null)w=v.formAction;else if(Mm(d)!==null)continue}else w=v.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),Nv(a)}}}function Rv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function Um(t){this._internalRoot=t}wh.prototype.render=Um.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Dn();vv(a,l,t,i,null,null)},wh.prototype.unmount=Um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;vv(t.current,2,null,t,null,null),sh(),i[Ss]=null}};function wh(t){this._internalRoot=t}wh.prototype.unstable_scheduleHydration=function(t){if(t){var i=su();t={blockedOn:null,target:t,priority:i};for(var a=0;a<fr.length&&i!==0&&i<fr[a].priority;a++);fr.splice(a,0,t),a===0&&Sv(t)}};var Cv=e.version;if(Cv!=="19.2.4")throw Error(r(527,Cv,"19.2.4"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var IS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{ts=Th.inject(IS),Gt=Th}catch{}}return ac.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",d=Vy,f=Uy,v=Py;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=yv(t,1,!1,null,null,a,l,null,d,f,v,Rv),t[Ss]=i.current,_m(t),new Um(i)},ac.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,d="",f=Vy,v=Uy,w=Py,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(k=a.formState)),i=yv(t,1,!0,i,a??null,l,d,k,f,v,w,Rv),i.context=_v(null),a=i.current,l=Dn(),l=Gr(l),d=Wi(l),d.callback=null,Zi(a,d,l),a=l,i.current.lanes=a,Hr(i,a),Bs(i),t[Ss]=i.current,_m(t),new wh(i)},ac.version="19.2.4",ac}var Lv;function BS(){if(Lv)return zm.exports;Lv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),zm.exports=zS(),zm.exports}var qS=BS();const HS=jx(qS);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zv="popstate";function FS(s={}){function e(o,c){let{pathname:u="/",search:p="",hash:g=""}=ka(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),hp("",{pathname:u,search:p,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let u=o.document.querySelector("base"),p="";if(u&&u.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");p=y===-1?g:g.slice(0,y)}return p+"#"+(typeof c=="string"?c:Ac(c))}function r(o,c){Vn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return $S(e,n,r,s)}function ut(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Vn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GS(){return Math.random().toString(36).substring(2,10)}function Bv(s,e){return{usr:s.state,key:s.key,idx:e}}function hp(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?ka(e):e,state:n,key:e&&e.key||r||GS()}}function Ac({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function ka(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function $S(s,e,n,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,u=o.history,p="POP",g=null,y=x();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function x(){return(u.state||{idx:null}).idx}function E(){p="POP";let z=x(),te=z==null?null:z-y;y=z,g&&g({action:p,location:U.location,delta:te})}function T(z,te){p="PUSH";let W=hp(U.location,z,te);n&&n(W,z),y=x()+1;let F=Bv(W,y),B=U.createHref(W);try{u.pushState(F,"",B)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(B)}c&&g&&g({action:p,location:U.location,delta:1})}function C(z,te){p="REPLACE";let W=hp(U.location,z,te);n&&n(W,z),y=x();let F=Bv(W,y),B=U.createHref(W);u.replaceState(F,"",B),c&&g&&g({action:p,location:U.location,delta:0})}function q(z){return KS(z)}let U={get action(){return p},get location(){return s(o,u)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(zv,E),g=z,()=>{o.removeEventListener(zv,E),g=null}},createHref(z){return e(o,z)},createURL:q,encodeLocation(z){let te=q(z);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:T,replace:C,go(z){return u.go(z)}};return U}function KS(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Ac(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Mx(s,e,n="/"){return YS(s,e,n,!1)}function YS(s,e,n,r){let o=typeof e=="string"?ka(e):e,c=Ni(o.pathname||"/",n);if(c==null)return null;let u=Vx(s);QS(u);let p=null;for(let g=0;p==null&&g<u.length;++g){let y=aA(c);p=iA(u[g],y,r)}return p}function Vx(s,e=[],n=[],r="",o=!1){let c=(u,p,g=o,y)=>{let x={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:p,route:u};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(r)&&g)return;ut(x.relativePath.startsWith(r),`Absolute route path "${x.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(r.length)}let E=Si([r,x.relativePath]),T=n.concat(x);u.children&&u.children.length>0&&(ut(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Vx(u.children,e,T,E,g)),!(u.path==null&&!u.index)&&e.push({path:E,score:nA(E,u.index),routesMeta:T})};return s.forEach((u,p)=>{var g;if(u.path===""||!((g=u.path)!=null&&g.includes("?")))c(u,p);else for(let y of Ux(u.path))c(u,p,!0,y)}),e}function Ux(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let u=Ux(r.join("/")),p=[];return p.push(...u.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...u),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function QS(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:sA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var XS=/^:[\w-]+$/,JS=3,WS=2,ZS=1,eA=10,tA=-2,qv=s=>s==="*";function nA(s,e){let n=s.split("/"),r=n.length;return n.some(qv)&&(r+=tA),e&&(r+=WS),n.filter(o=>!qv(o)).reduce((o,c)=>o+(XS.test(c)?JS:c===""?ZS:eA),r)}function sA(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function iA(s,e,n=!1){let{routesMeta:r}=s,o={},c="/",u=[];for(let p=0;p<r.length;++p){let g=r[p],y=p===r.length-1,x=c==="/"?e:e.slice(c.length)||"/",E=Yh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},x),T=g.route;if(!E&&y&&n&&!r[r.length-1].route.index&&(E=Yh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!E)return null;Object.assign(o,E.params),u.push({params:o,pathname:Si([c,E.pathname]),pathnameBase:uA(Si([c,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(c=Si([c,E.pathnameBase]))}return u}function Yh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=rA(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((y,{paramName:x,isOptional:E},T)=>{if(x==="*"){let q=p[T]||"";u=c.slice(0,c.length-q.length).replace(/(.)\/+$/,"$1")}const C=p[T];return E&&!C?y[x]=void 0:y[x]=(C||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:u,pattern:s}}function rA(s,e=!1,n=!0){Vn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function aA(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Ni(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}var oA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function lA(s,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof s=="string"?ka(s):s,c;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?c=Hv(n.substring(1),"/"):c=Hv(n,e)):c=e,{pathname:c,search:hA(r),hash:dA(o)}}function Hv(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Fm(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cA(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hp(s){let e=cA(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Fp(s,e,n,r=!1){let o;typeof s=="string"?o=ka(s):(o={...s},ut(!o.pathname||!o.pathname.includes("?"),Fm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Fm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Fm("#","search","hash",o)));let c=s===""||o.pathname==="",u=c?"/":o.pathname,p;if(u==null)p=n;else{let E=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),E-=1;o.pathname=T.join("/")}p=E>=0?e[E]:"/"}let g=lA(o,p),y=u&&u!=="/"&&u.endsWith("/"),x=(c||u===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||x)&&(g.pathname+="/"),g}var Si=s=>s.join("/").replace(/\/\/+/g,"/"),uA=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),hA=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,dA=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,fA=class{constructor(s,e,n,r=!1){this.status=s,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function mA(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function pA(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Px=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Lx(s,e){let n=s;if(typeof n!="string"||!oA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(Px)try{let c=new URL(window.location.href),u=n.startsWith("//")?new URL(c.protocol+n):new URL(n),p=Ni(u.pathname,e);u.origin===c.origin&&p!=null?n=p+u.search+u.hash:o=!0}catch{Vn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zx=["POST","PUT","PATCH","DELETE"];new Set(zx);var gA=["GET",...zx];new Set(gA);var Yo=D.createContext(null);Yo.displayName="DataRouter";var pd=D.createContext(null);pd.displayName="DataRouterState";var yA=D.createContext(!1),Bx=D.createContext({isTransitioning:!1});Bx.displayName="ViewTransition";var _A=D.createContext(new Map);_A.displayName="Fetchers";var vA=D.createContext(null);vA.displayName="Await";var Un=D.createContext(null);Un.displayName="Navigation";var Uc=D.createContext(null);Uc.displayName="Location";var Zs=D.createContext({outlet:null,matches:[],isDataRoute:!1});Zs.displayName="Route";var Gp=D.createContext(null);Gp.displayName="RouteError";var qx="REACT_ROUTER_ERROR",bA="REDIRECT",xA="ROUTE_ERROR_RESPONSE";function EA(s){if(s.startsWith(`${qx}:${bA}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function wA(s){if(s.startsWith(`${qx}:${xA}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new fA(e.status,e.statusText,e.data)}catch{}}function TA(s,{relative:e}={}){ut(Qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=D.useContext(Un),{hash:o,pathname:c,search:u}=Pc(s,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:Si([n,c])),r.createHref({pathname:p,search:u,hash:o})}function Qo(){return D.useContext(Uc)!=null}function ei(){return ut(Qo(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Uc).location}var Hx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fx(s){D.useContext(Un).static||D.useLayoutEffect(s)}function Xo(){let{isDataRoute:s}=D.useContext(Zs);return s?UA():SA()}function SA(){ut(Qo(),"useNavigate() may be used only in the context of a <Router> component.");let s=D.useContext(Yo),{basename:e,navigator:n}=D.useContext(Un),{matches:r}=D.useContext(Zs),{pathname:o}=ei(),c=JSON.stringify(Hp(r)),u=D.useRef(!1);return Fx(()=>{u.current=!0}),D.useCallback((g,y={})=>{if(Vn(u.current,Hx),!u.current)return;if(typeof g=="number"){n.go(g);return}let x=Fp(g,JSON.parse(c),o,y.relative==="path");s==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Si([e,x.pathname])),(y.replace?n.replace:n.push)(x,y.state,y)},[e,n,c,o,s])}D.createContext(null);function Pc(s,{relative:e}={}){let{matches:n}=D.useContext(Zs),{pathname:r}=ei(),o=JSON.stringify(Hp(n));return D.useMemo(()=>Fp(s,JSON.parse(o),r,e==="path"),[s,o,r,e])}function AA(s,e){return Gx(s,e)}function Gx(s,e,n,r,o){var W;ut(Qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=D.useContext(Un),{matches:u}=D.useContext(Zs),p=u[u.length-1],g=p?p.params:{},y=p?p.pathname:"/",x=p?p.pathnameBase:"/",E=p&&p.route;{let F=E&&E.path||"";Kx(y,!E||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let T=ei(),C;if(e){let F=typeof e=="string"?ka(e):e;ut(x==="/"||((W=F.pathname)==null?void 0:W.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${F.pathname}" was given in the \`location\` prop.`),C=F}else C=T;let q=C.pathname||"/",U=q;if(x!=="/"){let F=x.replace(/^\//,"").split("/");U="/"+q.replace(/^\//,"").split("/").slice(F.length).join("/")}let z=Mx(s,{pathname:U});Vn(E||z!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Vn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=kA(z&&z.map(F=>Object.assign({},F,{params:Object.assign({},g,F.params),pathname:Si([x,c.encodeLocation?c.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?x:Si([x,c.encodeLocation?c.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),u,n,r,o);return e&&te?D.createElement(Uc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},te):te}function NA(){let s=VA(),e=mA(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",s),u=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:c},"ErrorBoundary")," or"," ",D.createElement("code",{style:c},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:o},n):null,u)}var RA=D.createElement(NA,null),$x=class extends D.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=wA(s.digest);n&&(s=n)}let e=s!==void 0?D.createElement(Zs.Provider,{value:this.props.routeContext},D.createElement(Gp.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?D.createElement(CA,{error:s},e):e}};$x.contextType=yA;var Gm=new WeakMap;function CA({children:s,error:e}){let{basename:n}=D.useContext(Un);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=EA(e.digest);if(r){let o=Gm.get(e);if(o)throw o;let c=Lx(r.location,n);if(Px&&!Gm.get(e))if(c.isExternal||r.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:r.replace}));throw Gm.set(e,u),u}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return s}function IA({routeContext:s,match:e,children:n}){let r=D.useContext(Yo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Zs.Provider,{value:s},n)}function kA(s,e=[],n=null,r=null,o=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let c=s,u=n==null?void 0:n.errors;if(u!=null){let x=c.findIndex(E=>E.route.id&&(u==null?void 0:u[E.route.id])!==void 0);ut(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let p=!1,g=-1;if(n)for(let x=0;x<c.length;x++){let E=c[x];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=x),E.route.id){let{loaderData:T,errors:C}=n,q=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!C||C[E.route.id]===void 0);if(E.route.lazy||q){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&r?(x,E)=>{var T,C;r(x,{location:n.location,params:((C=(T=n.matches)==null?void 0:T[0])==null?void 0:C.params)??{},unstable_pattern:pA(n.matches),errorInfo:E})}:void 0;return c.reduceRight((x,E,T)=>{let C,q=!1,U=null,z=null;n&&(C=u&&E.route.id?u[E.route.id]:void 0,U=E.route.errorElement||RA,p&&(g<0&&T===0?(Kx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,z=null):g===T&&(q=!0,z=E.route.hydrateFallbackElement||null)));let te=e.concat(c.slice(0,T+1)),W=()=>{let F;return C?F=U:q?F=z:E.route.Component?F=D.createElement(E.route.Component,null):E.route.element?F=E.route.element:F=x,D.createElement(IA,{match:E,routeContext:{outlet:x,matches:te,isDataRoute:n!=null},children:F})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?D.createElement($x,{location:n.location,revalidation:n.revalidation,component:U,error:C,children:W(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:y}):W()},null)}function $p(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DA(s){let e=D.useContext(Yo);return ut(e,$p(s)),e}function OA(s){let e=D.useContext(pd);return ut(e,$p(s)),e}function jA(s){let e=D.useContext(Zs);return ut(e,$p(s)),e}function Kp(s){let e=jA(s),n=e.matches[e.matches.length-1];return ut(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function MA(){return Kp("useRouteId")}function VA(){var r;let s=D.useContext(Gp),e=OA("useRouteError"),n=Kp("useRouteError");return s!==void 0?s:(r=e.errors)==null?void 0:r[n]}function UA(){let{router:s}=DA("useNavigate"),e=Kp("useNavigate"),n=D.useRef(!1);return Fx(()=>{n.current=!0}),D.useCallback(async(o,c={})=>{Vn(n.current,Hx),n.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:e,...c}))},[s,e])}var Fv={};function Kx(s,e,n){!e&&!Fv[s]&&(Fv[s]=!0,Vn(!1,n))}D.memo(PA);function PA({routes:s,future:e,state:n,onError:r}){return Gx(s,void 0,n,r,e)}function Yx({to:s,replace:e,state:n,relative:r}){ut(Qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=D.useContext(Un);Vn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=D.useContext(Zs),{pathname:u}=ei(),p=Xo(),g=Fp(s,Hp(c),u,r==="path"),y=JSON.stringify(g);return D.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:r})},[p,y,r,e,n]),null}function On(s){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LA({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:c=!1,unstable_useTransitions:u}){ut(!Qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=s.replace(/^\/*/,"/"),g=D.useMemo(()=>({basename:p,navigator:o,static:c,unstable_useTransitions:u,future:{}}),[p,o,c,u]);typeof n=="string"&&(n=ka(n));let{pathname:y="/",search:x="",hash:E="",state:T=null,key:C="default"}=n,q=D.useMemo(()=>{let U=Ni(y,p);return U==null?null:{location:{pathname:U,search:x,hash:E,state:T,key:C},navigationType:r}},[p,y,x,E,T,C,r]);return Vn(q!=null,`<Router basename="${p}"> is not able to match the URL "${y}${x}${E}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:D.createElement(Un.Provider,{value:g},D.createElement(Uc.Provider,{children:e,value:q}))}function zA({children:s,location:e}){return AA(dp(s),e)}function dp(s,e=[]){let n=[];return D.Children.forEach(s,(r,o)=>{if(!D.isValidElement(r))return;let c=[...e,o];if(r.type===D.Fragment){n.push.apply(n,dp(r.props.children,c));return}ut(r.type===On,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=dp(r.props.children,c)),n.push(u)}),n}var Mh="get",Vh="application/x-www-form-urlencoded";function gd(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function BA(s){return gd(s)&&s.tagName.toLowerCase()==="button"}function qA(s){return gd(s)&&s.tagName.toLowerCase()==="form"}function HA(s){return gd(s)&&s.tagName.toLowerCase()==="input"}function FA(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function GA(s,e){return s.button===0&&(!e||e==="_self")&&!FA(s)}function fp(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((e,n)=>{let r=s[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function $A(s,e){let n=fp(s);return e&&e.forEach((r,o)=>{n.has(o)||e.getAll(o).forEach(c=>{n.append(o,c)})}),n}var Sh=null;function KA(){if(Sh===null)try{new FormData(document.createElement("form"),0),Sh=!1}catch{Sh=!0}return Sh}var YA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $m(s){return s!=null&&!YA.has(s)?(Vn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vh}"`),null):s}function QA(s,e){let n,r,o,c,u;if(qA(s)){let p=s.getAttribute("action");r=p?Ni(p,e):null,n=s.getAttribute("method")||Mh,o=$m(s.getAttribute("enctype"))||Vh,c=new FormData(s)}else if(BA(s)||HA(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(r=g?Ni(g,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||Mh,o=$m(s.getAttribute("formenctype"))||$m(p.getAttribute("enctype"))||Vh,c=new FormData(p,s),!KA()){let{name:y,type:x,value:E}=s;if(x==="image"){let T=y?`${y}.`:"";c.append(`${T}x`,"0"),c.append(`${T}y`,"0")}else y&&c.append(y,E)}}else{if(gd(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mh,r=null,o=Vh,u=s}return c&&o==="text/plain"&&(u=c,c=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yp(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function XA(s,e,n,r){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&Ni(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function JA(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WA(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function ZA(s,e,n){let r=await Promise.all(s.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await JA(c,n);return u.links?u.links():[]}return[]}));return s2(r.flat(1).filter(WA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Gv(s,e,n,r,o,c){let u=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>{var x;return n[y].pathname!==g.pathname||((x=n[y].route.path)==null?void 0:x.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return c==="assets"?e.filter((g,y)=>u(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{var E;let x=r.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(u(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=n[0])==null?void 0:E.params)||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function e2(s,e,{includeHydrateFallback:n}={}){return t2(s.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function t2(s){return[...new Set(s)]}function n2(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function s2(s,e){let n=new Set;return new Set(e),s.reduce((r,o)=>{let c=JSON.stringify(n2(o));return n.has(c)||(n.add(c),r.push({key:c,link:o})),r},[])}function Qx(){let s=D.useContext(Yo);return Yp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function i2(){let s=D.useContext(pd);return Yp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Qp=D.createContext(void 0);Qp.displayName="FrameworkContext";function Xx(){let s=D.useContext(Qp);return Yp(s,"You must render this element inside a <HydratedRouter> element"),s}function r2(s,e){let n=D.useContext(Qp),[r,o]=D.useState(!1),[c,u]=D.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:x,onTouchStart:E}=e,T=D.useRef(null);D.useEffect(()=>{if(s==="render"&&u(!0),s==="viewport"){let U=te=>{te.forEach(W=>{u(W.isIntersecting)})},z=new IntersectionObserver(U,{threshold:.5});return T.current&&z.observe(T.current),()=>{z.disconnect()}}},[s]),D.useEffect(()=>{if(r){let U=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(U)}}},[r]);let C=()=>{o(!0)},q=()=>{o(!1),u(!1)};return n?s!=="intent"?[c,T,{}]:[c,T,{onFocus:oc(p,C),onBlur:oc(g,q),onMouseEnter:oc(y,C),onMouseLeave:oc(x,q),onTouchStart:oc(E,C)}]:[!1,T,{}]}function oc(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function a2({page:s,...e}){let{router:n}=Qx(),r=D.useMemo(()=>Mx(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?D.createElement(l2,{page:s,matches:r,...e}):null}function o2(s){let{manifest:e,routeModules:n}=Xx(),[r,o]=D.useState([]);return D.useEffect(()=>{let c=!1;return ZA(s,e,n).then(u=>{c||o(u)}),()=>{c=!0}},[s,e,n]),r}function l2({page:s,matches:e,...n}){let r=ei(),{future:o,manifest:c,routeModules:u}=Xx(),{basename:p}=Qx(),{loaderData:g,matches:y}=i2(),x=D.useMemo(()=>Gv(s,e,y,c,r,"data"),[s,e,y,c,r]),E=D.useMemo(()=>Gv(s,e,y,c,r,"assets"),[s,e,y,c,r]),T=D.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let U=new Set,z=!1;if(e.forEach(W=>{var B;let F=c.routes[W.route.id];!F||!F.hasLoader||(!x.some(le=>le.route.id===W.route.id)&&W.route.id in g&&((B=u[W.route.id])!=null&&B.shouldRevalidate)||F.hasClientLoader?z=!0:U.add(W.route.id))}),U.size===0)return[];let te=XA(s,p,o.unstable_trailingSlashAwareDataRequests,"data");return z&&U.size>0&&te.searchParams.set("_routes",e.filter(W=>U.has(W.route.id)).map(W=>W.route.id).join(",")),[te.pathname+te.search]},[p,o.unstable_trailingSlashAwareDataRequests,g,r,c,x,e,s,u]),C=D.useMemo(()=>e2(E,c),[E,c]),q=o2(E);return D.createElement(D.Fragment,null,T.map(U=>D.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),C.map(U=>D.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),q.map(({key:U,link:z})=>D.createElement("link",{key:U,nonce:n.nonce,...z,crossOrigin:z.crossOrigin??n.crossOrigin})))}function c2(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var u2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u2&&(window.__reactRouterVersion="7.13.0")}catch{}function h2({basename:s,children:e,unstable_useTransitions:n,window:r}){let o=D.useRef();o.current==null&&(o.current=FS({window:r,v5Compat:!0}));let c=o.current,[u,p]=D.useState({action:c.action,location:c.location}),g=D.useCallback(y=>{n===!1?p(y):D.startTransition(()=>p(y))},[n]);return D.useLayoutEffect(()=>c.listen(g),[c,g]),D.createElement(LA,{basename:s,children:e,location:u.location,navigationType:u.action,navigator:c,unstable_useTransitions:n})}var Jx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,es=D.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:c,replace:u,state:p,target:g,to:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:T,...C},q){let{basename:U,unstable_useTransitions:z}=D.useContext(Un),te=typeof y=="string"&&Jx.test(y),W=Lx(y,U);y=W.to;let F=TA(y,{relative:o}),[B,le,pe]=r2(r,C),R=p2(y,{replace:u,state:p,target:g,preventScrollReset:x,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:T,unstable_useTransitions:z});function A(V){e&&e(V),V.defaultPrevented||R(V)}let I=D.createElement("a",{...C,...pe,href:W.absoluteURL||F,onClick:W.isExternal||c?e:A,ref:c2(q,le),target:g,"data-discover":!te&&n==="render"?"true":void 0});return B&&!te?D.createElement(D.Fragment,null,I,D.createElement(a2,{page:F})):I});es.displayName="Link";var d2=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:c,to:u,viewTransition:p,children:g,...y},x){let E=Pc(u,{relative:y.relative}),T=ei(),C=D.useContext(pd),{navigator:q,basename:U}=D.useContext(Un),z=C!=null&&x2(E)&&p===!0,te=q.encodeLocation?q.encodeLocation(E).pathname:E.pathname,W=T.pathname,F=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(W=W.toLowerCase(),F=F?F.toLowerCase():null,te=te.toLowerCase()),F&&U&&(F=Ni(F,U)||F);const B=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let le=W===te||!o&&W.startsWith(te)&&W.charAt(B)==="/",pe=F!=null&&(F===te||!o&&F.startsWith(te)&&F.charAt(te.length)==="/"),R={isActive:le,isPending:pe,isTransitioning:z},A=le?e:void 0,I;typeof r=="function"?I=r(R):I=[r,le?"active":null,pe?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(R):c;return D.createElement(es,{...y,"aria-current":A,className:I,ref:x,style:V,to:u,viewTransition:p},typeof g=="function"?g(R):g)});d2.displayName="NavLink";var f2=D.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:c,method:u=Mh,action:p,onSubmit:g,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:T,...C},q)=>{let{unstable_useTransitions:U}=D.useContext(Un),z=v2(),te=b2(p,{relative:y}),W=u.toLowerCase()==="get"?"get":"post",F=typeof p=="string"&&Jx.test(p),B=le=>{if(g&&g(le),le.defaultPrevented)return;le.preventDefault();let pe=le.nativeEvent.submitter,R=(pe==null?void 0:pe.getAttribute("formmethod"))||u,A=()=>z(pe||le.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:o,state:c,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:T});U&&n!==!1?D.startTransition(()=>A()):A()};return D.createElement("form",{ref:q,method:W,action:te,onSubmit:r?g:B,...C,"data-discover":!F&&s==="render"?"true":void 0})});f2.displayName="Form";function m2(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wx(s){let e=D.useContext(Yo);return ut(e,m2(s)),e}function p2(s,{target:e,replace:n,state:r,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=Xo(),x=ei(),E=Pc(s,{relative:c});return D.useCallback(T=>{if(GA(T,e)){T.preventDefault();let C=n!==void 0?n:Ac(x)===Ac(E),q=()=>y(s,{replace:C,state:r,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:p});g?D.startTransition(()=>q()):q()}},[x,y,E,n,r,e,s,o,c,u,p,g])}function g2(s){Vn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(fp(s)),n=D.useRef(!1),r=ei(),o=D.useMemo(()=>$A(r.search,n.current?null:e.current),[r.search]),c=Xo(),u=D.useCallback((p,g)=>{const y=fp(typeof p=="function"?p(new URLSearchParams(o)):p);n.current=!0,c("?"+y,g)},[c,o]);return[o,u]}var y2=0,_2=()=>`__${String(++y2)}__`;function v2(){let{router:s}=Wx("useSubmit"),{basename:e}=D.useContext(Un),n=MA(),r=s.fetch,o=s.navigate;return D.useCallback(async(c,u={})=>{let{action:p,method:g,encType:y,formData:x,body:E}=QA(c,e);if(u.navigate===!1){let T=u.fetcherKey||_2();await r(T,n,u.action||p,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:x,body:E,formMethod:u.method||g,formEncType:u.encType||y,flushSync:u.flushSync})}else await o(u.action||p,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:x,body:E,formMethod:u.method||g,formEncType:u.encType||y,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,o,e,n])}function b2(s,{relative:e}={}){let{basename:n}=D.useContext(Un),r=D.useContext(Zs);ut(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Pc(s||".",{relative:e})},u=ei();if(s==null){c.search=u.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(x=>x==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let x=p.toString();c.search=x?`?${x}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Si([n,c.pathname])),Ac(c)}function x2(s,{relative:e}={}){let n=D.useContext(Bx);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Wx("useViewTransitionState"),o=Pc(s,{relative:e});if(!n.isTransitioning)return!1;let c=Ni(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Ni(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Yh(o.pathname,u)!=null||Yh(o.pathname,c)!=null}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=s=>{const e=w2(s);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=D.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:u,...p},g)=>D.createElement("svg",{ref:g,...T2,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:Zx("lucide",o),...!c&&!S2(p)&&{"aria-hidden":"true"},...p},[...u.map(([y,x])=>D.createElement(y,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(s,e)=>{const n=D.forwardRef(({className:r,...o},c)=>D.createElement(A2,{ref:c,iconNode:e,className:Zx(`lucide-${E2($v(s))}`,`lucide-${s}`,r),...o}));return n.displayName=$v(s),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Uo=Ce("activity",N2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Kv=Ce("arrow-left",R2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Ah=Ce("arrow-up-right",C2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gc=Ce("calendar",I2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Xp=Ce("camera",k2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],O2=Ce("chevron-right",D2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Po=Ce("circle-alert",j2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jp=Ce("circle-check-big",M2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],e1=Ce("circle-check",V2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Wp=Ce("clipboard-list",U2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ai=Ce("clock",P2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],z2=Ce("dollar-sign",L2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],q2=Ce("external-link",B2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],F2=Ce("funnel",H2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Zp=Ce("lock",G2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],K2=Ce("log-in",$2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Q2=Ce("log-out",Y2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],J2=Ce("mail",X2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],_a=Ce("map-pin",W2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Yv=Ce("map",Z2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],tN=Ce("navigation",eN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],sN=Ce("pen",nN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Km=Ce("pencil",iN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],aN=Ce("play",rN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mp=Ce("plus",oN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cN=Ce("save",lN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],eg=Ce("search",uN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],dN=Ce("shield-alert",hN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],mN=Ce("shield-check",fN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ym=Ce("shield",pN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yN=Ce("square-check-big",gN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],vN=Ce("star",_N);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],xN=Ce("timer",bN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Uh=Ce("trash-2",EN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],yc=Ce("trending-up",wN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Qm=Ce("triangle-alert",TN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],tg=Ce("trophy",SN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],t1=Ce("upload",AN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],RN=Ce("user-plus",NN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Lo=Ce("user",CN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_c=Ce("users",IN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nc=Ce("x",kN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ba=Ce("zap",DN),ON=({children:s})=>{var u;const e=ei(),n=Xo(),r=e.pathname.startsWith("/admin")&&e.pathname!=="/admin/login",o=()=>{sessionStorage.removeItem("isAdminAuthenticated"),n("/admin/login")};if(!r)return m.jsx("div",{className:"min-h-screen bg-slate-100 text-slate-900",children:s});const c=[{path:"/admin",icon:Uo,label:"Viso Geral"},{path:"/admin/usuarios",icon:_c,label:"Atletas"},{path:"/admin/horarios",icon:Ai,label:"Horrios"},{path:"/admin/checkins",icon:Wp,label:"Registros"},{path:"/admin/ranking",icon:tg,label:"Ranking"},{path:"/admin/distribuicoes",icon:yc,label:"Recompensas"},{path:"/admin/perfil",icon:Lo,label:"Meu Perfil"}];return m.jsxs("div",{className:"flex min-h-screen bg-slate-100 text-slate-900 font-sans text-sm",children:[m.jsxs("aside",{className:"w-56 bg-black flex-shrink-0 flex flex-col z-20 shadow-[10px_0_30px_rgba(0,0,0,0.2)]",children:[m.jsx("div",{className:"p-6",children:m.jsx("div",{className:"flex items-center gap-2 group cursor-pointer justify-center w-full",children:m.jsx("img",{src:"/logo.png",alt:"Impulso Club",className:"h-12 w-auto object-contain"})})}),m.jsx("nav",{className:"mt-2 flex-1 px-3 space-y-1",children:c.map(p=>{const g=p.icon,y=e.pathname===p.path;return m.jsxs(es,{to:p.path,className:`flex items-center px-3 py-2 text-[10px] font-black uppercase tracking-wider rounded-xl transition-all ${y?"bg-lime-400 text-black shadow-[0_8px_16px_rgba(163,230,53,0.2)]":"text-zinc-500 hover:bg-zinc-900 hover:text-white border border-transparent hover:border-zinc-800"}`,children:[m.jsx(g,{className:`w-3.5 h-3.5 mr-3 ${y?"text-black":"text-zinc-700"}`}),p.label]},p.path)})}),m.jsx("div",{className:"p-5 border-t border-zinc-900",children:m.jsxs("button",{onClick:o,className:"w-full flex items-center px-4 py-2 text-xs font-black uppercase tracking-wider text-zinc-600 hover:text-red-500 transition-all",children:[m.jsx(Q2,{className:"w-4 h-4 mr-3"}),"Logout"]})})]}),m.jsxs("main",{className:"flex-1 overflow-y-auto flex flex-col",children:[m.jsxs("header",{className:"bg-white border-b-2 border-slate-300 py-3 px-6 flex justify-between items-center sticky top-0 z-10 shadow-sm",children:[m.jsx("h2",{className:"text-sm font-black italic text-slate-900 font-sport uppercase tracking-[0.2em]",children:((u=c.find(p=>p.path===e.pathname))==null?void 0:u.label)||"Performance Area"}),m.jsxs(es,{to:"/checkin",className:"group flex items-center px-4 py-2 bg-black rounded-lg text-lime-400 text-[10px] font-black uppercase tracking-wider hover:bg-lime-400 hover:text-black transition-all shadow-xl active:scale-95",children:[m.jsx(yN,{className:"w-3.5 h-3.5 mr-2"}),"Terminal de Check-in"]})]}),m.jsx("div",{className:"p-6 max-w-[1600px] mx-auto w-full",children:s})]})]})},jN=()=>{};var Qv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},MN=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],u=s[n++],p=s[n++],g=((o&7)<<18|(c&63)<<12|(u&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],u=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},s1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],u=o+1<s.length,p=u?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,x=c>>2,E=(c&3)<<4|p>>4;let T=(p&15)<<2|y>>6,C=y&63;g||(C=64,u||(T=64)),r.push(n[x],n[E],n[T],n[C])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(n1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):MN(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],p=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const E=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||p==null||y==null||E==null)throw new VN;const T=c<<2|p>>4;if(r.push(T),y!==64){const C=p<<4&240|y>>2;if(r.push(C),E!==64){const q=y<<6&192|E;r.push(q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class VN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UN=function(s){const e=n1(s);return s1.encodeByteArray(e,!0)},Qh=function(s){return UN(s).replace(/\./g,"")},i1=function(s){try{return s1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=()=>PN().__FIREBASE_DEFAULTS__,zN=()=>{if(typeof process>"u"||typeof Qv>"u")return;const s=Qv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},BN=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&i1(s[1]);return e&&JSON.parse(e)},yd=()=>{try{return jN()||LN()||zN()||BN()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},r1=s=>{var e,n;return(n=(e=yd())==null?void 0:e.emulatorHosts)==null?void 0:n[s]},a1=s=>{const e=r1(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},o1=()=>{var s;return(s=yd())==null?void 0:s.config},l1=s=>{var e;return(e=yd())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ng(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Qh(JSON.stringify(n)),Qh(JSON.stringify(u)),""].join(".")}const vc={};function HN(){const s={prod:[],emulator:[]};for(const e of Object.keys(vc))vc[e]?s.emulator.push(e):s.prod.push(e);return s}function FN(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let Xv=!1;function sg(s,e){if(typeof window>"u"||typeof document>"u"||!jr(window.location.host)||vc[s]===e||vc[s]||Xv)return;vc[s]=e;function n(T){return`__firebase__banner__${T}`}const r="__firebase__banner",c=HN().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function p(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Xv=!0,u()},T}function x(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=FN(r),C=n("text"),q=document.getElementById(C)||document.createElement("span"),U=n("learnmore"),z=document.getElementById(U)||document.createElement("a"),te=n("preprendIcon"),W=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const F=T.element;p(F),x(z,U);const B=y();g(W,te),F.append(W,q,z,B),document.body.appendChild(F)}c?(q.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function $N(){var e;const s=(e=yd())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YN(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function QN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XN(){const s=an();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function JN(){return!$N()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WN(){try{return typeof indexedDB=="object"}catch{return!1}}function ZN(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="FirebaseError";class ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eR,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lc.prototype.create)}}class Lc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?tR(c,r):"Error",p=`${this.serviceName}: ${u} (${o}).`;return new ti(o,p,r)}}function tR(s,e){return s.replace(nR,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const nR=/\{\$([^}]+)}/g;function sR(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ta(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=s[o],u=e[o];if(Jv(c)&&Jv(u)){if(!Ta(c,u))return!1}else if(c!==u)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Jv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uc(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function hc(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function iR(s,e){const n=new rR(s,e);return n.subscribe.bind(n)}class rR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Xm),o.error===void 0&&(o.error=Xm),o.complete===void 0&&(o.complete=Xm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aR(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Xm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(s){return s&&s._delegate?s._delegate:s}class Nr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cR(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,u]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&u.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lR(s){return s===ya?void 0:s}function cR(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const hR={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},dR=Le.INFO,fR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},mR=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=fR[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ig{constructor(e){this.name=e,this._logLevel=dR,this._logHandler=mR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const pR=(s,e)=>e.some(n=>s instanceof n);let Wv,Zv;function gR(){return Wv||(Wv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yR(){return Zv||(Zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u1=new WeakMap,pp=new WeakMap,h1=new WeakMap,Jm=new WeakMap,rg=new WeakMap;function _R(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",u)},c=()=>{n(Er(s.result)),o()},u=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&u1.set(n,s)}).catch(()=>{}),rg.set(e,s),e}function vR(s){if(pp.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",u),s.removeEventListener("abort",u)},c=()=>{n(),o()},u=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",u),s.addEventListener("abort",u)});pp.set(s,e)}let gp={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return pp.get(s);if(e==="objectStoreNames")return s.objectStoreNames||h1.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Er(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function bR(s){gp=s(gp)}function xR(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Wm(this),e,...n);return h1.set(r,e.sort?e.sort():[e]),Er(r)}:yR().includes(s)?function(...e){return s.apply(Wm(this),e),Er(u1.get(this))}:function(...e){return Er(s.apply(Wm(this),e))}}function ER(s){return typeof s=="function"?xR(s):(s instanceof IDBTransaction&&vR(s),pR(s,gR())?new Proxy(s,gp):s)}function Er(s){if(s instanceof IDBRequest)return _R(s);if(Jm.has(s))return Jm.get(s);const e=ER(s);return e!==s&&(Jm.set(s,e),rg.set(e,s)),e}const Wm=s=>rg.get(s);function wR(s,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const u=indexedDB.open(s,e),p=Er(u);return r&&u.addEventListener("upgradeneeded",g=>{r(Er(u.result),g.oldVersion,g.newVersion,Er(u.transaction),g)}),n&&u.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const TR=["get","getKey","getAll","getAllKeys","count"],SR=["put","add","delete","clear"],Zm=new Map;function eb(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=SR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||TR.includes(n)))return;const c=async function(u,...p){const g=this.transaction(u,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Zm.set(e,c),c}bR(s=>({...s,get:(e,n,r)=>eb(e,n)||s.get(e,n,r),has:(e,n)=>!!eb(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function NR(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yp="@firebase/app",tb="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new ig("@firebase/app"),RR="@firebase/app-compat",CR="@firebase/analytics-compat",IR="@firebase/analytics",kR="@firebase/app-check-compat",DR="@firebase/app-check",OR="@firebase/auth",jR="@firebase/auth-compat",MR="@firebase/database",VR="@firebase/data-connect",UR="@firebase/database-compat",PR="@firebase/functions",LR="@firebase/functions-compat",zR="@firebase/installations",BR="@firebase/installations-compat",qR="@firebase/messaging",HR="@firebase/messaging-compat",FR="@firebase/performance",GR="@firebase/performance-compat",$R="@firebase/remote-config",KR="@firebase/remote-config-compat",YR="@firebase/storage",QR="@firebase/storage-compat",XR="@firebase/firestore",JR="@firebase/ai",WR="@firebase/firestore-compat",ZR="firebase",eC="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="[DEFAULT]",tC={[yp]:"fire-core",[RR]:"fire-core-compat",[IR]:"fire-analytics",[CR]:"fire-analytics-compat",[DR]:"fire-app-check",[kR]:"fire-app-check-compat",[OR]:"fire-auth",[jR]:"fire-auth-compat",[MR]:"fire-rtdb",[VR]:"fire-data-connect",[UR]:"fire-rtdb-compat",[PR]:"fire-fn",[LR]:"fire-fn-compat",[zR]:"fire-iid",[BR]:"fire-iid-compat",[qR]:"fire-fcm",[HR]:"fire-fcm-compat",[FR]:"fire-perf",[GR]:"fire-perf-compat",[$R]:"fire-rc",[KR]:"fire-rc-compat",[YR]:"fire-gcs",[QR]:"fire-gcs-compat",[XR]:"fire-fst",[WR]:"fire-fst-compat",[JR]:"fire-vertex","fire-js":"fire-js",[ZR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new Map,nC=new Map,vp=new Map;function nb(s,e){try{s.container.addComponent(e)}catch(n){Ri.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Sa(s){const e=s.name;if(vp.has(e))return Ri.debug(`There were multiple attempts to register component ${e}.`),!1;vp.set(e,s);for(const n of Xh.values())nb(n,s);for(const n of nC.values())nb(n,s);return!0}function _d(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function bn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new Lc("app","Firebase",sC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=eC;function d1(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:_p,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw wr.create("bad-app-name",{appName:String(o)});if(n||(n=o1()),!n)throw wr.create("no-options");const c=Xh.get(o);if(c){if(Ta(n,c.options)&&Ta(r,c.config))return c;throw wr.create("duplicate-app",{appName:o})}const u=new uR(o);for(const g of vp.values())u.addComponent(g);const p=new iC(n,r,u);return Xh.set(o,p),p}function ag(s=_p){const e=Xh.get(s);if(!e&&s===_p&&o1())return d1();if(!e)throw wr.create("no-app",{appName:s});return e}function Gs(s,e,n){let r=tC[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ri.warn(u.join(" "));return}Sa(new Nr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="firebase-heartbeat-database",aC=1,Rc="firebase-heartbeat-store";let ep=null;function f1(){return ep||(ep=wR(rC,aC,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Rc)}catch(n){console.warn(n)}}}}).catch(s=>{throw wr.create("idb-open",{originalErrorMessage:s.message})})),ep}async function oC(s){try{const n=(await f1()).transaction(Rc),r=await n.objectStore(Rc).get(m1(s));return await n.done,r}catch(e){if(e instanceof ti)Ri.warn(e.message);else{const n=wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ri.warn(n.message)}}}async function sb(s,e){try{const r=(await f1()).transaction(Rc,"readwrite");await r.objectStore(Rc).put(e,m1(s)),await r.done}catch(n){if(n instanceof ti)Ri.warn(n.message);else{const r=wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ri.warn(r.message)}}}function m1(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=1024,cC=30;class uC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=ib();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(u=>u.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>cC){const u=fC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ri.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ib(),{heartbeatsToSend:r,unsentEntries:o}=hC(this._heartbeatsCache.heartbeats),c=Qh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Ri.warn(n),""}}}function ib(){return new Date().toISOString().substring(0,10)}function hC(s,e=lC){const n=[];let r=s.slice();for(const o of s){const c=n.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),rb(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),rb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WN()?ZN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function rb(s){return Qh(JSON.stringify({version:2,heartbeats:s})).length}function fC(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(s){Sa(new Nr("platform-logger",e=>new AR(e),"PRIVATE")),Sa(new Nr("heartbeat",e=>new uC(e),"PRIVATE")),Gs(yp,tb,s),Gs(yp,tb,"esm2020"),Gs("fire-js","")}mC("");var pC="firebase",gC="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gs(pC,gC,"app");function p1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yC=p1,g1=new Lc("auth","Firebase",p1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=new ig("@firebase/auth");function _C(s,...e){Jh.logLevel<=Le.WARN&&Jh.warn(`Auth (${Da}): ${s}`,...e)}function Ph(s,...e){Jh.logLevel<=Le.ERROR&&Jh.error(`Auth (${Da}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(s,...e){throw og(s,...e)}function $s(s,...e){return og(s,...e)}function y1(s,e,n){const r={...yC(),[e]:n};return new Lc("auth","Firebase",r).create(e,{appName:s.name})}function Ks(s){return y1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function og(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return g1.create(s,...e)}function we(s,e,...n){if(!s)throw og(e,...n)}function wi(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Ph(e),new Error(e)}function Ci(s,e){s||wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function vC(){return ab()==="http:"||ab()==="https:"}function ab(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vC()||YN()||"connection"in navigator)?navigator.onLine:!0}function xC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=GN()||QN()}get(){return bC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(s,e){Ci(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TC=new Bc(3e4,6e4);function Mr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Oi(s,e,n,r,o={}){return v1(s,o,async()=>{let c={},u={};r&&(e==="GET"?u=r:c={body:JSON.stringify(r)});const p=zc({key:s.config.apiKey,...u}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return KN()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&jr(s.emulatorConfig.host)&&(y.credentials="include"),_1.fetch()(await b1(s,s.config.apiHost,n,p),y)})}async function v1(s,e,n){s._canInitEmulator=!1;const r={...EC,...e};try{const o=new AC(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw Nh(s,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const p=c.ok?u.errorMessage:u.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(s,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw Nh(s,"email-already-in-use",u);if(g==="USER_DISABLED")throw Nh(s,"user-disabled",u);const x=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw y1(s,x,y);gs(s,x)}}catch(o){if(o instanceof ti)throw o;gs(s,"network-request-failed",{message:String(o)})}}async function qc(s,e,n,r,o={}){const c=await Oi(s,e,n,r,o);return"mfaPendingCredential"in c&&gs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function b1(s,e,n,r){const o=`${e}${n}?${r}`,c=s,u=c.config.emulator?lg(s.config,o):`${s.config.apiScheme}://${o}`;return wC.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function SC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($s(this.auth,"network-request-failed")),TC.get())})}}function Nh(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=$s(s,e,r);return o.customData._tokenResponse=n,o}function ob(s){return s!==void 0&&s.enterprise!==void 0}class NC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return SC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RC(s,e){return Oi(s,"GET","/v2/recaptchaConfig",Mr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(s,e){return Oi(s,"POST","/v1/accounts:delete",e)}async function Wh(s,e){return Oi(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IC(s,e=!1){const n=ht(s),r=await n.getIdToken(e),o=cg(r);we(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c==null?void 0:c.sign_in_provider;return{claims:o,token:r,authTime:bc(tp(o.auth_time)),issuedAtTime:bc(tp(o.iat)),expirationTime:bc(tp(o.exp)),signInProvider:u||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function tp(s){return Number(s)*1e3}function cg(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=i1(n);return o?JSON.parse(o):(Ph("Failed to decode base64 JWT payload"),null)}catch(o){return Ph("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function lb(s){const e=cg(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ti&&kC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function kC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bc(this.lastLoginAt),this.creationTime=bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(s){var E;const e=s.auth,n=await s.getIdToken(),r=await zo(s,Wh(e,{idToken:n}));we(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=(E=o.providerUserInfo)!=null&&E.length?x1(o.providerUserInfo):[],u=jC(s.providerData,c),p=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!(u!=null&&u.length),y=p?g:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new xp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,x)}async function OC(s){const e=ht(s);await Zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jC(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function x1(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(s,e){const n=await v1(s,{},async()=>{const r=zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,u=await b1(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&jr(s.emulatorConfig.host)&&(g.credentials="include"),_1.fetch()(u,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VC(s,e){return Oi(s,"POST","/v2/accounts:revokeToken",Mr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=lb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await MC(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,u=new ko;return r&&(we(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(we(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(we(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class fs{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new DC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await zo(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IC(this,e)}reload(){return OC(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(Ks(this.auth));const e=await this.getIdToken();return await zo(this,CC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,u=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:C,providerData:q,stsTokenManager:U}=n;we(E&&U,e,"internal-error");const z=ko.fromJSON(this.name,U);we(typeof E=="string",e,"internal-error"),pr(r,e.name),pr(o,e.name),we(typeof T=="boolean",e,"internal-error"),we(typeof C=="boolean",e,"internal-error"),pr(c,e.name),pr(u,e.name),pr(p,e.name),pr(g,e.name),pr(y,e.name),pr(x,e.name);const te=new fs({uid:E,auth:e,email:o,emailVerified:T,displayName:r,isAnonymous:C,photoURL:u,phoneNumber:c,tenantId:p,stsTokenManager:z,createdAt:y,lastLoginAt:x});return q&&Array.isArray(q)&&(te.providerData=q.map(W=>({...W}))),g&&(te._redirectEventId=g),te}static async _fromIdTokenResponse(e,n,r=!1){const o=new ko;o.updateFromServerResponse(n);const c=new fs({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Zh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];we(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?x1(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),p=new ko;p.updateFromIdToken(r);const g=new fs({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:u}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new xp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=new Map;function Ti(s){Ci(s instanceof Function,"Expected a class definition");let e=cb.get(s);return e?(Ci(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,cb.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}E1.type="NONE";const ub=E1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(s,e,n){return`firebase:${s}:${e}:${n}`}class Do{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Lh(this.userKey,o.apiKey,c),this.fullPersistenceKey=Lh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wh(this.auth,{idToken:e}).catch(()=>{});return n?fs._fromGetAccountInfoResponse(this.auth,n,e):null}return fs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Do(Ti(ub),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Ti(ub);const u=Lh(r,e.config.apiKey,e.name);let p=null;for(const y of n)try{const x=await y._get(u);if(x){let E;if(typeof x=="string"){const T=await Wh(e,{idToken:x}).catch(()=>{});if(!T)break;E=await fs._fromGetAccountInfoResponse(e,T,x)}else E=fs._fromJSON(e,x);y!==c&&(p=E),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Do(c,e,r):(c=g[0],p&&await c._set(u,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(u)}catch{}})),new Do(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(A1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(w1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R1(e))return"Blackberry";if(C1(e))return"Webos";if(T1(e))return"Safari";if((e.includes("chrome/")||S1(e))&&!e.includes("edge/"))return"Chrome";if(N1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function w1(s=an()){return/firefox\//i.test(s)}function T1(s=an()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function S1(s=an()){return/crios\//i.test(s)}function A1(s=an()){return/iemobile/i.test(s)}function N1(s=an()){return/android/i.test(s)}function R1(s=an()){return/blackberry/i.test(s)}function C1(s=an()){return/webos/i.test(s)}function ug(s=an()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function UC(s=an()){var e;return ug(s)&&!!((e=window.navigator)!=null&&e.standalone)}function PC(){return XN()&&document.documentMode===10}function I1(s=an()){return ug(s)||N1(s)||C1(s)||R1(s)||/windows phone/i.test(s)||A1(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(s,e=[]){let n;switch(s){case"Browser":n=hb(an());break;case"Worker":n=`${hb(an())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Da}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((u,p)=>{try{const g=e(c);u(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zC(s,e={}){return Oi(s,"GET","/v2/passwordPolicy",Mr(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=6;class qC{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??BC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new db(this),this.idTokenSubscription=new db(this),this.beforeStateQueue=new LC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ti(n)),this._initializationPromise=this.queue(async()=>{var r,o,c;if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wh(this,{idToken:e}),r=await fs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(c=this.redirectUser)==null?void 0:c._redirectEventId,p=r==null?void 0:r._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===p)&&(g!=null&&g.user)&&(r=g.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(Ks(this));const n=e?ht(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(Ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(Ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zC(this),n=new qC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await VC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ti(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[Ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let u=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(p,this,"internal-error"),p.then(()=>{u||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{u=!0,g()}}else{const g=e.addObserver(n);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&_C(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Vr(s){return ht(s)}class db{constructor(e){this.auth=e,this.observer=null,this.addObserver=iR(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FC(s){vd=s}function D1(s){return vd.loadJS(s)}function GC(){return vd.recaptchaEnterpriseScript}function $C(){return vd.gapiScript}function KC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class YC{constructor(){this.enterprise=new QC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class QC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const XC="recaptcha-enterprise",O1="NO_RECAPTCHA";class JC{constructor(e){this.type=XC,this.auth=Vr(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,p)=>{RC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new NC(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,u(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,u,p){const g=window.grecaptcha;ob(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{u(y)}).catch(()=>{u(O1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YC().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{r(this.auth).then(p=>{if(!n&&ob(window.grecaptcha))o(p,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let g=GC();g.length!==0&&(g+=p),D1(g).then(()=>{o(p,c,u)}).catch(y=>{u(y)})}}).catch(p=>{u(p)})})}}async function fb(s,e,n,r=!1,o=!1){const c=new JC(s);let u;if(o)u=O1;else try{u=await c.verify(n)}catch{u=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:u}):Object.assign(p,{captchaResponse:u}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Ep(s,e,n,r,o){var c;if((c=s._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await fb(s,e,n,n==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await fb(s,e,n,n==="getOobCode");return r(s,p)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(s,e){const n=_d(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Ta(c,e??{}))return o;gs(o,"already-initialized")}return n.initialize({options:e})}function ZC(s,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ti);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function eI(s,e,n){const r=Vr(s);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=j1(e),{host:u,port:p}=tI(e),g=p===null?"":`:${p}`,y={url:`${c}//${u}${g}/`},x=Object.freeze({host:u,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(Ta(y,r.config.emulator)&&Ta(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,jr(u)?(ng(`${c}//${u}${g}`),sg("Auth",!0)):nI()}function j1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function tI(s){const e=j1(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:mb(r.substr(c.length+1))}}else{const[c,u]=r.split(":");return{host:c,port:mb(u)}}}function mb(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function nI(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wi("not implemented")}_getIdTokenResponse(e){return wi("not implemented")}_linkToIdToken(e,n){return wi("not implemented")}_getReauthenticationResolver(e){return wi("not implemented")}}async function sI(s,e){return Oi(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(s,e){return qc(s,"POST","/v1/accounts:signInWithPassword",Mr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(s,e){return qc(s,"POST","/v1/accounts:signInWithEmailLink",Mr(s,e))}async function aI(s,e){return qc(s,"POST","/v1/accounts:signInWithEmailLink",Mr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends hg{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Cc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Cc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(e,n,"signInWithPassword",iI);case"emailLink":return rI(e,{email:this._email,oobCode:this._password});default:gs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(e,r,"signUpPassword",sI);case"emailLink":return aI(e,{idToken:n,email:this._email,oobCode:this._password});default:gs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(s,e){return qc(s,"POST","/v1/accounts:signInWithIdp",Mr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="http://localhost";class Aa extends hg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const u=new Aa(r,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Oo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Oo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oo(e,n)}buildRequest(){const e={requestUri:oI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cI(s){const e=uc(hc(s)).link,n=e?uc(hc(e)).deep_link_id:null,r=uc(hc(s)).deep_link_id;return(r?uc(hc(r)).link:null)||r||n||e||s}class dg{constructor(e){const n=uc(hc(e)),r=n.apiKey??null,o=n.oobCode??null,c=lI(n.mode??null);we(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=cI(e);try{return new dg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,n){return Cc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=dg.parseLink(n);return we(r,"argument-error"),Cc._fromEmailAndCode(e,r.code,r.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends M1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Hc{constructor(){super("facebook.com")}static credential(e){return Aa._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Aa._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return yr.credential(n,r)}catch{return null}}}yr.GOOGLE_SIGN_IN_METHOD="google.com";yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends Hc{constructor(){super("github.com")}static credential(e){return Aa._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Hc{constructor(){super("twitter.com")}static credential(e,n){return Aa._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vr.credential(n,r)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1(s,e){return qc(s,"POST","/v1/accounts:signUp",Mr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await fs._fromIdTokenResponse(e,r,o),u=pb(r);return new Ii({user:c,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=pb(r);return new Ii({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function pb(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(s){var o;if(bn(s.app))return Promise.reject(Ks(s));const e=Vr(s);if(await e._initializationPromise,(o=e.currentUser)!=null&&o.isAnonymous)return new Ii({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await V1(e,{returnSecureToken:!0}),r=await Ii._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends ti{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ed.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new ed(e,n,r,o)}}function U1(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ed._fromErrorAndOperation(s,c,e,r):c})}async function hI(s,e,n=!1){const r=await zo(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Ii._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(s,e,n=!1){const{auth:r}=s;if(bn(r.app))return Promise.reject(Ks(r));const o="reauthenticate";try{const c=await zo(s,U1(r,o,e,s),n);we(c.idToken,r,"internal-error");const u=cg(c.idToken);we(u,r,"internal-error");const{sub:p}=u;return we(s.uid===p,r,"user-mismatch"),Ii._forOperation(s,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&gs(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P1(s,e,n=!1){if(bn(s.app))return Promise.reject(Ks(s));const r="signIn",o=await U1(s,r,e),c=await Ii._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(c.user),c}async function fI(s,e){return P1(Vr(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(s){const e=Vr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function mI(s,e,n){if(bn(s.app))return Promise.reject(Ks(s));const r=Vr(s),u=await Ep(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",V1).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&L1(s),g}),p=await Ii._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(p.user),p}function pI(s,e,n){return bn(s.app)?Promise.reject(Ks(s)):fI(ht(s),Jo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&L1(s),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(s,e){return Oi(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ht(s),c={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await zo(r,gI(r.auth,c));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const p=r.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(s,e){return ht(s).setPersistence(e)}function _I(s,e,n,r){return ht(s).onIdTokenChanged(e,n,r)}function vI(s,e,n){return ht(s).beforeAuthStateChanged(e,n)}function bI(s,e,n,r){return ht(s).onAuthStateChanged(e,n,r)}const td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(td,"1"),this.storage.removeItem(td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=1e3,EI=10;class B1 extends z1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,p,g)=>{this.notifyListeners(u,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},c=this.storage.getItem(r);PC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,EI):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},xI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}B1.type="LOCAL";const q1=B1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1 extends z1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}H1.type="SESSION";const F1=H1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new bd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(u).map(async y=>y(n.origin,c)),g=await wI(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((p,g)=>{const y=fg("",20);o.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(E){const T=E;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(T.data.response);break;default:clearTimeout(x),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(){return window}function SI(s){Ys().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){return typeof Ys().WorkerGlobalScope<"u"&&typeof Ys().importScripts=="function"}async function AI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NI(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function RI(){return G1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="firebaseLocalStorageDb",CI=1,nd="firebaseLocalStorage",K1="fbase_key";class Fc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xd(s,e){return s.transaction([nd],e?"readwrite":"readonly").objectStore(nd)}function II(){const s=indexedDB.deleteDatabase($1);return new Fc(s).toPromise()}function wp(){const s=indexedDB.open($1,CI);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(nd,{keyPath:K1})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(nd)?e(r):(r.close(),await II(),e(await wp()))})})}async function yb(s,e,n){const r=xd(s,!0).put({[K1]:e,value:n});return new Fc(r).toPromise()}async function kI(s,e){const n=xd(s,!1).get(e),r=await new Fc(n).toPromise();return r===void 0?null:r.value}function _b(s,e){const n=xd(s,!0).delete(e);return new Fc(n).toPromise()}const DI=800,OI=3;class Y1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>OI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bd._getInstance(RI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await AI(),!this.activeServiceWorker)return;this.sender=new TI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wp();return await yb(e,td,"1"),await _b(e,td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kI(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_b(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=xd(o,!1).getAll();return new Fc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y1.type="LOCAL";const jI=Y1;new Bc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(s,e){return e?Ti(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends hg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VI(s){return P1(s.auth,new mg(s),s.bypassAuthState)}function UI(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),dI(n,new mg(s),s.bypassAuthState)}async function PI(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),hI(n,new mg(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:u,type:p}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VI;case"linkViaPopup":case"linkViaRedirect":return PI;case"reauthViaPopup":case"reauthViaRedirect":return UI;default:gs(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=new Bc(2e3,1e4);class Io extends Q1{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ci(this.filter.length===1,"Popup operations only handle one event");const e=fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($s(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($s(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($s(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LI.get())};e()}}Io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="pendingRedirect",zh=new Map;class BI extends Q1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zh.get(this.auth._key());if(!e){try{const r=await qI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zh.set(this.auth._key(),e)}return this.bypassAuthState||zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qI(s,e){const n=GI(e),r=FI(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function HI(s,e){zh.set(s._key(),e)}function FI(s){return Ti(s._redirectPersistence)}function GI(s){return Lh(zI,s.config.apiKey,s.name)}async function $I(s,e,n=!1){if(bn(s.app))return Promise.reject(Ks(s));const r=Vr(s),o=MI(r,e),u=await new BI(r,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=600*1e3;class YI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!X1(e)){const o=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError($s(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KI&&this.cachedEventUids.clear(),this.cachedEventUids.has(vb(e))}saveEventToCache(e){this.cachedEventUids.add(vb(e)),this.lastProcessedEventTime=Date.now()}}function vb(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function X1({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X1(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(s,e={}){return Oi(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WI=/^https?/;async function ZI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await XI(s);for(const n of e)try{if(ek(n))return}catch{}gs(s,"unauthorized-domain")}function ek(s){const e=bp(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const u=new URL(s);return u.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!WI.test(n))return!1;if(JI.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=new Bc(3e4,6e4);function bb(){const s=Ys().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function nk(s){return new Promise((e,n)=>{var o,c,u;function r(){bb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bb(),n($s(s,"network-request-failed"))},timeout:tk.get()})}if((c=(o=Ys().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((u=Ys().gapi)!=null&&u.load)r();else{const p=KC("iframefcb");return Ys()[p]=()=>{gapi.load?r():n($s(s,"network-request-failed"))},D1(`${$C()}?onload=${p}`).catch(g=>n(g))}}).catch(e=>{throw Bh=null,e})}let Bh=null;function sk(s){return Bh=Bh||nk(s),Bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=new Bc(5e3,15e3),rk="__/auth/iframe",ak="emulator/auth/iframe",ok={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ck(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?lg(e,ak):`https://${s.config.authDomain}/${rk}`,r={apiKey:e.apiKey,appName:s.name,v:Da},o=lk.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${zc(r).slice(1)}`}async function uk(s){const e=await sk(s),n=Ys().gapi;return we(n,s,"internal-error"),e.open({where:document.body,url:ck(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ok,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const u=$s(s,"network-request-failed"),p=Ys().setTimeout(()=>{c(u)},ik.get());function g(){Ys().clearTimeout(p),o(r)}r.ping(g).then(g,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dk=500,fk=600,mk="_blank",pk="http://localhost";class xb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gk(s,e,n,r=dk,o=fk){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...hk,width:r.toString(),height:o.toString(),top:c,left:u},y=an().toLowerCase();n&&(p=S1(y)?mk:n),w1(y)&&(e=e||pk,g.scrollbars="yes");const x=Object.entries(g).reduce((T,[C,q])=>`${T}${C}=${q},`,"");if(UC(y)&&p!=="_self")return yk(e||"",p),new xb(null);const E=window.open(e||"",p,x);we(E,s,"popup-blocked");try{E.focus()}catch{}return new xb(E)}function yk(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="__/auth/handler",vk="emulator/auth/handler",bk=encodeURIComponent("fac");async function Eb(s,e,n,r,o,c){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const u={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Da,eventId:o};if(e instanceof M1){e.setDefaultLanguage(s.languageCode),u.providerId=e.providerId||"",sR(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,E]of Object.entries({}))u[x]=E}if(e instanceof Hc){const x=e.getScopes().filter(E=>E!=="");x.length>0&&(u.scopes=x.join(","))}s.tenantId&&(u.tid=s.tenantId);const p=u;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const g=await s._getAppCheckToken(),y=g?`#${bk}=${encodeURIComponent(g)}`:"";return`${xk(s)}?${zc(p).slice(1)}${y}`}function xk({config:s}){return s.emulator?lg(s,vk):`https://${s.authDomain}/${_k}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="webStorageSupport";class Ek{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F1,this._completeRedirectFn=$I,this._overrideRedirectResult=HI}async _openPopup(e,n,r,o){var u;Ci((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await Eb(e,n,r,bp(),o);return gk(e,c,fg())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await Eb(e,n,r,bp(),o);return SI(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Ci(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uk(e),r=new YI(e);return n.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(np,{type:np},o=>{var u;const c=(u=o==null?void 0:o[0])==null?void 0:u[np];c!==void 0&&n(!!c),gs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return I1()||T1()||ug()}}const wk=Ek;var wb="@firebase/auth",Tb="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ak(s){Sa(new Nr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:p}=r.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:u,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k1(s)},y=new HC(r,o,c,g);return ZC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sa(new Nr("auth-internal",e=>{const n=Vr(e.getProvider("auth").getImmediate());return(r=>new Tk(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(wb,Tb,Sk(s)),Gs(wb,Tb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=300,Rk=l1("authIdTokenMaxAge")||Nk;let Sb=null;const Ck=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Rk)return;const o=n==null?void 0:n.token;Sb!==o&&(Sb=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ik(s=ag()){const e=_d(s,"auth");if(e.isInitialized())return e.getImmediate();const n=WC(s,{popupRedirectResolver:wk,persistence:[jI,q1,F1]}),r=l1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const u=Ck(c.toString());vI(n,u,()=>u(n.currentUser)),_I(n,p=>u(p))}}const o=r1("auth");return o&&eI(n,`http://${o}`),n}function kk(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}FC({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=$s("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",kk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ak("Browser");var Ab=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tr,J1;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,A){function I(){}I.prototype=A.prototype,R.F=A.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(V,O,L){for(var N=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)N[ne-2]=arguments[ne];return A.prototype[O].apply(V,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)V[O]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=R.g[0],I=R.g[1],O=R.g[2];let L=R.g[3],N;N=A+(L^I&(O^L))+V[0]+3614090360&4294967295,A=I+(N<<7&4294967295|N>>>25),N=L+(O^A&(I^O))+V[1]+3905402710&4294967295,L=A+(N<<12&4294967295|N>>>20),N=O+(I^L&(A^I))+V[2]+606105819&4294967295,O=L+(N<<17&4294967295|N>>>15),N=I+(A^O&(L^A))+V[3]+3250441966&4294967295,I=O+(N<<22&4294967295|N>>>10),N=A+(L^I&(O^L))+V[4]+4118548399&4294967295,A=I+(N<<7&4294967295|N>>>25),N=L+(O^A&(I^O))+V[5]+1200080426&4294967295,L=A+(N<<12&4294967295|N>>>20),N=O+(I^L&(A^I))+V[6]+2821735955&4294967295,O=L+(N<<17&4294967295|N>>>15),N=I+(A^O&(L^A))+V[7]+4249261313&4294967295,I=O+(N<<22&4294967295|N>>>10),N=A+(L^I&(O^L))+V[8]+1770035416&4294967295,A=I+(N<<7&4294967295|N>>>25),N=L+(O^A&(I^O))+V[9]+2336552879&4294967295,L=A+(N<<12&4294967295|N>>>20),N=O+(I^L&(A^I))+V[10]+4294925233&4294967295,O=L+(N<<17&4294967295|N>>>15),N=I+(A^O&(L^A))+V[11]+2304563134&4294967295,I=O+(N<<22&4294967295|N>>>10),N=A+(L^I&(O^L))+V[12]+1804603682&4294967295,A=I+(N<<7&4294967295|N>>>25),N=L+(O^A&(I^O))+V[13]+4254626195&4294967295,L=A+(N<<12&4294967295|N>>>20),N=O+(I^L&(A^I))+V[14]+2792965006&4294967295,O=L+(N<<17&4294967295|N>>>15),N=I+(A^O&(L^A))+V[15]+1236535329&4294967295,I=O+(N<<22&4294967295|N>>>10),N=A+(O^L&(I^O))+V[1]+4129170786&4294967295,A=I+(N<<5&4294967295|N>>>27),N=L+(I^O&(A^I))+V[6]+3225465664&4294967295,L=A+(N<<9&4294967295|N>>>23),N=O+(A^I&(L^A))+V[11]+643717713&4294967295,O=L+(N<<14&4294967295|N>>>18),N=I+(L^A&(O^L))+V[0]+3921069994&4294967295,I=O+(N<<20&4294967295|N>>>12),N=A+(O^L&(I^O))+V[5]+3593408605&4294967295,A=I+(N<<5&4294967295|N>>>27),N=L+(I^O&(A^I))+V[10]+38016083&4294967295,L=A+(N<<9&4294967295|N>>>23),N=O+(A^I&(L^A))+V[15]+3634488961&4294967295,O=L+(N<<14&4294967295|N>>>18),N=I+(L^A&(O^L))+V[4]+3889429448&4294967295,I=O+(N<<20&4294967295|N>>>12),N=A+(O^L&(I^O))+V[9]+568446438&4294967295,A=I+(N<<5&4294967295|N>>>27),N=L+(I^O&(A^I))+V[14]+3275163606&4294967295,L=A+(N<<9&4294967295|N>>>23),N=O+(A^I&(L^A))+V[3]+4107603335&4294967295,O=L+(N<<14&4294967295|N>>>18),N=I+(L^A&(O^L))+V[8]+1163531501&4294967295,I=O+(N<<20&4294967295|N>>>12),N=A+(O^L&(I^O))+V[13]+2850285829&4294967295,A=I+(N<<5&4294967295|N>>>27),N=L+(I^O&(A^I))+V[2]+4243563512&4294967295,L=A+(N<<9&4294967295|N>>>23),N=O+(A^I&(L^A))+V[7]+1735328473&4294967295,O=L+(N<<14&4294967295|N>>>18),N=I+(L^A&(O^L))+V[12]+2368359562&4294967295,I=O+(N<<20&4294967295|N>>>12),N=A+(I^O^L)+V[5]+4294588738&4294967295,A=I+(N<<4&4294967295|N>>>28),N=L+(A^I^O)+V[8]+2272392833&4294967295,L=A+(N<<11&4294967295|N>>>21),N=O+(L^A^I)+V[11]+1839030562&4294967295,O=L+(N<<16&4294967295|N>>>16),N=I+(O^L^A)+V[14]+4259657740&4294967295,I=O+(N<<23&4294967295|N>>>9),N=A+(I^O^L)+V[1]+2763975236&4294967295,A=I+(N<<4&4294967295|N>>>28),N=L+(A^I^O)+V[4]+1272893353&4294967295,L=A+(N<<11&4294967295|N>>>21),N=O+(L^A^I)+V[7]+4139469664&4294967295,O=L+(N<<16&4294967295|N>>>16),N=I+(O^L^A)+V[10]+3200236656&4294967295,I=O+(N<<23&4294967295|N>>>9),N=A+(I^O^L)+V[13]+681279174&4294967295,A=I+(N<<4&4294967295|N>>>28),N=L+(A^I^O)+V[0]+3936430074&4294967295,L=A+(N<<11&4294967295|N>>>21),N=O+(L^A^I)+V[3]+3572445317&4294967295,O=L+(N<<16&4294967295|N>>>16),N=I+(O^L^A)+V[6]+76029189&4294967295,I=O+(N<<23&4294967295|N>>>9),N=A+(I^O^L)+V[9]+3654602809&4294967295,A=I+(N<<4&4294967295|N>>>28),N=L+(A^I^O)+V[12]+3873151461&4294967295,L=A+(N<<11&4294967295|N>>>21),N=O+(L^A^I)+V[15]+530742520&4294967295,O=L+(N<<16&4294967295|N>>>16),N=I+(O^L^A)+V[2]+3299628645&4294967295,I=O+(N<<23&4294967295|N>>>9),N=A+(O^(I|~L))+V[0]+4096336452&4294967295,A=I+(N<<6&4294967295|N>>>26),N=L+(I^(A|~O))+V[7]+1126891415&4294967295,L=A+(N<<10&4294967295|N>>>22),N=O+(A^(L|~I))+V[14]+2878612391&4294967295,O=L+(N<<15&4294967295|N>>>17),N=I+(L^(O|~A))+V[5]+4237533241&4294967295,I=O+(N<<21&4294967295|N>>>11),N=A+(O^(I|~L))+V[12]+1700485571&4294967295,A=I+(N<<6&4294967295|N>>>26),N=L+(I^(A|~O))+V[3]+2399980690&4294967295,L=A+(N<<10&4294967295|N>>>22),N=O+(A^(L|~I))+V[10]+4293915773&4294967295,O=L+(N<<15&4294967295|N>>>17),N=I+(L^(O|~A))+V[1]+2240044497&4294967295,I=O+(N<<21&4294967295|N>>>11),N=A+(O^(I|~L))+V[8]+1873313359&4294967295,A=I+(N<<6&4294967295|N>>>26),N=L+(I^(A|~O))+V[15]+4264355552&4294967295,L=A+(N<<10&4294967295|N>>>22),N=O+(A^(L|~I))+V[6]+2734768916&4294967295,O=L+(N<<15&4294967295|N>>>17),N=I+(L^(O|~A))+V[13]+1309151649&4294967295,I=O+(N<<21&4294967295|N>>>11),N=A+(O^(I|~L))+V[4]+4149444226&4294967295,A=I+(N<<6&4294967295|N>>>26),N=L+(I^(A|~O))+V[11]+3174756917&4294967295,L=A+(N<<10&4294967295|N>>>22),N=O+(A^(L|~I))+V[2]+718787259&4294967295,O=L+(N<<15&4294967295|N>>>17),N=I+(L^(O|~A))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+L&4294967295}r.prototype.v=function(R,A){A===void 0&&(A=R.length);const I=A-this.blockSize,V=this.C;let O=this.h,L=0;for(;L<A;){if(O==0)for(;L<=I;)o(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<A;)if(V[O++]=R.charCodeAt(L++),O==this.blockSize){o(this,V),O=0;break}}else for(;L<A;)if(V[O++]=R[L++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=A},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)R[A++]=this.g[I]>>>V&255;return R};function c(R,A){var I=p;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=A(R)}function u(R,A){this.h=A;const I=[];let V=!0;for(let O=R.length-1;O>=0;O--){const L=R[O]|0;V&&L==A||(I[O]=L,V=!1)}this.g=I}var p={};function g(R){return-128<=R&&R<128?c(R,function(A){return new u([A|0],A<0?-1:0)}):new u([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return E;if(R<0)return z(y(-R));const A=[];let I=1;for(let V=0;R>=I;V++)A[V]=R/I|0,I*=4294967296;return new u(A,0)}function x(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return z(x(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(A,8));let V=E;for(let L=0;L<R.length;L+=8){var O=Math.min(8,R.length-L);const N=parseInt(R.substring(L,L+O),A);O<8?(O=y(Math.pow(A,O)),V=V.j(O).add(y(N))):(V=V.j(I),V=V.add(y(N)))}return V}var E=g(0),T=g(1),C=g(16777216);s=u.prototype,s.m=function(){if(U(this))return-z(this).m();let R=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);R+=(V>=0?V:4294967296+V)*A,A*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(q(this))return"0";if(U(this))return"-"+z(this).toString(R);const A=y(Math.pow(R,6));var I=this;let V="";for(;;){const O=B(I,A).g;I=te(I,O.j(A));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=O,q(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function q(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function U(R){return R.h==-1}s.l=function(R){return R=te(this,R),U(R)?-1:q(R)?0:1};function z(R){const A=R.g.length,I=[];for(let V=0;V<A;V++)I[V]=~R.g[V];return new u(I,~R.h).add(T)}s.abs=function(){return U(this)?z(this):this},s.add=function(R){const A=Math.max(this.g.length,R.g.length),I=[];let V=0;for(let O=0;O<=A;O++){let L=V+(this.i(O)&65535)+(R.i(O)&65535),N=(L>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);V=N>>>16,L&=65535,N&=65535,I[O]=N<<16|L}return new u(I,I[I.length-1]&-2147483648?-1:0)};function te(R,A){return R.add(z(A))}s.j=function(R){if(q(this)||q(R))return E;if(U(this))return U(R)?z(this).j(z(R)):z(z(this).j(R));if(U(R))return z(this.j(z(R)));if(this.l(C)<0&&R.l(C)<0)return y(this.m()*R.m());const A=this.g.length+R.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<R.g.length;O++){const L=this.i(V)>>>16,N=this.i(V)&65535,ne=R.i(O)>>>16,xe=R.i(O)&65535;I[2*V+2*O]+=N*xe,W(I,2*V+2*O),I[2*V+2*O+1]+=L*xe,W(I,2*V+2*O+1),I[2*V+2*O+1]+=N*ne,W(I,2*V+2*O+1),I[2*V+2*O+2]+=L*ne,W(I,2*V+2*O+2)}for(R=0;R<A;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=A;R<2*A;R++)I[R]=0;return new u(I,0)};function W(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function F(R,A){this.g=R,this.h=A}function B(R,A){if(q(A))throw Error("division by zero");if(q(R))return new F(E,E);if(U(R))return A=B(z(R),A),new F(z(A.g),z(A.h));if(U(A))return A=B(R,z(A)),new F(z(A.g),A.h);if(R.g.length>30){if(U(R)||U(A))throw Error("slowDivide_ only works with positive integers.");for(var I=T,V=A;V.l(R)<=0;)I=le(I),V=le(V);var O=pe(I,1),L=pe(V,1);for(V=pe(V,2),I=pe(I,2);!q(V);){var N=L.add(V);N.l(R)<=0&&(O=O.add(I),L=N),V=pe(V,1),I=pe(I,1)}return A=te(R,O.j(A)),new F(O,A)}for(O=E;R.l(A)>=0;){for(I=Math.max(1,Math.floor(R.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(I),N=L.j(A);U(N)||N.l(R)>0;)I-=V,L=y(I),N=L.j(A);q(L)&&(L=T),O=O.add(L),R=te(R,N)}return new F(O,R)}s.B=function(R){return B(this,R).h},s.and=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&R.i(V);return new u(I,this.h&R.h)},s.or=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|R.i(V);return new u(I,this.h|R.h)},s.xor=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^R.i(V);return new u(I,this.h^R.h)};function le(R){const A=R.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=R.i(V)<<1|R.i(V-1)>>>31;return new u(I,R.h)}function pe(R,A){const I=A>>5;A%=32;const V=R.g.length-I,O=[];for(let L=0;L<V;L++)O[L]=A>0?R.i(L+I)>>>A|R.i(L+I+1)<<32-A:R.i(L+I);return new u(O,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,J1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=x,Tr=u}).apply(typeof Ab<"u"?Ab:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var W1,dc,Z1,qh,Tp,eE,tE,nE;(function(){var s,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var _=0;_<h.length;++_){var b=h[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function o(h,_){if(_)e:{var b=r;h=h.split(".");for(var S=0;S<h.length-1;S++){var H=h[S];if(!(H in b))break e;b=b[H]}h=h[h.length-1],S=b[h],_=_(S),_!=S&&_!=null&&e(b,h,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(_){var b=[],S;for(S in _)Object.prototype.hasOwnProperty.call(_,S)&&b.push([S,_[S]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function p(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function g(h,_,b){return h.call.apply(h.bind,arguments)}function y(h,_,b){return y=g,y.apply(null,arguments)}function x(h,_){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function E(h,_){function b(){}b.prototype=_.prototype,h.Z=_.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(S,H,X){for(var ue=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ue[Ie-2]=arguments[Ie];return _.prototype[H].apply(S,ue)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const _=h.length;if(_>0){const b=Array(_);for(let S=0;S<_;S++)b[S]=h[S];return b}return[]}function q(h,_){for(let S=1;S<arguments.length;S++){const H=arguments[S];var b=typeof H;if(b=b!="object"?b:H?Array.isArray(H)?"array":b:"null",b=="array"||b=="object"&&typeof H.length=="number"){b=h.length||0;const X=H.length||0;h.length=b+X;for(let ue=0;ue<X;ue++)h[b+ue]=H[ue]}else h.push(H)}}class U{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function z(h){u.setTimeout(()=>{throw h},0)}function te(){var h=R;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class W{constructor(){this.h=this.g=null}add(_,b){const S=F.get();S.set(_,b),this.h?this.h.next=S:this.g=S,this.h=S}}var F=new U(()=>new B,h=>h.reset());class B{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,R=new W,A=()=>{const h=Promise.resolve(void 0);le=()=>{h.then(I)}};function I(){for(var h;h=te();){try{h.h.call(h.g)}catch(b){z(b)}var _=F;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}pe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};u.addEventListener("test",b,_),u.removeEventListener("test",b,_)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function ne(h,_){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}E(ne,O),ne.prototype.init=function(h,_){const b=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(b=="mouseover"?_=h.fromElement:b=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),Y=0;function oe(h,_,b,S,H){this.listener=h,this.proxy=null,this.src=_,this.type=b,this.capture=!!S,this.ha=H,this.key=++Y,this.da=this.fa=!1}function ge(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Re(h,_,b){for(const S in h)_.call(b,h[S],S,h)}function $e(h,_){for(const b in h)_.call(void 0,h[b],b,h)}function M(h){const _={};for(const b in h)_[b]=h[b];return _}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(h,_){let b,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(b in S)h[b]=S[b];for(let X=0;X<Q.length;X++)b=Q[X],Object.prototype.hasOwnProperty.call(S,b)&&(h[b]=S[b])}}function ce(h){this.src=h,this.g={},this.h=0}ce.prototype.add=function(h,_,b,S,H){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ue=_e(h,_,S,H);return ue>-1?(_=h[ue],b||(_.fa=!1)):(_=new oe(_,this.src,X,!!S,H),_.fa=b,h.push(_)),_};function he(h,_){const b=_.type;if(b in h.g){var S=h.g[b],H=Array.prototype.indexOf.call(S,_,void 0),X;(X=H>=0)&&Array.prototype.splice.call(S,H,1),X&&(ge(_),h.g[b].length==0&&(delete h.g[b],h.h--))}}function _e(h,_,b,S){for(let H=0;H<h.length;++H){const X=h[H];if(!X.da&&X.listener==_&&X.capture==!!b&&X.ha==S)return H}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),mt={};function je(h,_,b,S,H){if(Array.isArray(_)){for(let X=0;X<_.length;X++)je(h,_[X],b,S,H);return null}return b=Mi(b),h&&h[xe]?h.J(_,b,p(S)?!!S.capture:!1,H):zt(h,_,b,!1,S,H)}function zt(h,_,b,S,H,X){if(!_)throw Error("Invalid event type");const ue=p(H)?!!H.capture:!!H;let Ie=si(h);if(Ie||(h[Oe]=Ie=new ce(h)),b=Ie.add(_,b,S,ue,X),b.proxy)return b;if(S=bt(),b.proxy=S,S.src=h,S.listener=b,h.addEventListener)L||(H=ue),H===void 0&&(H=!1),h.addEventListener(_.toString(),S,H);else if(h.attachEvent)h.attachEvent(En(_.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function bt(){function h(b){return _.call(h.src,h.listener,b)}const _=Lr;return h}function ni(h,_,b,S,H){if(Array.isArray(_))for(var X=0;X<_.length;X++)ni(h,_[X],b,S,H);else S=p(S)?!!S.capture:!!S,b=Mi(b),h&&h[xe]?(h=h.i,X=String(_).toString(),X in h.g&&(_=h.g[X],b=_e(_,b,S,H),b>-1&&(ge(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete h.g[X],h.h--)))):h&&(h=si(h))&&(_=h.g[_.toString()],h=-1,_&&(h=_e(_,b,S,H)),(b=h>-1?_[h]:null)&&ji(b))}function ji(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[xe])he(_.i,h);else{var b=h.type,S=h.proxy;_.removeEventListener?_.removeEventListener(b,S,h.capture):_.detachEvent?_.detachEvent(En(b),S):_.addListener&&_.removeListener&&_.removeListener(S),(b=si(_))?(he(b,h),b.h==0&&(b.src=null,_[Oe]=null)):ge(h)}}}function En(h){return h in mt?mt[h]:mt[h]="on"+h}function Lr(h,_){if(h.da)h=!0;else{_=new ne(_,this);const b=h.listener,S=h.ha||h.src;h.fa&&ji(h),h=b.call(S,_)}return h}function si(h){return h=h[Oe],h instanceof ce?h:null}var zr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mi(h){return typeof h=="function"?h:(h[zr]||(h[zr]=function(_){return h.handleEvent(_)}),h[zr])}function dt(){V.call(this),this.i=new ce(this),this.M=this,this.G=null}E(dt,V),dt.prototype[xe]=!0,dt.prototype.removeEventListener=function(h,_,b,S){ni(this,h,_,b,S)};function pt(h,_){var b,S=h.G;if(S)for(b=[];S;S=S.G)b.push(S);if(h=h.M,S=_.type||_,typeof _=="string")_=new O(_,h);else if(_ instanceof O)_.target=_.target||h;else{var H=_;_=new O(S,h),ae(_,H)}H=!0;let X,ue;if(b)for(ue=b.length-1;ue>=0;ue--)X=_.g=b[ue],H=vs(X,S,!0,_)&&H;if(X=_.g=h,H=vs(X,S,!0,_)&&H,H=vs(X,S,!1,_)&&H,b)for(ue=0;ue<b.length;ue++)X=_.g=b[ue],H=vs(X,S,!1,_)&&H}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const b=h.g[_];for(let S=0;S<b.length;S++)ge(b[S]);delete h.g[_],h.h--}}this.G=null},dt.prototype.J=function(h,_,b,S){return this.i.add(String(h),_,!1,b,S)},dt.prototype.K=function(h,_,b,S){return this.i.add(String(h),_,!0,b,S)};function vs(h,_,b,S){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let H=!0;for(let X=0;X<_.length;++X){const ue=_[X];if(ue&&!ue.da&&ue.capture==b){const Ie=ue.listener,Et=ue.ha||ue.src;ue.fa&&he(h.i,ue),H=Ie.call(Et,S)!==!1&&H}}return H&&!S.defaultPrevented}function Va(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function Ua(h){h.g=Va(()=>{h.g=null,h.i&&(h.i=!1,Ua(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class en extends V{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ua(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vi(h){V.call(this),this.h=h,this.g={}}E(Vi,V);var Ui=[];function Br(h){Re(h.g,function(_,b){this.g.hasOwnProperty(b)&&ji(_)},h),h.g={}}Vi.prototype.N=function(){Vi.Z.N.call(this),Br(this)},Vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bs=u.JSON.stringify,wn=u.JSON.parse,on=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Pn(){}function Zc(){}var ts={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){O.call(this,"d")}E(Gt,O);function Ln(){O.call(this,"c")}E(Ln,O);var xt={},eu=null;function Pa(){return eu=eu||new dt}xt.Ia="serverreachability";function tu(h){O.call(this,xt.Ia,h)}E(tu,O);function xs(h){const _=Pa();pt(_,new tu(_))}xt.STAT_EVENT="statevent";function qr(h,_){O.call(this,xt.STAT_EVENT,h),this.stat=_}E(qr,O);function At(h){const _=Pa();pt(_,new qr(_,h))}xt.Ja="timingevent";function Es(h,_){O.call(this,xt.Ja,h),this.size=_}E(Es,O);function ws(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function ns(){this.g=!0}ns.prototype.ua=function(){this.g=!1};function Bd(h,_,b,S,H,X){h.info(function(){if(h.g)if(X){var ue="",Ie=X.split("&");for(let Ke=0;Ke<Ie.length;Ke++){var Et=Ie[Ke].split("=");if(Et.length>1){const lt=Et[0];Et=Et[1];const Hn=lt.split("_");ue=Hn.length>=2&&Hn[1]=="type"?ue+(lt+"="+Et+"&"):ue+(lt+"=redacted&")}}}else ue=null;else ue=X;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+_+`
`+b+`
`+ue})}function nu(h,_,b,S,H,X,ue){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+_+`
`+b+`
`+X+" "+ue})}function Ts(h,_,b,S){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+qd(h,b)+(S?" "+S:"")})}function Hr(h,_){h.info(function(){return"TIMEOUT: "+_})}ns.prototype.info=function(){};function qd(h,_){if(!h.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var b=X[h];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var H=S[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ue=1;ue<S.length;ue++)S[ue]=""}}}}return bs(X)}catch{return _}}var Fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ol;function Gr(){}E(Gr,Pn),Gr.prototype.g=function(){return new XMLHttpRequest},ol=new Gr;function ii(h){return encodeURIComponent(String(h))}function su(h){var _=1;h=h.split(":");const b=[];for(;_>0&&h.length;)b.push(h.shift()),_--;return h.length&&b.push(h.join(":")),b}function ss(h,_,b,S){this.j=h,this.i=_,this.l=b,this.S=S||1,this.V=new Vi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new is}function is(){this.i=null,this.g="",this.h=!1}var Nt={},Bt={};function Ss(h,_,b){h.M=1,h.A=$r(Ct(_)),h.u=b,h.R=!0,La(h,null)}function La(h,_){h.F=Date.now(),As(h),h.B=Ct(h.A);var b=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),Ha(b.i,"t",S),h.C=0,b=h.j.L,h.h=new is,h.g=_u(h.j,b?_:null,!h.u),h.P>0&&(h.O=new en(y(h.Y,h,h.g),h.P)),_=h.V,b=h.g,S=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(Ui[0]=H.toString()),H=Ui);for(let X=0;X<H.length;X++){const ue=je(b,H[X],S||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=h.J?M(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),xs(),Bd(h.i,h.v,h.B,h.l,h.S,h.u)}ss.prototype.ba=function(h){h=h.target;const _=this.O;_&&os(h)==3?_.j():this.Y(h)},ss.prototype.Y=function(h){try{if(h==this.g)e:{const Ie=os(this.g),Et=this.g.ya(),Ke=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||Ie!=4||Et==7||(Et==8||Ke<=0?xs(3):xs(2)),Ns(this);var _=this.g.ca();this.X=_;var b=Hd(this);if(this.o=_==200,nu(this.i,this.v,this.B,this.l,this.S,Ie,_),this.o){if(this.U&&!this.L){t:{if(this.g){var S,H=this.g;if((S=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var X=S;break t}}X=null}if(h=X)Ts(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Rs(this,h);else{this.o=!1,this.m=3,At(12),Tn(this),zn(this);break e}}if(this.R){h=!0;let lt;for(;!this.K&&this.C<b.length;)if(lt=ru(this,b),lt==Bt){Ie==4&&(this.m=4,At(14),h=!1),Ts(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Nt){this.m=4,At(15),Ts(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else Ts(this.i,this.l,lt,null),Rs(this,lt);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||b.length!=0||this.h.h||(this.m=1,At(16),h=!1),this.o=this.o&&h,!h)Ts(this.i,this.l,b,"[Invalid Chunked Response]"),Tn(this),zn(this);else if(b.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),El(ue),ue.P=!0,At(11))}}else Ts(this.i,this.l,b,null),Rs(this,b);Ie==4&&Tn(this),this.o&&!this.K&&(Ie==4?mu(this.j,this):(this.o=!1,As(this)))}else ai(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),Tn(this),zn(this)}}}catch{}finally{}};function Hd(h){if(!iu(h))return h.g.la();const _=$t(h.g);if(_==="")return"";let b="";const S=_.length,H=os(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Tn(h),zn(h),"";h.h.i=new u.TextDecoder}for(let X=0;X<S;X++)h.h.h=!0,b+=h.h.i.decode(_[X],{stream:!(H&&X==S-1)});return _.length=0,h.h.g+=b,h.C=0,h.h.g}function iu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function ru(h,_){var b=h.C,S=_.indexOf(`
`,b);return S==-1?Bt:(b=Number(_.substring(b,S)),isNaN(b)?Nt:(S+=1,S+b>_.length?Bt:(_=_.slice(S,S+b),h.C=S+b,_)))}ss.prototype.cancel=function(){this.K=!0,Tn(this)};function As(h){h.T=Date.now()+h.H,za(h,h.H)}function za(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ws(y(h.aa,h),_)}function Ns(h){h.D&&(u.clearTimeout(h.D),h.D=null)}ss.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Hr(this.i,this.B),this.M!=2&&(xs(),At(17)),Tn(this),this.m=2,zn(this)):za(this,this.T-h)};function zn(h){h.j.I==0||h.K||mu(h.j,h)}function Tn(h){Ns(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Br(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Rs(h,_){try{var b=h.j;if(b.I!=0&&(b.g==h||Is(b.h,h))){if(!h.L&&Is(b.h,h)&&b.I==3){try{var S=b.Ba.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)Ya(b),Gi(b);else break e;Zr(b),At(18)}}else b.xa=H[1],0<b.xa-b.K&&H[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=ws(y(b.Va,b),6e3));Cs(b.h)<=1&&b.ta&&(b.ta=void 0)}else Vs(b,11)}else if((h.L||b.g==h)&&Ya(b),!N(_))for(H=b.Ba.g.parse(_),_=0;_<H.length;_++){let Ke=H[_];const lt=Ke[0];if(!(lt<=b.K))if(b.K=lt,Ke=Ke[1],b.I==2)if(Ke[0]=="c"){b.M=Ke[1],b.ba=Ke[2];const Hn=Ke[3];Hn!=null&&(b.ka=Hn,b.j.info("VER="+b.ka));const Us=Ke[4];Us!=null&&(b.za=Us,b.j.info("SVER="+b.za));const ls=Ke[5];ls!=null&&typeof ls=="number"&&ls>0&&(S=1.5*ls,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const cs=h.g;if(cs){const ea=cs.g?cs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ea){var X=S.h;X.g||ea.indexOf("spdy")==-1&&ea.indexOf("quic")==-1&&ea.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ul(X,X.h),X.h=null))}if(S.G){const Qa=cs.g?cs.g.getResponseHeader("X-HTTP-Session-Id"):null;Qa&&(S.wa=Qa,Xe(S.J,S.G,Qa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var ue=h;if(S.na=yu(S,S.L?S.ba:null,S.W),ue.L){hl(S.h,ue);var Ie=ue,Et=S.O;Et&&(Ie.H=Et),Ie.D&&(Ns(Ie),As(Ie)),S.g=ue}else du(S);b.i.length>0&&Ms(b)}else Ke[0]!="stop"&&Ke[0]!="close"||Vs(b,7);else b.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Vs(b,7):bl(b):Ke[0]!="noop"&&b.l&&b.l.qa(Ke),b.A=0)}}xs(4)}catch{}}var Rt=class{constructor(h,_){this.g=h,this.map=_}};function ll(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Cs(h){return h.h?1:h.g?h.g.size:0}function Is(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function ul(h,_){h.g?h.g.add(_):h.h=_}function hl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}ll.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function dl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const b of h.g.values())_=_.concat(b.G);return _}return C(h.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(h,_){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const S=h[b].indexOf("=");let H,X=null;S>=0?(H=h[b].substring(0,S),X=h[b].substring(S+1)):H=h[b],_(H,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Sn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Sn?(this.l=h.l,qt(this,h.j),this.o=h.o,this.g=h.g,Pi(this,h.u),this.h=h.h,fl(this,uu(h.i)),this.m=h.m):h&&(_=String(h).match(au))?(this.l=!1,qt(this,_[1]||"",!0),this.o=ks(_[2]||""),this.g=ks(_[3]||"",!0),Pi(this,_[4]),this.h=ks(_[5]||"",!0),fl(this,_[6]||"",!0),this.m=ks(_[7]||"")):(this.l=!1,this.i=new zi(null,this.l))}Sn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Kr(_,qa,!0),":");var b=this.g;return(b||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Kr(_,qa,!0),"@"),h.push(ii(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Kr(b,b.charAt(0)=="/"?ml:ou,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Kr(b,lu)),h.join("")},Sn.prototype.resolve=function(h){const _=Ct(this);let b=!!h.j;b?qt(_,h.j):b=!!h.o,b?_.o=h.o:b=!!h.g,b?_.g=h.g:b=h.u!=null;var S=h.h;if(b)Pi(_,h.u);else if(b=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var H=_.h.lastIndexOf("/");H!=-1&&(S=_.h.slice(0,H+1)+S)}if(H=S,H==".."||H==".")S="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){S=H.lastIndexOf("/",0)==0,H=H.split("/");const X=[];for(let ue=0;ue<H.length;){const Ie=H[ue++];Ie=="."?S&&ue==H.length&&X.push(""):Ie==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),S&&ue==H.length&&X.push("")):(X.push(Ie),S=!0)}S=X.join("/")}else S=H}return b?_.h=S:b=h.i.toString()!=="",b?fl(_,uu(h.i)):b=!!h.m,b&&(_.m=h.m),_};function Ct(h){return new Sn(h)}function qt(h,_,b){h.j=b?ks(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Pi(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function fl(h,_,b){_ instanceof zi?(h.i=_,Fa(h.i,h.l)):(b||(_=Kr(_,Li)),h.i=new zi(_,h.l))}function Xe(h,_,b){h.i.set(_,b)}function $r(h){return Xe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ks(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Kr(h,_,b){return typeof h=="string"?(h=encodeURI(h).replace(_,dn),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function dn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var qa=/[#\/\?@]/g,ou=/[#\?:]/g,ml=/[#\?]/g,Li=/[#\?@]/g,lu=/#/g;function zi(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function fn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ba(h.i,function(_,b){h.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}s=zi.prototype,s.add=function(h,_){fn(this),this.i=null,h=Bi(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(_),this.h+=1,this};function cu(h,_){fn(h),_=Bi(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function pl(h,_){return fn(h),_=Bi(h,_),h.g.has(_)}s.forEach=function(h,_){fn(this),this.g.forEach(function(b,S){b.forEach(function(H){h.call(_,H,S,this)},this)},this)};function gl(h,_){fn(h);let b=[];if(typeof _=="string")pl(h,_)&&(b=b.concat(h.g.get(Bi(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)b=b.concat(h[_]);return b}s.set=function(h,_){return fn(this),this.i=null,h=Bi(this,h),pl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},s.get=function(h,_){return h?(h=gl(this,h),h.length>0?String(h[0]):_):_};function Ha(h,_,b){cu(h,_),b.length>0&&(h.i=null,h.g.set(Bi(h,_),C(b)),h.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let S=0;S<_.length;S++){var b=_[S];const H=ii(b);b=gl(this,b);for(let X=0;X<b.length;X++){let ue=H;b[X]!==""&&(ue+="="+ii(b[X])),h.push(ue)}}return this.i=h.join("&")};function uu(h){const _=new zi;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Bi(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Fa(h,_){_&&!h.j&&(fn(h),h.i=null,h.g.forEach(function(b,S){const H=S.toLowerCase();S!=H&&(cu(this,S),Ha(this,H,b))},h)),h.j=_}function rs(h,_){const b=new ns;if(u.Image){const S=new Image;S.onload=x(Bn,b,"TestLoadImage: loaded",!0,_,S),S.onerror=x(Bn,b,"TestLoadImage: error",!1,_,S),S.onabort=x(Bn,b,"TestLoadImage: abort",!1,_,S),S.ontimeout=x(Bn,b,"TestLoadImage: timeout",!1,_,S),u.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else _(!1)}function yl(h,_){const b=new ns,S=new AbortController,H=setTimeout(()=>{S.abort(),Bn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:S.signal}).then(X=>{clearTimeout(H),X.ok?Bn(b,"TestPingServer: ok",!0,_):Bn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),Bn(b,"TestPingServer: error",!1,_)})}function Bn(h,_,b,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(b)}catch{}}function qi(){this.g=new on}function Ds(h){this.i=h.Sb||null,this.h=h.ab||!1}E(Ds,Pn),Ds.prototype.g=function(){return new Yr(this.i,this.h)};function Yr(h,_){dt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Yr,dt),s=Yr.prototype,s.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,as(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hi(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,as(this)),this.g&&(this.readyState=3,as(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ga(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ga(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Hi(this):as(this),this.readyState==3&&Ga(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,Hi(this))},s.Na=function(h){this.g&&(this.response=h,Hi(this))},s.ga=function(){this.g&&Hi(this)};function Hi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,as(h)}s.setRequestHeader=function(h,_){this.A.append(h,_)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=_.next();return h.join(`\r
`)};function as(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function qn(h){let _="";return Re(h,function(b,S){_+=S,_+=":",_+=b,_+=`\r
`}),_}function Qr(h,_,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=qn(b),typeof h=="string"?b!=null&&ii(b):Xe(h,_,b))}function Ze(h){dt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Ze,dt);var Os=/^https?$/i,_l=["POST","PUT"];s=Ze.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,_,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ol.g(),this.g.onreadystatechange=T(y(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(X){Xr(this,X);return}if(h=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)b.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())b.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(X=>X.toLowerCase()=="content-type"),H=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(_l,_,void 0)>=0)||S||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of b)this.g.setRequestHeader(X,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){Xr(this,X)}};function Xr(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,vl(h),ri(h)}function vl(h){h.A||(h.A=!0,pt(h,"complete"),pt(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,pt(this,"complete"),pt(this,"abort"),ri(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),Ze.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Jr(this):this.Xa())},s.Xa=function(){Jr(this)};function Jr(h){if(h.h&&typeof c<"u"){if(h.v&&os(h)==4)setTimeout(h.Ca.bind(h),0);else if(pt(h,"readystatechange"),os(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var S;if(S=X===0){let ue=String(h.D).match(au)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),S=!Os.test(ue?ue.toLowerCase():"")}b=S}if(b)pt(h,"complete"),pt(h,"success");else{h.o=6;try{var H=os(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",vl(h)}}finally{ri(h)}}}}function ri(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,_||pt(h,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function os(h){return h.g?h.g.readyState:0}s.ca=function(){try{return os(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),wn(_)}};function $t(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ai(h){const _={};h=(h.g&&os(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(N(h[S]))continue;var b=su(h[S]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const X=_[H]||[];_[H]=X,X.push(b)}$e(_,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function js(h,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||_}function Fi(h){this.za=0,this.i=[],this.j=new ns,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=js("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=js("baseRetryDelayMs",5e3,h),this.Za=js("retryDelaySeedMs",1e4,h),this.Ta=js("forwardChannelMaxRetries",2,h),this.va=js("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ll(h&&h.concurrentRequestLimit),this.Ba=new qi,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Fi.prototype,s.ka=8,s.I=1,s.connect=function(h,_,b,S){At(0),this.W=h,this.H=_||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=yu(this,null,this.W),Ms(this)};function bl(h){if($a(h),h.I==3){var _=h.V++,b=Ct(h.J);if(Xe(b,"SID",h.M),Xe(b,"RID",_),Xe(b,"TYPE","terminate"),Wr(h,b),_=new ss(h,h.j,_),_.M=2,_.A=$r(Ct(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=_.A,b=!0),b||(_.g=_u(_.j,null),_.g.ea(_.A)),_.F=Date.now(),As(_)}gu(h)}function Gi(h){h.g&&(El(h),h.g.cancel(),h.g=null)}function $a(h){Gi(h),h.v&&(u.clearTimeout(h.v),h.v=null),Ya(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Ms(h){if(!cl(h.h)&&!h.m){h.m=!0;var _=h.Ea;le||A(),pe||(le(),pe=!0),R.add(_,h),h.D=0}}function Ka(h,_){return Cs(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ws(y(h.Ea,h,_),pu(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new ss(this,this.j,h);let X=this.o;if(this.U&&(X?(X=M(X),ae(X,this.U)):X=this.U),this.u!==null||this.R||(H.J=X,X=null),this.S)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,_>4096){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=hu(this,H,_),b=Ct(this.J),Xe(b,"RID",h),Xe(b,"CVER",22),this.G&&Xe(b,"X-HTTP-Session-Id",this.G),Wr(this,b),X&&(this.R?_="headers="+ii(qn(X))+"&"+_:this.u&&Qr(b,this.u,X)),ul(this.h,H),this.Ra&&Xe(b,"TYPE","init"),this.S?(Xe(b,"$req",_),Xe(b,"SID","null"),H.U=!0,Ss(H,b,null)):Ss(H,b,_),this.I=2}}else this.I==3&&(h?xl(this,h):this.i.length==0||cl(this.h)||xl(this))};function xl(h,_){var b;_?b=_.l:b=h.V++;const S=Ct(h.J);Xe(S,"SID",h.M),Xe(S,"RID",b),Xe(S,"AID",h.K),Wr(h,S),h.u&&h.o&&Qr(S,h.u,h.o),b=new ss(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),_&&(h.i=_.G.concat(h.i)),_=hu(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ul(h.h,b),Ss(b,S,_)}function Wr(h,_){h.H&&Re(h.H,function(b,S){Xe(_,S,b)}),h.l&&Re({},function(b,S){Xe(_,S,b)})}function hu(h,_,b){b=Math.min(h.i.length,b);const S=h.l?y(h.l.Ka,h.l,h):null;e:{var H=h.i;let Ie=-1;for(;;){const Et=["count="+b];Ie==-1?b>0?(Ie=H[0].g,Et.push("ofs="+Ie)):Ie=0:Et.push("ofs="+Ie);let Ke=!0;for(let lt=0;lt<b;lt++){var X=H[lt].g;const Hn=H[lt].map;if(X-=Ie,X<0)Ie=Math.max(0,H[lt].g-100),Ke=!1;else try{X="req"+X+"_"||"";try{var ue=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Us,ls]of ue){let cs=ls;p(ls)&&(cs=bs(ls)),Et.push(X+Us+"="+encodeURIComponent(cs))}}catch(Us){throw Et.push(X+"type="+encodeURIComponent("_badmap")),Us}}catch{S&&S(Hn)}}if(Ke){ue=Et.join("&");break e}}ue=void 0}return h=h.i.splice(0,b),_.G=h,ue}function du(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;le||A(),pe||(le(),pe=!0),R.add(_,h),h.A=0}}function Zr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ws(y(h.Da,h),pu(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ws(y(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Gi(this),fu(this))};function El(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function fu(h){h.g=new ss(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ct(h.na);Xe(_,"RID","rpc"),Xe(_,"SID",h.M),Xe(_,"AID",h.K),Xe(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xe(_,"TO",h.ia),Xe(_,"TYPE","xmlhttp"),Wr(h,_),h.u&&h.o&&Qr(_,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=$r(Ct(_)),b.u=null,b.R=!0,La(b,h)}s.Va=function(){this.C!=null&&(this.C=null,Gi(this),Zr(this),At(19))};function Ya(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function mu(h,_){var b=null;if(h.g==_){Ya(h),El(h),h.g=null;var S=2}else if(Is(h.h,_))b=_.G,hl(h.h,_),S=1;else return;if(h.I!=0){if(_.o)if(S==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var H=h.D;S=Pa(),pt(S,new Es(S,b)),Ms(h)}else du(h);else if(H=_.m,H==3||H==0&&_.X>0||!(S==1&&Ka(h,_)||S==2&&Zr(h)))switch(b&&b.length>0&&(_=h.h,_.i=_.i.concat(b)),H){case 1:Vs(h,5);break;case 4:Vs(h,10);break;case 3:Vs(h,6);break;default:Vs(h,2)}}}function pu(h,_){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*_}function Vs(h,_){if(h.j.info("Error code "+_),_==2){var b=y(h.bb,h),S=h.Ua;const H=!S;S=new Sn(S||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||qt(S,"https"),$r(S),H?rs(S.toString(),b):yl(S.toString(),b)}else At(2);h.I=0,h.l&&h.l.pa(_),gu(h),$a(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function gu(h){if(h.I=0,h.ja=[],h.l){const _=dl(h.h);(_.length!=0||h.i.length!=0)&&(q(h.ja,_),q(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function yu(h,_,b){var S=b instanceof Sn?Ct(b):new Sn(b);if(S.g!="")_&&(S.g=_+"."+S.g),Pi(S,S.u);else{var H=u.location;S=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;const X=new Sn(null);S&&qt(X,S),_&&(X.g=_),H&&Pi(X,H),b&&(X.h=b),S=X}return b=h.G,_=h.wa,b&&_&&Xe(S,b,_),Xe(S,"VER",h.ka),Wr(h,S),S}function _u(h,_,b){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new Ze(new Ds({ab:b})):new Ze(h.ma),_.Fa(h.L),_}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}s=vu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function $i(){}$i.prototype.g=function(h,_){return new ln(h,_)};function ln(h,_){dt.call(this),this.g=new Fi(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!N(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new oi(this)}E(ln,dt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){bl(this.g)},ln.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=bs(h),h=b);_.i.push(new Rt(_.Ya++,h)),_.I==3&&Ms(_)},ln.prototype.N=function(){this.g.l=null,delete this.j,bl(this.g),delete this.g,ln.Z.N.call(this)};function bu(h){Gt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const b in _){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}E(bu,Gt);function xu(){Ln.call(this),this.status=1}E(xu,Ln);function oi(h){this.g=h}E(oi,vu),oi.prototype.ra=function(){pt(this.g,"a")},oi.prototype.qa=function(h){pt(this.g,new bu(h))},oi.prototype.pa=function(h){pt(this.g,new xu)},oi.prototype.oa=function(){pt(this.g,"b")},$i.prototype.createWebChannel=$i.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,nE=function(){return new $i},tE=function(){return Pa()},eE=xt,Tp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fr.NO_ERROR=0,Fr.TIMEOUT=8,Fr.HTTP_ERROR=6,qh=Fr,al.COMPLETE="complete",Z1=al,Zc.EventType=ts,ts.OPEN="a",ts.CLOSE="b",ts.ERROR="c",ts.MESSAGE="d",dt.prototype.listen=dt.prototype.J,dc=Zc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,W1=Ze}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo="12.9.0";function Dk(s){Wo=s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new ig("@firebase/firestore");function Ao(){return Na.logLevel}function fe(s,...e){if(Na.logLevel<=Le.DEBUG){const n=e.map(pg);Na.debug(`Firestore (${Wo}): ${s}`,...n)}}function ki(s,...e){if(Na.logLevel<=Le.ERROR){const n=e.map(pg);Na.error(`Firestore (${Wo}): ${s}`,...n)}}function Ra(s,...e){if(Na.logLevel<=Le.WARN){const n=e.map(pg);Na.warn(`Firestore (${Wo}): ${s}`,...n)}}function pg(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,sE(s,r,n)}function sE(s,e,n){let r=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ki(r),new Error(r)}function Qe(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||sE(e,o,r)}function Ne(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ok{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class jk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Mk{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new xa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new xa,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new xa)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new iE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class Vk{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Uk{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Vk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Nb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const r=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Nb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Nb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Lk(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function ze(s,e){return s<e?-1:s>e?1:0}function Sp(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return sp(o)===sp(c)?ze(o,c):sp(o)?1:-1}return ze(s.length,e.length)}const zk=55296,Bk=57343;function sp(s){const e=s.charCodeAt(0);return e>=zk&&e<=Bk}function Bo(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="__name__";class qs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=qs.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return ze(e.length,n.length)}static compareSegments(e,n){const r=qs.isNumericId(e),o=qs.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?qs.extractNumericId(e).compare(qs.extractNumericId(n)):Sp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}}class it extends qs{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const qk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends qs{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return qk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rb}static keyField(){return new Wt([Rb])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new de(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new de(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(u=!u,o++):p!=="."||u?(r+=p,o++):(c(),o++)}if(c(),u)throw new de(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(it.fromString(e))}static fromName(e){return new be(it.fromString(e).popFirst(5))}static empty(){return new be(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(s,e,n){if(!n)throw new de(ie.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Hk(s,e,n,r){if(e===!0&&r===!0)throw new de(ie.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Cb(s){if(!be.isDocumentKey(s))throw new de(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Ib(s){if(be.isDocumentKey(s))throw new de(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function aE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ed(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te(12329,{type:typeof s})}function Sr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ed(s);throw new de(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(s,e){const n={typeString:s};return e&&(n.value=e),n}function Gc(s,e){if(!aE(s))throw new de(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const u=s[r];if(o&&typeof u!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new de(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=-62135596800,Db=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Db);return new ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kb)throw new de(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Db}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gc(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Vt("string",ot._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ot(0,0))}static max(){return new Se(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=-1;function Fk(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new Rr(o,be.empty(),e)}function Gk(s){return new Rr(s.readTime,s.key,Ic)}class Rr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rr(Se.min(),be.empty(),Ic)}static max(){return new Rr(Se.max(),be.empty(),Ic)}}function $k(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(s.documentKey,e.documentKey),n!==0?n:ze(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(s){if(s.code!==ie.FAILED_PRECONDITION||s.message!==Kk)throw s;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,r)=>{n(e)}))}static reject(e){return new re(((n,r)=>{r(e)}))}static waitFor(e){return new re(((n,r)=>{let o=0,c=0,u=!1;e.forEach((p=>{++o,p.next((()=>{++c,u&&c===o&&n()}),(g=>r(g)))})),u=!0,c===o&&n()}))}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next((o=>o?re.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new re(((r,o)=>{const c=e.length,u=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((x=>{u[y]=x,++p,p===c&&r(u)}),(x=>o(x)))}}))}static doWhile(e,n){return new re(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function Qk(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function el(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=-1;function Td(s){return s==null}function sd(s){return s===0&&1/s==-1/0}function Xk(s){return typeof s=="number"&&Number.isInteger(s)&&!sd(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="";function Jk(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=Ob(e)),e=Wk(s.get(n),e);return Ob(e)}function Wk(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case oE:n+="";break;default:n+=c}}return n}function Ob(s){return s+oE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Ur(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function lE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ch(this.root,e,this.comparator,!0)}}class Ch{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??Jt.RED,this.left=o??Jt.EMPTY,this.right=c??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new Jt(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mb(this.data.getIterator())}getIteratorFrom(e){return new Mb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class Mb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new jn([])}unionWith(e){let n=new Lt(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new cE("Invalid base64 string: "+c):c}})(e);return new Zt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const Zk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(s){if(Qe(!!s,39018),typeof s=="string"){let e=0;const n=Zk.exec(s);if(Qe(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(s.seconds),nanos:St(s.nanos)}}function St(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ir(s){return typeof s=="string"?Zt.fromBase64String(s):Zt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="server_timestamp",hE="__type__",dE="__previous_value__",fE="__local_write_time__";function _g(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[hE])==null?void 0:r.stringValue)===uE}function Sd(s){const e=s.mapValue.fields[dE];return _g(e)?Sd(e):e}function kc(s){const e=Cr(s.mapValue.fields[fE].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n,r,o,c,u,p,g,y,x,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=x,this.apiKey=E}}const id="(default)";class Dc{constructor(e,n){this.projectId=e,this.database=n||id}static empty(){return new Dc("","")}get isDefaultDatabase(){return this.database===id}isEqual(e){return e instanceof Dc&&e.projectId===this.projectId&&e.database===this.database}}function t4(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new de(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dc(s.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="__type__",n4="__max__",Ih={mapValue:{}},pE="__vector__",rd="value";function kr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?_g(s)?4:i4(s)?9007199254740991:s4(s)?10:11:Te(28295,{value:s})}function Ws(s,e){if(s===e)return!0;const n=kr(s);if(n!==kr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return kc(s).isEqual(kc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=Cr(o.timestampValue),p=Cr(c.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Ir(o.bytesValue).isEqual(Ir(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return St(o.geoPointValue.latitude)===St(c.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return St(o.integerValue)===St(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=St(o.doubleValue),p=St(c.doubleValue);return u===p?sd(u)===sd(p):isNaN(u)&&isNaN(p)}return!1})(s,e);case 9:return Bo(s.arrayValue.values||[],e.arrayValue.values||[],Ws);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},p=c.mapValue.fields||{};if(jb(u)!==jb(p))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(p[g]===void 0||!Ws(u[g],p[g])))return!1;return!0})(s,e);default:return Te(52216,{left:s})}}function Oc(s,e){return(s.values||[]).find((n=>Ws(n,e)))!==void 0}function qo(s,e){if(s===e)return 0;const n=kr(s),r=kr(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(s.booleanValue,e.booleanValue);case 2:return(function(c,u){const p=St(c.integerValue||c.doubleValue),g=St(u.integerValue||u.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return Vb(s.timestampValue,e.timestampValue);case 4:return Vb(kc(s),kc(e));case 5:return Sp(s.stringValue,e.stringValue);case 6:return(function(c,u){const p=Ir(c),g=Ir(u);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,u){const p=c.split("/"),g=u.split("/");for(let y=0;y<p.length&&y<g.length;y++){const x=ze(p[y],g[y]);if(x!==0)return x}return ze(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,u){const p=ze(St(c.latitude),St(u.latitude));return p!==0?p:ze(St(c.longitude),St(u.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Ub(s.arrayValue,e.arrayValue);case 10:return(function(c,u){var T,C,q,U;const p=c.fields||{},g=u.fields||{},y=(T=p[rd])==null?void 0:T.arrayValue,x=(C=g[rd])==null?void 0:C.arrayValue,E=ze(((q=y==null?void 0:y.values)==null?void 0:q.length)||0,((U=x==null?void 0:x.values)==null?void 0:U.length)||0);return E!==0?E:Ub(y,x)})(s.mapValue,e.mapValue);case 11:return(function(c,u){if(c===Ih.mapValue&&u===Ih.mapValue)return 0;if(c===Ih.mapValue)return 1;if(u===Ih.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=u.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let E=0;E<g.length&&E<x.length;++E){const T=Sp(g[E],x[E]);if(T!==0)return T;const C=qo(p[g[E]],y[x[E]]);if(C!==0)return C}return ze(g.length,x.length)})(s.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function Vb(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ze(s,e);const n=Cr(s),r=Cr(e),o=ze(n.seconds,r.seconds);return o!==0?o:ze(n.nanos,r.nanos)}function Ub(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=qo(n[o],r[o]);if(c)return c}return ze(n.length,r.length)}function Ho(s){return Ap(s)}function Ap(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=Cr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Ir(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return be.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=Ap(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const u of r)c?c=!1:o+=",",o+=`${u}:${Ap(n.fields[u])}`;return o+"}"})(s.mapValue):Te(61005,{value:s})}function Hh(s){switch(kr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sd(s);return e?16+Hh(e):16;case 5:return 2*s.stringValue.length;case 6:return Ir(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Hh(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Ur(r.fields,((c,u)=>{o+=c.length+Hh(u)})),o})(s.mapValue);default:throw Te(13486,{value:s})}}function Pb(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Np(s){return!!s&&"integerValue"in s}function vg(s){return!!s&&"arrayValue"in s}function Lb(s){return!!s&&"nullValue"in s}function zb(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Fh(s){return!!s&&"mapValue"in s}function s4(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[mE])==null?void 0:r.stringValue)===pE}function xc(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ur(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=xc(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xc(s.arrayValue.values[n]);return e}return{...s}}function i4(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===n4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xc(n)}setAll(e){let n=Wt.emptyPath(),r={},o=[];e.forEach(((u,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=p.popLast()}u?r[p.lastSegment()]=xc(u):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());Fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Ur(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new xn(xc(this.value))}}function gE(s){const e=[];return Ur(s.fields,((n,r)=>{const o=new Wt([n]);if(Fh(r)){const c=gE(r.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,r,o,c,u,p){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=u,this.documentState=p}static newInvalidDocument(e){return new rn(e,0,Se.min(),Se.min(),Se.min(),xn.empty(),0)}static newFoundDocument(e,n,r,o){return new rn(e,1,n,Se.min(),r,o,0)}static newNoDocument(e,n){return new rn(e,2,n,Se.min(),Se.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,Se.min(),Se.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.position=e,this.inclusive=n}}function Bb(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],u=s.position[o];if(c.field.isKeyField()?r=be.comparator(be.fromName(u.referenceValue),n.key):r=qo(u,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function qb(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ws(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n="asc"){this.field=e,this.dir=n}}function r4(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{}class Mt extends yE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new o4(e,n,r):n==="array-contains"?new u4(e,r):n==="in"?new h4(e,r):n==="not-in"?new d4(e,r):n==="array-contains-any"?new f4(e,r):new Mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new l4(e,r):new c4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qo(n,this.value)):n!==null&&kr(this.value)===kr(n)&&this.matchesComparison(qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ys extends yE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ys(e,n)}matches(e){return _E(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _E(s){return s.op==="and"}function vE(s){return a4(s)&&_E(s)}function a4(s){for(const e of s.filters)if(e instanceof ys)return!1;return!0}function Rp(s){if(s instanceof Mt)return s.field.canonicalString()+s.op.toString()+Ho(s.value);if(vE(s))return s.filters.map((e=>Rp(e))).join(",");{const e=s.filters.map((n=>Rp(n))).join(",");return`${s.op}(${e})`}}function bE(s,e){return s instanceof Mt?(function(r,o){return o instanceof Mt&&r.op===o.op&&r.field.isEqual(o.field)&&Ws(r.value,o.value)})(s,e):s instanceof ys?(function(r,o){return o instanceof ys&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,u,p)=>c&&bE(u,o.filters[p])),!0):!1})(s,e):void Te(19439)}function xE(s){return s instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ho(n.value)}`})(s):s instanceof ys?(function(n){return n.op.toString()+" {"+n.getFilters().map(xE).join(" ,")+"}"})(s):"Filter"}class o4 extends Mt{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class l4 extends Mt{constructor(e,n){super(e,"in",n),this.keys=EE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class c4 extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=EE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function EE(s,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>be.fromName(r.referenceValue)))}class u4 extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vg(n)&&Oc(n.arrayValue,this.value)}}class h4 extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Oc(this.value.arrayValue,n)}}class d4 extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Oc(this.value.arrayValue,n)}}class f4 extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Oc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n=null,r=[],o=[],c=null,u=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=u,this.endAt=p,this.Te=null}}function Hb(s,e=null,n=[],r=[],o=null,c=null,u=null){return new m4(s,e,n,r,o,c,u)}function bg(s){const e=Ne(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Rp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Td(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ho(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ho(r))).join(",")),e.Te=n}return e.Te}function xg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!r4(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!bE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!qb(s.startAt,e.startAt)&&qb(s.endAt,e.endAt)}function Cp(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n=null,r=[],o=[],c=null,u="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=u,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function p4(s,e,n,r,o,c,u,p){return new tl(s,e,n,r,o,c,u,p)}function Eg(s){return new tl(s)}function Fb(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function g4(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function wE(s){return s.collectionGroup!==null}function Ec(s){const e=Ne(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let p=new Lt(Wt.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new jc(c,r))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new jc(Wt.keyField(),r))}return e.Ie}function Qs(s){const e=Ne(s);return e.Ee||(e.Ee=y4(e,Ec(s))),e.Ee}function y4(s,e){if(s.limitType==="F")return Hb(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new jc(o.field,c)}));const n=s.endAt?new ad(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ad(s.startAt.position,s.startAt.inclusive):null;return Hb(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Ip(s,e){const n=s.filters.concat([e]);return new tl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function _4(s,e){const n=s.explicitOrderBy.concat([e]);return new tl(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function kp(s,e,n){return new tl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Ad(s,e){return xg(Qs(s),Qs(e))&&s.limitType===e.limitType}function TE(s){return`${bg(Qs(s))}|lt:${s.limitType}`}function No(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>xE(o))).join(", ")}]`),Td(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Ho(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Ho(o))).join(",")),`Target(${r})`})(Qs(s))}; limitType=${s.limitType})`}function Nd(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):be.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Ec(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(u,p,g){const y=Bb(u,p,g);return u.inclusive?y<=0:y<0})(r.startAt,Ec(r),o)||r.endAt&&!(function(u,p,g){const y=Bb(u,p,g);return u.inclusive?y>=0:y>0})(r.endAt,Ec(r),o))})(s,e)}function v4(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function SE(s){return(e,n)=>{let r=!1;for(const o of Ec(s)){const c=b4(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function b4(s,e,n){const r=s.field.isKeyField()?be.comparator(e.key,n.key):(function(c,u,p){const g=u.data.field(c),y=p.data.field(c);return g!==null&&y!==null?qo(g,y):Te(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ur(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return lE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=new ft(be.comparator);function Di(){return x4}const AE=new ft(be.comparator);function fc(...s){let e=AE;for(const n of s)e=e.insert(n.key,n);return e}function NE(s){let e=AE;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function va(){return wc()}function RE(){return wc()}function wc(){return new Oa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const E4=new ft(be.comparator),w4=new Lt(be.comparator);function Be(...s){let e=w4;for(const n of s)e=e.add(n);return e}const T4=new Lt(ze);function S4(){return T4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function CE(s){return{integerValue:""+s}}function A4(s,e){return Xk(e)?CE(e):wg(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this._=void 0}}function N4(s,e,n){return s instanceof od?(function(o,c){const u={fields:{[hE]:{stringValue:uE},[fE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&_g(c)&&(c=Sd(c)),c&&(u.fields[dE]=c),{mapValue:u}})(n,e):s instanceof Mc?kE(s,e):s instanceof Vc?DE(s,e):(function(o,c){const u=IE(o,c),p=Gb(u)+Gb(o.Ae);return Np(u)&&Np(o.Ae)?CE(p):wg(o.serializer,p)})(s,e)}function R4(s,e,n){return s instanceof Mc?kE(s,e):s instanceof Vc?DE(s,e):n}function IE(s,e){return s instanceof ld?(function(r){return Np(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class od extends Rd{}class Mc extends Rd{constructor(e){super(),this.elements=e}}function kE(s,e){const n=OE(e);for(const r of s.elements)n.some((o=>Ws(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Vc extends Rd{constructor(e){super(),this.elements=e}}function DE(s,e){let n=OE(e);for(const r of s.elements)n=n.filter((o=>!Ws(o,r)));return{arrayValue:{values:n}}}class ld extends Rd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Gb(s){return St(s.integerValue||s.doubleValue)}function OE(s){return vg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function C4(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof Mc&&o instanceof Mc||r instanceof Vc&&o instanceof Vc?Bo(r.elements,o.elements,Ws):r instanceof ld&&o instanceof ld?Ws(r.Ae,o.Ae):r instanceof od&&o instanceof od})(s.transform,e.transform)}class I4{constructor(e,n){this.version=e,this.transformResults=n}}class ms{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ms}static exists(e){return new ms(void 0,e)}static updateTime(e){return new ms(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Cd{}function jE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Tg(s.key,ms.none()):new $c(s.key,s.data,ms.none());{const n=s.data,r=xn.empty();let o=new Lt(Wt.comparator);for(let c of e.fields)if(!o.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?r.delete(c):r.set(c,u),o=o.add(c)}return new Pr(s.key,r,new jn(o.toArray()),ms.none())}}function k4(s,e,n){s instanceof $c?(function(o,c,u){const p=o.value.clone(),g=Kb(o.fieldTransforms,c,u.transformResults);p.setAll(g),c.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(s,e,n):s instanceof Pr?(function(o,c,u){if(!Gh(o.precondition,c))return void c.convertToUnknownDocument(u.version);const p=Kb(o.fieldTransforms,c,u.transformResults),g=c.data;g.setAll(ME(o)),g.setAll(p),c.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(s,e,n):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Tc(s,e,n,r){return s instanceof $c?(function(c,u,p,g){if(!Gh(c.precondition,u))return p;const y=c.value.clone(),x=Yb(c.fieldTransforms,g,u);return y.setAll(x),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof Pr?(function(c,u,p,g){if(!Gh(c.precondition,u))return p;const y=Yb(c.fieldTransforms,g,u),x=u.data;return x.setAll(ME(c)),x.setAll(y),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(s,e,n,r):(function(c,u,p){return Gh(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p})(s,e,n)}function D4(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=IE(r.transform,o||null);c!=null&&(n===null&&(n=xn.empty()),n.set(r.field,c))}return n||null}function $b(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Bo(r,o,((c,u)=>C4(c,u)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class $c extends Cd{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Pr extends Cd{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ME(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function Kb(s,e,n){const r=new Map;Qe(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const c=s[o],u=c.transform,p=e.data.field(c.field);r.set(c.field,R4(u,p,n[o]))}return r}function Yb(s,e,n){const r=new Map;for(const o of s){const c=o.transform,u=n.data.field(o.field);r.set(o.field,N4(c,u,e))}return r}class Tg extends Cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O4 extends Cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&k4(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Tc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Tc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RE();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let p=this.applyToLocalView(u,c.mutatedFields);p=n.has(o.key)?null:p;const g=jE(u,p);g!==null&&r.set(o.key,g),u.isValidDocument()||u.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,((n,r)=>$b(n,r)))&&Bo(this.baseMutations,e.baseMutations,((n,r)=>$b(n,r)))}}class Sg{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return E4})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,r[u].version);return new Sg(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,He;function U4(s){switch(s){case ie.OK:return Te(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Te(15467,{code:s})}}function VE(s){if(s===void 0)return ki("GRPC error has no .code"),ie.UNKNOWN;switch(s){case jt.OK:return ie.OK;case jt.CANCELLED:return ie.CANCELLED;case jt.UNKNOWN:return ie.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ie.INTERNAL;case jt.UNAVAILABLE:return ie.UNAVAILABLE;case jt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case jt.NOT_FOUND:return ie.NOT_FOUND;case jt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case jt.ABORTED:return ie.ABORTED;case jt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case jt.DATA_LOSS:return ie.DATA_LOSS;default:return Te(39323,{code:s})}}(He=jt||(jt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=new Tr([4294967295,4294967295],0);function Qb(s){const e=P4().encode(s),n=new J1;return n.update(e),new Uint8Array(n.digest())}function Xb(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Tr([n,r],0),new Tr([o,c],0)]}class Ag{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mc(`Invalid padding: ${n}`);if(r<0)throw new mc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new mc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Tr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(Tr.fromNumber(r)));return o.compare(L4)===1&&(o=new Tr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Qb(e),[r,o]=Xb(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(r,o,c);if(!this.we(u))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new Ag(c,o,n);return r.forEach((p=>u.insert(p))),u}insert(e){if(this.ge===0)return;const n=Qb(e),[r,o]=Xb(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(r,o,c);this.be(u)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Kc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Id(Se.min(),o,new ft(ze),Di(),Be())}}class Kc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kc(r,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class UE{constructor(e,n){this.targetId=e,this.Ce=n}}class PE{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Jb{constructor(){this.ve=0,this.Fe=Wb(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),r=Be();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Te(38017,{changeType:c})}})),new Kc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=Wb()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class z4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Di(),this.He=kh(),this.Je=kh(),this.Ze=new ft(ze)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Cp(c))if(r===0){const u=new be(c.path);this.et(n,u,rn.newNoDocument(u,Se.min()))}else Qe(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const p=this.ut(e),g=p?this.ct(p,e,u):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let u,p;try{u=Ir(r).toUint8Array()}catch(g){if(g instanceof cE)return Ra("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Ag(u,o,c)}catch(g){return Ra(g instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const u=this.Ge.ht(),p=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,u)=>{const p=this.ot(u);if(p){if(c.current&&Cp(p.target)){const g=new be(p.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,rn.newNoDocument(g,e))}c.Be&&(n.set(u,c.ke()),c.Ke())}}));let r=Be();this.Je.forEach(((c,u)=>{let p=!0;u.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new Id(e,n,this.Ze,this.je,r);return this.je=Di(),this.He=kh(),this.Je=kh(),this.Ze=new ft(ze),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Jb,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Lt(ze),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Lt(ze),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Jb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function kh(){return new ft(be.comparator)}function Wb(){return new ft(be.comparator)}const B4={asc:"ASCENDING",desc:"DESCENDING"},q4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H4={and:"AND",or:"OR"};class F4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dp(s,e){return s.useProto3Json||Td(e)?e:{value:e}}function cd(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function G4(s,e){return cd(s,e.toTimestamp())}function Xs(s){return Qe(!!s,49232),Se.fromTimestamp((function(n){const r=Cr(n);return new ot(r.seconds,r.nanos)})(s))}function Ng(s,e){return Op(s,e).canonicalString()}function Op(s,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function zE(s){const e=it.fromString(s);return Qe(GE(e),10190,{key:e.toString()}),e}function jp(s,e){return Ng(s.databaseId,e.path)}function ip(s,e){const n=zE(e);if(n.get(1)!==s.databaseId.projectId)throw new de(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new de(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new be(qE(n))}function BE(s,e){return Ng(s.databaseId,e)}function $4(s){const e=zE(s);return e.length===4?it.emptyPath():qE(e)}function Mp(s){return new it(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function qE(s){return Qe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Zb(s,e,n){return{name:jp(s,e),fields:n.value.mapValue.fields}}function K4(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,x){return y.useProto3Json?(Qe(x===void 0||typeof x=="string",58123),Zt.fromBase64String(x||"")):(Qe(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Zt.fromUint8Array(x||new Uint8Array))})(s,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&(function(y){const x=y.code===void 0?ie.UNKNOWN:VE(y.code);return new de(x,y.message||"")})(u);n=new PE(r,o,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=ip(s,r.document.name),c=Xs(r.document.updateTime),u=r.document.createTime?Xs(r.document.createTime):Se.min(),p=new xn({mapValue:{fields:r.document.fields}}),g=rn.newFoundDocument(o,c,u,p),y=r.targetIds||[],x=r.removedTargetIds||[];n=new $h(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=ip(s,r.document),c=r.readTime?Xs(r.readTime):Se.min(),u=rn.newNoDocument(o,c),p=r.removedTargetIds||[];n=new $h([],p,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=ip(s,r.document),c=r.removedTargetIds||[];n=new $h([],c,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,u=new V4(o,c),p=r.targetId;n=new UE(p,u)}}return n}function Y4(s,e){let n;if(e instanceof $c)n={update:Zb(s,e.key,e.value)};else if(e instanceof Tg)n={delete:jp(s,e.key)};else if(e instanceof Pr)n={update:Zb(s,e.key,e.data),updateMask:sD(e.fieldMask)};else{if(!(e instanceof O4))return Te(16599,{dt:e.type});n={verify:jp(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,u){const p=u.transform;if(p instanceof od)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Mc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Vc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ld)return{fieldPath:u.field.canonicalString(),increment:p.Ae};throw Te(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:G4(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(s,e.precondition)),n}function Q4(s,e){return s&&s.length>0?(Qe(e!==void 0,14353),s.map((n=>(function(o,c){let u=o.updateTime?Xs(o.updateTime):Xs(c);return u.isEqual(Se.min())&&(u=Xs(c)),new I4(u,o.transformResults||[])})(n,e)))):[]}function X4(s,e){return{documents:[BE(s,e.path)]}}function J4(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BE(s,o);const c=(function(y){if(y.length!==0)return FE(ys.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const u=(function(y){if(y.length!==0)return y.map((x=>(function(T){return{field:Ro(T.field),direction:eD(T.dir)}})(x)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const p=Dp(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function W4(s){let e=$4(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Qe(r===1,65062);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(E){const T=HE(E);return T instanceof ys&&vE(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(E){return E.map((T=>(function(q){return new jc(Co(q.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(T)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let T;return T=typeof E=="object"?E.value:E,Td(T)?null:T})(n.limit));let g=null;n.startAt&&(g=(function(E){const T=!!E.before,C=E.values||[];return new ad(C,T)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const T=!E.before,C=E.values||[];return new ad(C,T)})(n.endAt)),p4(e,o,u,c,p,"F",g,y)}function Z4(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Co(n.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Co(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Co(n.unaryFilter.field);return Mt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Co(n.unaryFilter.field);return Mt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Mt.create(Co(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ys.create(n.compositeFilter.filters.map((r=>HE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(s):Te(30097,{filter:s})}function eD(s){return B4[s]}function tD(s){return q4[s]}function nD(s){return H4[s]}function Ro(s){return{fieldPath:s.canonicalString()}}function Co(s){return Wt.fromServerFormat(s.fieldPath)}function FE(s){return s instanceof Mt?(function(n){if(n.op==="=="){if(zb(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NAN"}};if(Lb(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zb(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NAN"}};if(Lb(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(n.field),op:tD(n.op),value:n.value}}})(s):s instanceof ys?(function(n){const r=n.getFilters().map((o=>FE(o)));return r.length===1?r[0]:{compositeFilter:{op:nD(n.op),filters:r}}})(s):Te(54877,{filter:s})}function sD(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function GE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function $E(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,r,o,c=Se.min(),u=Se.min(),p=Zt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.yt=e}}function rD(s){const e=W4({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?kp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.Sn=new oD}addToCollectionParentIndex(e,n){return this.Sn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Rr.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class oD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Lt(it.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Lt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KE=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(KE,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Fo(0)}static ar(){return new Fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="LruGarbageCollector",lD=1048576;function nx([s,e],[n,r]){const o=ze(s,n);return o===0?ze(e,r):o}class cD{constructor(e){this.Pr=e,this.buffer=new Lt(nx),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();nx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){fe(tx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){el(n)?fe(tx,"Ignoring IndexedDB error during garbage collection: ",n):await Zo(n)}await this.Ar(3e5)}))}}class hD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(wd.ce);const r=new cD(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(ex)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ex):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,c,u,p,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,u=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(r=E,p=Date.now(),this.removeTargets(e,r,n)))).next((E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(y=Date.now(),Ao()<=Le.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${o} in `+(p-u)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function dD(s,e){return new hD(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.changes=new Oa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Tc(r.mutation,o,jn.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Be()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Be()){const o=va();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let u=fc();return c.forEach(((p,g)=>{u=u.insert(p,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=va();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Be())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,p)=>{n.set(u,p)}))}))}computeViews(e,n,r,o){let c=Di();const u=wc(),p=(function(){return wc()})();return n.forEach(((g,y)=>{const x=r.get(y.key);o.has(y.key)&&(x===void 0||x.mutation instanceof Pr)?c=c.insert(y.key,y):x!==void 0?(u.set(y.key,x.mutation.getFieldMask()),Tc(x.mutation,y,x.mutation.getFieldMask(),ot.now())):u.set(y.key,jn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,x)=>u.set(y,x))),n.forEach(((y,x)=>p.set(y,new mD(x,u.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=wc();let o=new ft(((u,p)=>u-p)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const p of u)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let x=r.get(g)||jn.empty();x=p.applyToLocalView(y,x),r.set(g,x);const E=(o.get(p.batchId)||Be()).add(g);o=o.insert(p.batchId,E)}))})).next((()=>{const u=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,x=g.value,E=RE();x.forEach((T=>{if(!c.has(T)){const C=jE(n.get(T),r.get(T));C!==null&&E.set(T,C),c=c.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,E))}return re.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return g4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):re.resolve(va());let p=Ic,g=c;return u.next((y=>re.forEach(y,((x,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(x)?re.resolve():this.remoteDocumentCache.getEntry(e,x).next((T=>{g=g.insert(x,T)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Be()))).next((x=>({batchId:p,changes:NE(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((r=>{let o=fc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let u=fc();return this.indexManager.getCollectionParents(e,c).next((p=>re.forEach(p,(g=>{const y=(function(E,T){return new tl(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((x=>{x.forEach(((E,T)=>{u=u.insert(E,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((u=>{c.forEach(((g,y)=>{const x=y.getKey();u.get(x)===null&&(u=u.insert(x,rn.newInvalidDocument(x)))}));let p=fc();return u.forEach(((g,y)=>{const x=c.get(g);x!==void 0&&Tc(x.mutation,y,jn.empty(),ot.now()),Nd(n,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return re.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Xs(o.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:rD(o.bundledQuery),readTime:Xs(o.readTime)}})(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.overlays=new ft(be.comparator),this.Lr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=va();return re.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.bt(e,n,c)})),re.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const o=va(),c=n.length+1,u=new be(n.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new ft(((y,x)=>y-x));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let x=c.get(y.largestBatchId);x===null&&(x=va(),c=c.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const p=va(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,x)=>p.set(y,x))),!(p.size()>=o)););return re.resolve(p)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new M4(n,r));let c=this.Lr.get(n);c===void 0&&(c=Be(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(){this.kr=new Lt(Ft.Kr),this.qr=new Lt(Ft.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Ft(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new be(new it([])),r=new Ft(n,e),o=new Ft(n,e+1),c=[];return this.qr.forEachInRange([r,o],(u=>{this.Wr(u),c.push(u.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new be(new it([])),r=new Ft(n,e),o=new Ft(n,e+1);let c=Be();return this.qr.forEachInRange([r,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const n=new Ft(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return be.comparator(e.key,n.key)||ze(e.Hr,n.Hr)}static Ur(e,n){return ze(e.Hr,n.Hr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Lt(Ft.Kr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new j4(c,n,r,o);this.mutationQueue.push(u);for(const p of o)this.Jr=this.Jr.add(new Ft(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,n){return re.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),c=o<0?0:o;return re.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?yg:this.Yn-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),o=new Ft(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(u=>{const p=this.Zr(u.Hr);c.push(p)})),re.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(ze);return n.forEach((o=>{const c=new Ft(o,0),u=new Ft(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,u],(p=>{r=r.add(p.Hr)}))})),re.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;be.isDocumentKey(c)||(c=c.child(""));const u=new Ft(new be(c),0);let p=new Lt(ze);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)}),u),re.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return re.forEach(n.mutations,(o=>{const c=new Ft(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Ft(n,0),o=this.Jr.firstAfterOrEqual(r);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.ti=e,this.docs=(function(){return new ft(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,u=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let r=Di();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():rn.newInvalidDocument(o))})),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=Di();const u=n.path,p=new be(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||$k(Gk(x),r)<=0||(o.has(x.key)||Nd(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return re.resolve(c)}getAllFromCollectionGroup(e,n,r,o){Te(9500)}ni(e,n){return re.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new xD(this)}getSize(e){return re.resolve(this.size)}}class xD extends fD{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),re.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.persistence=e,this.ri=new Oa((n=>bg(n)),xg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new Rg,this.targetCount=0,this.oi=Fo._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),re.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Fo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.lr(n),re.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.ri.forEach(((u,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.ri.delete(u),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),re.waitFor(c).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),re.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n){this._i={},this.overlays={},this.ai=new wd(0),this.ui=!1,this.ui=!0,this.ci=new _D,this.referenceDelegate=e(this),this.li=new ED(this),this.indexManager=new aD,this.remoteDocumentCache=(function(o){return new bD(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new iD(n),this.Pi=new gD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new vD(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const o=new wD(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return re.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class wD extends Yk{constructor(e){super(),this.currentSequenceNumber=e}}class Cg{constructor(e){this.persistence=e,this.Ri=new Rg,this.Ai=null}static Vi(e){return new Cg(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.di,(r=>{const o=be.fromPath(r);return this.mi(e,o).next((c=>{c||n.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class ud{constructor(e,n){this.persistence=e,this.fi=new Oa((r=>Jk(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=dD(this,n)}static Vi(e,n){return new ud(e,n)}Ti(){}Ii(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return re.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?re.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(u=>this.wr(e,u,n).next((p=>{p||(r++,c.removeEntry(u,Se.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hh(e.data.value)),n}wr(e,n,r){return re.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return re.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=Be(),o=Be();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Ig(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return JN()?8:Qk(an())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.gs(e,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ps(e,n,o,r).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new TD;return this.ys(e,n,u).next((p=>{if(c.result=p,this.As)return this.ws(e,n,u,p.size)}))})).next((()=>c.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(Ao()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",No(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),re.resolve()):(Ao()<=Le.DEBUG&&fe("QueryEngine","Query:",No(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Ao()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",No(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qs(n))):re.resolve())}gs(e,n){if(Fb(n))return re.resolve(null);let r=Qs(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=kp(n,null,"F"),r=Qs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const u=Be(...c);return this.fs.getDocuments(e,u).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,u,g.readTime)?this.gs(e,kp(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,r,o){return Fb(n)||o.isEqual(Se.min())?re.resolve(null):this.fs.getDocuments(e,r).next((c=>{const u=this.bs(n,c);return this.Ss(n,u,r,o)?re.resolve(null):(Ao()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),No(n)),this.Ds(e,u,n,Fk(o,Ic)).next((p=>p)))}))}bs(e,n){let r=new Lt(SE(e));return n.forEach(((o,c)=>{Nd(e,c)&&(r=r.add(c))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,r){return Ao()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",No(n)),this.fs.getDocumentsMatchingQuery(e,n,Rr.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="LocalStore",AD=3e8;class ND{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ft(ze),this.Fs=new Oa((c=>bg(c)),xg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function RD(s,e,n,r){return new ND(s,e,n,r)}async function QE(s,e){const n=Ne(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const u=[],p=[];let g=Be();for(const y of o){u.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of c){p.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ns:y,removedBatchIds:u,addedBatchIds:p})))}))}))}function CD(s,e){const n=Ne(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,x){const E=y.batch,T=E.keys();let C=re.resolve();return T.forEach((q=>{C=C.next((()=>x.getEntry(g,q))).next((U=>{const z=y.docVersions.get(q);Qe(z!==null,48541),U.version.compareTo(z)<0&&(E.applyToRemoteDocument(U,y),U.isValidDocument()&&(U.setReadTime(y.commitVersion),x.addEntry(U)))}))})),C.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Be();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function XE(s){const e=Ne(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function ID(s,e){const n=Ne(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((x,E)=>{const T=o.get(E);if(!T)return;p.push(n.li.removeMatchingKeys(c,x.removedDocuments,E).next((()=>n.li.addMatchingKeys(c,x.addedDocuments,E))));let C=T.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?C=C.withResumeToken(Zt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):x.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(x.resumeToken,r)),o=o.insert(E,C),(function(U,z,te){return U.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=AD?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(T,C,x)&&p.push(n.li.updateTargetData(c,C))}));let g=Di(),y=Be();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),p.push(kD(c,u,e.documentUpdates).next((x=>{g=x.Bs,y=x.Ls}))),!r.isEqual(Se.min())){const x=n.li.getLastRemoteSnapshotVersion(c).next((E=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(x)}return re.waitFor(p).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.vs=o,c)))}function kD(s,e,n){let r=Be(),o=Be();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let u=Di();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(p,g.readTime),u=u.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),u=u.insert(p,g)):fe(kg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:u,Ls:o}}))}function DD(s,e){const n=Ne(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=yg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function OD(s,e){const n=Ne(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((c=>c?(o=c,re.resolve(o)):n.li.allocateTargetId(r).next((u=>(o=new xr(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Vp(s,e,n){const r=Ne(s),o=r.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!el(u))throw u;fe(kg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function sx(s,e,n){const r=Ne(s);let o=Se.min(),c=Be();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,y,x){const E=Ne(g),T=E.Fs.get(x);return T!==void 0?re.resolve(E.vs.get(T)):E.li.getTargetData(y,x)})(r,u,Qs(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,p.targetId).next((g=>{c=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,n?o:Se.min(),n?c:Be()))).next((p=>(jD(r,v4(e),p),{documents:p,ks:c})))))}function jD(s,e,n){let r=s.Ms.get(e)||Se.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class ix{constructor(){this.activeTargetIds=S4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MD{constructor(){this.vo=new ix,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ix,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="ConnectivityMonitor";class ax{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){fe(rx,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){fe(rx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh=null;function Up(){return Dh===null?Dh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dh++,"0x"+Dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="RestConnection",UD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class PD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===id?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,c){const u=Up(),p=this.Qo(e,n.toUriEncodedString());fe(rp,`Sending RPC '${e}' ${u}:`,p,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:y}=new URL(p),x=jr(y);return this.zo(e,p,g,r,x).then((E=>(fe(rp,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw Ra(rp,`RPC '${e}' ${u} failed with error: `,E,"url: ",p,"request:",r),E}))}jo(e,n,r,o,c,u){return this.Wo(e,n,r,o,c)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const r=UD[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection",lc=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class jo extends PD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!jo.c_){const e=tE();lc(e,eE.STAT_EVENT,(n=>{n.stat===Tp.PROXY?fe(nn,"STAT_EVENT: detected buffering proxy"):n.stat===Tp.NOPROXY&&fe(nn,"STAT_EVENT: detected no buffering proxy")})),jo.c_=!0}}zo(e,n,r,o,c){const u=Up();return new Promise(((p,g)=>{const y=new W1;y.setWithCredentials(!0),y.listenOnce(Z1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case qh.NO_ERROR:const E=y.getResponseJson();fe(nn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),p(E);break;case qh.TIMEOUT:fe(nn,`RPC '${e}' ${u} timed out`),g(new de(ie.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:const T=y.getStatus();if(fe(nn,`RPC '${e}' ${u} failed with status:`,T,"response text:",y.getResponseText()),T>0){let C=y.getResponseJson();Array.isArray(C)&&(C=C[0]);const q=C==null?void 0:C.error;if(q&&q.status&&q.message){const U=(function(te){const W=te.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(W)>=0?W:ie.UNKNOWN})(q.status);g(new de(U,q.message))}else g(new de(ie.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new de(ie.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{fe(nn,`RPC '${e}' ${u} completed.`)}}));const x=JSON.stringify(o);fe(nn,`RPC '${e}' ${u} sending request:`,o),y.send(n,"POST",x,r,15)}))}T_(e,n,r){const o=Up(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const y=c.join("");fe(nn,`Creating RPC '${e}' stream ${o}: ${y}`,p);const x=u.createWebChannel(y,p);this.I_(x);let E=!1,T=!1;const C=new LD({Ho:q=>{T?fe(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(E||(fe(nn,`Opening RPC '${e}' stream ${o} transport.`),x.open(),E=!0),fe(nn,`RPC '${e}' stream ${o} sending:`,q),x.send(q))},Jo:()=>x.close()});return lc(x,dc.EventType.OPEN,(()=>{T||(fe(nn,`RPC '${e}' stream ${o} transport opened.`),C.i_())})),lc(x,dc.EventType.CLOSE,(()=>{T||(T=!0,fe(nn,`RPC '${e}' stream ${o} transport closed`),C.o_(),this.E_(x))})),lc(x,dc.EventType.ERROR,(q=>{T||(T=!0,Ra(nn,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),C.o_(new de(ie.UNAVAILABLE,"The operation could not be completed")))})),lc(x,dc.EventType.MESSAGE,(q=>{var U;if(!T){const z=q.data[0];Qe(!!z,16349);const te=z,W=(te==null?void 0:te.error)||((U=te[0])==null?void 0:U.error);if(W){fe(nn,`RPC '${e}' stream ${o} received error:`,W);const F=W.status;let B=(function(R){const A=jt[R];if(A!==void 0)return VE(A)})(F),le=W.message;F==="NOT_FOUND"&&le.includes("database")&&le.includes("does not exist")&&le.includes(this.databaseId.database)&&Ra(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),B===void 0&&(B=ie.INTERNAL,le="Unknown error status: "+F+" with message "+W.message),T=!0,C.o_(new de(B,le)),x.close()}else fe(nn,`RPC '${e}' stream ${o} received:`,z),C.__(z)}})),jo.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return nE()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(s){return new jo(s)}function ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(s){return new F4(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jo.c_=!1;class JE{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="PersistentStream";class WE{constructor(e,n,r,o,c,u,p,g){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(ki(n.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new de(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(ox,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(fe(ox,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BD extends WE{constructor(e,n,r,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,u),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=K4(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Se.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?Xs(u.readTime):Se.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Mp(this.serializer),n.addTarget=(function(c,u){let p;const g=u.target;if(p=Cp(g)?{documents:X4(c,g)}:{query:J4(c,g).ft},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=LE(c,u.resumeToken);const y=Dp(c,u.expectedCount);y!==null&&(p.expectedCount=y)}else if(u.snapshotVersion.compareTo(Se.min())>0){p.readTime=cd(c,u.snapshotVersion.toTimestamp());const y=Dp(c,u.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=Z4(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Mp(this.serializer),n.removeTarget=e,this.K_(n)}}class qD extends WE{constructor(e,n,r,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,u),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Q4(e.writeResults,e.commitTime),r=Xs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Mp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Y4(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{}class FD extends HD{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Wo(e,Op(n,r),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(ie.UNKNOWN,c.toString())}))}jo(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,p])=>this.connection.jo(e,Op(n,r),o,u,p,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ie.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function GD(s,e,n,r){return new FD(s,e,n,r)}class $D{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ki(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="RemoteStore";class KD{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{ja(this)&&(fe(Ca,"Restarting streams for network reachability change."),await(async function(g){const y=Ne(g);y.Ea.add(4),await Yc(y),y.Va.set("Unknown"),y.Ea.delete(4),await Dd(y)})(this))}))})),this.Va=new $D(r,o)}}async function Dd(s){if(ja(s))for(const e of s.Ra)await e(!0)}async function Yc(s){for(const e of s.Ra)await e(!1)}function ZE(s,e){const n=Ne(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Mg(n)?jg(n):nl(n).O_()&&Og(n,e))}function Dg(s,e){const n=Ne(s),r=nl(n);n.Ia.delete(e),r.O_()&&ew(n,e),n.Ia.size===0&&(r.O_()?r.L_():ja(n)&&n.Va.set("Unknown"))}function Og(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nl(s).Z_(e)}function ew(s,e){s.da.$e(e),nl(s).X_(e)}function jg(s){s.da=new z4({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),nl(s).start(),s.Va.ua()}function Mg(s){return ja(s)&&!nl(s).x_()&&s.Ia.size>0}function ja(s){return Ne(s).Ea.size===0}function tw(s){s.da=void 0}async function YD(s){s.Va.set("Online")}async function QD(s){s.Ia.forEach(((e,n)=>{Og(s,e)}))}async function XD(s,e){tw(s),Mg(s)?(s.Va.ha(e),jg(s)):s.Va.set("Unknown")}async function JD(s,e,n){if(s.Va.set("Online"),e instanceof PE&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,u),o.Ia.delete(p),o.da.removeTarget(p))})(s,e)}catch(r){fe(Ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hd(s,r)}else if(e instanceof $h?s.da.Xe(e):e instanceof UE?s.da.st(e):s.da.tt(e),!n.isEqual(Se.min()))try{const r=await XE(s.localStore);n.compareTo(r)>=0&&await(function(c,u){const p=c.da.Tt(u);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=c.Ia.get(y);x&&c.Ia.set(y,x.withResumeToken(g.resumeToken,u))}})),p.targetMismatches.forEach(((g,y)=>{const x=c.Ia.get(g);if(!x)return;c.Ia.set(g,x.withResumeToken(Zt.EMPTY_BYTE_STRING,x.snapshotVersion)),ew(c,g);const E=new xr(x.target,g,y,x.sequenceNumber);Og(c,E)})),c.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){fe(Ca,"Failed to raise snapshot:",r),await hd(s,r)}}async function hd(s,e,n){if(!el(e))throw e;s.Ea.add(1),await Yc(s),s.Va.set("Offline"),n||(n=()=>XE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{fe(Ca,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Dd(s)}))}function nw(s,e){return e().catch((n=>hd(s,n,e)))}async function Od(s){const e=Ne(s),n=Dr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yg;for(;WD(e);)try{const o=await DD(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,ZD(e,o)}catch(o){await hd(e,o)}sw(e)&&iw(e)}function WD(s){return ja(s)&&s.Ta.length<10}function ZD(s,e){s.Ta.push(e);const n=Dr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function sw(s){return ja(s)&&!Dr(s).x_()&&s.Ta.length>0}function iw(s){Dr(s).start()}async function e5(s){Dr(s).ra()}async function t5(s){const e=Dr(s);for(const n of s.Ta)e.ea(n.mutations)}async function n5(s,e,n){const r=s.Ta.shift(),o=Sg.from(r,e,n);await nw(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Od(s)}async function s5(s,e){e&&Dr(s).Y_&&await(async function(r,o){if((function(u){return U4(u)&&u!==ie.ABORTED})(o.code)){const c=r.Ta.shift();Dr(r).B_(),await nw(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Od(r)}})(s,e),sw(s)&&iw(s)}async function lx(s,e){const n=Ne(s);n.asyncQueue.verifyOperationInProgress(),fe(Ca,"RemoteStore received new credentials");const r=ja(n);n.Ea.add(3),await Yc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dd(n)}async function i5(s,e){const n=Ne(s);e?(n.Ea.delete(2),await Dd(n)):e||(n.Ea.add(2),await Yc(n),n.Va.set("Unknown"))}function nl(s){return s.ma||(s.ma=(function(n,r,o){const c=Ne(n);return c.sa(),new BD(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:YD.bind(null,s),Yo:QD.bind(null,s),t_:XD.bind(null,s),J_:JD.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Mg(s)?jg(s):s.Va.set("Unknown")):(await s.ma.stop(),tw(s))}))),s.ma}function Dr(s){return s.fa||(s.fa=(function(n,r,o){const c=Ne(n);return c.sa(),new qD(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:e5.bind(null,s),t_:s5.bind(null,s),ta:t5.bind(null,s),na:n5.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Od(s)):(await s.fa.stop(),s.Ta.length>0&&(fe(Ca,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new xa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const u=Date.now()+r,p=new Vg(e,n,u,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ug(s,e){if(ki("AsyncQueue",`${e}: ${s}`),el(s))return new de(ie.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(e){return new Mo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=fc(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.ga=new ft(be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Go{constructor(e,n,r,o,c,u,p,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,c){const u=[];return n.forEach((p=>{u.push({type:0,doc:p})})),new Go(e,n,Mo.emptySet(n),u,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class a5{constructor(){this.queries=ux(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ne(n),c=o.queries;o.queries=ux(),c.forEach(((u,p)=>{for(const g of p.ba)g.onError(r)}))})(this,new de(ie.ABORTED,"Firestore shutting down"))}}function ux(){return new Oa((s=>TE(s)),Ad)}async function o5(s,e){const n=Ne(s);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new r5,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const p=Ug(u,`Initialization of query '${No(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Pg(n)}async function l5(s,e){const n=Ne(s),r=e.query;let o=3;const c=n.queries.get(r);if(c){const u=c.ba.indexOf(e);u>=0&&(c.ba.splice(u,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function c5(s,e){const n=Ne(s);let r=!1;for(const o of e){const c=o.query,u=n.queries.get(c);if(u){for(const p of u.ba)p.Fa(o)&&(r=!0);u.wa=o}}r&&Pg(n)}function u5(s,e,n){const r=Ne(s),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(n);r.queries.delete(e)}function Pg(s){s.Ca.forEach((e=>{e.next()}))}var Pp,hx;(hx=Pp||(Pp={})).Ma="default",hx.Cache="cache";class h5{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Go(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){this.key=e}}class aw{constructor(e){this.key=e}}class d5{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Be(),this.mutatedKeys=Be(),this.eu=SE(e),this.tu=new Mo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new cx,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,E)=>{const T=o.get(x),C=Nd(this.query,E)?E:null,q=!!T&&this.mutatedKeys.has(T.key),U=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let z=!1;T&&C?T.data.isEqual(C.data)?q!==U&&(r.track({type:3,doc:C}),z=!0):this.su(T,C)||(r.track({type:2,doc:C}),z=!0,(g&&this.eu(C,g)>0||y&&this.eu(C,y)<0)&&(p=!0)):!T&&C?(r.track({type:0,doc:C}),z=!0):T&&!C&&(r.track({type:1,doc:T}),z=!0,(g||y)&&(p=!0)),z&&(C?(u=u.add(C),c=U?c.add(x):c.delete(x)):(u=u.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),c=c.delete(x.key),r.track({type:1,doc:x})}return{tu:u,iu:r,Ss:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((x,E)=>(function(C,q){const U=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:z})}};return U(C)-U(q)})(x.type,E.type)||this.eu(x.doc,E.doc))),this.ou(r),o=o??!1;const p=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,u.length!==0||y?{snapshot:new Go(this.query,e.tu,c,u,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cx,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new aw(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new rw(r))})),n}cu(e){this.Za=e.ks,this.Ya=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Lg="SyncEngine";class f5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class m5{constructor(e){this.key=e,this.hu=!1}}class p5{constructor(e,n,r,o,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Oa((p=>TE(p)),Ad),this.Iu=new Map,this.Eu=new Set,this.Ru=new ft(be.comparator),this.Au=new Map,this.Vu=new Rg,this.du={},this.mu=new Map,this.fu=Fo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function g5(s,e,n=!0){const r=dw(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await ow(r,e,n,!0),o}async function y5(s,e){const n=dw(s);await ow(n,e,!0,!1)}async function ow(s,e,n,r){const o=await OD(s.localStore,Qs(e)),c=o.targetId,u=s.sharedClientState.addLocalQueryTarget(c,n);let p;return r&&(p=await _5(s,e,c,u==="current",o.resumeToken)),s.isPrimaryClient&&n&&ZE(s.remoteStore,o),p}async function _5(s,e,n,r,o){s.pu=(E,T,C)=>(async function(U,z,te,W){let F=z.view.ru(te);F.Ss&&(F=await sx(U.localStore,z.query,!1).then((({documents:R})=>z.view.ru(R,F))));const B=W&&W.targetChanges.get(z.targetId),le=W&&W.targetMismatches.get(z.targetId)!=null,pe=z.view.applyChanges(F,U.isPrimaryClient,B,le);return fx(U,z.targetId,pe.au),pe.snapshot})(s,E,T,C);const c=await sx(s.localStore,e,!0),u=new d5(e,c.ks),p=u.ru(c.documents),g=Kc.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=u.applyChanges(p,s.isPrimaryClient,g);fx(s,n,y.au);const x=new f5(e,n,u);return s.Tu.set(e,x),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function v5(s,e,n){const r=Ne(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((u=>!Ad(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Vp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Dg(r.remoteStore,o.targetId),Lp(r,o.targetId)})).catch(Zo)):(Lp(r,o.targetId),await Vp(r.localStore,o.targetId,!0))}async function b5(s,e){const n=Ne(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Dg(n.remoteStore,r.targetId))}async function x5(s,e,n){const r=R5(s);try{const o=await(function(u,p){const g=Ne(u),y=ot.now(),x=p.reduce(((C,q)=>C.add(q.key)),Be());let E,T;return g.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let q=Di(),U=Be();return g.xs.getEntries(C,x).next((z=>{q=z,q.forEach(((te,W)=>{W.isValidDocument()||(U=U.add(te))}))})).next((()=>g.localDocuments.getOverlayedDocuments(C,q))).next((z=>{E=z;const te=[];for(const W of p){const F=D4(W,E.get(W.key).overlayedDocument);F!=null&&te.push(new Pr(W.key,F,gE(F.value.mapValue),ms.exists(!0)))}return g.mutationQueue.addMutationBatch(C,y,te,p)})).next((z=>{T=z;const te=z.applyToLocalDocumentSet(E,U);return g.documentOverlayCache.saveOverlays(C,z.batchId,te)}))})).then((()=>({batchId:T.batchId,changes:NE(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,p,g){let y=u.du[u.currentUser.toKey()];y||(y=new ft(ze)),y=y.insert(p,g),u.du[u.currentUser.toKey()]=y})(r,o.batchId,n),await Qc(r,o.changes),await Od(r.remoteStore)}catch(o){const c=Ug(o,"Failed to persist write");n.reject(c)}}async function lw(s,e){const n=Ne(s);try{const r=await ID(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=n.Au.get(c);u&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Qe(u.hu,14607):o.removedDocuments.size>0&&(Qe(u.hu,42227),u.hu=!1))})),await Qc(n,r,e)}catch(r){await Zo(r)}}function dx(s,e,n){const r=Ne(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,u)=>{const p=u.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(u,p){const g=Ne(u);g.onlineState=p;let y=!1;g.queries.forEach(((x,E)=>{for(const T of E.ba)T.va(p)&&(y=!0)})),y&&Pg(g)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function E5(s,e,n){const r=Ne(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let u=new ft(be.comparator);u=u.insert(c,rn.newNoDocument(c,Se.min()));const p=Be().add(c),g=new Id(Se.min(),new Map,new ft(ze),u,p);await lw(r,g),r.Ru=r.Ru.remove(c),r.Au.delete(e),zg(r)}else await Vp(r.localStore,e,!1).then((()=>Lp(r,e,n))).catch(Zo)}async function w5(s,e){const n=Ne(s),r=e.batch.batchId;try{const o=await CD(n.localStore,e);uw(n,r,null),cw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qc(n,o)}catch(o){await Zo(o)}}async function T5(s,e,n){const r=Ne(s);try{const o=await(function(u,p){const g=Ne(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(Qe(E!==null,37113),x=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>g.localDocuments.getDocuments(y,x)))}))})(r.localStore,e);uw(r,e,n),cw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qc(r,o)}catch(o){await Zo(o)}}function cw(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function uw(s,e,n){const r=Ne(s);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Lp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||hw(s,r)}))}function hw(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(Dg(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),zg(s))}function fx(s,e,n){for(const r of n)r instanceof rw?(s.Vu.addReference(r.key,e),S5(s,r)):r instanceof aw?(fe(Lg,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||hw(s,r.key)):Te(19791,{wu:r})}function S5(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(fe(Lg,"New document in limbo: "+n),s.Eu.add(r),zg(s))}function zg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new be(it.fromString(e)),r=s.fu.next();s.Au.set(r,new m5(n)),s.Ru=s.Ru.insert(n,r),ZE(s.remoteStore,new xr(Qs(Eg(n.path)),r,"TargetPurposeLimboResolution",wd.ce))}}async function Qc(s,e,n){const r=Ne(s),o=[],c=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{u.push(r.pu(g,e,n).then((y=>{var x;if((y||n)&&r.isPrimaryClient){const E=y?!y.fromCache:(x=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:x.current;r.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Ig.Es(g.targetId,y);c.push(E)}})))})),await Promise.all(u),r.Pu.J_(o),await(async function(g,y){const x=Ne(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>re.forEach(y,(T=>re.forEach(T.Ts,(C=>x.persistence.referenceDelegate.addReference(E,T.targetId,C))).next((()=>re.forEach(T.Is,(C=>x.persistence.referenceDelegate.removeReference(E,T.targetId,C)))))))))}catch(E){if(!el(E))throw E;fe(kg,"Failed to update sequence numbers: "+E)}for(const E of y){const T=E.targetId;if(!E.fromCache){const C=x.vs.get(T),q=C.snapshotVersion,U=C.withLastLimboFreeSnapshotVersion(q);x.vs=x.vs.insert(T,U)}}})(r.localStore,c))}async function A5(s,e){const n=Ne(s);if(!n.currentUser.isEqual(e)){fe(Lg,"User change. New user:",e.toKey());const r=await QE(n.localStore,e);n.currentUser=e,(function(c,u){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new de(ie.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qc(n,r.Ns)}}function N5(s,e){const n=Ne(s),r=n.Au.get(e);if(r&&r.hu)return Be().add(r.key);{let o=Be();const c=n.Iu.get(e);if(!c)return o;for(const u of c){const p=n.Tu.get(u);o=o.unionWith(p.view.nu)}return o}}function dw(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=lw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E5.bind(null,e),e.Pu.J_=c5.bind(null,e.eventManager),e.Pu.yu=u5.bind(null,e.eventManager),e}function R5(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T5.bind(null,e),e}class dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return RD(this.persistence,new SD,e.initialUser,this.serializer)}Cu(e){return new YE(Cg.Vi,this.serializer)}Du(e){return new MD}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dd.provider={build:()=>new dd};class C5 extends dd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof ud,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new uD(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new YE((r=>ud.Vi(r,n)),this.serializer)}}class zp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=A5.bind(null,this.syncEngine),await i5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new a5})()}createDatastore(e){const n=kd(e.databaseInfo.databaseId),r=zD(e.databaseInfo);return GD(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,u,p){return new KD(r,o,c,u,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>dx(this.syncEngine,n,0)),(function(){return ax.v()?new ax:new VD})())}createSyncEngine(e,n){return(function(o,c,u,p,g,y,x){const E=new p5(o,c,u,p,g,y);return x&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const c=Ne(o);fe(Ca,"RemoteStore shutting down."),c.Ea.add(5),await Yc(c),c.Aa.shutdown(),c.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}zp.provider={build:()=>new zp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="FirestoreClient";class k5{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=gg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async u=>{fe(Or,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(fe(Or,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ug(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function op(s,e){s.asyncQueue.verifyOperationInProgress(),fe(Or,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await QE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function mx(s,e){s.asyncQueue.verifyOperationInProgress();const n=await D5(s);fe(Or,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>lx(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>lx(e.remoteStore,o))),s._onlineComponents=e}async function D5(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){fe(Or,"Using user provided OfflineComponentProvider");try{await op(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ra("Error using user provided cache. Falling back to memory cache: "+n),await op(s,new dd)}}else fe(Or,"Using default OfflineComponentProvider"),await op(s,new C5(void 0));return s._offlineComponents}async function fw(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(fe(Or,"Using user provided OnlineComponentProvider"),await mx(s,s._uninitializedComponentsProvider._online)):(fe(Or,"Using default OnlineComponentProvider"),await mx(s,new zp))),s._onlineComponents}function O5(s){return fw(s).then((e=>e.syncEngine))}async function px(s){const e=await fw(s),n=e.eventManager;return n.onListen=g5.bind(null,e.syncEngine),n.onUnlisten=v5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=y5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=b5.bind(null,e.syncEngine),n}function j5(s,e,n,r){const o=new I5(r),c=new h5(e,o,n);return s.asyncQueue.enqueueAndForget((async()=>o5(await px(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>l5(await px(s),c)))}}function M5(s,e){const n=new xa;return s.asyncQueue.enqueueAndForget((async()=>x5(await O5(s),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5="ComponentProvider",gx=new Map;function U5(s,e,n,r,o){return new e4(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,mw(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="firestore.googleapis.com",yx=!0;class _x{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pw,this.ssl=yx}else this.host=e.host,this.ssl=e.ssl??yx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=KE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lD)throw new de(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mw(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jd{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _x({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _x(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Ok;switch(r.type){case"firstParty":return new Uk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=gx.get(n);r&&(fe(V5,"Removing Datastore"),gx.delete(n),r.terminate())})(this),Promise.resolve()}}function P5(s,e,n,r={}){var y;s=Sr(s,jd);const o=jr(e),c=s._getSettings(),u={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;o&&(ng(`https://${p}`),sg("Firestore",!0)),c.host!==pw&&c.host!==p&&Ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:r};if(!Ta(g,u)&&(s._setSettings(g),r.mockUserToken)){let x,E;if(typeof r.mockUserToken=="string")x=r.mockUserToken,E=sn.MOCK_USER;else{x=c1(r.mockUserToken,(y=s._app)==null?void 0:y.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new de(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new sn(T)}s._authCredentials=new jk(new iE(x,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ma(this.firestore,e,this._query)}}class Ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gc(n,Ut._jsonSchema))return new Ut(e,r||null,new be(it.fromString(n.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Vt("string",Ut._jsonSchemaVersion),referencePath:Vt("string")};class Ar extends Ma{constructor(e,n,r){super(e,n,Eg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new be(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function sl(s,e,...n){if(s=ht(s),rE("collection","path",e),s instanceof jd){const r=it.fromString(e,...n);return Ib(r),new Ar(s,null,r)}{if(!(s instanceof Ut||s instanceof Ar))throw new de(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return Ib(r),new Ar(s.firestore,null,r)}}function il(s,e,...n){if(s=ht(s),arguments.length===1&&(e=gg.newId()),rE("doc","path",e),s instanceof jd){const r=it.fromString(e,...n);return Cb(r),new Ut(s,null,new be(r))}{if(!(s instanceof Ut||s instanceof Ar))throw new de(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return Cb(r),new Ut(s.firestore,s instanceof Ar?s.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="AsyncQueue";class bx{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JE(this,"async_queue_retry"),this._c=()=>{const r=ap();r&&fe(vx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new xa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!el(e))throw e;fe(vx,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ki("INTERNAL UNHANDLED ERROR: ",xx(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Vg.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:xx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function xx(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class $o extends jd{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new bx,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bx(e),this._firestoreClient=void 0,await e}}}function L5(s,e){const n=typeof s=="object"?s:ag(),r=typeof s=="string"?s:id,o=_d(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=a1("firestore");c&&P5(o,...c)}return o}function gw(s){if(s._terminated)throw new de(ie.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||z5(s),s._firestoreClient}function z5(s){var r,o,c,u;const e=s._freezeSettings(),n=U5(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,(o=s._app)==null?void 0:o.options.apiKey,e);s._componentsProvider||(c=e.localCache)!=null&&c._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new k5(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(Zt.fromBase64String(e))}catch(n){throw new de(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gc(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Vt("string",Zn._jsonSchemaVersion),bytes:Vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Js._jsonSchemaVersion}}static fromJSON(e){if(Gc(e,Js._jsonSchema))return new Js(e.latitude,e.longitude)}}Js._jsonSchemaVersion="firestore/geoPoint/1.0",Js._jsonSchema={type:Vt("string",Js._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ps._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gc(e,ps._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ps(e.vectorValues);throw new de(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ps._jsonSchemaVersion="firestore/vectorValue/1.0",ps._jsonSchema={type:Vt("string",ps._jsonSchemaVersion),vectorValues:Vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=/^__.*__$/;class q5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Pr(e,this.data,this.fieldMask,n,this.fieldTransforms):new $c(e,this.data,n,this.fieldTransforms)}}class yw{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Pr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _w(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:s})}}class Hg{constructor(e,n,r,o,c,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Hg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const n=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var o;const n=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return fd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(_w(this.dataSource)&&B5.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class H5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kd(e)}createContext(e,n,r,o=!1){return new Hg({dataSource:e,methodName:n,targetDoc:r,path:Wt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fg(s){const e=s._freezeSettings(),n=kd(s._databaseId);return new H5(s._databaseId,!!e.ignoreUndefinedProperties,n)}function F5(s,e,n,r,o,c={}){const u=s.createContext(c.merge||c.mergeFields?2:0,e,n,o);Gg("Data must be an object, but it was:",u,r);const p=vw(r,u);let g,y;if(c.merge)g=new jn(u.fieldMask),y=u.fieldTransforms;else if(c.mergeFields){const x=[];for(const E of c.mergeFields){const T=Ko(e,E,n);if(!u.contains(T))throw new de(ie.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Ew(x,T)||x.push(T)}g=new jn(x),y=u.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=u.fieldTransforms;return new q5(new xn(p),g,y)}class Md extends qg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Md}}function G5(s,e,n,r){const o=s.createContext(1,e,n);Gg("Data must be an object, but it was:",o,r);const c=[],u=xn.empty();Ur(r,((g,y)=>{const x=xw(e,g,n);y=ht(y);const E=o.childContextForFieldPath(x);if(y instanceof Md)c.push(x);else{const T=Xc(y,E);T!=null&&(c.push(x),u.set(x,T))}}));const p=new jn(c);return new yw(u,p,o.fieldTransforms)}function $5(s,e,n,r,o,c){const u=s.createContext(1,e,n),p=[Ko(e,r,n)],g=[o];if(c.length%2!=0)throw new de(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<c.length;T+=2)p.push(Ko(e,c[T])),g.push(c[T+1]);const y=[],x=xn.empty();for(let T=p.length-1;T>=0;--T)if(!Ew(y,p[T])){const C=p[T];let q=g[T];q=ht(q);const U=u.childContextForFieldPath(C);if(q instanceof Md)y.push(C);else{const z=Xc(q,U);z!=null&&(y.push(C),x.set(C,z))}}const E=new jn(y);return new yw(x,E,u.fieldTransforms)}function K5(s,e,n,r=!1){return Xc(n,s.createContext(r?4:3,e))}function Xc(s,e){if(bw(s=ht(s)))return Gg("Unsupported field value:",e,s),vw(s,e);if(s instanceof qg)return(function(r,o){if(!_w(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let u=0;for(const p of r){let g=Xc(p,o.childContextForArray(u));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),u++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return A4(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ot.fromDate(r);return{timestampValue:cd(o.serializer,c)}}if(r instanceof ot){const c=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cd(o.serializer,c)}}if(r instanceof Js)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zn)return{bytesValue:LE(o.serializer,r._byteString)};if(r instanceof Ut){const c=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(c))throw o.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ng(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ps)return(function(u,p){const g=u instanceof ps?u.toArray():u;return{mapValue:{fields:{[mE]:{stringValue:pE},[rd]:{arrayValue:{values:g.map((x=>{if(typeof x!="number")throw p.createError("VectorValues must only contain numeric values.");return wg(p.serializer,x)}))}}}}}})(r,o);if($E(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Ed(r)}`)})(s,e)}function vw(s,e){const n={};return lE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ur(s,((r,o)=>{const c=Xc(o,e.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function bw(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ot||s instanceof Js||s instanceof Zn||s instanceof Ut||s instanceof qg||s instanceof ps||$E(s))}function Gg(s,e,n){if(!bw(n)||!aE(n)){const r=Ed(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function Ko(s,e,n){if((e=ht(e))instanceof Bg)return e._internalPath;if(typeof e=="string")return xw(s,e);throw fd("Field path arguments must be of type string or ",s,!1,void 0,n)}const Y5=new RegExp("[~\\*/\\[\\]]");function xw(s,e,n){if(e.search(Y5)>=0)throw fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Bg(...e.split("."))._internalPath}catch{throw fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function fd(s,e,n,r,o){const c=r&&!r.isEmpty(),u=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||u)&&(g+=" (found",c&&(g+=` in field ${r}`),u&&(g+=` in document ${o}`),g+=")"),new de(ie.INVALID_ARGUMENT,p+s+g)}function Ew(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{convertValue(e,n="none"){switch(kr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ur(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){var r,o,c;const n=(c=(o=(r=e.fields)==null?void 0:r[rd].arrayValue)==null?void 0:o.values)==null?void 0:c.map((u=>St(u.doubleValue)));return new ps(n)}convertGeoPoint(e){return new Js(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kc(e));default:return null}}convertTimestamp(e){const n=Cr(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Qe(GE(r),9688,{name:e});const o=new Dc(r.get(1),r.get(3)),c=new be(r.popFirst(5));return o.isEqual(n)||ki(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww extends Q5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}const Ex="@firebase/firestore",wx="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new X5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Ko("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class X5 extends Tw{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $g{}class Sw extends $g{}function Jc(s,e,...n){let r=[];e instanceof $g&&r.push(e),r=r.concat(n),(function(c){const u=c.filter((g=>g instanceof Yg)).length,p=c.filter((g=>g instanceof Kg)).length;if(u>1||u>0&&p>0)throw new de(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Kg extends Sw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kg(e,n,r)}_apply(e){const n=this._parse(e);return Nw(e._query,n),new Ma(e.firestore,e.converter,Ip(e._query,n))}_parse(e){const n=Fg(e.firestore);return(function(c,u,p,g,y,x,E){let T;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new de(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Ax(E,x);const q=[];for(const U of E)q.push(Sx(g,c,U));T={arrayValue:{values:q}}}else T=Sx(g,c,E)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Ax(E,x),T=K5(p,u,E,x==="in"||x==="not-in");return Mt.create(y,x,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Yg extends $g{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Yg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ys.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let u=o;const p=c.getFlattenedFilters();for(const g of p)Nw(u,g),u=Ip(u,g)})(e._query,n),new Ma(e.firestore,e.converter,Ip(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qg extends Sw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Qg(e,n)}_apply(e){const n=(function(o,c,u){if(o.startAt!==null)throw new de(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new de(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jc(c,u)})(e._query,this._field,this._direction);return new Ma(e.firestore,e.converter,_4(e._query,n))}}function Aw(s,e="asc"){const n=e,r=Ko("orderBy",s);return Qg._create(r,n)}function Sx(s,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new de(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wE(e)&&n.indexOf("/")!==-1)throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!be.isDocumentKey(r))throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pb(s,new be(r))}if(n instanceof Ut)return Pb(s,n._key);throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ed(n)}.`)}function Ax(s,e){if(!Array.isArray(s)||s.length===0)throw new de(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Nw(s,e){const n=(function(o,c){for(const u of o)for(const p of u.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function W5(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class pc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ea extends Tw{constructor(e,n,r,o,c,u){super(e,n,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ko("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ea._jsonSchema={type:Vt("string",Ea._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Kh extends Ea{data(e={}){return super.data(e)}}class Vo{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new pc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Kh(this._firestore,this._userDataWriter,r.key,r,new pc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((p=>{const g=new Kh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new pc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Kh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new pc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,x=-1;return p.type!==0&&(y=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),p.type!==1&&(u=u.add(p.doc),x=u.indexOf(p.doc.key)),{type:Z5(p.type),doc:g,oldIndex:y,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Z5(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:s})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vo._jsonSchemaVersion="firestore/querySnapshot/1.0",Vo._jsonSchema={type:Vt("string",Vo._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};function Rw(s,e,n,...r){s=Sr(s,Ut);const o=Sr(s.firestore,$o),c=Fg(o);let u;return u=typeof(e=ht(e))=="string"||e instanceof Bg?$5(c,"updateDoc",s._key,e,n,r):G5(c,"updateDoc",s._key,e),Jg(o,[u.toMutation(s._key,ms.exists(!0))])}function Xg(s){return Jg(Sr(s.firestore,$o),[new Tg(s._key,ms.none())])}function eO(s,e){const n=Sr(s.firestore,$o),r=il(s),o=W5(s.converter,e),c=Fg(s.firestore);return Jg(n,[F5(c,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,ms.exists(!1))]).then((()=>r))}function Wc(s,...e){var y,x,E;s=ht(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Tx(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Tx(e[r])){const T=e[r];e[r]=(y=T.next)==null?void 0:y.bind(T),e[r+1]=(x=T.error)==null?void 0:x.bind(T),e[r+2]=(E=T.complete)==null?void 0:E.bind(T)}let c,u,p;if(s instanceof Ut)u=Sr(s.firestore,$o),p=Eg(s._key.path),c={next:T=>{e[r]&&e[r](tO(u,s,T))},error:e[r+1],complete:e[r+2]};else{const T=Sr(s,Ma);u=Sr(T.firestore,$o),p=T._query;const C=new ww(u);c={next:q=>{e[r]&&e[r](new Vo(u,C,T,q))},error:e[r+1],complete:e[r+2]},J5(s._query)}const g=gw(u);return j5(g,p,o,c)}function Jg(s,e){const n=gw(s);return M5(n,e)}function tO(s,e,n){const r=n.docs.get(e._key),o=new ww(s);return new Ea(s,o,e._key,r,new pc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){Dk(Da),Sa(new Nr("firestore",((r,{instanceIdentifier:o,options:c})=>{const u=r.getProvider("app").getImmediate(),p=new $o(new Mk(r.getProvider("auth-internal")),new Pk(u,r.getProvider("app-check-internal")),t4(u,o),u);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Gs(Ex,wx,e),Gs(Ex,wx,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="firebasestorage.googleapis.com",Iw="storageBucket",nO=120*1e3,sO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt extends ti{constructor(e,n,r=0){super(lp(e),`Firebase Storage: ${n} (${lp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _t;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function lp(s){return"storage/"+s}function Wg(){const s="An unknown error occurred, please check the error payload for server response.";return new vt(_t.UNKNOWN,s)}function iO(s){return new vt(_t.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function rO(s){return new vt(_t.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aO(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new vt(_t.UNAUTHENTICATED,s)}function oO(){return new vt(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lO(s){return new vt(_t.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function cO(){return new vt(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uO(){return new vt(_t.CANCELED,"User canceled the upload/download.")}function hO(s){return new vt(_t.INVALID_URL,"Invalid URL '"+s+"'.")}function dO(s){return new vt(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function fO(){return new vt(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Iw+"' property when initializing the app?")}function mO(){return new vt(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pO(){return new vt(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gO(s){return new vt(_t.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Bp(s){return new vt(_t.INVALID_ARGUMENT,s)}function kw(){return new vt(_t.APP_DELETED,"The Firebase app was deleted.")}function yO(s){return new vt(_t.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sc(s,e){return new vt(_t.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function cc(s){throw new vt(_t.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Mn.makeFromUrl(e,n)}catch{return new Mn(e,"")}if(r.path==="")return r;throw dO(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function c(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const u="(/(.*))?$",p=new RegExp("^gs://"+o+u,"i"),g={bucket:1,path:3};function y(B){B.path_=decodeURIComponent(B.path)}const x="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",C=new RegExp(`^https?://${E}/${x}/b/${o}/o${T}`,"i"),q={bucket:1,path:3},U=n===Cw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,z="([^?#]*)",te=new RegExp(`^https?://${U}/${o}/${z}`,"i"),F=[{regex:p,indices:g,postModify:c},{regex:C,indices:q,postModify:y},{regex:te,indices:{bucket:1,path:2},postModify:y}];for(let B=0;B<F.length;B++){const le=F[B],pe=le.regex.exec(e);if(pe){const R=pe[le.indices.bucket];let A=pe[le.indices.path];A||(A=""),r=new Mn(R,A),le.postModify(r);break}}if(r==null)throw hO(e);return r}}class _O{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(s,e,n){let r=1,o=null,c=null,u=!1,p=0;function g(){return p===2}let y=!1;function x(...z){y||(y=!0,e.apply(null,z))}function E(z){o=setTimeout(()=>{o=null,s(C,g())},z)}function T(){c&&clearTimeout(c)}function C(z,...te){if(y){T();return}if(z){T(),x.call(null,z,...te);return}if(g()||u){T(),x.call(null,z,...te);return}r<64&&(r*=2);let F;p===1?(p=2,F=0):F=(r+Math.random())*1e3,E(F)}let q=!1;function U(z){q||(q=!0,T(),!y&&(o!==null?(z||(p=2),clearTimeout(o),E(0)):z||(p=1)))}return E(0),c=setTimeout(()=>{u=!0,U(!0)},n),U}function bO(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(s){return s!==void 0}function EO(s){return typeof s=="object"&&!Array.isArray(s)}function Zg(s){return typeof s=="string"||s instanceof String}function Nx(s){return e0()&&s instanceof Blob}function e0(){return typeof Blob<"u"}function Rx(s,e,n,r){if(r<e)throw Bp(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>n)throw Bp(`Invalid value for '${s}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(s,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${s}`}function Dw(s){const e=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=e(r)+"="+e(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var wa;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(wa||(wa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(s,e){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,n,r,o,c,u,p,g,y,x,E,T=!0,C=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=u,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=x,this.connectionFactory_=E,this.retry=T,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((q,U)=>{this.resolve_=q,this.reject_=U,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Oh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const u=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(u),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(u),this.pendingConnection_=null;const p=c.getErrorCode()===wa.NO_ERROR,g=c.getStatus();if(!p||wO(g,this.additionalRetryCodes_)&&this.retry){const x=c.getErrorCode()===wa.ABORT;r(!1,new Oh(!1,null,x));return}const y=this.successCodes_.indexOf(g)!==-1;r(!0,new Oh(y,c))})},n=(r,o)=>{const c=this.resolve_,u=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());xO(g)?c(g):c()}catch(g){u(g)}else if(p!==null){const g=Wg();g.serverResponse=p.getErrorText(),this.errorCallback_?u(this.errorCallback_(p,g)):u(g)}else if(o.canceled){const g=this.appDelete_?kw():uO();u(g)}else{const g=cO();u(g)}};this.canceled_?n(!1,new Oh(!1,null,!0)):this.backoffId_=vO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Oh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function SO(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function AO(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function NO(s,e){e&&(s["X-Firebase-GMPID"]=e)}function RO(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function CO(s,e,n,r,o,c,u=!0,p=!1){const g=Dw(s.urlParams),y=s.url+g,x=Object.assign({},s.headers);return NO(x,e),SO(x,n),AO(x,c),RO(x,r),new TO(y,s.method,x,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,u,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function kO(...s){const e=IO();if(e!==void 0){const n=new e;for(let r=0;r<s.length;r++)n.append(s[r]);return n.getBlob()}else{if(e0())return new Blob(s);throw new vt(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function DO(s,e,n){return s.webkitSlice?s.webkitSlice(e,n):s.mozSlice?s.mozSlice(e,n):s.slice?s.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(s){if(typeof atob>"u")throw gO("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cp{constructor(e,n){this.data=e,this.contentType=n||null}}function jO(s,e){switch(s){case Fs.RAW:return new cp(Ow(e));case Fs.BASE64:case Fs.BASE64URL:return new cp(jw(s,e));case Fs.DATA_URL:return new cp(VO(e),UO(e))}throw Wg()}function Ow(s){const e=[];for(let n=0;n<s.length;n++){let r=s.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const c=r,u=s.charCodeAt(++n);r=65536|(c&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function MO(s){let e;try{e=decodeURIComponent(s)}catch{throw Sc(Fs.DATA_URL,"Malformed data URL.")}return Ow(e)}function jw(s,e){switch(s){case Fs.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw Sc(s,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Fs.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw Sc(s,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=OO(e)}catch(o){throw o.message.includes("polyfill")?o:Sc(s,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class Mw{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Sc(Fs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=PO(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function VO(s){const e=new Mw(s);return e.base64?jw(Fs.BASE64,e.rest):MO(e.rest)}function UO(s){return new Mw(s).contentType}function PO(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n){let r=0,o="";Nx(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(Nx(this.data_)){const r=this.data_,o=DO(r,e,n);return o===null?null:new br(o)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new br(r,!0)}}static getBlob(...e){if(e0()){const n=e.map(r=>r instanceof br?r.data_:r);return new br(kO.apply(null,n))}else{const n=e.map(u=>Zg(u)?jO(Fs.RAW,u).data:u.data_);let r=0;n.forEach(u=>{r+=u.byteLength});const o=new Uint8Array(r);let c=0;return n.forEach(u=>{for(let p=0;p<u.length;p++)o[c++]=u[p]}),new br(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(s){let e;try{e=JSON.parse(s)}catch{return null}return EO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function zO(s,e){const n=e.split("/").filter(r=>r.length>0).join("/");return s.length===0?n:s+"/"+n}function Uw(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(s,e){return e}class un{constructor(e,n,r,o){this.server=e,this.local=n||e,this.writable=!!r,this.xform=o||BO}}let jh=null;function qO(s){return!Zg(s)||s.length<2?s:Uw(s)}function Pw(){if(jh)return jh;const s=[];s.push(new un("bucket")),s.push(new un("generation")),s.push(new un("metageneration")),s.push(new un("name","fullPath",!0));function e(c,u){return qO(u)}const n=new un("name");n.xform=e,s.push(n);function r(c,u){return u!==void 0?Number(u):u}const o=new un("size");return o.xform=r,s.push(o),s.push(new un("timeCreated")),s.push(new un("updated")),s.push(new un("md5Hash",null,!0)),s.push(new un("cacheControl",null,!0)),s.push(new un("contentDisposition",null,!0)),s.push(new un("contentEncoding",null,!0)),s.push(new un("contentLanguage",null,!0)),s.push(new un("contentType",null,!0)),s.push(new un("metadata","customMetadata",!0)),jh=s,jh}function HO(s,e){function n(){const r=s.bucket,o=s.fullPath,c=new Mn(r,o);return e._makeStorageReference(c)}Object.defineProperty(s,"ref",{get:n})}function FO(s,e,n){const r={};r.type="file";const o=n.length;for(let c=0;c<o;c++){const u=n[c];r[u.local]=u.xform(r,e[u.server])}return HO(r,s),r}function Lw(s,e,n){const r=Vw(e);return r===null?null:FO(s,r,n)}function GO(s,e,n,r){const o=Vw(e);if(o===null||!Zg(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const u=encodeURIComponent;return c.split(",").map(y=>{const x=s.bucket,E=s.fullPath,T="/b/"+u(x)+"/o/"+u(E),C=t0(T,n,r),q=Dw({alt:"media",token:y});return C+q})[0]}function $O(s,e){const n={},r=e.length;for(let o=0;o<r;o++){const c=e[o];c.writable&&(n[c.server]=s[c.local])}return JSON.stringify(n)}class zw{constructor(e,n,r,o){this.url=e,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(s){if(!s)throw Wg()}function KO(s,e){function n(r,o){const c=Lw(s,o,e);return Bw(c!==null),c}return n}function YO(s,e){function n(r,o){const c=Lw(s,o,e);return Bw(c!==null),GO(c,o,s.host,s._protocol)}return n}function qw(s){function e(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=oO():o=aO():n.getStatus()===402?o=rO(s.bucket):n.getStatus()===403?o=lO(s.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return e}function QO(s){const e=qw(s);function n(r,o){let c=e(r,o);return r.getStatus()===404&&(c=iO(s.path)),c.serverResponse=o.serverResponse,c}return n}function XO(s,e,n){const r=e.fullServerUrl(),o=t0(r,s.host,s._protocol),c="GET",u=s.maxOperationRetryTime,p=new zw(o,c,YO(s,n),u);return p.errorHandler=QO(e),p}function JO(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function WO(s,e,n){const r=Object.assign({},n);return r.fullPath=s.path,r.size=e.size(),r.contentType||(r.contentType=JO(null,e)),r}function ZO(s,e,n,r,o){const c=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function p(){let F="";for(let B=0;B<2;B++)F=F+Math.random().toString().slice(2);return F}const g=p();u["Content-Type"]="multipart/related; boundary="+g;const y=WO(e,r,o),x=$O(y,n),E="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+x+`\r
--`+g+`\r
Content-Type: `+y.contentType+`\r
\r
`,T=`\r
--`+g+"--",C=br.getBlob(E,r,T);if(C===null)throw mO();const q={name:y.fullPath},U=t0(c,s.host,s._protocol),z="POST",te=s.maxUploadRetryTime,W=new zw(U,z,KO(s,n),te);return W.urlParams=q,W.headers=u,W.body=C.uploadData(),W.errorHandler=qw(e),W}class e3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,o,c){if(this.sent_)throw cc("cannot .send() more than once");if(jr(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),c!==void 0)for(const u in c)c.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,c[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw cc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class t3 extends e3{initXhr(){this.xhr_.responseType="text"}}function Hw(){return new t3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this._service=e,n instanceof Mn?this._location=n:this._location=Mn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ia(e,n)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Uw(this._location.path)}get storage(){return this._service}get parent(){const e=LO(this._location.path);if(e===null)return null;const n=new Mn(this._location.bucket,e);return new Ia(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yO(e)}}function n3(s,e,n){s._throwIfRoot("uploadBytes");const r=ZO(s.storage,s._location,Pw(),new br(e,!0),n);return s.storage.makeRequestWithTokens(r,Hw).then(o=>({metadata:o,ref:s}))}function s3(s){s._throwIfRoot("getDownloadURL");const e=XO(s.storage,s._location,Pw());return s.storage.makeRequestWithTokens(e,Hw).then(n=>{if(n===null)throw pO();return n})}function i3(s,e){const n=zO(s._location.path,e),r=new Mn(s._location.bucket,n);return new Ia(s.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(s){return/^[A-Za-z]+:\/\//.test(s)}function a3(s,e){return new Ia(s,e)}function Fw(s,e){if(s instanceof n0){const n=s;if(n._bucket==null)throw fO();const r=new Ia(n,n._bucket);return e!=null?Fw(r,e):r}else return e!==void 0?i3(s,e):s}function o3(s,e){if(e&&r3(e)){if(s instanceof n0)return a3(s,e);throw Bp("To use ref(service, url), the first argument must be a Storage instance.")}else return Fw(s,e)}function Cx(s,e){const n=e==null?void 0:e[Iw];return n==null?null:Mn.makeFromBucketSpec(n,s)}function l3(s,e,n,r={}){s.host=`${e}:${n}`;const o=jr(e);o&&(ng(`https://${s.host}/b`),sg("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:c}=r;c&&(s._overrideAuthToken=typeof c=="string"?c:c1(c,s.app.options.projectId))}class n0{constructor(e,n,r,o,c,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=u,this._bucket=null,this._host=Cw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nO,this._maxUploadRetryTime=sO,this._requests=new Set,o!=null?this._bucket=Mn.makeFromBucketSpec(o,this._host):this._bucket=Cx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=Cx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Rx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Rx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ia(this,e)}_makeRequest(e,n,r,o,c=!0){if(this._deleted)return new _O(kw());{const u=CO(e,this._appId,r,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const Ix="@firebase/storage",kx="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="storage";function c3(s,e,n){return s=ht(s),n3(s,e,n)}function u3(s){return s=ht(s),s3(s)}function h3(s,e){return s=ht(s),o3(s,e)}function d3(s=ag(),e){s=ht(s);const r=_d(s,Gw).getImmediate({identifier:e}),o=a1("storage");return o&&f3(r,...o),r}function f3(s,e,n,r={}){l3(s,e,n,r)}function m3(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new n0(n,r,o,e,Da)}function p3(){Sa(new Nr(Gw,m3,"PUBLIC").setMultipleInstances(!0)),Gs(Ix,kx,""),Gs(Ix,kx,"esm2020")}p3();const g3={apiKey:"AIzaSyDIYLFaM7IX1pDUkcvSKKig4Pu0jFyrM6Y",authDomain:"app-exercicio-max.firebaseapp.com",projectId:"app-exercicio-max",storageBucket:"app-exercicio-max.firebasestorage.app",messagingSenderId:"421765071196",appId:"1:421765071196:web:787567a356a1ea31954199",measurementId:"G-CVDFKJGE2H"},s0=d1(g3),Hs=Ik(s0),_s=L5(s0),y3=d3(s0),_3=1e4,v3=2e4,b3=1e4,x3=async()=>new Promise(async(s,e)=>{if(!navigator.geolocation){e({code:"UNKNOWN",message:"Geolocalizao no suportada pelo navegador.",isSystemError:!0});return}if(navigator.permissions&&navigator.permissions.query)try{if((await navigator.permissions.query({name:"geolocation"})).state==="denied"){e({code:"PERMISSION_DENIED",message:"Permisso de localizao bloqueada pelo usurio.",isSystemError:!1});return}}catch(o){console.warn("Erro ao verificar permisses:",o)}const n=o=>{s({latitude:o.coords.latitude,longitude:o.coords.longitude,accuracy:o.coords.accuracy})},r=async o=>{if(o.code===1){e({code:"PERMISSION_DENIED",message:"Permisso de localizao negada.",isSystemError:!1});return}console.warn(`Erro GPS de alta preciso (${o.code}): ${o.message}. Tentando fallback...`),navigator.geolocation.getCurrentPosition(n,c=>{let u="UNKNOWN",p=c.message;c.code===1?u="PERMISSION_DENIED":c.code===2?u="POSITION_UNAVAILABLE":c.code===3&&(u="TIMEOUT"),e({code:u,message:p,isSystemError:!0})},{enableHighAccuracy:!1,timeout:v3,maximumAge:6e4})};navigator.geolocation.getCurrentPosition(n,r,{enableHighAccuracy:!0,timeout:_3,maximumAge:b3})}),Vd=()=>new Promise((s,e)=>{if(Hs.currentUser){console.log("GUARD: Already authenticated",Hs.currentUser.uid),s(Hs.currentUser);return}console.log("GUARD: Starting anonymous auth..."),yI(Hs,q1).then(()=>uI(Hs)).then(n=>{console.log("GUARD: Signed in anonymously",n.user.uid),s(n.user)}).catch(n=>{console.error("GUARD: Auth failed",n),e(n)})}),E3=async()=>await x3(),i0=(s,e,n)=>{var r;console.group(` FIREBASE GUARD: ${s}`),console.log("AUTH UID:",((r=Hs.currentUser)==null?void 0:r.uid)||" UNANTENTICATED"),console.log("PATH:",e),n&&console.log("DATA:",n),console.groupEnd()},Ud=async(s,e)=>(await Vd(),i0("addDoc",s,e),await eO(sl(_s,s),e)),r0=async(s,e,n)=>{await Vd();const r=`${s}/${e}`;i0("updateDoc",r,n);const o=il(_s,s,e);return await Rw(o,n)},a0=async(s,e)=>{const n=await Vd();if(!s.type.startsWith("image/"))throw new Error("Apenas imagens so permitidas.");if(s.size>5*1024*1024)throw new Error("A imagem deve ter no mximo 5MB.");const r=e||`uploads/${n.uid}/${Date.now()}_${s.name}`;i0("uploadBytes",r,{size:s.size,type:s.type});const o=h3(y3,r),c=await c3(o,s);return await u3(c.ref)};var hn=(s=>(s.ACTIVE="ativo",s.ELIMINATED="eliminado",s))(hn||{});const o0="users",Pd="timeSlots",$w="checkIns",w3="distributions",Ld="categories",rl=s=>{const e=Jc(sl(_s,o0));return Wc(e,n=>{const r=n.docs.map(o=>({id:o.id,...o.data()}));s(r)})},T3=async s=>{const e={...s,balance:s.depositedValue,status:hn.ACTIVE,createdAt:new Date().toISOString(),photoUrl:s.photoUrl||""};await Ud(o0,e)},Dx=async s=>{const{id:e,...n}=s;await r0(o0,e,n)},l0=s=>{const e=Jc(sl(_s,Pd));return Wc(e,n=>{const r=n.docs.map(o=>({id:o.id,...o.data()}));s(r)})},S3=async s=>{await Ud(Pd,s)},A3=async s=>{await Xg(il(_s,Pd,s))},N3=async s=>{const e=il(_s,Pd,s.id),{id:n,...r}=s;await Rw(e,r)},zd=s=>{const e=Jc(sl(_s,$w));return Wc(e,n=>{const r=n.docs.map(o=>({id:o.id,...o.data()}));s(r)})},R3=async s=>{await Xg(il(_s,$w,s))},Kw=s=>{const e=Jc(sl(_s,w3),Aw("date","asc"));return Wc(e,n=>{const r=n.docs.map(o=>({id:o.id,...o.data()}));s(r)})},C3=s=>{const e=Jc(sl(_s,Ld),Aw("name","asc"));return Wc(e,n=>{const r=n.docs.map(o=>({id:o.id,...o.data()}));s(r)})},I3=async s=>{await Ud(Ld,s)},k3=async s=>{const{id:e,...n}=s;await r0(Ld,e,n)},D3=async s=>{await Xg(il(_s,Ld,s))},O3=()=>{const[s,e]=D.useState([]),[n,r]=D.useState(!1),[o,c]=D.useState(""),[u,p]=D.useState(null),[g,y]=D.useState(0),[x,E]=D.useState(!1),[T,C]=D.useState({name:"",cpf:"",uniqueCode:"",phone:"",depositedValue:0,pixKey:"",street:"",neighborhood:"",city:"",photoUrl:""}),q=()=>{const B="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let le="";for(let pe=0;pe<4;pe++)le+=B.charAt(Math.floor(Math.random()*B.length));return le};D.useEffect(()=>{const B=rl(le=>{e(le)});return()=>B()},[]);const U=async B=>{var pe;const le=(pe=B.target.files)==null?void 0:pe[0];if(le){E(!0),y(0);try{const R=setInterval(()=>{y(I=>Math.min(I+10,90))},200),A=await a0(le);clearInterval(R),y(100),C(I=>({...I,photoUrl:A})),setTimeout(()=>E(!1),500)}catch(R){console.error("Error uploading:",R),E(!1),y(0),alert(`Erro no Upload: ${R.message}`)}}},z=async B=>{B.preventDefault(),console.log("Current User:",Hs.currentUser),console.log("Form Data:",T);try{u?await Dx({...u,...T}):await T3(T),C({name:"",cpf:"",uniqueCode:"",phone:"",depositedValue:0,pixKey:"",street:"",neighborhood:"",city:"",photoUrl:""}),p(null),r(!1)}catch(le){console.error("Error saving user:",le),alert(`Erro ao salvar usurio: ${le.message}`)}},te=B=>{p(B),C({name:B.name,cpf:B.cpf,uniqueCode:B.uniqueCode,phone:B.phone,depositedValue:B.depositedValue,pixKey:B.pixKey||"",street:B.street||"",neighborhood:B.neighborhood||"",city:B.city||"",photoUrl:B.photoUrl||""}),r(!0)},W=async B=>{try{const le=B.status===hn.ACTIVE?hn.ELIMINATED:hn.ACTIVE;await Dx({...B,status:le})}catch(le){console.error("Error updating status:",le)}},F=s.filter(B=>B.name.toLowerCase().includes(o.toLowerCase())||B.cpf.includes(o)||B.uniqueCode.toLowerCase().includes(o.toLowerCase()));return m.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[m.jsxs("div",{className:"relative w-full md:w-[350px] group text-xs",children:[m.jsx(eg,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-lime-600 transition-colors w-3.5 h-3.5"}),m.jsx("input",{type:"text",placeholder:"PESQUISAR ATLETA...",className:"w-full pl-10 pr-5 py-2.5 bg-white border-2 border-slate-300 rounded-xl text-slate-900 font-bold placeholder:text-slate-400 focus:ring-4 focus:ring-lime-400/10 focus:border-lime-500 outline-none transition-all shadow-md uppercase tracking-widest text-[10px]",value:o,onChange:B=>c(B.target.value)})]}),m.jsxs("button",{onClick:()=>{p(null),C({name:"",cpf:"",uniqueCode:q(),phone:"",depositedValue:0,pixKey:"",street:"",neighborhood:"",city:"",photoUrl:""}),r(!0)},className:"flex items-center px-4 py-2.5 bg-black text-lime-400 rounded-xl font-black uppercase italic tracking-tighter hover:bg-zinc-900 hover:scale-[1.05] transition-all shadow-2xl active:scale-95 text-[10px]",children:[m.jsx(mp,{className:"w-4 h-4 mr-2"}),"Cadastrar Atleta"]})]}),m.jsxs("div",{className:"bg-white rounded-[1.25rem] border-2 border-slate-300 overflow-hidden shadow-[0_10px_30px_rgba(0,0,0,0.05)]",children:[m.jsxs("table",{className:"min-w-full divide-y-2 divide-slate-200",children:[m.jsx("thead",{className:"bg-slate-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Perfil do Atleta"}),m.jsx("th",{className:"px-4 py-3 text-left text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Identificao"}),m.jsx("th",{className:"px-4 py-3 text-left text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Mtricas Financeiras"}),m.jsx("th",{className:"px-4 py-3 text-left text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Status"}),m.jsx("th",{className:"px-4 py-3 text-right text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Gesto"})]})}),m.jsx("tbody",{className:"divide-y-2 divide-slate-100",children:F.map(B=>{var le,pe;return m.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors group",children:[m.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center text-lime-600 font-black text-base border-2 border-slate-200 shadow-sm overflow-hidden",children:B.photoUrl?m.jsx("img",{src:B.photoUrl,alt:B.name,className:"w-full h-full object-cover"}):m.jsx("span",{children:B.name&&B.name[0]?B.name[0].toUpperCase():"?"})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-black text-slate-900 uppercase tracking-tight",children:B.name}),m.jsx("div",{className:"text-[9px] text-slate-400 font-bold tracking-widest uppercase",children:B.phone})]})]})}),m.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[m.jsxs("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:["CPF: ",B.cpf]}),m.jsx("div",{className:"text-sm text-black font-black font-sport bg-lime-400 inline-block px-3 py-1 rounded-lg border-2 border-lime-500 uppercase tracking-widest italic shadow-sm transform group-hover:scale-105 transition-transform",children:B.uniqueCode})]}),m.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[m.jsxs("div",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest",children:["Contribuio: R$ ",(le=B.depositedValue)==null?void 0:le.toFixed(2)]}),m.jsxs("div",{className:"text-sm font-black text-slate-900 italic font-sport",children:["R$ ",(pe=B.balance)==null?void 0:pe.toFixed(2)]})]}),m.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:m.jsx("span",{className:`px-2 py-0.5 inline-flex text-[9px] font-black rounded-full uppercase tracking-widest italic border shadow-sm ${B.status===hn.ACTIVE?"bg-lime-400 text-black border-lime-500":"bg-rose-50 text-rose-600 border-rose-200"}`,children:B.status===hn.ACTIVE?"Em Competio":"Eliminado"})}),m.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>te(B),className:"p-1.5 bg-white text-slate-400 hover:text-black hover:border-black rounded-md transition-all border border-slate-200 shadow-sm",children:m.jsx(sN,{className:"w-3.5 h-3.5"})}),m.jsx("button",{onClick:()=>W(B),className:`p-1.5 rounded-md transition-all border shadow-sm ${B.status===hn.ACTIVE?"bg-white text-slate-400 hover:text-rose-600 hover:border-rose-400 border-slate-200":"bg-white text-slate-400 hover:text-lime-600 hover:border-lime-400 border-slate-200"}`,children:B.status===hn.ACTIVE?m.jsx(dN,{className:"w-3.5 h-3.5"}):m.jsx(Jp,{className:"w-3.5 h-3.5"})})]})})]},B.id)})})]}),F.length===0&&m.jsx("div",{className:"p-16 text-center text-slate-400 font-black uppercase tracking-[0.3em] italic bg-slate-50 text-xs",children:"Nenhum Atleta Identificado"})]}),n&&m.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white rounded-[1.5rem] border-4 border-slate-200 shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in duration-300 flex flex-col max-h-[85vh]",children:[m.jsxs("div",{className:"p-4 bg-slate-50 flex justify-between items-center border-b-4 border-slate-100 shrink-0",children:[m.jsx("h3",{className:"text-xl font-black italic uppercase font-sport text-slate-900 tracking-widest",children:u?"Modificar Perfil":"Novo Recruta"}),m.jsx("button",{onClick:()=>r(!1),className:"text-slate-400 hover:text-slate-900 p-2 bg-white rounded-lg border-2 border-slate-200 transition-all",children:m.jsx(Nc,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:z,className:"flex flex-col flex-1 overflow-hidden",children:[m.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-3",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 mb-1",children:[m.jsxs("div",{className:"w-20 h-20 bg-slate-100 rounded-full border-4 border-slate-200 flex items-center justify-center overflow-hidden relative group",children:[T.photoUrl?m.jsx("img",{src:T.photoUrl,alt:"Preview",className:"w-full h-full object-cover"}):m.jsx(Xp,{className:"w-8 h-8 text-slate-400"}),x&&m.jsxs("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center flex-col",children:[m.jsxs("span",{className:"text-white text-[10px] font-bold",children:[Math.round(g),"%"]}),m.jsx("div",{className:"w-12 h-1 bg-slate-700 rounded-full mt-1 overflow-hidden",children:m.jsx("div",{className:"h-full bg-lime-400 transition-all duration-300",style:{width:`${g}%`}})})]}),m.jsxs("label",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all cursor-pointer",children:[m.jsx(t1,{className:"w-6 h-6 text-white"}),m.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:U,disabled:x})]})]}),x?m.jsx("p",{className:"text-[10px] font-bold text-slate-400 animate-pulse uppercase",children:"Enviando..."}):m.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Alterar Foto"})]}),m.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Nome Completo"}),m.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase placeholder:text-slate-300 text-xs",placeholder:"DIGITE O NOME",value:T.name,onChange:B=>C({...T,name:B.target.value})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"CPF Registro"}),m.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none text-xs",value:T.cpf,onChange:B=>C({...T,cpf:B.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Tag nica (ID)"}),m.jsx("input",{readOnly:!0,type:"text",className:"w-full px-4 py-3 bg-lime-50/50 border-2 border-lime-200 rounded-xl text-lime-600 font-black font-sport italic transition-all outline-none uppercase cursor-not-allowed opacity-80 text-xs",value:T.uniqueCode})]})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Telefone"}),m.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none text-xs",value:T.phone,onChange:B=>C({...T,phone:B.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Contribuio (R$)"}),m.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 bg-white border-2 border-slate-900 rounded-xl text-slate-900 font-black text-lg focus:ring-2 focus:ring-lime-400 transition-all outline-none",value:T.depositedValue,onChange:B=>C({...T,depositedValue:Number(B.target.value)})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Pix"}),m.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none text-xs",placeholder:"CHAVE",value:T.pixKey,onChange:B=>C({...T,pixKey:B.target.value})})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Endereo (Rua)"}),m.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase text-xs",value:T.street,onChange:B=>C({...T,street:B.target.value})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Bairro"}),m.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase text-xs",value:T.neighborhood,onChange:B=>C({...T,neighborhood:B.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Cidade"}),m.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase text-xs",value:T.city,onChange:B=>C({...T,city:B.target.value})})]})]})]})]}),m.jsxs("div",{className:"p-4 bg-slate-50 border-t-4 border-slate-100 flex justify-end gap-3 shrink-0",children:[m.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-6 py-3 text-slate-400 font-black uppercase tracking-widest hover:text-slate-900 transition-colors text-[10px]",children:"Cancelar"}),m.jsx("button",{type:"submit",className:"px-8 py-3 bg-black text-lime-400 rounded-xl font-black uppercase italic tracking-tighter shadow-xl hover:scale-[1.05] transition-all text-[10px]",children:"Confirmar"})]})]})]})})]})},j3=()=>{const[s,e]=D.useState([]),[n,r]=D.useState([]),[o,c]=D.useState([]),u=()=>{const W=new Date;return`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}-${String(W.getDate()).padStart(2,"0")}`},[p,g]=D.useState(u()),[y,x]=D.useState("");D.useEffect(()=>{const W=zd(le=>e(le)),F=rl(le=>r(le)),B=l0(le=>c(le));return()=>{W(),F(),B()}},[]);const E=s.filter(W=>{const F=n.find(pe=>pe.id===W.userId),B=(F==null?void 0:F.name.toLowerCase().includes(y.toLowerCase()))||(F==null?void 0:F.cpf.includes(y)),le=p?W.date===p:!0;return B&&le}),T=E.reduce((W,F)=>{const B=F.date;return W[B]||(W[B]=[]),W[B].push(F),W},{}),C=Object.keys(T).sort((W,F)=>F.localeCompare(W)),q=W=>{const[F,B,le]=W.split("-").map(Number),pe=new Date(F,B-1,le);return new Intl.DateTimeFormat("pt-BR",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"}).format(pe).toUpperCase()},U=W=>{var F;return((F=o.find(B=>B.id===W))==null?void 0:F.name)||"N/A"},z=W=>{var F;return((F=n.find(B=>B.id===W))==null?void 0:F.name)||"Desconhecido"},te=async W=>{if(confirm("TEM CERTEZA QUE DESEJA EXCLUIR ESTE REGISTRO? ISSO PERMITIR QUE O USURIO FAA CHECK-IN NOVAMENTE HOJE."))try{await R3(W)}catch(F){console.error("Error deleting check-in:",F),alert("Erro ao excluir registro.")}};return m.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[m.jsxs("div",{className:"bg-white p-4 rounded-[1.25rem] border border-slate-200 flex flex-col md:flex-row gap-4 items-end shadow-sm",children:[m.jsxs("div",{className:"flex-1 w-full group",children:[m.jsx("label",{className:"block text-[8px] font-black text-slate-400 uppercase tracking-[0.4em] mb-1.5 ml-1",children:"Atleta em Campo"}),m.jsxs("div",{className:"relative",children:[m.jsx(eg,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-lime-500 transition-colors w-3.5 h-3.5"}),m.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-slate-900 font-bold placeholder:text-slate-200 focus:ring-4 focus:ring-lime-400/5 focus:border-lime-400 outline-none transition-all uppercase tracking-widest text-[10px]",placeholder:"NOME OU DOCUMENTO...",value:y,onChange:W=>x(W.target.value)})]})]}),m.jsxs("div",{className:"w-full md:w-48 group",children:[m.jsx("label",{className:"block text-[8px] font-black text-slate-400 uppercase tracking-[0.4em] mb-1.5 ml-1",children:"Linha do Tempo"}),m.jsxs("div",{className:"relative",children:[m.jsx(gc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-lime-500 transition-colors w-3.5 h-3.5"}),m.jsx("input",{type:"date",className:"w-full pl-10 pr-8 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-slate-900 font-black focus:ring-4 focus:ring-lime-400/5 focus:border-lime-400 outline-none transition-all text-[11px]",value:p,onChange:W=>g(W.target.value)}),p&&m.jsx("button",{onClick:()=>g(""),className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-slate-400 hover:text-rose-500 transition-colors",title:"Limpar filtro de data",children:m.jsx(Nc,{className:"w-3.5 h-3.5"})})]})]}),m.jsxs("button",{onClick:()=>{x(""),g(u())},className:"px-5 py-2.5 bg-slate-100 text-slate-500 rounded-xl font-black uppercase tracking-[0.2em] text-[8px] hover:text-slate-900 border border-slate-200 transition-all flex items-center",children:[m.jsx(F2,{className:"w-3 h-3 mr-1.5"}),"Resetar"]})]}),m.jsx("div",{className:"space-y-8",children:C.map(W=>m.jsxs("div",{className:"space-y-3",children:[m.jsxs("h3",{className:"flex items-center gap-2 text-base font-black italic uppercase font-sport text-slate-900 tracking-wider",children:[m.jsx(gc,{className:"w-4 h-4 text-lime-500"}),q(W)]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:T[W].map(F=>m.jsxs("div",{className:"bg-white rounded-[1.25rem] border border-slate-200 overflow-hidden hover:border-lime-400 hover:-translate-y-1 transition-all shadow-md group",children:[m.jsxs("div",{className:"p-3 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"p-1.5 bg-white border border-slate-200 rounded-lg text-lime-600 shadow-sm group-hover:scale-105 transition-transform",children:m.jsx(Lo,{className:"w-4 h-4"})}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-black text-slate-900 italic uppercase font-sport tracking-widest leading-tight text-sm",children:z(F.userId)}),m.jsxs("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest mt-0.5",children:["ID: ",F.userId.substring(0,8).toUpperCase()]})]})]}),m.jsxs("div",{className:"bg-black text-lime-400 px-2 py-1 rounded-md flex items-center text-[9px] font-black shadow-lg italic font-sport ml-auto",children:[m.jsx(tg,{className:"w-3 h-3 mr-1"}),F.score.toFixed(1)," PTS"]}),m.jsx("button",{onClick:()=>te(F.id),className:"ml-2 p-1.5 text-slate-300 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-all",title:"Excluir Registro",children:m.jsx(Uh,{className:"w-3.5 h-3.5"})})]}),m.jsxs("div",{className:"p-4 space-y-3 text-slate-900",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"flex items-center text-[9px] font-black uppercase tracking-widest text-slate-500",children:[m.jsx(gc,{className:"w-3 h-3 mr-1.5 text-lime-500/50"}),F.date]}),m.jsxs("div",{className:"flex items-center text-[9px] font-black uppercase tracking-widest text-slate-500",children:[m.jsx(Ai,{className:"w-3 h-3 mr-1.5 text-lime-500/50"}),F.time]})]}),m.jsxs("div",{className:"flex items-center text-[9px] font-black uppercase tracking-widest text-lime-700 bg-lime-50 p-2.5 rounded-lg border border-lime-100",children:[m.jsx(Uo,{className:"w-3 h-3 mr-2"}),"BLOCO: ",U(F.timeSlotId)]}),m.jsxs("div",{className:"flex items-start p-2.5 bg-slate-50 rounded-lg border border-slate-100 relative group/map",children:[m.jsx(_a,{className:"w-3.5 h-3.5 mr-2 text-slate-400 mt-0.5"}),m.jsxs("div",{className:"space-y-0.5 flex-1",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Localizao de Registro"}),m.jsxs("a",{href:`https://www.google.com/maps?q=${F.latitude},${F.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-[8px] font-black text-lime-600 hover:text-lime-700 uppercase tracking-widest border border-lime-200 bg-lime-50 px-1.5 py-0.5 rounded hover:bg-lime-100 transition-colors flex items-center gap-1",children:["Ver no Mapa",m.jsx(_a,{className:"w-2.5 h-2.5"})]})]}),F.address&&m.jsx("p",{className:"text-[9px] text-slate-600 font-bold uppercase tracking-tight leading-tight mb-0.5",children:F.address}),m.jsxs("div",{className:"flex gap-2 text-slate-400",children:[m.jsxs("p",{className:"text-[8px] font-mono tracking-tighter",children:["LAT: ",F.latitude.toFixed(6)]}),m.jsxs("p",{className:"text-[8px] font-mono tracking-tighter",children:["LNG: ",F.longitude.toFixed(6)]})]})]})]})]})]},F.id))})]},W))}),E.length===0&&m.jsxs("div",{className:"text-center py-32 bg-white rounded-[3rem] border-2 border-dashed border-slate-200",children:[m.jsx(Wp,{className:"w-20 h-20 text-slate-100 mx-auto mb-6"}),m.jsx("p",{className:"text-slate-300 font-black uppercase tracking-[0.5em] italic",children:"Zero Atletas Registrados no Perodo"})]})]})},Yw="fitreward_db",Qw=()=>{const s=new Date,e=s.getFullYear(),n=String(s.getMonth()+1).padStart(2,"0"),r=String(s.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},Xw=[{id:"t1",name:"Madrugada 1",startTime:"04:30",endTime:"05:30",weight:5},{id:"t2",name:"Madrugada 2",startTime:"05:30",endTime:"06:30",weight:4},{id:"t3",name:"Manh",startTime:"06:30",endTime:"07:30",weight:3},{id:"t4",name:"Tarde",startTime:"17:00",endTime:"18:00",weight:2},{id:"t5",name:"Noite",startTime:"18:00",endTime:"19:00",weight:1}],M3={users:[{id:"1",name:"Joo Silva",cpf:"12345678901",uniqueCode:"JOAO123",phone:"11999999999",balance:100,depositedValue:500,status:hn.ACTIVE,createdAt:new Date().toISOString()}],qrCodes:[],checkIns:[],distributions:[],timeSlots:Xw},c0=()=>{const s=localStorage.getItem(Yw);if(!s)return M3;const e=JSON.parse(s);return e.timeSlots||(e.timeSlots=Xw),e},md=s=>{localStorage.setItem(Yw,JSON.stringify(s))},Jw=s=>{const e=c0(),n={...s,id:crypto.randomUUID()};e.distributions.push(n),md(e)},Ww=5,Wn={lat:-23.55052,lng:-46.633308,radius:500},V3=s=>{const e=s.depositedValue/Ww;return(s.weeklyMisses||0)>=4?s.balance:e},U3=()=>{const s=c0(),e=Qw(),n=s.users.filter(p=>p.status===hn.ACTIVE),r=s.checkIns.filter(p=>p.date===e),o=new Set(r.map(p=>p.userId)),c=n.filter(p=>!o.has(p.id));if(c.length===0)return{message:"Ningum faltou hoje. Nenhuma penalidade aplicada."};let u=0;return c.forEach(p=>{p.weeklyMisses===void 0&&(p.weeklyMisses=0),p.weeklyMisses+=1;const g=V3(p),y=Math.min(p.balance,g);y>0&&(p.balance-=y,u+=y,Jw({userId:p.id,amount:-y,date:e,reason:`FALTA DIRIA (${p.weeklyMisses}/${Ww} no cumpridas)`}))}),md(s),{message:"Verificao diria concluda.",absentCount:c.length,totalPenalized:u,penalizedUsers:c.map(p=>p.name)}},P3=()=>{const s=c0(),e=Qw(),n=s.users.filter(y=>y.status===hn.ACTIVE),r=n.reduce((y,x)=>y+x.depositedValue,0),o=n.reduce((y,x)=>y+x.balance,0),c=r-o;if(c<=.01)return n.forEach(y=>y.weeklyMisses=0),md(s),{message:"Sem valor no pool para distribuir. Semana reiniciada."};const u=n.filter(y=>y.balance>0);if(u.length===0)return{message:"Ningum elegvel para receber o pool. A Casa venceu."};const p=u.reduce((y,x)=>y+x.balance,0);return u.forEach(y=>{const x=y.balance/p*c;y.balance+=x,Jw({userId:y.id,amount:x,date:e,reason:`DISTRIBUIO SEMANAL (Pool: R$ ${c.toFixed(2)})`}),y.weeklyMisses=0}),n.filter(y=>y.balance===0).forEach(y=>y.weeklyMisses=0),md(s),{message:"Distribuio Semanal Concluda!",poolDistributed:c,recipientsCount:u.length}},L3=()=>{const[s,e]=D.useState([]),[n,r]=D.useState([]),[o,c]=D.useState(!1),[u,p]=D.useState(null);D.useEffect(()=>{const U=Kw(te=>e(te.reverse())),z=rl(te=>r(te));return()=>{U(),z()}},[]);const g=async()=>{if(window.confirm("Confirmar verificao diria de penalidades? Isso ir descontar saldo dos faltantes.")){c(!0),p(null);try{const U=U3();p({type:"penalty",...U})}catch(U){console.error("Daily check failed:",U),alert(`Erro: ${U.message}`)}finally{c(!1)}}},y=async()=>{if(window.confirm("ATENO: Confirmar distribuio SEMANAL? Isso ir distribuir o pool acumulado e ZERAR as faltas da semana.")){c(!0),p(null);try{const U=P3();p({type:"distribution",...U})}catch(U){console.error("Weekly distribution failed:",U),alert(`Erro: ${U.message}`)}finally{c(!1)}}},x=n.filter(U=>U.status===hn.ACTIVE),E=x.reduce((U,z)=>U+z.depositedValue,0),T=x.reduce((U,z)=>U+z.balance,0),C=E-T,q=s.filter(U=>U.amount>0).reduce((U,z)=>U+z.amount,0);return m.jsxs("div",{className:"space-y-10 animate-in fade-in duration-700",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"bg-white p-5 rounded-[1.25rem] border-2 border-slate-300 shadow-md relative overflow-hidden group",children:[m.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:m.jsx(z2,{className:"w-16 h-16 text-slate-900"})}),m.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-3",children:"Pool Acumulado (Semana)"}),m.jsxs("h3",{className:"text-3xl font-black text-slate-900 italic font-sport tracking-tight",children:["R$ ",Math.max(0,C).toFixed(2)]}),m.jsx("div",{className:"mt-3 h-1.5 w-10 bg-lime-400 rounded-full border border-lime-500"})]}),m.jsxs("div",{className:"bg-white p-5 rounded-[1.25rem] border-2 border-slate-300 shadow-md relative overflow-hidden group",children:[m.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:m.jsx(ba,{className:"w-16 h-16 text-slate-900"})}),m.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-3",children:"Total Distribudo"}),m.jsxs("h3",{className:"text-3xl font-black text-slate-900 italic font-sport tracking-tight",children:["R$ ",q.toFixed(2)]}),m.jsx("div",{className:"mt-3 h-1.5 w-10 bg-zinc-900 rounded-full border border-zinc-800"})]}),m.jsxs("div",{className:"bg-white p-5 rounded-[1.25rem] border-2 border-slate-300 shadow-md relative overflow-hidden group",children:[m.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:m.jsx(_c,{className:"w-16 h-16 text-slate-900"})}),m.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-3",children:"Em Risco (3+ Faltas)"}),m.jsxs("h3",{className:"text-3xl font-black text-slate-900 italic font-sport tracking-tight",children:[x.filter(U=>(U.weeklyMisses||0)>=3).length,m.jsx("span",{className:"text-[10px] uppercase font-sans text-slate-400 tracking-widest ml-1",children:"Atletas"})]}),m.jsx("div",{className:"mt-3 h-1.5 w-10 bg-rose-500 rounded-full border border-rose-600"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsx("div",{className:"bg-white rounded-[1.5rem] border-2 border-slate-200 p-6 flex flex-col justify-between shadow-lg relative overflow-hidden",children:m.jsxs("div",{className:"z-10 relative",children:[m.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 bg-rose-100 text-rose-700 text-[8px] font-black uppercase tracking-widest rounded-full italic mb-3",children:[m.jsx(Qm,{className:"w-2 h-2 fill-current"})," Ao Diria"]}),m.jsx("h3",{className:"text-2xl font-black text-slate-900 italic uppercase font-sport tracking-widest leading-none mb-2",children:"Processar Faltas"}),m.jsx("p",{className:"text-slate-500 text-xs font-medium mb-6",children:"Verifica quem no fez check-in hoje e aplica a penalidade proporcional. O valor descontado vai para o Pool."}),m.jsxs("button",{onClick:g,disabled:o,className:"w-full py-3.5 bg-slate-900 text-white rounded-xl font-black text-sm uppercase italic tracking-tighter hover:bg-black hover:scale-[1.02] active:scale-95 transition-all shadow-md flex items-center justify-center gap-2",children:[o?m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):m.jsx(Qm,{className:"w-4 h-4"}),"Aplicar Penalidades"]})]})}),m.jsxs("div",{className:"bg-black rounded-[1.5rem] p-6 flex flex-col justify-between shadow-[0_10px_40px_rgba(132,204,22,0.2)] relative overflow-hidden group",children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20 pointer-events-none"}),m.jsxs("div",{className:"z-10 relative",children:[m.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 bg-lime-400 text-black text-[8px] font-black uppercase tracking-widest rounded-full italic mb-3 shadow-lg",children:[m.jsx(ba,{className:"w-2 h-2 fill-current"})," Fim da Semana"]}),m.jsx("h3",{className:"text-2xl font-black text-white italic uppercase font-sport tracking-widest leading-none mb-2",children:"Distribuir Pool"}),m.jsx("p",{className:"text-zinc-400 text-xs font-medium mb-6",children:"Redistribui todo o valor acumulado no Pool para os atletas elegveis e reinicia a contagem de faltas da semana."}),m.jsxs("button",{onClick:y,disabled:o,className:"w-full py-3.5 bg-lime-400 text-black rounded-xl font-black text-sm uppercase italic tracking-tighter hover:bg-white hover:scale-[1.02] active:scale-95 transition-all shadow-xl flex items-center justify-center gap-2",children:[o?m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-black"}):m.jsx(aN,{className:"w-4 h-4 fill-current"}),"Finalizar Semana"]})]})]})]}),u&&m.jsxs("div",{className:`border-4 p-8 rounded-[2rem] flex items-start gap-6 animate-in slide-in-from-top-4 duration-500 shadow-xl ${u.type==="penalty"?"bg-rose-50 border-rose-200":"bg-lime-50 border-lime-400"}`,children:[m.jsx("div",{className:`p-3 rounded-2xl shadow-lg ${u.type==="penalty"?"bg-rose-500 text-white":"bg-black text-lime-400"}`,children:u.type==="penalty"?m.jsx(Qm,{className:"w-8 h-8"}):m.jsx(e1,{className:"w-8 h-8"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"text-xl font-black text-slate-900 uppercase italic font-sport tracking-widest",children:u.message}),m.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 text-[10px] font-black uppercase tracking-widest text-slate-500",children:[u.absentCount!==void 0&&m.jsxs("div",{className:"bg-white/50 p-3 rounded-xl border border-rose-200",children:["Faltantes: ",m.jsx("span",{className:"text-rose-600 block text-lg",children:u.absentCount})]}),u.totalPenalized!==void 0&&m.jsxs("div",{className:"bg-white/50 p-3 rounded-xl border border-rose-200",children:["Penalizado: ",m.jsxs("span",{className:"text-rose-600 block text-lg",children:["R$ ",u.totalPenalized.toFixed(2)]})]}),u.poolDistributed!==void 0&&m.jsxs("div",{className:"bg-white/50 p-3 rounded-xl border border-lime-200",children:["Distribudo: ",m.jsxs("span",{className:"text-lime-600 block text-lg",children:["R$ ",u.poolDistributed.toFixed(2)]})]}),u.recipientsCount!==void 0&&m.jsxs("div",{className:"bg-white/50 p-3 rounded-xl border border-lime-200",children:["Beneficirios: ",m.jsx("span",{className:"text-lime-600 block text-lg",children:u.recipientsCount})]})]}),u.penalizedUsers&&u.penalizedUsers.length>0&&m.jsxs("div",{className:"mt-4 text-[10px] text-slate-400",children:[m.jsx("span",{className:"font-bold uppercase tracking-widest text-slate-500",children:"Atletas Afetados:"})," ",u.penalizedUsers.join(", ")]})]})]}),m.jsxs("div",{className:"bg-white rounded-[1.5rem] border-2 border-slate-300 overflow-hidden shadow-lg",children:[m.jsxs("div",{className:"px-5 py-3.5 border-b-2 border-slate-200 flex justify-between items-center bg-slate-50",children:[m.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase italic tracking-widest font-sport",children:"Log de Transaes"}),m.jsx("div",{className:"p-1.5 bg-white border border-slate-100 rounded-lg text-slate-400",children:m.jsx(yc,{className:"w-3.5 h-3.5"})})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y-2 divide-slate-200",children:[m.jsx("thead",{className:"bg-slate-50/50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-5 py-3 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Timeline"}),m.jsx("th",{className:"px-5 py-3 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Atleta"}),m.jsx("th",{className:"px-5 py-3 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Motivo"}),m.jsx("th",{className:"px-5 py-3 text-right text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Crdito / Dbito"})]})}),m.jsx("tbody",{className:"divide-y-2 divide-slate-100",children:s.map(U=>{var z;return m.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors",children:[m.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-[10px] text-slate-500",children:m.jsxs("div",{className:"flex items-center font-bold tracking-tighter",children:[m.jsx(gc,{className:"w-3 h-3 mr-1.5 text-lime-500"}),U.date]})}),m.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:m.jsx("div",{className:"text-xs font-black text-slate-900 uppercase tracking-tight",children:((z=n.find(te=>te.id===U.userId))==null?void 0:z.name)||"DESCONHECIDO"})}),m.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:U.reason}),m.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-right",children:m.jsxs("span",{className:`text-base font-black font-sport italic tracking-tighter px-2.5 py-0.5 rounded-lg border shadow-sm ${U.amount>=0?"text-lime-600 bg-lime-50 border-lime-200":"text-rose-600 bg-rose-50 border-rose-200"}`,children:[U.amount>0?"+":""," R$ ",U.amount.toFixed(2)]})})]},U.id)})})]})})]})]})},up=[{id:0,label:"DOM"},{id:1,label:"SEG"},{id:2,label:"TER"},{id:3,label:"QUA"},{id:4,label:"QUI"},{id:5,label:"SEX"},{id:6,label:"SB"}],z3=()=>{const[s,e]=D.useState([]),[n,r]=D.useState([]),[o,c]=D.useState(!1),[u,p]=D.useState(!1),[g,y]=D.useState(""),[x,E]=D.useState(null),[T,C]=D.useState(null),[q,U]=D.useState([]),[z,te]=D.useState(!1),[W,F]=D.useState(0),[B,le]=D.useState({name:"",startTime:"",endTime:"",weight:1,days:[1,2,3,4,5],locationName:"ACADEMIA SEDE",latitude:Wn.lat,longitude:Wn.lng,radius:Wn.radius,categoryId:"",photoUrl:""});D.useEffect(()=>{const ne=l0(Y=>{e(Y)}),xe=C3(Y=>{r(Y)});return()=>{ne(),xe()}},[]);const pe=ne=>{U(xe=>xe.includes(ne)?xe.filter(Y=>Y!==ne):[...xe,ne])},R=async ne=>{var Y;const xe=(Y=ne.target.files)==null?void 0:Y[0];if(xe){te(!0),F(0);try{const oe=setInterval(()=>{F(Re=>Math.min(Re+10,90))},200),ge=await a0(xe);clearInterval(oe),F(100),le(Re=>({...Re,photoUrl:ge})),setTimeout(()=>te(!1),500)}catch(oe){console.error("Error uploading:",oe),te(!1),F(0),alert(`Erro no Upload: ${oe.message}`)}}},A=async ne=>{if(ne.preventDefault(),!!g.trim())try{T?await k3({id:T,name:g.trim()}):await I3({name:g.trim()}),y(""),C(null),p(!1)}catch(xe){console.error("Error saving category:",xe),alert("Erro ao salvar categoria.")}},I=ne=>{C(ne.id),y(ne.name),p(!0)},V=async ne=>{if(confirm('Tem certeza? Os horrios nesta categoria ficaro "Sem Categoria".'))try{await D3(ne)}catch(xe){console.error("Error deleting category:",xe),alert("Erro ao remover categoria.")}},O=async ne=>{if(ne.preventDefault(),B.days.length===0){alert("Selecione pelo menos um dia da semana.");return}try{x?await N3({id:x,...B}):await S3(B),le({name:"",startTime:"",endTime:"",weight:1,days:[1,2,3,4,5],locationName:"ACADEMIA SEDE",latitude:Wn.lat,longitude:Wn.lng,radius:Wn.radius,categoryId:"",photoUrl:""}),E(null),c(!1)}catch(xe){console.error("Error saving time slot:",xe),xe.code==="permission-denied"?alert("Erro: Permisso negada. Verifique se voc est logado como administrador."):alert(`Erro ao salvar horrio: ${xe.message||"Erro desconhecido"}`)}},L=ne=>{E(ne.id),le({name:ne.name,startTime:ne.startTime,endTime:ne.endTime,weight:ne.weight,days:ne.days,locationName:ne.locationName,latitude:ne.latitude,longitude:ne.longitude,radius:ne.radius,categoryId:ne.categoryId||"",photoUrl:ne.photoUrl||""}),c(!0)},N=async ne=>{if(confirm("REMOVER ESTE BLOCO DE HORRIO?"))try{await A3(ne)}catch(xe){console.error("Error deleting time slot:",xe),alert("Erro ao remover horrio.")}};return m.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[m.jsxs("div",{className:"space-y-0.5",children:[m.jsx("h3",{className:"text-2xl font-black italic uppercase font-sport text-slate-900 tracking-widest leading-none",children:"Clulas de Treino"}),m.jsx("p",{className:"text-slate-400 font-black uppercase text-[10px] tracking-widest",children:"Configurao de Janelas de Check-in"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>{C(null),y(""),p(!0)},className:"flex items-center px-4 py-2.5 bg-white text-slate-900 border-2 border-slate-200 rounded-xl font-black uppercase italic tracking-tighter hover:bg-slate-50 hover:scale-[1.05] transition-all shadow-sm active:scale-95 text-[10px]",children:[m.jsx(mp,{className:"w-4 h-4 mr-1.5"}),"Nova Pasta"]}),m.jsxs("button",{onClick:()=>{E(null),le({name:"",startTime:"",endTime:"",weight:1,days:[1,2,3,4,5],locationName:"ACADEMIA SEDE",latitude:Wn.lat,longitude:Wn.lng,radius:Wn.radius,categoryId:"",photoUrl:""}),c(!0)},className:"flex items-center px-4 py-2.5 bg-black text-lime-400 rounded-xl font-black uppercase italic tracking-tighter hover:bg-zinc-900 hover:scale-[1.05] transition-all shadow-xl active:scale-95 text-[10px]",children:[m.jsx(mp,{className:"w-4 h-4 mr-1.5"}),"Novo Horrio"]})]})]}),m.jsxs("div",{className:"space-y-6",children:[n.map(ne=>{const xe=s.filter(oe=>oe.categoryId===ne.id),Y=q.includes(ne.id);return m.jsxs("div",{className:"border-2 border-slate-200 rounded-2xl overflow-hidden bg-slate-50/50",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 bg-white cursor-pointer hover:bg-slate-50 transition-colors",onClick:()=>pe(ne.id),children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2 rounded-lg transition-transform duration-300 ${Y?"rotate-90 bg-lime-100 text-lime-600":"bg-slate-100 text-slate-400"}`,children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-right",children:m.jsx("path",{d:"m9 18 6-6-6-6"})})}),m.jsx("h4",{className:"text-lg font-black italic uppercase font-sport text-slate-900 tracking-widest",children:ne.name}),m.jsx("span",{className:"text-[10px] font-bold text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full",children:xe.length})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("button",{onClick:oe=>{oe.stopPropagation(),I(ne)},className:"p-2 text-slate-300 hover:text-blue-500 hover:bg-blue-50 rounded-lg transition-all",children:m.jsx(Km,{className:"w-4 h-4"})}),m.jsx("button",{onClick:oe=>{oe.stopPropagation(),V(ne.id)},className:"p-2 text-slate-300 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-all",children:m.jsx(Uh,{className:"w-4 h-4"})})]})]}),Y&&m.jsx("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 border-t-2 border-slate-100 animate-in slide-in-from-top-2 duration-300",children:xe.length>0?xe.map(oe=>m.jsxs("div",{className:"bg-white rounded-xl border-2 border-slate-300 overflow-hidden shadow-md group relative transition-all hover:border-lime-500 hover:-translate-y-1",children:[m.jsxs("div",{className:"p-5 space-y-3",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("div",{className:"p-2 bg-slate-50 border-2 border-slate-100 rounded-lg text-slate-900 shadow-inner group-hover:border-lime-200 transition-colors",children:m.jsx(Ai,{className:"w-5 h-5"})}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>L(oe),className:"p-1.5 bg-white text-slate-300 hover:text-blue-500 border border-slate-100 rounded-md transition-all hover:border-blue-200",children:m.jsx(Km,{className:"w-3.5 h-3.5"})}),m.jsx("button",{onClick:()=>N(oe.id),className:"p-1.5 bg-white text-slate-300 hover:text-rose-600 border border-slate-100 rounded-md transition-all hover:border-rose-200",children:m.jsx(Uh,{className:"w-3.5 h-3.5"})})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-black text-slate-900 uppercase italic font-sport tracking-widest",children:oe.name}),m.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1.5",children:[m.jsxs("span",{className:"px-2.5 py-0.5 bg-black text-white text-[10px] font-black rounded-md uppercase tracking-widest",children:[oe.startTime," - ",oe.endTime]}),m.jsx("div",{className:"flex gap-1",children:up.filter(ge=>{var Re;return(Re=oe.days)==null?void 0:Re.includes(ge.id)}).map(ge=>m.jsx("span",{className:"text-[8px] font-black text-lime-600 bg-lime-50 px-1.5 py-0.5 rounded border border-lime-100 uppercase",children:ge.label},ge.id))})]}),m.jsxs("div",{className:"mt-2.5 flex items-center gap-1.5 text-slate-400 group-hover:text-slate-600 transition-colors",children:[m.jsx(Ym,{className:"w-3 h-3"}),m.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:oe.locationName||"LOCAL PADRO"})]})]}),m.jsxs("div",{className:"flex items-center justify-between p-2.5 bg-slate-50 rounded-lg border border-slate-100",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"p-1 bg-lime-400 rounded-md shadow-sm",children:m.jsx(ba,{className:"w-3 h-3 text-black fill-current"})}),m.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Peso Recompensa"})]}),m.jsxs("span",{className:"text-2xl font-black text-slate-900 font-sport italic tracking-tighter",children:["x",oe.weight]})]})]}),m.jsx("div",{className:"h-1.5 bg-slate-100 group-hover:bg-lime-400 transition-colors"})]},oe.id)):m.jsx("p",{className:"col-span-full text-center py-8 text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Nenhum horrio nesta pasta"})})]},ne.id)}),m.jsxs("div",{className:"border-2 border-slate-200 rounded-2xl overflow-hidden bg-slate-50/50",children:[m.jsx("div",{className:"flex items-center justify-between p-4 bg-white cursor-pointer hover:bg-slate-50 transition-colors",onClick:()=>pe("uncategorized"),children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2 rounded-lg transition-transform duration-300 ${q.includes("uncategorized")?"rotate-90 bg-lime-100 text-lime-600":"bg-slate-100 text-slate-400"}`,children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-right",children:m.jsx("path",{d:"m9 18 6-6-6-6"})})}),m.jsx("h4",{className:"text-lg font-black italic uppercase font-sport text-slate-900 tracking-widest",children:"Sem Categoria"}),m.jsx("span",{className:"text-[10px] font-bold text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full",children:s.filter(ne=>!ne.categoryId).length})]})}),(q.includes("uncategorized")||n.length===0)&&m.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 border-t-2 border-slate-100 animate-in slide-in-from-top-2 duration-300",children:[s.filter(ne=>!ne.categoryId).map(ne=>m.jsxs("div",{className:"bg-white rounded-xl border-2 border-slate-300 overflow-hidden shadow-md group relative transition-all hover:border-lime-500 hover:-translate-y-1",children:[m.jsxs("div",{className:"p-5 space-y-3",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("div",{className:"p-2 bg-slate-50 border-2 border-slate-100 rounded-lg text-slate-900 shadow-inner group-hover:border-lime-200 transition-colors",children:m.jsx(Ai,{className:"w-5 h-5"})}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>L(ne),className:"p-1.5 bg-white text-slate-300 hover:text-blue-500 border border-slate-100 rounded-md transition-all hover:border-blue-200",children:m.jsx(Km,{className:"w-3.5 h-3.5"})}),m.jsx("button",{onClick:()=>N(ne.id),className:"p-1.5 bg-white text-slate-300 hover:text-rose-600 border border-slate-100 rounded-md transition-all hover:border-rose-200",children:m.jsx(Uh,{className:"w-3.5 h-3.5"})})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-black text-slate-900 uppercase italic font-sport tracking-widest",children:ne.name}),m.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1.5",children:[m.jsxs("span",{className:"px-2.5 py-0.5 bg-black text-white text-[10px] font-black rounded-md uppercase tracking-widest",children:[ne.startTime," - ",ne.endTime]}),m.jsx("div",{className:"flex gap-1",children:up.filter(xe=>{var Y;return(Y=ne.days)==null?void 0:Y.includes(xe.id)}).map(xe=>m.jsx("span",{className:"text-[8px] font-black text-lime-600 bg-lime-50 px-1.5 py-0.5 rounded border border-lime-100 uppercase",children:xe.label},xe.id))})]}),m.jsxs("div",{className:"mt-2.5 flex items-center gap-1.5 text-slate-400 group-hover:text-slate-600 transition-colors",children:[m.jsx(Ym,{className:"w-3 h-3"}),m.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:ne.locationName||"LOCAL PADRO"})]})]}),m.jsxs("div",{className:"flex items-center justify-between p-2.5 bg-slate-50 rounded-lg border border-slate-100",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"p-1 bg-lime-400 rounded-md shadow-sm",children:m.jsx(ba,{className:"w-3 h-3 text-black fill-current"})}),m.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Peso Recompensa"})]}),m.jsxs("span",{className:"text-2xl font-black text-slate-900 font-sport italic tracking-tighter",children:["x",ne.weight]})]})]}),m.jsx("div",{className:"h-1.5 bg-slate-100 group-hover:bg-lime-400 transition-colors"})]},ne.id)),s.filter(ne=>!ne.categoryId).length===0&&m.jsx("p",{className:"col-span-full text-center py-8 text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Nenhum horrio sem categoria"})]})]})]}),m.jsxs("div",{className:"bg-white border-2 border-slate-300 p-4 rounded-[1.25rem] relative overflow-hidden group shadow-sm flex items-center gap-4",children:[m.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-slate-900"}),m.jsx("div",{className:"p-2.5 bg-slate-50 border border-slate-100 rounded-lg text-slate-400",children:m.jsx(Ym,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-black italic uppercase font-sport text-slate-900 tracking-widest text-base",children:"Regras do Sistema"}),m.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-0.5",children:"Check-ins realizados fora destas janelas sero invalidados automaticamente pelo servidor."})]})]}),o&&m.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white rounded-[1.5rem] border-4 border-slate-200 shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in duration-300",children:[m.jsxs("div",{className:"p-4 bg-slate-50 flex justify-between items-center border-b border-slate-100",children:[m.jsx("h3",{className:"text-base font-black italic uppercase font-sport text-slate-900 tracking-widest leading-none",children:x?"Editar Bloco":"Novo Bloco"}),m.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-slate-900 p-1 bg-white rounded-md border border-slate-200",children:m.jsx(Nc,{className:"w-3.5 h-3.5"})})]}),m.jsxs("form",{onSubmit:O,className:"p-5 overflow-hidden flex flex-col",children:[m.jsxs("div",{className:"space-y-3 overflow-y-auto max-h-[65vh] pr-1 custom-scrollbar pb-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Identificao do Bloco"}),m.jsx("input",{required:!0,type:"text",placeholder:"EX: MANH ELITE",className:"w-full px-3 py-2.5 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase text-[13px]",value:B.name,onChange:ne=>le({...B,name:ne.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Pasta / Categoria"}),m.jsxs("select",{className:"w-full px-3 py-2.5 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase text-[11px]",value:B.categoryId,onChange:ne=>le({...B,categoryId:ne.target.value}),children:[m.jsx("option",{value:"",children:"Sem Categoria (Raiz)"}),n.map(ne=>m.jsx("option",{value:ne.id,children:ne.name},ne.id))]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Abertura"}),m.jsx("input",{required:!0,type:"time",className:"w-full px-3 py-2 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold text-xs",value:B.startTime,onChange:ne=>le({...B,startTime:ne.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Fechamento"}),m.jsx("input",{required:!0,type:"time",className:"w-full px-3 py-2 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold text-xs",value:B.endTime,onChange:ne=>le({...B,endTime:ne.target.value})})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Dias de Ativao"}),m.jsx("div",{className:"flex flex-wrap gap-1",children:up.map(ne=>m.jsx("button",{type:"button",onClick:()=>{const xe=B.days.includes(ne.id)?B.days.filter(Y=>Y!==ne.id):[...B.days,ne.id];le({...B,days:xe})},className:`px-2 py-1 rounded-md text-[8px] font-black uppercase tracking-widest transition-all border-2 ${B.days.includes(ne.id)?"bg-lime-400 border-lime-400 text-black shadow-lg shadow-lime-400/20":"bg-white border-slate-100 text-slate-300 hover:border-slate-300"}`,children:ne.label},ne.id))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Identificao do Local"}),m.jsx("input",{required:!0,type:"text",placeholder:"EX: SEDE CENTRAL",className:"w-full px-3 py-2.5 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase text-[13px]",value:B.locationName,onChange:ne=>le({...B,locationName:ne.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Foto do Local"}),m.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 mb-1 p-4 bg-slate-50 border-2 border-slate-200 rounded-xl border-dashed",children:[m.jsxs("div",{className:"w-20 h-20 bg-white rounded-lg border-2 border-slate-200 flex items-center justify-center overflow-hidden relative group",children:[B.photoUrl?m.jsx("img",{src:B.photoUrl,alt:"Preview",className:"w-full h-full object-cover"}):m.jsx(Xp,{className:"w-8 h-8 text-slate-300"}),z&&m.jsxs("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center flex-col",children:[m.jsxs("span",{className:"text-white text-[10px] font-bold",children:[Math.round(W),"%"]}),m.jsx("div",{className:"w-12 h-1 bg-slate-700 rounded-full mt-1 overflow-hidden",children:m.jsx("div",{className:"h-full bg-lime-400 transition-all duration-300",style:{width:`${W}%`}})})]}),m.jsxs("label",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all cursor-pointer",children:[m.jsx(t1,{className:"w-6 h-6 text-white"}),m.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:R,disabled:z})]})]}),z?m.jsx("p",{className:"text-[10px] font-bold text-slate-400 animate-pulse uppercase",children:"Enviando..."}):m.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:B.photoUrl?"Alterar Foto":"Adicionar Foto"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Latitude"}),m.jsx("input",{required:!0,type:"number",step:"any",className:"w-full px-3 py-2 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold text-xs",value:B.latitude,onChange:ne=>le({...B,latitude:Number(ne.target.value)})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Longitude"}),m.jsx("input",{required:!0,type:"number",step:"any",className:"w-full px-3 py-2 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold text-xs",value:B.longitude,onChange:ne=>le({...B,longitude:Number(ne.target.value)})})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Raio Valid. (m)"}),m.jsx("input",{required:!0,type:"number",className:"w-full px-3 py-2 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold text-xs",value:B.radius,onChange:ne=>le({...B,radius:Number(ne.target.value)})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Peso Recompensa"}),m.jsx("input",{required:!0,type:"number",min:"1",max:"10",className:"w-full px-3 py-2 bg-slate-900 text-lime-400 rounded-lg font-black text-[15px] border-none outline-none",value:B.weight,onChange:ne=>le({...B,weight:Number(ne.target.value)})})]})]})]}),m.jsx("div",{className:"pt-3",children:m.jsx("button",{type:"submit",className:"w-full py-3 bg-black text-lime-400 rounded-lg font-black uppercase italic tracking-tighter shadow-xl hover:scale-[1.02] active:scale-95 transition-all text-[11px]",children:x?"Salvar Alteraes":"Registrar Bloco Sincronizado"})})]})]})}),u&&m.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white rounded-[1.5rem] border-4 border-slate-200 shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in duration-300",children:[m.jsxs("div",{className:"p-4 bg-slate-50 flex justify-between items-center border-b border-slate-100",children:[m.jsx("h3",{className:"text-base font-black italic uppercase font-sport text-slate-900 tracking-widest leading-none",children:T?"Editar Pasta":"Nova Pasta"}),m.jsx("button",{onClick:()=>p(!1),className:"text-slate-400 hover:text-slate-900 p-1 bg-white rounded-md border border-slate-200",children:m.jsx(Nc,{className:"w-3.5 h-3.5"})})]}),m.jsxs("form",{onSubmit:A,className:"p-5 flex flex-col",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Nome da Pasta"}),m.jsx("input",{required:!0,type:"text",placeholder:"EX: MANH",className:"w-full px-3 py-2.5 bg-slate-50 border-2 border-slate-200 rounded-lg text-slate-900 font-bold focus:ring-2 focus:ring-lime-400 transition-all outline-none uppercase text-[13px]",value:g,onChange:ne=>y(ne.target.value)})]}),m.jsx("button",{type:"submit",className:"w-full py-3 bg-black text-lime-400 rounded-lg font-black uppercase italic tracking-tighter shadow-xl hover:scale-[1.02] active:scale-95 transition-all text-[11px]",children:T?"Salvar Alteraes":"Criar Pasta"})]})]})})]})},Ox=()=>{const[s,e]=D.useState([]),[n,r]=D.useState([]),[o,c]=D.useState([]);D.useEffect(()=>{const g=rl(e),y=zd(r);return()=>{g(),y()}},[]),D.useEffect(()=>{if(s.length===0||n.length===0)return;const g=new Date,y=`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}-${String(g.getDate()).padStart(2,"0")}`,x=n.filter(T=>T.date===y),E=[];x.forEach(T=>{const C=s.find(q=>q.id===T.userId);if(C){const q=E.find(U=>U.user.id===C.id);q?T.time<q.checkInTime&&(q.checkInTime=T.time,q.checkIn=T):E.push({user:C,checkInTime:T.time,checkIn:T})}}),E.sort((T,C)=>T.checkInTime.localeCompare(C.checkInTime)),c(E)},[s,n]);const u=g=>{switch(g){case 0:return"bg-yellow-400 text-black border-yellow-500 shadow-yellow-400/50";case 1:return"bg-zinc-300 text-black border-zinc-400 shadow-zinc-300/50";case 2:return"bg-orange-400 text-black border-orange-500 shadow-orange-400/50";default:return"bg-zinc-800 text-zinc-400 border-zinc-700"}},p=g=>{switch(g){case 0:return"border-yellow-500 shadow-yellow-400/50";case 1:return"border-zinc-400 shadow-zinc-300/50";case 2:return"border-orange-500 shadow-orange-400/50";default:return"border-slate-200"}};return m.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-8 duration-1000",children:[m.jsxs("div",{className:"text-center space-y-1.5",children:[m.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 bg-lime-400/10 text-lime-400 rounded-full text-[10px] font-black uppercase tracking-widest border border-lime-400/20",children:[m.jsx(Ai,{className:"w-3 h-3"})," Ranking Dirio"]}),m.jsx("h2",{className:"text-2xl font-black italic uppercase font-sport text-slate-900 tracking-tighter",children:"Quem Chegou Primeiro?"}),m.jsx("p",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsxs("div",{className:"bg-white rounded-[2rem] border-2 border-slate-200 overflow-hidden shadow-xl",children:[m.jsx("div",{className:"grid grid-cols-1 divide-y-2 divide-slate-100",children:o.length>0?o.map((g,y)=>m.jsxs("div",{className:"flex items-center p-4 hover:bg-slate-50 transition-colors group",children:[m.jsx("div",{className:"mr-5 relative",children:g.user.photoUrl?m.jsxs("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border-4 shadow-lg transition-transform group-hover:scale-110 overflow-hidden relative bg-white ${p(y)}`,children:[m.jsx("img",{src:g.user.photoUrl,alt:g.user.name,className:"w-full h-full object-cover",onError:x=>{x.target.style.display="none";const E=x.target.parentElement;E&&(E.classList.remove("rounded-xl","border-4","bg-white","w-12","h-12"),E.classList.add("w-10","h-10","rounded-lg","font-black","text-lg","italic","font-sport","border-2"),E.className=`w-10 h-10 rounded-lg flex items-center justify-center font-black text-lg italic font-sport border-2 shadow-lg transition-transform group-hover:scale-110 ${u(y)}`,E.innerHTML=`#${y+1}`)}}),m.jsx("div",{className:"absolute -bottom-1 -right-1 bg-slate-900 text-white text-[9px] font-black w-5 h-5 flex items-center justify-center rounded-full border-2 border-white shadow-sm z-10",children:y+1})]}):m.jsxs("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center font-black text-lg italic font-sport border-2 shadow-lg transition-transform group-hover:scale-110 ${u(y)}`,children:["#",y+1]})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[m.jsx("h3",{className:"text-lg font-black italic uppercase font-sport text-slate-900 truncate",children:g.user.name}),y===0&&m.jsxs("span",{className:"px-1.5 py-0.5 bg-yellow-100 text-yellow-700 text-[9px] font-black uppercase tracking-widest rounded border border-yellow-200 flex items-center gap-1",children:[m.jsx(tg,{className:"w-2.5 h-2.5"})," Lder"]})]}),m.jsxs("div",{className:"flex items-center gap-3 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(e1,{className:"w-3 h-3 text-lime-500"}),"Check-in: ",m.jsx("span",{className:"text-slate-900 font-sport italic text-xs",children:g.checkInTime})]}),g.checkIn.score>0&&m.jsxs("span",{className:"bg-slate-100 px-1.5 py-0.5 rounded text-slate-500",children:["+",g.checkIn.score.toFixed(0)," pts"]})]})]}),m.jsxs("div",{className:"text-right pl-3",children:[m.jsx("p",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest mb-0.5",children:"Saldo Total"}),m.jsxs("p",{className:"font-black font-sport italic text-slate-900 text-base",children:["R$ ",g.user.balance.toFixed(2)]})]})]},g.user.id)):m.jsxs("div",{className:"py-32 text-center space-y-6",children:[m.jsx("div",{className:"w-24 h-24 bg-slate-50 rounded-full mx-auto flex items-center justify-center text-slate-300 border-4 border-dashed border-slate-200",children:m.jsx(xN,{className:"w-10 h-10"})}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("p",{className:"text-slate-400 font-black uppercase tracking-[0.2em]",children:"Sem registros hoje"}),m.jsx("p",{className:"text-slate-300 text-[9px] font-black uppercase tracking-widest max-w-xs mx-auto",children:"O ranking ser formado assim que os atletas comearem a fazer check-in."})]})]})}),m.jsx("div",{className:"bg-slate-50 px-8 py-4 border-t-2 border-slate-100 flex justify-center",children:m.jsxs("p",{className:"text-[8px] text-slate-400 font-black uppercase tracking-widest flex items-center gap-2",children:[m.jsx(Po,{className:"w-3 h-3"}),"Critrio de Desempate: Horrio do Check-in (Mais cedo = Melhor posio)"]})})]})})]})},B3=()=>{const[s,e]=D.useState(""),[n,r]=D.useState(""),[o,c]=D.useState(""),[u,p]=D.useState(!1),g=Xo(),y=async x=>{x.preventDefault(),p(!0),c("");try{await pI(Hs,s,n),g("/admin/usuarios")}catch(E){E.code==="auth/invalid-credential"?c("CREDENCIAIS INVLIDAS."):c("ERRO AO FAZER LOGIN: "+E.message)}finally{p(!1)}};return m.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-6 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-2xl aspect-square bg-lime-500/5 blur-[150px] rounded-full"}),m.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-[2.5rem] shadow-2xl w-full max-w-sm overflow-hidden relative z-10",children:[m.jsxs("div",{className:"p-8 bg-zinc-800/30 text-center space-y-3 border-b border-zinc-800 flex flex-col items-center",children:[m.jsx("img",{src:"/logo.png",alt:"Impulso Club",className:"h-20 w-auto object-contain mb-2"}),m.jsx("p",{className:"text-zinc-500 text-[9px] font-black uppercase tracking-[0.4em]",children:"Controle Central"})]}),m.jsxs("form",{onSubmit:y,className:"p-8 space-y-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[8px] font-black text-zinc-500 uppercase tracking-[0.3em] mb-2 ml-1",children:"Email"}),m.jsxs("div",{className:"relative group",children:[m.jsx(Lo,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 group-focus-within:text-lime-400 transition-colors w-4 h-4"}),m.jsx("input",{type:"email",required:!0,className:"w-full pl-12 pr-5 py-4 bg-black border border-zinc-800 rounded-xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase font-sport tracking-widest text-sm",placeholder:"SEU EMAIL",value:s,onChange:x=>e(x.target.value)})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[8px] font-black text-zinc-500 uppercase tracking-[0.3em] mb-2 ml-1",children:"Senha"}),m.jsxs("div",{className:"relative group",children:[m.jsx(Zp,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 group-focus-within:text-lime-400 transition-colors w-4 h-4"}),m.jsx("input",{type:"password",required:!0,className:"w-full pl-12 pr-5 py-4 bg-black border border-zinc-800 rounded-xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase font-sport tracking-widest text-sm",placeholder:"",value:n,onChange:x=>r(x.target.value)})]})]})]}),o&&m.jsxs("div",{className:"flex items-center text-white text-[10px] bg-red-600 p-4 rounded-xl font-black uppercase tracking-widest",children:[m.jsx(Po,{className:"w-4 h-4 mr-3 shrink-0"}),o]}),m.jsx("button",{type:"submit",disabled:u,className:"w-full py-4 bg-lime-400 text-black rounded-[1.2rem] font-black text-lg shadow-[0_10px_25px_rgba(163,230,53,0.3)] hover:scale-[1.03] active:scale-95 transition-all flex items-center justify-center gap-3 uppercase tracking-tighter italic font-sport",children:u?m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-black"}):m.jsxs(m.Fragment,{children:[m.jsx(K2,{className:"w-5 h-5"}),"Acessar Portal"]})})]}),m.jsx("div",{className:"p-5 bg-black text-center",children:m.jsx(es,{to:"/signup",className:"text-[10px] text-zinc-500 hover:text-lime-400 uppercase tracking-[0.2em] font-black transition-colors",children:"CRIAR NOVA CONTA"})})]})]})},q3=()=>{const[s]=g2();s.get("token");const[e,n]=D.useState(1),[r,o]=D.useState(""),[c,u]=D.useState(null),[p,g]=D.useState([]),[y,x]=D.useState([]),[E,T]=D.useState([]),[C,q]=D.useState(!1),[U,z]=D.useState(null),[te,W]=D.useState("prompt"),[F,B]=D.useState(null),[le,pe]=D.useState(!1),[R,A]=D.useState(new Date),[I,V]=D.useState(null),[O,L]=D.useState(!1),[N,ne]=D.useState(null),xe=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;D.useEffect(()=>{const Q=setInterval(()=>A(new Date),1e3),ae=rl(g),ce=l0(x),he=zd(T);return navigator.permissions&&navigator.permissions.query&&navigator.permissions.query({name:"geolocation"}).then(_e=>{W(_e.state),_e.onchange=()=>W(_e.state)}).catch(()=>{W("prompt")}),navigator.permissions&&navigator.permissions.query&&navigator.permissions.query({name:"geolocation"}).then(_e=>{W(_e.state),_e.onchange=()=>W(_e.state)}).catch(()=>{W("prompt")}),()=>{clearInterval(Q),ae(),ce(),he()}},[]);const Y=()=>{const Q=R.getHours().toString().padStart(2,"0"),ae=R.getMinutes().toString().padStart(2,"0");return`${Q}:${ae}`},oe=()=>{const Q=new Date;return`${Q.getFullYear()}-${String(Q.getMonth()+1).padStart(2,"0")}-${String(Q.getDate()).padStart(2,"0")}`},ge=Q=>{Q.preventDefault(),q(!0),z(null);const ae=r.trim(),ce=p.find(he=>he.cpf===ae||he.uniqueCode.toUpperCase()===ae.toUpperCase());setTimeout(()=>{ce?ce.status===hn.ELIMINATED?z("CONTA BLOQUEADA. PROCURE O ADMINISTRADOR."):(u(ce),n(2)):z("ATLETA NO IDENTIFICADO."),q(!1)},600)},Re=async()=>{q(!0),z(null),B(null),V(null);try{await Vd();const Q=$e();if(Q)throw{message:Q,isSystemError:!1};const ae=await E3();await M(ae)}catch(Q){console.error("Check-in Error:",Q);let ae=Q.message||"Erro desconhecido ao realizar check-in.";Q.code==="PERMISSION_DENIED"?(W("denied"),xe?ae="ACESSO  LOCALIZAO NEGADO. V EM AJUSTES > PRIVACIDADE > SERVIOS DE LOCALIZAO E HABILITE PARA O SAFARI.":ae="PERMISSO DE LOCALIZAO NEGADA. POR FAVOR, HABILITE NAS CONFIGURAES DO SITE."):Q.code==="POSITION_UNAVAILABLE"?ae="SINAL DE GPS NO ENCONTRADO. TENTE EM REA ABERTA.":Q.code==="TIMEOUT"&&(ae="DEMORA AO OBTER LOCALIZAO. TENTE NOVAMENTE."),z(ae)}finally{q(!1)}},$e=()=>{const Q=Y(),ae=R.getDay(),ce=je=>{const[zt,bt]=je.split(":").map(Number);return zt*60+bt},he=ce(Q);if(!y.find(je=>{if(je.days&&!je.days.includes(ae))return!1;const zt=ce(je.startTime);let bt=ce(je.endTime);return bt===0&&(bt=1440),bt<zt?he>=zt||he<bt:he>=zt&&he<bt}))return`JANELA FECHADA AGORA (${Q}).`;const Oe=oe();return E.some(je=>je.userId===(c==null?void 0:c.id)&&je.date===Oe)?"CHECK-IN J REALIZADO HOJE.":null},M=async Q=>{const{latitude:ae,longitude:ce,accuracy:he}=Q;let _e="";try{const on=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${ae}&lon=${ce}&zoom=18&addressdetails=1`)).json();on&&on.address&&(_e=on.display_name?on.display_name.split(",").slice(0,3).join(","):"Localizao Detectada")}catch(wn){console.warn("Geocoding failed",wn),_e=`${ae.toFixed(5)}, ${ce.toFixed(5)}`}B(_e);const Oe=Y(),mt=R.getDay(),je=wn=>{const[on,Pn]=wn.split(":").map(Number);return on*60+Pn},zt=je(Oe),bt=y.find(wn=>{if(wn.days&&!wn.days.includes(mt))return!1;const on=je(wn.startTime);let Pn=je(wn.endTime);return Pn===0&&(Pn=1440),Pn<on?zt>=on||zt<Pn:zt>=on&&zt<Pn});if(!bt)throw{message:"Erro interno: Horrio no encontrado."};const ni=bt.latitude||Wn.lat,ji=bt.longitude||Wn.lng,En=bt.radius||Wn.radius,Lr=6371e3,si=ae*Math.PI/180,zr=ni*Math.PI/180,Mi=(ni-ae)*Math.PI/180,dt=(ji-ce)*Math.PI/180,pt=Math.sin(Mi/2)*Math.sin(Mi/2)+Math.cos(si)*Math.cos(zr)*Math.sin(dt/2)*Math.sin(dt/2),vs=2*Math.atan2(Math.sqrt(pt),Math.sqrt(1-pt)),Va=Lr*vs,Ua=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";if(Va>En&&!Ua)throw V({distance:Va,radius:En,accuracy:he}),{code:"DISTANCE_ERROR",message:"Voc est longe da academia."};const Ui=10*(bt.weight||1),Br=oe();await Ud("checkIns",{userId:c.id,date:Br,time:Oe,latitude:ae,longitude:ce,timeSlotId:bt.id,score:Ui,address:_e,accuracy:he||0,createdAt:new Date().toISOString()});const bs={...c,balance:c.balance+Ui};await r0("users",c.id,bs),pe(!0)};return le?m.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-6 font-sans",children:m.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-8 rounded-[2rem] text-center space-y-6 max-w-sm w-full shadow-[0_0_80px_rgba(163,230,53,0.1)]",children:[m.jsx("div",{className:"inline-flex p-5 bg-lime-400 rounded-full shadow-[0_0_30px_rgba(163,230,53,0.3)] animate-bounce",children:m.jsx(Jp,{className:"w-10 h-10 text-black"})}),m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("h2",{className:"text-3xl font-black italic font-sport text-white uppercase tracking-tighter",children:"Misso Cumprida!"}),m.jsx("p",{className:"text-zinc-500 font-black uppercase text-[9px] tracking-[0.4em]",children:"Check-in Validado com Sucesso"}),F&&m.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2 text-zinc-600",children:[m.jsx("div",{className:"w-1 h-1 bg-lime-500 rounded-full"}),m.jsx("p",{className:"text-[9px] font-bold uppercase tracking-wider max-w-[200px] truncate",children:F})]})]}),m.jsxs("div",{className:"bg-black p-5 rounded-xl border border-zinc-800 space-y-1",children:[m.jsxs("p",{className:"text-zinc-500 text-[9px] font-black uppercase tracking-widest",children:["Atleta: ",c==null?void 0:c.name]}),m.jsx("p",{className:"text-lime-400 text-xl font-black font-sport italic tracking-tighter",children:"RECOMPENSA CREDITADA"})]}),m.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-4 bg-white text-black rounded-xl font-black uppercase italic tracking-tighter hover:bg-lime-400 transition-all text-lg",children:"Novo Registro"}),m.jsx(es,{to:"/ranking",className:"block w-full py-4 bg-transparent border-2 border-zinc-700 text-zinc-400 rounded-xl font-black uppercase italic tracking-tighter hover:border-lime-400 hover:text-lime-400 transition-all text-lg pt-3",children:"Ver Ranking do Dia"})]})}):m.jsxs("div",{className:"min-h-screen bg-black text-white p-6 flex flex-col items-center justify-center relative overflow-hidden font-sans",children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-lime-500/50 to-transparent"}),m.jsxs("div",{className:"w-full max-w-md space-y-10 relative z-10",children:[m.jsxs("div",{className:"text-center space-y-3",children:[m.jsx("div",{className:"inline-flex p-3 bg-lime-400 rounded-xl shadow-lg mb-1",children:m.jsx(Uo,{className:"w-6 h-6 text-black"})}),m.jsxs("h1",{className:"text-4xl font-black italic font-sport uppercase tracking-tighter leading-none",children:["Fit",m.jsx("span",{className:"text-lime-400",children:"Reward"})]}),m.jsxs("div",{className:"flex items-center justify-center gap-3 text-zinc-500 font-black uppercase text-[9px] tracking-[0.4em]",children:[m.jsx(Ai,{className:"w-2.5 h-2.5 text-lime-500"}),R.toLocaleTimeString("pt-BR")]})]}),U&&m.jsx("div",{className:"bg-zinc-900/80 border border-zinc-800 p-6 rounded-2xl animate-in slide-in-from-top-2 backdrop-blur-sm",children:I&&U.includes("longe")?m.jsxs("div",{className:"space-y-4 text-center",children:[m.jsx("div",{className:"mx-auto w-12 h-12 bg-amber-500/20 text-amber-500 rounded-full flex items-center justify-center animate-pulse",children:m.jsx(_a,{className:"w-6 h-6"})}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("h3",{className:"text-white font-black italic uppercase font-sport text-lg tracking-wide",children:"Voc est fora do local de check-in"}),m.jsx("p",{className:"text-zinc-400 text-[10px] font-bold uppercase tracking-widest",children:"Aproxime-se para realizar o check-in"})]}),m.jsx("div",{className:"py-4 relative",children:m.jsxs("div",{className:"h-1.5 w-full bg-zinc-800 rounded-full overflow-hidden flex items-center relative",children:[m.jsx("div",{className:"w-1/2 h-full bg-transparent border-r-2 border-dashed border-zinc-600 absolute left-0 top-0"}),m.jsx("div",{className:"absolute left-[20%] top-1/2 -translate-y-1/2 w-3 h-3 bg-lime-500 rounded-full shadow-[0_0_10px_rgba(163,230,53,0.5)] z-10"}),m.jsx("div",{className:"absolute right-[20%] top-1/2 -translate-y-1/2 w-3 h-3 bg-rose-500 rounded-full shadow-[0_0_10px_rgba(244,63,94,0.5)] animate-ping opacity-75"}),m.jsx("div",{className:"absolute right-[20%] top-1/2 -translate-y-1/2 w-3 h-3 bg-rose-500 rounded-full z-10"}),m.jsxs("div",{className:"absolute left-[22%] top-[-10px] text-[8px] font-black text-lime-500",children:["RAIO ",I.radius,"m"]}),m.jsx("div",{className:"absolute right-[22%] top-[-10px] text-[8px] font-black text-rose-500",children:"VOC"})]})}),m.jsxs("div",{className:"flex items-center justify-center gap-8 border-t border-zinc-800 pt-4",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-[9px] font-black text-zinc-600 uppercase tracking-widest",children:"Sua Distncia"}),m.jsxs("p",{className:"text-2xl font-black text-rose-500 font-sport italic tracking-tighter",children:[Math.round(I.distance),m.jsx("span",{className:"text-sm text-zinc-600 not-italic",children:"m"})]})]}),m.jsx("div",{className:"w-px h-8 bg-zinc-800"}),m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-[9px] font-black text-zinc-600 uppercase tracking-widest",children:"Raio Permitido"}),m.jsxs("p",{className:"text-2xl font-black text-lime-500 font-sport italic tracking-tighter",children:[I.radius,m.jsx("span",{className:"text-sm text-zinc-600 not-italic",children:"m"})]})]})]})]}):m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx(Po,{className:"w-5 h-5 text-rose-500 shrink-0 mt-1"}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-rose-500 font-black text-[10px] uppercase tracking-widest text-left",children:"Aviso de Sistema"}),m.jsx("p",{className:"text-white text-xs font-bold uppercase tracking-tight leading-snug text-left",children:U})]})]})}),e===1?m.jsxs("form",{onSubmit:ge,className:"space-y-8",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsx("label",{className:"block text-[8px] font-black text-zinc-500 uppercase tracking-[0.3em] ml-1",children:"Identificao do Atleta"}),m.jsxs("div",{className:"relative group",children:[m.jsx(eg,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-600 group-focus-within:text-lime-400 transition-colors w-4 h-4"}),m.jsx("input",{required:!0,type:"text",placeholder:"CPF OU TAG NICA",className:"w-full pl-12 pr-5 py-5 bg-zinc-900/50 border border-zinc-800 rounded-2xl text-white font-bold placeholder:text-zinc-700 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase font-sport tracking-widest text-lg",value:r,onChange:Q=>o(Q.target.value)})]})]}),m.jsx("button",{type:"submit",disabled:C,className:"w-full py-5 bg-white text-black rounded-2xl font-black text-xl uppercase italic tracking-tighter hover:bg-lime-400 transition-all flex items-center justify-center gap-2 font-sport shadow-2xl active:scale-95",children:C?m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-black"}):m.jsxs(m.Fragment,{children:["PRXIMO ",m.jsx(O2,{className:"w-6 h-6"})]})})]}):m.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[m.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-800 p-6 rounded-[1.5rem] space-y-5",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-16 h-16 bg-lime-400 rounded-2xl flex items-center justify-center text-black font-black text-2xl font-sport italic shadow-lg overflow-hidden",children:c!=null&&c.photoUrl?m.jsx("img",{src:c.photoUrl,alt:c.name,className:"w-full h-full object-cover"}):(c==null?void 0:c.name[0].toUpperCase())||"?"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-black text-white uppercase italic font-sport tracking-tight leading-none mb-1.5",children:c==null?void 0:c.name}),m.jsxs("div",{className:"inline-flex items-center px-2 py-0.5 bg-black rounded-lg border border-zinc-800",children:[m.jsx("span",{className:"text-[9px] text-zinc-500 font-black uppercase tracking-widest mr-2",children:"ID:"}),m.jsx("span",{className:"text-[9px] text-lime-400 font-black font-sport italic",children:c==null?void 0:c.uniqueCode})]})]})]}),m.jsx("div",{className:"pt-1",children:m.jsxs("div",{className:"bg-black/40 p-4 rounded-xl border border-zinc-800/50 w-full text-center",children:[m.jsx("p",{className:"text-[7.5px] font-black text-zinc-600 uppercase tracking-widest mb-1",children:"Saldo Atual"}),m.jsxs("p",{className:"text-2xl font-black text-white font-sport italic",children:["R$ ",c==null?void 0:c.balance.toFixed(2)]})]})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-[70px_1fr] gap-3",children:[m.jsx("button",{onClick:()=>n(1),className:"py-5 bg-zinc-900 border border-zinc-800 text-zinc-500 rounded-2xl flex items-center justify-center hover:text-white transition-all active:scale-90",children:m.jsx(Kv,{className:"w-6 h-6"})}),(!te||te==="prompt"||te==="granted")&&m.jsx("button",{onClick:Re,disabled:C,className:"py-5 bg-lime-400 text-black rounded-2xl font-black text-xl uppercase italic tracking-tighter hover:bg-white transition-all flex items-center justify-center gap-3 font-sport shadow-[0_20px_40px_rgba(163,230,53,0.15)] active:scale-95",children:C?m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-black"}):m.jsxs(m.Fragment,{children:[m.jsx(_a,{className:"w-6 h-6"}),"CHECK-IN"]})}),te==="denied"&&m.jsxs("button",{onClick:Re,className:"py-5 bg-rose-500 text-white rounded-2xl font-black text-sm uppercase italic tracking-tighter hover:bg-rose-400 transition-all flex items-center justify-center gap-2 font-sport shadow-[0_20px_40px_rgba(244,63,94,0.15)] active:scale-95 px-4",children:[m.jsx(Po,{className:"w-5 h-5 mx-auto mb-1"}),xe?"HABILITAR NO SAFARI":"TENTAR NOVAMENTE"]})]}),te==="denied"&&m.jsx("p",{className:"text-[9px] text-zinc-500 text-center font-black uppercase tracking-widest max-w-[280px] mx-auto",children:"Localizao obrigatria para validar presena na academia."})]})]}),m.jsxs("div",{className:"pt-12 flex flex-col items-center gap-4",children:[m.jsxs("button",{onClick:()=>L(!0),className:"flex items-center gap-2 px-6 py-3 bg-zinc-900 border border-zinc-800 rounded-xl hover:bg-zinc-800 transition-all group w-full max-w-xs justify-center",children:[m.jsx(Yv,{className:"w-4 h-4 text-lime-400"}),m.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-zinc-300 group-hover:text-white",children:"Locais de Check-in"})]}),m.jsxs(es,{to:"/admin/login",className:"group flex items-center gap-3 px-6 py-3 bg-zinc-900/30 border border-zinc-800/50 rounded-full transition-all hover:bg-lime-400/10 hover:border-lime-400/30",children:[m.jsx(Zp,{className:"w-3 h-3 text-zinc-600 group-hover:text-lime-400 transition-colors"}),m.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.4em] text-zinc-500 group-hover:text-white transition-colors",children:"ACESSO RESTRITO AO COMANDO"})]}),m.jsx("p",{className:"text-[8px] text-zinc-800 font-black uppercase tracking-[0.6em]",children:"FitReward Performance V4"})]})]}),O&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-4 bg-black/90 backdrop-blur-sm animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 w-full max-w-md rounded-3xl overflow-hidden shadow-2xl flex flex-col max-h-[85vh] animate-in slide-in-from-bottom-10 sm:slide-in-from-bottom-0 sm:zoom-in-95 duration-300",children:[m.jsxs("div",{className:"p-5 border-b border-zinc-800 flex items-center justify-between bg-zinc-950",children:[m.jsxs("h3",{className:"text-lg font-black italic uppercase font-sport text-white tracking-wider flex items-center gap-2",children:[m.jsx(Yv,{className:"w-5 h-5 text-lime-400"}),"Locais Disponveis"]}),m.jsx("button",{onClick:()=>{L(!1),ne(null)},className:"p-2 hover:bg-zinc-800 rounded-full transition-colors text-zinc-400 hover:text-white",children:m.jsx(Nc,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-0",children:N?m.jsxs("div",{className:"animate-in slide-in-from-right-4 duration-300",children:[m.jsxs("div",{className:"h-48 bg-zinc-800 relative group overflow-hidden",children:[N.photoUrl?m.jsx("img",{src:N.photoUrl,alt:N.locationName,className:"w-full h-full object-cover"}):m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-zinc-900",children:m.jsx(_a,{className:"w-12 h-12 text-zinc-700"})}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900 via-transparent to-transparent"}),m.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[m.jsx("h2",{className:"text-2xl font-black italic font-sport text-white uppercase tracking-tighter leading-none mb-1 shadow-black drop-shadow-lg",children:N.locationName}),m.jsxs("div",{className:"flex items-center gap-2 text-lime-400",children:[m.jsx(vN,{className:"w-3 h-3 fill-lime-400"}),m.jsxs("span",{className:"text-xs font-black uppercase tracking-wider shadow-black drop-shadow-md",children:[N.weight*10," PONTOS"]})]})]})]}),m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-start gap-4 p-4 bg-black/40 rounded-xl border border-zinc-800",children:[m.jsx(_a,{className:"w-5 h-5 text-zinc-400 mt-1"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[9px] font-black text-zinc-500 uppercase tracking-widest mb-1",children:"Endereo"}),m.jsxs("p",{className:"text-sm font-bold text-white uppercase leading-snug",children:[N.locationName,", Latitude: ",N.latitude.toFixed(4),", Longitude: ",N.longitude.toFixed(4)]})]})]}),m.jsxs("div",{className:"flex items-start gap-4 p-4 bg-black/40 rounded-xl border border-zinc-800",children:[m.jsx(Ai,{className:"w-5 h-5 text-zinc-400 mt-1"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[9px] font-black text-zinc-500 uppercase tracking-widest mb-1",children:"Horrio de Check-in"}),m.jsxs("p",{className:"text-xl font-black text-white font-sport italic",children:[N.startTime," ",m.jsx("span",{className:"text-zinc-600 not-italic mx-1",children:"-"})," ",N.endTime]})]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${N.latitude},${N.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"py-4 bg-blue-600 hover:bg-blue-500 text-white rounded-xl flex flex-col items-center justify-center gap-1 transition-all active:scale-95",children:[m.jsx(q2,{className:"w-5 h-5 mb-1"}),m.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Google Maps"})]}),m.jsxs("a",{href:`https://waze.com/ul?ll=${N.latitude},${N.longitude}&navigate=yes`,target:"_blank",rel:"noopener noreferrer",className:"py-4 bg-cyan-500 hover:bg-cyan-400 text-white rounded-xl flex flex-col items-center justify-center gap-1 transition-all active:scale-95",children:[m.jsx(tN,{className:"w-5 h-5 mb-1"}),m.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Waze"})]})]}),m.jsxs("button",{onClick:()=>ne(null),className:"w-full py-4 text-zinc-500 hover:text-white font-black uppercase text-xs tracking-widest transition-colors flex items-center justify-center gap-2",children:[m.jsx(Kv,{className:"w-4 h-4"}),"Voltar para lista"]})]})]}):m.jsx("div",{className:"p-4 space-y-6",children:[1,2,3,4,5,6,0].map(Q=>{const ae=y.filter(he=>he.days.includes(Q)).sort((he,_e)=>he.startTime.localeCompare(_e.startTime));if(ae.length===0)return null;const ce=["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"];return m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center gap-3 px-2",children:[m.jsx(gc,{className:"w-4 h-4 text-lime-400"}),m.jsx("h4",{className:"text-sm font-black text-white uppercase tracking-widest",children:ce[Q]}),m.jsx("div",{className:"h-px bg-zinc-800 flex-1"})]}),m.jsx("div",{className:"grid gap-2",children:ae.map(he=>m.jsxs("button",{onClick:()=>ne(he),className:"bg-zinc-900 hover:bg-zinc-800 border border-zinc-800 hover:border-lime-400/30 p-4 rounded-xl text-left transition-all active:scale-[0.98] group",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("span",{className:"text-white font-bold uppercase text-sm truncate pr-2 group-hover:text-lime-400 transition-colors",children:he.locationName}),m.jsxs("span",{className:"bg-lime-400/10 text-lime-400 text-[9px] font-black px-2 py-0.5 rounded border border-lime-400/20 whitespace-nowrap",children:[he.weight*10," PTS"]})]}),m.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 text-xs",children:[m.jsx(Ai,{className:"w-3 h-3"}),m.jsxs("span",{className:"font-mono",children:[he.startTime," - ",he.endTime]})]})]},he.id))})]},Q)})})})]})})]})},H3=()=>{const[s,e]=D.useState(""),[n,r]=D.useState(""),[o,c]=D.useState(""),[u,p]=D.useState(!1),g=Xo(),y=async x=>{x.preventDefault(),p(!0),c("");try{await mI(Hs,s,n),g("/admin/usuarios")}catch(E){E.code==="auth/email-already-in-use"?c("ESTE EMAIL J EST EM USO."):E.code==="auth/weak-password"?c("A SENHA DEVE TER PELO MENOS 6 CARACTERES."):c("ERRO AO CRIAR CONTA: "+E.message)}finally{p(!1)}};return m.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-6 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-2xl aspect-square bg-lime-500/5 blur-[150px] rounded-full"}),m.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-[3rem] shadow-2xl w-full max-w-md overflow-hidden relative z-10",children:[m.jsxs("div",{className:"p-12 bg-zinc-800/30 text-center space-y-4 border-b border-zinc-800",children:[m.jsx("div",{className:"inline-flex p-5 bg-lime-400 rounded-[1.5rem] mb-2 shadow-[0_0_40px_rgba(163,230,53,0.4)] animate-pulse-lime",children:m.jsx(Uo,{className:"w-10 h-10 text-black"})}),m.jsxs("h1",{className:"text-4xl font-black italic tracking-tighter text-white font-sport uppercase",children:["Fit",m.jsx("span",{className:"text-lime-400",children:"Reward"})]}),m.jsx("p",{className:"text-zinc-500 text-[10px] font-black uppercase tracking-[0.4em]",children:"Novo Acesso"})]}),m.jsxs("form",{onSubmit:y,className:"p-12 space-y-8",children:[m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[9px] font-black text-zinc-500 uppercase tracking-[0.3em] mb-3 ml-1",children:"Email"}),m.jsxs("div",{className:"relative group",children:[m.jsx(Lo,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 group-focus-within:text-lime-400 transition-colors w-5 h-5"}),m.jsx("input",{type:"email",required:!0,className:"w-full pl-14 pr-6 py-5 bg-black border border-zinc-800 rounded-2xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase font-sport tracking-widest",placeholder:"SEU EMAIL",value:s,onChange:x=>e(x.target.value)})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[9px] font-black text-zinc-500 uppercase tracking-[0.3em] mb-3 ml-1",children:"Senha"}),m.jsxs("div",{className:"relative group",children:[m.jsx(Zp,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 group-focus-within:text-lime-400 transition-colors w-5 h-5"}),m.jsx("input",{type:"password",required:!0,className:"w-full pl-14 pr-6 py-5 bg-black border border-zinc-800 rounded-2xl text-white font-bold placeholder:text-zinc-800 focus:ring-2 focus:ring-lime-400/20 focus:border-lime-400 transition-all outline-none uppercase font-sport tracking-widest",placeholder:"",value:n,onChange:x=>r(x.target.value)})]})]})]}),o&&m.jsxs("div",{className:"flex items-center text-white text-[10px] bg-red-600 p-4 rounded-xl font-black uppercase tracking-widest",children:[m.jsx(Po,{className:"w-4 h-4 mr-3 shrink-0"}),o]}),m.jsx("button",{type:"submit",disabled:u,className:"w-full py-6 bg-lime-400 text-black rounded-[1.5rem] font-black text-xl shadow-[0_15px_35px_rgba(163,230,53,0.3)] hover:scale-[1.03] active:scale-95 transition-all flex items-center justify-center gap-3 uppercase tracking-tighter italic font-sport",children:u?m.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-black"}):m.jsxs(m.Fragment,{children:[m.jsx(RN,{className:"w-6 h-6"}),"Criar Conta"]})})]}),m.jsx("div",{className:"p-5 bg-black text-center",children:m.jsx(es,{to:"/admin/login",className:"text-[10px] text-zinc-500 hover:text-lime-400 uppercase tracking-[0.2em] font-black transition-colors",children:"J TEM UMA CONTA? LOGIN"})})]})]})},F3=()=>{const[s,e]=D.useState([]),[n,r]=D.useState([]),[o,c]=D.useState([]);D.useEffect(()=>{const C=rl(e),q=zd(r),U=Kw(c);return()=>{C(),q(),U()}},[]);const u=s.filter(C=>C.status===hn.ACTIVE).length,p=s.reduce((C,q)=>C+q.balance,0),g=o.reduce((C,q)=>C+(q.amount>0?q.amount:0),0),x=(()=>{const C=new Date;return`${C.getFullYear()}-${String(C.getMonth()+1).padStart(2,"0")}-${String(C.getDate()).padStart(2,"0")}`})(),E=n.filter(C=>C.date===x).length,T=[...n].sort((C,q)=>q.time.localeCompare(C.time)).slice(0,5);return m.jsxs("div",{className:"space-y-12 animate-in fade-in duration-700",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-4 border-b-2 border-slate-200 pb-4",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 bg-black text-lime-400 rounded-full text-[10px] font-black uppercase tracking-wider shadow-md",children:[m.jsx(Uo,{className:"w-3 h-3"})," Live Dashboard"]}),m.jsx("h1",{className:"text-3xl font-black italic uppercase font-sport text-slate-900 tracking-tighter loading-none",children:"Viso Geral"}),m.jsx("p",{className:"text-slate-400 font-bold uppercase text-[9px] tracking-[0.3em]",children:"Monitoramento em Tempo Real  Atletas e Performance"})]}),m.jsxs("div",{className:"text-right hidden md:block",children:[m.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Status do Sistema"}),m.jsxs("div",{className:"flex items-center gap-1.5 text-lime-600 font-black uppercase tracking-widest text-[10px] bg-lime-50 px-2.5 py-1 rounded-lg border border-lime-200",children:[m.jsx("span",{className:"w-1.5 h-1.5 bg-lime-500 rounded-full animate-pulse"})," Operacional"]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"bg-black text-white p-5 rounded-[1.5rem] relative overflow-hidden group shadow-xl",children:[m.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:scale-110 transition-transform",children:m.jsx(_c,{className:"w-16 h-16"})}),m.jsxs("div",{className:"relative z-10 space-y-2",children:[m.jsx("div",{className:"p-2 bg-zinc-800 w-fit rounded-lg text-lime-400",children:m.jsx(_c,{className:"w-4 h-4"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-3xl font-black font-sport italic tracking-tighter",children:u}),m.jsx("p",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-wider mt-0.5",children:"Atletas Ativos"})]}),m.jsx("div",{className:"w-full bg-zinc-800 h-1 rounded-full overflow-hidden mt-1",children:m.jsx("div",{className:"bg-lime-400 h-full",style:{width:`${u/(s.length||1)*100}%`}})})]})]}),m.jsxs("div",{className:"bg-white p-5 rounded-[1.5rem] border-2 border-slate-200 relative overflow-hidden group hover:border-lime-400 transition-colors shadow-sm",children:[m.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-5 group-hover:opacity-10 transition-opacity",children:m.jsx(Wp,{className:"w-16 h-16 text-slate-900"})}),m.jsxs("div",{className:"relative z-10 space-y-2",children:[m.jsx("div",{className:"p-2 bg-slate-50 border border-slate-100 w-fit rounded-lg text-slate-900",children:m.jsx(mN,{className:"w-4 h-4"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-3xl font-black font-sport italic tracking-tighter text-slate-900",children:E}),m.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider mt-0.5",children:"Check-ins Hoje"})]})]})]}),m.jsxs("div",{className:"bg-white p-5 rounded-[1.5rem] border-2 border-slate-200 relative overflow-hidden group hover:border-lime-400 transition-colors shadow-sm",children:[m.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-5 group-hover:opacity-10 transition-opacity",children:m.jsx(yc,{className:"w-16 h-16 text-slate-900"})}),m.jsxs("div",{className:"relative z-10 space-y-2",children:[m.jsx("div",{className:"p-2 bg-slate-50 border border-slate-100 w-fit rounded-lg text-slate-900",children:m.jsx(yc,{className:"w-4 h-4"})}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-2xl font-black font-sport italic tracking-tighter text-slate-900 truncate",children:["R$ ",p.toFixed(0)]}),m.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wider mt-0.5",children:"Saldo dos Atletas"})]})]})]}),m.jsxs("div",{className:"bg-lime-400 text-black p-5 rounded-[1.5rem] relative overflow-hidden group shadow-lg",children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10 pointer-events-none"}),m.jsxs("div",{className:"relative z-10 space-y-2",children:[m.jsx("div",{className:"p-2 bg-black/10 w-fit rounded-lg text-black",children:m.jsx(ba,{className:"w-4 h-4 fill-current"})}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-2xl font-black font-sport italic tracking-tighter truncate",children:["R$ ",g.toFixed(0)]}),m.jsx("p",{className:"text-[10px] font-black text-black/60 uppercase tracking-wider mt-0.5",children:"Total Pago em Prmios"})]})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"xl:col-span-2 bg-white rounded-[1.5rem] border-2 border-slate-200 shadow-sm overflow-hidden text-sm",children:[m.jsxs("div",{className:"p-4 border-b-2 border-slate-100 flex justify-between items-center bg-slate-50/50",children:[m.jsx("h3",{className:"text-base font-black italic uppercase font-sport text-slate-900 tracking-widest",children:"Atividade Recente"}),m.jsxs(es,{to:"/admin/checkins",className:"text-[10px] font-black uppercase tracking-widest text-slate-400 hover:text-lime-600 flex items-center gap-1 transition-colors",children:["Ver Tudo ",m.jsx(Ah,{className:"w-3 h-3"})]})]}),m.jsx("div",{children:T.length>0?m.jsx("div",{className:"divide-y-2 divide-slate-100",children:T.map(C=>{const q=s.find(U=>U.id===C.userId);return m.jsxs("div",{className:"p-3 flex items-center justify-between hover:bg-slate-50 transition-colors group",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center text-slate-400 border border-slate-200 group-hover:bg-lime-400 group-hover:text-black group-hover:border-lime-500 transition-all",children:m.jsx(Uo,{className:"w-3.5 h-3.5"})}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-black text-slate-900 uppercase tracking-tight text-xs",children:(q==null?void 0:q.name)||"Desconhecido"}),m.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide flex items-center gap-2",children:[m.jsx(Ai,{className:"w-3 h-3"})," ",C.time,"  ",C.date===x?"Hoje":C.date,C.address&&m.jsxs(m.Fragment,{children:["  ",m.jsx(_a,{className:"w-3 h-3"})," ",m.jsx("span",{className:"max-w-[120px] truncate",children:C.address})]})]})]})]}),m.jsxs("div",{className:"px-2 py-0.5 bg-slate-100 rounded-md text-slate-600 text-[10px] font-black uppercase tracking-widest border border-slate-200",children:["+",C.score," PTS"]})]},C.id)})}):m.jsx("div",{className:"p-8 text-center text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Nenhuma atividade recente registrada hoje."})})]}),m.jsxs("div",{className:"bg-black rounded-[1.5rem] p-5 text-white space-y-4 relative overflow-hidden shadow-2xl",children:[m.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-lime-500/10 blur-[60px] rounded-full pointing-events-none"}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("h3",{className:"text-sm font-black italic uppercase font-sport text-white tracking-widest mb-3 flex items-center gap-2",children:[m.jsx(ba,{className:"w-4 h-4 text-lime-400 fill-current"})," Aes Rpidas"]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs(es,{to:"/admin/qrcode",className:"flex items-center p-2.5 bg-zinc-900 border border-zinc-800 rounded-xl hover:bg-lime-400 hover:text-black hover:border-lime-400 transition-all group",children:[m.jsx("div",{className:"w-8 h-8 bg-black rounded-lg flex items-center justify-center mr-3 group-hover:bg-white/20 group-hover:text-black",children:m.jsx(ba,{className:"w-3.5 h-3.5"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-black uppercase tracking-wider text-xs",children:"Gerar Acesso"}),m.jsx("p",{className:"text-[9px] text-zinc-500 font-bold uppercase tracking-widest group-hover:text-black/60",children:"Criar Token Dirio"})]}),m.jsx(Ah,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]}),m.jsxs(es,{to:"/admin/usuarios",className:"flex items-center p-2.5 bg-zinc-900 border border-zinc-800 rounded-xl hover:bg-white hover:text-black hover:border-white transition-all group",children:[m.jsx("div",{className:"w-8 h-8 bg-black rounded-lg flex items-center justify-center mr-3 group-hover:bg-slate-200",children:m.jsx(_c,{className:"w-3.5 h-3.5"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-black uppercase tracking-wider text-xs",children:"Novo Atleta"}),m.jsx("p",{className:"text-[9px] text-zinc-500 font-bold uppercase tracking-widest group-hover:text-black/60",children:"Cadastrar Competidor"})]}),m.jsx(Ah,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]}),m.jsxs(es,{to:"/admin/distribuicoes",className:"flex items-center p-2.5 bg-zinc-900 border border-zinc-800 rounded-xl hover:bg-rose-500 hover:text-white hover:border-rose-500 transition-all group",children:[m.jsx("div",{className:"w-8 h-8 bg-black rounded-lg flex items-center justify-center mr-3 group-hover:bg-white/20",children:m.jsx(yc,{className:"w-3.5 h-3.5"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-black uppercase tracking-wider text-xs",children:"Processar Payout"}),m.jsx("p",{className:"text-[9px] text-zinc-500 font-bold uppercase tracking-widest group-hover:text-white/80",children:"Rodar Distribuio Diria"})]}),m.jsx(Ah,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})]})]})]})]})]})},Zw=D.createContext({currentUser:null,loading:!0}),eT=()=>D.useContext(Zw),G3=({children:s})=>{const[e,n]=D.useState(null),[r,o]=D.useState(!0);D.useEffect(()=>bI(Hs,p=>{n(p),o(!1)}),[]);const c={currentUser:e,loading:r};return m.jsx(Zw.Provider,{value:c,children:!r&&s})},$3=()=>{const{currentUser:s}=eT(),[e,n]=D.useState(""),[r,o]=D.useState(""),[c,u]=D.useState(!1),[p,g]=D.useState(!1),[y,x]=D.useState(0),[E,T]=D.useState(null);D.useEffect(()=>{s&&(n(s.displayName||""),o(s.photoURL||""))},[s]);const C=async U=>{var te;const z=(te=U.target.files)==null?void 0:te[0];if(z){g(!0),x(0),T(null);try{const W=setInterval(()=>{x(B=>Math.min(B+10,90))},200),F=await a0(z,`profiles/${s==null?void 0:s.uid}/${Date.now()}_${z.name}`);clearInterval(W),x(100),o(F),s&&await gb(s,{photoURL:F}),setTimeout(()=>g(!1),500),T({type:"success",text:"Foto de perfil atualizada com sucesso!"})}catch(W){console.error("Error uploading:",W),g(!1),x(0),T({type:"error",text:`Erro ao enviar foto: ${W.message}`})}}},q=async U=>{U.preventDefault(),T(null),u(!0);try{s&&(await gb(s,{displayName:e,photoURL:r}),T({type:"success",text:"Perfil atualizado com sucesso!"}))}catch(z){console.error("Error updating profile:",z),T({type:"error",text:`Erro ao atualizar perfil: ${z.message}`})}finally{u(!1)}};return m.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[m.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:m.jsxs("div",{children:[m.jsxs("h2",{className:"text-3xl font-black italic uppercase font-sport text-slate-900 tracking-tighter",children:["Meu ",m.jsx("span",{className:"text-lime-600",children:"Perfil"})]}),m.jsx("p",{className:"text-slate-500 font-bold uppercase tracking-widest text-xs mt-1",children:"Gerencie suas informaes de acesso"})]})}),m.jsx("div",{className:"bg-white rounded-[1.25rem] border-2 border-slate-300 overflow-hidden shadow-[0_10px_30px_rgba(0,0,0,0.05)] max-w-2xl mx-auto",children:m.jsx("div",{className:"p-8",children:m.jsxs("form",{onSubmit:q,className:"space-y-8",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[m.jsxs("div",{className:"relative group",children:[m.jsxs("div",{className:"w-32 h-32 bg-slate-100 rounded-full border-4 border-slate-200 flex items-center justify-center overflow-hidden shadow-xl",children:[r?m.jsx("img",{src:r,alt:"Profile",className:"w-full h-full object-cover"}):m.jsx(Lo,{className:"w-12 h-12 text-slate-400"}),p&&m.jsxs("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center flex-col z-10",children:[m.jsxs("span",{className:"text-white text-xs font-bold",children:[Math.round(y),"%"]}),m.jsx("div",{className:"w-16 h-1.5 bg-slate-700 rounded-full mt-2 overflow-hidden",children:m.jsx("div",{className:"h-full bg-lime-400 transition-all duration-300",style:{width:`${y}%`}})})]})]}),m.jsxs("label",{className:"absolute bottom-0 right-0 bg-black text-lime-400 p-2.5 rounded-full cursor-pointer hover:bg-zinc-900 hover:scale-110 transition-all shadow-lg border-2 border-white group-hover:bottom-1",children:[m.jsx(Xp,{className:"w-5 h-5"}),m.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:C,disabled:p})]})]}),m.jsx("p",{className:"text-slate-400 font-black uppercase tracking-widest text-[10px]",children:p?"Enviando...":"Alterar Foto"})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2 flex items-center gap-2",children:[m.jsx(Lo,{className:"w-3.5 h-3.5"}),"Nome de Exibio"]}),m.jsx("input",{type:"text",value:e,onChange:U=>n(U.target.value),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl text-slate-900 font-bold focus:ring-4 focus:ring-lime-400/20 focus:border-lime-500 outline-none transition-all uppercase placeholder:text-slate-300 text-sm",placeholder:"SEU NOME"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2 flex items-center gap-2",children:[m.jsx(J2,{className:"w-3.5 h-3.5"}),"Email de Acesso"]}),m.jsx("input",{type:"email",value:(s==null?void 0:s.email)||"",disabled:!0,className:"w-full px-4 py-3 bg-slate-100 border-2 border-slate-200 rounded-xl text-slate-500 font-bold outline-none cursor-not-allowed text-sm"}),m.jsx("p",{className:"mt-2 text-[10px] text-slate-400 font-bold uppercase tracking-wide",children:"* O email no pode ser alterado por aqui."})]})]}),E&&m.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${E.type==="success"?"bg-lime-50 text-lime-800 border-2 border-lime-200":"bg-rose-50 text-rose-800 border-2 border-rose-200"}`,children:[E.type==="success"?m.jsx(Jp,{className:"w-5 h-5 shrink-0"}):m.jsx(Po,{className:"w-5 h-5 shrink-0"}),m.jsx("p",{className:"text-xs font-bold uppercase tracking-wide",children:E.text})]}),m.jsx("div",{className:"pt-4 border-t-2 border-slate-100 flex justify-end",children:m.jsx("button",{type:"submit",disabled:c||p,className:"flex items-center px-8 py-3.5 bg-black text-lime-400 rounded-xl font-black uppercase italic tracking-tighter hover:bg-zinc-900 hover:scale-[1.02] transition-all shadow-xl disabled:opacity-50 disabled:cursor-not-allowed group text-xs",children:c?m.jsx("span",{className:"animate-pulse",children:"Salvando..."}):m.jsxs("span",{className:"flex items-center",children:[m.jsx(cN,{className:"w-4 h-4 mr-2 group-hover:rotate-12 transition-transform"}),"Salvar Alteraes"]})})})]})})})]})},ga=({children:s})=>{const{currentUser:e,loading:n}=eT();return n?m.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-lime-400 font-black tracking-widest uppercase",children:"Carregando Sistema..."}):e?m.jsx(m.Fragment,{children:s}):m.jsx(Yx,{to:"/admin/login",replace:!0})},K3=()=>m.jsx(h2,{children:m.jsx(G3,{children:m.jsx(ON,{children:m.jsxs(zA,{children:[m.jsx(On,{path:"/admin/login",element:m.jsx(B3,{})}),m.jsx(On,{path:"/signup",element:m.jsx(H3,{})}),m.jsx(On,{path:"/admin",element:m.jsx(ga,{children:m.jsx(F3,{})})}),m.jsx(On,{path:"/admin/perfil",element:m.jsx(ga,{children:m.jsx($3,{})})}),m.jsx(On,{path:"/admin/usuarios",element:m.jsx(ga,{children:m.jsx(O3,{})})}),m.jsx(On,{path:"/admin/horarios",element:m.jsx(ga,{children:m.jsx(z3,{})})}),m.jsx(On,{path:"/admin/checkins",element:m.jsx(ga,{children:m.jsx(j3,{})})}),m.jsx(On,{path:"/admin/ranking",element:m.jsx(ga,{children:m.jsx(Ox,{})})}),m.jsx(On,{path:"/admin/distribuicoes",element:m.jsx(ga,{children:m.jsx(L3,{})})}),m.jsx(On,{path:"/checkin",element:m.jsx(q3,{})}),m.jsx(On,{path:"/ranking",element:m.jsx(Ox,{})}),m.jsx(On,{path:"/",element:m.jsx(Yx,{to:"/checkin",replace:!0})})]})})})}),tT=document.getElementById("root");if(!tT)throw new Error("Could not find root element to mount to");const Y3=HS.createRoot(tT);Y3.render(m.jsx(MS.StrictMode,{children:m.jsx(K3,{})}));
